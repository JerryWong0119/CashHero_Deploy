window.__require=function e(t,n,a){function o(i,c){if(!n[i]){if(!t[i]){var s=i.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){return o(t[i][1][e]||e)},u,u.exports,e,t,n,a)}return n[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<a.length;i++)o(a[i]);return o}({BasketballKing_Cfg:[function(e,t,n){"use strict";var a;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"70059jpiX5LNYRpH92Cb8cc","BasketballKing_Cfg");var r={symbol:(a={},o(a,1,{node:"symbol_1"}),o(a,2,{node:"symbol_2"}),o(a,3,{node:"symbol_3"}),o(a,4,{node:"symbol_4"}),o(a,5,{node:"symbol_5"}),o(a,6,{node:"symbol_6"}),o(a,7,{node:"symbol_7"}),o(a,8,{node:"symbol_8"}),o(a,9,{node:"symbol_9"}),o(a,10,{node:"symbol_10",win_node:"animation_10",stop_ani:{name:"Scatter_01",zIndex:100},win_ani:{name:"Scatter_02",zIndex:300}}),o(a,11,{node:"symbol_11",win_node:"animation_11",win_ani:{name:"wenhao",zIndex:300}}),o(a,12,{node:"symbol_12",win_node:"animation_12",win_ani:{name:"JP_collect",zIndex:300}}),o(a,13,{node:"symbol_13"}),a),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"BasketballKing_Slots",Reels:"BasketballKing_Reel",Symbols:"BasketballKing_Symbol"},col:5,row:3,symbolPrefab:"symbol",symbolSize:{width:130,height:120},randomSymbols:[1,2,3,4,5,6,7,8,9,10,11],questionMarkId:11,scatterId:10,dollarId:12,kuang:"kuang",speed:1500,reelStopInter:.3,auto_stop_time:1,bounceInfo:{distance:30,time:.4},autoModelDelay:1,AddAntiTime:1.5,reelStateInfo:[{id:[10],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/BasketballKing/",reelStopSound:"reelstop",symbolStopSound:"reelsctr",antSound:"reelfast",antSpeed:2e3}],helpItems:["games/BasketballKing/prefab/help_item_1","games/BasketballKing/prefab/help_item_2"],commEffect:{path:"games/BasketballKing/",win1:["win_a","win_end"],win2:["win_b","win_end"],win3:["win_c","win_end"],win4:["win_d","win_end"]},normalBgm:"ngbgm"};t.exports=r,cc._RF.pop()},{}],BasketballKing_ExtraReel:[function(e,t,n){"use strict";cc._RF.push(t,"dfdd4I7iOdPvK0UmXpA7Dw9","BasketballKing_ExtraReel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},Init:function(e,t,n){this._holderNode=cc.find("mask/holder",this.node),this._holderOrigPosY=this._holderNode.position.y,this._super(e,t,n)},playReelStop:function(){this._super()},OnReelSpinEnd:function(){this._reelState=[],cc.vv.gameData.getExtraSlotsScript().OnReelSpinEnd(this._reelIdx);var e=cc.vv.gameData.getExtraSlotsScript().GetLastStopReelIdx();this._reelIdx===e&&(cc.log(cc.js.formatStr("OnReelSpinEnd, %s",e)),cc.vv.gameData.getExtraSlotsScript().OnSpinEnd())},ReadyToStop:function(){this._bNotifyReadyStop||(this._bNotifyReadyStop=!0)},OnReelBounsActionBefore:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveBefore()},OnReelBounsActionDeep:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveDeep()},OnReelBounsActionEnd:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveEnd();else cc.log("\u56de\u5f39\u7ed3\u675f\uff0c\u6570\u636e\u5df2\u7ecf\u88ab\u6e05\u7a7a\u4e86");this.OnReelSpinEnd()}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],BasketballKing_ExtraSlots:[function(e,t,n){"use strict";function a(e,t,n,a,o,r,i){try{var c=e[r](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function c(e){a(i,o,r,c,s,"next",e)}function s(e){a(i,o,r,c,s,"throw",e)}c(void 0)})}}function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,r=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){c=!0,o=e},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw o}}}}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"364c18ktWBIq7Ld21b8vqTu","BasketballKing_ExtraSlots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_endCallback:null},Init:function(e){cc.find("reels",this.node).active=!0,cc.find("reels_bg",this.node).active=!0,this._gold_reel=cc.find("gold_reel",this.node.parent),cc.find("caise_kuang",this.node).active=!0,cc.find("caise_kuang",this.node).getComponent(sp.Skeleton).setAnimation(0,e+"X"+e,!0),cc.find("luoxia_lizi",this.node).active=!1,this._topScript=cc.vv.gameData.GetTopScript(),this._bottomScript=cc.vv.gameData.GetBottomScript(),this._cfg=cc.vv.gameData.getGameCfg(),this._col=this._cfg.col,this._row=e,this._topAniNode=cc.find("top_ani",this.node),this.createReels(this._col,this._row);var t,n=r(this._reels);try{for(n.s();!(t=n.n()).done;)for(var a=t.value,o=0;o<this._row;o++){var i=a.GetSymbolByRow(o);i.setAnimationToTop(!1),i.ShowById(13)}}catch(e){n.e(e)}finally{n.f()}},OnReelSpinEnd:function(e){for(var t=this,n=this._reels[e],a=0;a<this._row;a++){var o=n.GetSymbolByRow(a);if(o.GetShowId()===this._cfg.questionMarkId){Global.SlotsSoundMgr.playEffect("flyUP"),o.playWinAnimation();var r=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx((this._row-a-1)*this._cfg.col+e+1);r&&(r.ShowById(this._cfg.questionMarkId),r.playWinAnimation());var i=cc.instantiate(cc.find("fly_wenhao",this.node.parent));i.active=!0,i.parent=this.node.parent;var c=o.node.convertToWorldSpaceAR(cc.v2(0,0));c=this.node.parent.convertToNodeSpaceAR(c),i.position=c;var s=cc.find("lundai/wheel/wheel_mask/index_1",this._gold_reel).convertToWorldSpaceAR(cc.v2(0,0));s=this.node.parent.convertToNodeSpaceAR(s),cc.tween(i).to(.5,{position:s,scale:1.1}).to(.2,{scale:1}).call(function(){cc.find("lundai/wheel/wheel_mask/index_1",t._gold_reel).getComponent("ImgSwitchCmp").setIndex(11)}).removeSelf().start()}if(o.GetShowId()===this._cfg.dollarId){o.playWinAnimation(),Global.SlotsSoundMgr.playEffect("jpfly");var l=cc.instantiate(cc.find("fly_dollar",this.node.parent));l.active=!0,l.parent=this.node.parent;var u=o.node.convertToWorldSpaceAR(cc.v2(0,0));u=this.node.parent.convertToNodeSpaceAR(u),l.position=u;var d=cc.find("slots/collect_node",this.node.parent).convertToWorldSpaceAR(cc.v2(0,0));d=this.node.parent.convertToNodeSpaceAR(d),cc.tween(l).to(.5,{position:d}).call(function(){cc.vv.gameData.GetSlotsScript().addDollar()}).removeSelf().start()}}},createReels:function(e,t){for(var n=0;n<e;n++){var a=cc.find("reels/reel"+(n+1),this.node);if(!a.getComponent("BasketballKing_ExtraReel")){var o=a.addComponent("BasketballKing_ExtraReel");o.Init(n,t,this._topAniNode),this._reels.push(o)}}},startSlot:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("addreel"),e._endCallback=n,e.node.scale=.5,cc.tween(e.node).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=6,cc.vv.gameData.awaitTime(1);case 6:e.StartMove(),Global.SlotsSoundMgr.playEffect("addreelrun"),e.SetSlotsResult(cc.vv.gameData.getGameInfo().secretInfo.extraCards),cc.vv.gameData.GetSlotsScript().addCount(e._row);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},CanStopSlot:function(){return cc.vv.gameData.getGameInfo().secretInfo.extraCards.length>0},OnSpinEnd:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.awaitTime(1);case 2:return Global.SlotsSoundMgr.playEffect("reeldown"),cc.tween(e.node).to(.5,{scale:.85},{easing:"backIn"}).call(function(){cc.find("caise_kuang",e.node).active=!1,cc.find("luoxia_lizi",e.node).active=!0,cc.find("luoxia_lizi",e.node).getComponent(sp.Skeleton).setAnimation(0,e._row+"X"+e._row+"_lizi",!0),cc.find("reels",e.node).active=!1,cc.find("reels_bg",e.node).active=!1}).start(),t.next=6,cc.vv.gameData.awaitTime(1);case 6:e.node.active=!1,e._endCallback&&e._endCallback();case 8:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],BasketballKing_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"b036cjPaX1PkbhhrphvKjYS","BasketballKing_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{_isExtraSlots:!1},isFreeOver:function(){return!!this._gameInfo&&(this._gameInfo.allFreeCnt>0&&0===this._gameInfo.freeCnt)},isInFreeGame:function(){return this._deskInfo.restFreeCount>=0&&this._deskInfo.allFreeCount>0},setIsExtraSlots:function(e){this._isExtraSlots=e},getIsExtraSlots:function(){return this._isExtraSlots},setExtraSlotsScript:function(e){this._extraSlotsScript=e},getExtraSlotsScript:function(){return this._extraSlotsScript}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],BasketballKing_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"8839ciAbdBF3ZszTDq5MRkH","BasketballKing_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],BasketballKing_Reel:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw r}}}}function o(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"acb8bN2ZUxB2IzzpffveuFO","BasketballKing_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},StartMove:function(){this._super()},getSymbols:function(){return this._symbols},ShowAntiEffect:function(e,t){if(!1===e){if(this._cfg.reelStateInfo){var n,o=a(this._cfg.reelStateInfo);try{for(o.s();!(n=o.n()).done;){var r=n.value,i=cc.find(r.antiNode,this.node);i&&i.active&&(i.active=!1,this._stopRightNow&&cc.vv.AudioManager.stopEffectByName(r.antSound))}}catch(e){o.e(e)}finally{o.f()}}}else{var c=cc.find(t,this.node);c?c.active=e:cc.log("\u672a\u627e\u5230\u52a0\u901f\u8282\u70b9\uff1amask/node_anti")}},GetResizeMoveingObjs:function(){return[]},GetResizeHeightObjs:function(){var e=[],t=cc.find("mask",this.node);t&&e.push(t),0===this._reelIdx&&e.push(cc.find("reels_bg/black",this.node.parent.parent));var n=cc.find("reels_bg/reel_bg"+(this._reelIdx+1),this.node.parent.parent);return n&&e.push(n),e}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],BasketballKing_Slots:[function(e,t,n){"use strict";function a(e,t,n,a,o,r,i){try{var c=e[r](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function c(e){a(i,o,r,c,s,"next",e)}function s(e){a(i,o,r,c,s,"throw",e)}c(void 0)})}}function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,r=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){c=!0,o=e},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw o}}}}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"3a290hi4/hMv7WSh49sb0xx","BasketballKing_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_dollarNum:0},Init:function(){this._super(),this._gold_reel=cc.find("gold_reel",this.node.parent);cc.vv.gameData.getDeskInfo()},StartMove:function(){this._super(),Global.SlotsSoundMgr.playNormalBgm(),cc.find("reels_frame/frame",this.node).active=!0,cc.find("reels_frame/frame_2",this.node).active=!1,cc.find("reels_frame/frame_4",this.node).active=!1;var e,t=r(this._reels);try{for(t.s();!(e=t.n()).done;){e.value.StartRecycleSymbol(.1)}}catch(e){t.e(e)}finally{t.f()}this.ClearAllTopShow()},ReconnectShow:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=cc.vv.gameData.getDeskInfo(),!cc.vv.gameData.GetFreeTime()){t.next=15;break}return t.next=5,cc.vv.gameData.awaitTime(.2);case 5:for(e.ShowGameview(!0),a=0;a<10;a++)o=cc.find("collect_node/jp_"+(a+1),e.node),cc.find("gold",o).active=a<n.freeGameInfo.bonusCnt;return e._dollarNum=n.freeGameInfo.bonusCnt,t.next=10,cc.vv.gameData.awaitTime(.5);case 10:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("fgbgm"),e.CanDoNextRound(),t.next=18;break;case 15:e.ShowGameview(!1),e.CanDoNextRound(),n.needbet>n.currmult&&e.popBetupDialog();case 18:case"end":return t.stop()}},t)}))()},onMsgSpine:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t._super(e),t.CheckEnterFreeGame()&&Math.random()<.1&&(t.SetStopTime(4),t.showBigAward()),cc.vv.gameData.GetGameWin()/cc.vv.gameData.GetTotalBet()>10&&Math.random()<.5&&(t.SetStopTime(4),t.showBigAward());case 3:case"end":return n.stop()}},n)}))()},CheckEnterFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetFreeTime()===cc.vv.gameData.GetTotalFree()},CheckExitFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&0===cc.vv.gameData.GetFreeTime()},ShowWinTrace:function(){this._super()},OnSpinEnd:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,r,i,c,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._gameInfo.secretInfo){t.next=39;break}return t.next=3,cc.vv.gameData.awaitTime(1);case 3:return n=cc.vv.gameData.getDeskInfo(),t.next=6,e._gold_reel.getComponent("BasketballKing_Wheel").startWheel(e._gameInfo.secretInfo,n.needbet>n.currmult,!1);case 6:if(!(e._gameInfo.secretInfo.upLevel>0)){t.next=33;break}return t.next=9,cc.vv.gameData.awaitTime(2);case 9:return t.next=11,e._gold_reel.getComponent("BasketballKing_Wheel").resetToNormal();case 11:return a=1===e._gameInfo.secretInfo.upLevel?cc.find("slots_2",e.node.parent):cc.find("slots_4",e.node.parent),(r=a.getComponent("BasketballKing_ExtraSlots"))||(r=a.addComponent("BasketballKing_ExtraSlots")),cc.vv.gameData.setExtraSlotsScript(r),cc.vv.gameData.setIsExtraSlots(!0),a.active=!0,r.Init(1===e._gameInfo.secretInfo.upLevel?2:4),t.next=20,r.startSlot();case 20:return t.next=22,cc.vv.gameData.awaitTime(1);case 22:return t.next=24,e._gold_reel.getComponent("BasketballKing_Wheel").startWheel(e._gameInfo.secretInfo,n.needbet>n.currmult,!0);case 24:for(Global.SlotsSoundMgr.playEffect("flyDown"),i=0;i<e._gameInfo.secretInfo.cards.length;i++)e._gameInfo.secretInfo.cards[i]===e._cfg.questionMarkId&&function(){var t=i+1,n=cc.instantiate(cc.find("fly_icon",e.node.parent));n.active=!0,n.parent=e.node.parent,n.getComponent("ImgSwitchCmp").setIndex(e._gameInfo.secretInfo.convertCard-1);var a=cc.find("lundai/wheel/wheel_mask/index_1",e._gold_reel).convertToWorldSpaceAR(cc.v2(0,0));a=e.node.parent.convertToNodeSpaceAR(a),n.position=a;var o=e.GetSymbolByIdx(t),r=o.node.convertToWorldSpaceAR(cc.v2(0,0));r=e.node.parent.convertToNodeSpaceAR(r),cc.tween(n).to(.5,{position:r}).call(function(){o.setAnimationToTop(!1),o.ShowById(e._gameInfo.secretInfo.convertCard)}).removeSelf().start()}();return t.next=28,cc.vv.gameData.awaitTime(.5);case 28:return t.next=30,e._gold_reel.getComponent("BasketballKing_Wheel").resetToNormal();case 30:cc.vv.gameData.setIsExtraSlots(!1),t.next=39;break;case 33:for(Global.SlotsSoundMgr.playEffect("flyDown"),c=0;c<e._gameInfo.resultCards.length;c++)e._gameInfo.resultCards[c]===e._cfg.questionMarkId&&function(){var t=c+1,n=cc.instantiate(cc.find("fly_icon",e.node.parent));n.active=!0,n.parent=e.node.parent,n.getComponent("ImgSwitchCmp").setIndex(e._gameInfo.secretInfo.convertCard-1);var a=cc.find("lundai/wheel/wheel_mask/index_1",e._gold_reel).convertToWorldSpaceAR(cc.v2(0,0));a=e.node.parent.convertToNodeSpaceAR(a),n.position=a;var o=e.GetSymbolByIdx(t),r=o.node.convertToWorldSpaceAR(cc.v2(0,0));r=e.node.parent.convertToNodeSpaceAR(r),cc.tween(n).to(.5,{position:r}).call(function(){o.setAnimationToTop(!1),o.ShowById(e._gameInfo.secretInfo.convertCard)}).removeSelf().start()}();return t.next=37,cc.vv.gameData.awaitTime(.5);case 37:return t.next=39,e._gold_reel.getComponent("BasketballKing_Wheel").resetToNormal();case 39:e.ShowWinTrace(),s=cc.vv.gameData.GetGameWin(),l=cc.vv.gameData.GetGameWin(),cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()&&(l=cc.vv.gameData.GetGameTotalFreeWin()),e.ShowBottomWin(s,l,!0,o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.CheckEnterFreeGame()?e.triggerFreeGame():e.CheckExitFreeGame()?e.triggerExitFreeGame():e.CanDoNextRound();case 1:case"end":return t.stop()}},t)})));case 44:case"end":return t.stop()}},t)}))()},addCount:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a,o,i,c,s,l,u,d,f,m,p,g,_;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:cc.find("reels_frame/frame",t.node).active=!1,cc.find("reels_frame/frame_2",t.node).active=2===e,cc.find("reels_frame/frame_4",t.node).active=4===e,a=r(t._reels);try{for(a.s();!(o=a.n()).done;)o.value.AddCount(e,.1)}catch(e){a.e(e)}finally{a.f()}return n.next=7,cc.vv.gameData.awaitTime(.2);case 7:for(i=t._gameInfo.secretInfo.cards,c=i.length/t._col,s=[],l=0;l<i.length;l++)Math.floor(l/c),u=l%t._col,t._cfg.symbol[i[l]]&&((d={}).sid=i[l],s[u]||(s[u]=[]),s[u].unshift(d));for(f=0;f<t._reels.length;f++)for(m=t._reels[f],p=s[f],g=0;g<c;g++)_=m.GetSymbolByRow(g),p[g]!==t._cfg.questionMarkId&&_.ShowById(p[g].sid);case 12:case"end":return n.stop()}},n)}))()},ShowGameview:function(e){this._super(e),cc.find("collect_node",this.node).active=e,cc.find("collect_node/kuang",this.node).active=!1},GetSymbolByIdx:function(e){var t,n=(e-1)%this._col;return t=this._gameInfo.secretInfo&&this._gameInfo.secretInfo.upLevel>0?this._gameInfo.secretInfo.cards.length/this._col-Math.floor((e-1)/this._col)-1:this._gameInfo.resultCards.length/this._col-Math.floor((e-1)/this._col)-1,this._reels[n].GetSymbolByRow(t)},OnReelSpinEnd:function(e){for(var t=this,n=this._reels[e],a=!1,o=0;o<this._cfg.row;o++){var r=n.GetSymbolByRow(o);if(r.GetShowId()===this._cfg.questionMarkId){a=!0,Global.SlotsSoundMgr.playEffect("reelquset"),r.playWinAnimation();var i=cc.instantiate(cc.find("fly_wenhao",this.node.parent));i.active=!0,i.parent=this.node.parent;var c=r.node.convertToWorldSpaceAR(cc.v2(0,0));c=this.node.parent.convertToNodeSpaceAR(c),i.position=c;var s=cc.find("lundai/wheel/wheel_mask/index_1",this._gold_reel).convertToWorldSpaceAR(cc.v2(0,0));s=this.node.parent.convertToNodeSpaceAR(s),cc.tween(i).to(.5,{position:s,scale:1.1}).to(.2,{scale:1}).call(function(){cc.find("lundai/wheel/wheel_mask/index_1",t._gold_reel).getComponent("ImgSwitchCmp").setIndex(11)}).removeSelf().start()}if(r.GetShowId()===this._cfg.dollarId){r.playWinAnimation(),Global.SlotsSoundMgr.playEffect("jpfly");var l=cc.instantiate(cc.find("fly_dollar",this.node.parent));l.active=!0,l.parent=this.node.parent;var u=r.node.convertToWorldSpaceAR(cc.v2(0,0));u=this.node.parent.convertToNodeSpaceAR(u),l.position=u;var d=cc.find("collect_node",this.node).convertToWorldSpaceAR(cc.v2(0,0));d=this.node.parent.convertToNodeSpaceAR(d),cc.tween(l).to(.5,{position:d}).call(function(){t.addDollar()}).removeSelf().start()}}a&&Global.SlotsSoundMgr.playEffect("flyUP")},addDollar:function(){this._dollarNum++;var e=this.getTargetJackpot(),t=cc.find("collect_node",this.node);cc.find("collect",t).getComponent(sp.Skeleton).setAnimation(0,"dian_collect",!1),cc.find("target",t).getComponent(cc.Label).string=e.targetNum,cc.find("num",t).getComponent(cc.Label).string=this._dollarNum;for(var n=0;n<10;n++)cc.find("jp_"+(n+1)+"/gold",t).active=n<this._dollarNum;cc.find("prize",t).getComponent("ImgSwitchCmp").setIndex(e.targetIndex)},getTargetJackpot:function(){for(var e=[7,8,9,10],t=0;t<e.length;t++)if(this._dollarNum<e[t])return{targetNum:e[t],targetIndex:t};return{targetNum:10,targetIndex:3}},triggerFreeGame:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e._bottomScript.ShowBtnsByState("moveing_1"),Global.SlotsSoundMgr.playEffect("triggering"),n=0;n<e._gameInfo.resultCards.length;n++)e._gameInfo.resultCards[n]===e._cfg.scatterId&&e.GetSymbolByIdx(n+1).playWinAnimation();return t.next=5,cc.vv.gameData.awaitTime(2);case 5:return t.next=7,e.popFreeDialog();case 7:for(e.ShowGameview(!0),e._dollarNum=0,a=0;a<10;a++)o=cc.find("collect_node/jp_"+(a+1),e.node),cc.find("gold",o).active=!1;return cc.find("collect_node/target",e.node).getComponent(cc.Label).string=7,cc.find("collect_node/num",e.node).getComponent(cc.Label).string=0,t.next=14,cc.vv.gameData.awaitTime(.5);case 14:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("fgbm"),e.CanDoNextRound();case 17:case"end":return t.stop()}},t)}))()},StopMove:function(){cc.vv.gameData.getIsExtraSlots()?cc.vv.gameData.getExtraSlotsScript().StopMove():this._super()},triggerExitFreeGame:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=3,cc.vv.gameData.awaitTime(1);case 3:if(!e._gameInfo.jackpot){t.next=6;break}return t.next=6,e.popJackpotDialog();case 6:return t.next=8,e.popFreeResultDialog();case 8:return e.ShowGameview(!1),t.next=11,cc.vv.gameData.awaitTime(1);case 11:e.ShowBottomWin(cc.vv.gameData.GetGameTotalFreeWin(),cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e.CanDoNextRound()});case 12:case"end":return t.stop()}},t)}))()},popFreeDialog:function(){var e=this;return new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n){var a,o,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("fgbegin"),(a=cc.find("dialog_node",e.node.parent)).active=!0,(o=cc.find("common_enter_node",a)).active=!0,o.scale=1,(r=cc.find("freetanchuang",o)).scale=0,cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("times",r).getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),t.next=13,cc.vv.gameData.awaitTime(2);case 13:cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){a.active=!1,o.active=!1,n()}).start();case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},popFreeResultDialog:function(){var e=this;return new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n){var a,o,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("fgend"),(a=cc.find("dialog_node",e.node.parent)).active=!0,(o=cc.find("result_node",a)).active=!0,o.scale=1,(r=cc.find("freetanchuang",o)).scale=0,cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),i=cc.find("yifenkuang",r),cc.find("coin",i).getComponent(cc.Label).string=Global.FormatNumToComma(cc.vv.gameData.GetGameTotalFreeWin()),t.next=13,cc.vv.gameData.awaitTime(2);case 13:cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){a.active=!1,o.active=!1,n()}).start();case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},popJackpotDialog:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n){var a,o,r,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("jpwin"),cc.find("collect_node/kuang",e.node).active=!0,(a=cc.find("dialog_node",e.node.parent)).active=!0,(o=cc.find("jackpot_node",a)).active=!0,o.scale=1,(r=cc.find("freetanchuang",o)).scale=0,cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),i=cc.find("yifenkuang",r),cc.find("coin",i).getComponent(cc.Label).string=Global.FormatNumToComma(e._gameInfo.jackpot.value),cc.find("title",r).getComponent("ImgSwitchCmp").setIndex(e._gameInfo.jackpot.id-1),(c=cc.find("btn_collect",r)).active=!1,cc.find("chaopiao",o).active=!1,t.next=18,cc.vv.gameData.awaitTime(1);case 18:Global.SlotsSoundMgr.playEffect("jp_celebration"),cc.find("chaopiao",o).active=!0,c.active=!0,c.off("click"),c.on("click",function(){c.off("click"),Global.SlotsSoundMgr.stopEffectByName("jp_celebration"),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){a.active=!1,o.active=!1,n()}).start()});case 23:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},popBetupDialog:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,r,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),(n=cc.find("dialog_node",e.node.parent)).active=!0,(a=cc.find("betup_node",n)).active=!0,a.scale=1,(r=cc.find("betup_board",a)).scale=0,cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),i=cc.find("btn_power_mode",r),c=cc.find("btn_regular_play",r),t.next=13,cc.vv.gameData.awaitTime(1);case 13:i.off("click"),i.on("click",o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.off("click"),e._bottomScript.SetBetIdx(cc.vv.gameData.getDeskInfo().needbet),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){n.active=!1,a.active=!1,e.CanDoNextRound()}).start();case 3:case"end":return t.stop()}},t)}))),c.off("click"),c.on("click",o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c.off("click"),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){n.active=!1,a.active=!1,e.CanDoNextRound()}).start();case 2:case"end":return t.stop()}},t)})));case 17:case"end":return t.stop()}},t)}))()},showBigAward:function(){Global.SlotsSoundMgr.playEffect("bigAward");var e=cc.find("big_award",this.node.parent);e.active=!0;var t=cc.find("dajiangyugao",e);t.getComponent(sp.Skeleton).setAnimation(0,"dajiangyugao",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){t.getComponent(sp.Skeleton).setCompleteListener(null),e.active=!1}),cc.find("chaopiao",e).getComponent(sp.Skeleton).setAnimation(0,"chaopiao",!0)}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],BasketballKing_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"97059m1eFtD8IYQKmkWLOes","BasketballKing_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}],BasketballKing_Wheel:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw r}}}}function o(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e,t,n,a,o,r,i){try{var c=e[r](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var r=e.apply(t,n);function c(e){i(r,a,o,c,s,"next",e)}function s(e){i(r,a,o,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"231c9YzQgZMlor36wPgXDvs","BasketballKing_Wheel");cc.Class({extends:cc.Component,properties:{items:[cc.Node],lundai:cc.Node,lundai_zhezhao:cc.Node,lundai_di:cc.Node,lundai_kuang:cc.Node,lundai_win:cc.Node,result:cc.Node,jiantou:cc.Node,_speed:17,_count:5,_startMove:!1,_needStop:!1,_backMove:!1,_resultItem:null,_bottomPosX:510,_successCallback:null,_secretInfo:null,_isCard:!1,_isRegular:!1},startWheel:function(e,t,n){var a=this;return new Promise(function(){var o=c(regeneratorRuntime.mark(function o(r){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a.reset(),a._successCallback=r,a._isRegular=t,a._secretInfo=e,a._startMove=!0,a._resultItem=a.items[0],a._isCard=n,a.schedule(a.updateWheel,.005),Global.SlotsSoundMgr.playEffect("GoldReel"),a.lundai.getComponent(sp.Skeleton).setAnimation(0,"B_lundai_intro",!1),a.lundai.getComponent(sp.Skeleton).addAnimation(0,"B_lundai_idle",!0),a.lundai_zhezhao.getComponent(sp.Skeleton).setAnimation(0,"B_lundai_intro",!1),a.lundai_zhezhao.getComponent(sp.Skeleton).addAnimation(0,"B_lundai_idle",!0),a.lundai_kuang.getComponent(sp.Skeleton).setAnimation(0,"B_lundai_intro",!1),a.lundai_kuang.getComponent(sp.Skeleton).addAnimation(0,"B_lundai_idle",!0),a.lundai_win.active=!1,o.next=18,cc.vv.gameData.awaitTime(.5);case 18:a.lundai_win.active=!0,a.lundai_win.getComponent(sp.Skeleton).setAnimation(0,"lundai_bo_b",!0);case 20:case"end":return o.stop()}},o)}));return function(e){return o.apply(this,arguments)}}())},updateWheel:function(){if(this._startMove){if(0===this._count&&0===this._resultItem.x)return this._startMove=!1,void this.exitWheelGame();var e,t=a(this.items);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.x>=this._bottomPosX+170&&(n.getComponent("ImgSwitchCmp").setIndex(this._isRegular?Math.floor(9*Math.random()):Math.floor(11*Math.random())),n.x=-this._bottomPosX,n===this._resultItem&&(this._count--,this._count<=0&&(this._count=0,n.getComponent("ImgSwitchCmp").setIndex(this.getResultIndex())))),n.x+=this._speed,n.x>=-85&&n.x<=85?n.scale=1.5:n.x>=-170&&n.x<=170?n.scale=1.3:n.scale=1}}catch(e){t.e(e)}finally{t.f()}}},getResultIndex:function(){return this._isCard?this._secretInfo.convertCard-1:this._secretInfo.upLevel>0?8+this._secretInfo.upLevel:this._secretInfo.convertCard-1},exitWheelGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("GRstop"),e.lundai_win.getComponent(sp.Skeleton).setAnimation(0,"lundai_win",!1),e.lundai_di.active=!0,e.result.active=!0,e.result.getComponent("ImgSwitchCmp").setIndex(e.getResultIndex()),t.next=7,cc.vv.gameData.awaitTime(1);case 7:if(!(e._secretInfo.upLevel>0)||e._isCard){t.next=14;break}return Global.SlotsSoundMgr.playEffect("arrow"),e.result.active=!1,e.jiantou.active=!0,e.jiantou.getComponent(sp.Skeleton).setAnimation(0,1===e._secretInfo.upLevel?"lan_jiantou":"huang_jiantou",!1),t.next=14,cc.vv.gameData.awaitTime(.5);case 14:e._successCallback&&e._successCallback();case 15:case"end":return t.stop()}},t)}))()},resetToNormal:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,o,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.result.active=!0,e.jiantou.active=!1,e.lundai_di.active=!1,e.lundai.getComponent(sp.Skeleton).setAnimation(0,"S_lundai_intro",!1),e.lundai.getComponent(sp.Skeleton).addAnimation(0,"S_lundai_idle",!0),e.lundai_zhezhao.getComponent(sp.Skeleton).setAnimation(0,"S_lundai_intro",!1),e.lundai_zhezhao.getComponent(sp.Skeleton).addAnimation(0,"S_lundai_idle",!0),e.lundai_kuang.getComponent(sp.Skeleton).setAnimation(0,"S_lundai_intro",!1),e.lundai_kuang.getComponent(sp.Skeleton).addAnimation(0,"S_lundai_idle",!0),n=a(e.items);try{for(n.s();!(o=n.n()).done;)r=o.value,cc.tween(r).to(.5,{scale:1}).start()}catch(e){n.e(e)}finally{n.f()}return e.lundai_win.active=!1,t.next=14,cc.vv.gameData.awaitTime(.5);case 14:return e.lundai_win.active=!0,e.lundai_win.getComponent(sp.Skeleton).setAnimation(0,"lundai_bo_s",!0),t.next=18,cc.vv.gameData.awaitTime(.5);case 18:case"end":return t.stop()}},t)}))()},reset:function(){this._startMove=!1,this._speed=17,this._count=5}}),cc._RF.pop()},{}]},{},["BasketballKing_Cfg","BasketballKing_ExtraReel","BasketballKing_ExtraSlots","BasketballKing_GameData","BasketballKing_Logic","BasketballKing_Reel","BasketballKing_Slots","BasketballKing_Symbol","BasketballKing_Wheel"]);