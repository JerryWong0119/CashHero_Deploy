window.__require=function e(t,n,o){function i(r,c){if(!n[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({SunWuKong_Bottom:[function(e,t,n){"use strict";cc._RF.push(t,"233c3rfiwhHPbkWWk3L8fpZ","SunWuKong_Bottom"),cc.Class({extends:e("LMSlots_Bottom_Base"),properties:{},showTotalBet:function(e){cc.find("totalBetBg",this.node).active=e},SendSpinReq:function(){this.ShowBtnsByState("moveing_1");var e=cc.vv.gameData.GetBetIdx();if(cc.vv.gameData.ReqSpin(e),this._needRefushFreeTime){this._needRefushFreeTime=null;var t=cc.vv.gameData.GetFreeTime();cc.vv.gameData.SetFreeTime(t-1);var n=cc.vv.gameData.GetTotalFree(),o=cc.vv.gameData.GetFreeTime();this.ShowFreeModel(!0,n-o,n)}cc.vv.gameData.StartMove(),cc.vv.gameData.GetSlotsScript().StartMove(),cc.vv.gameData.getManage()._isInFree&&cc.vv.gameData.GetFreeSlotsScript().StartMove(),this._ShowBetProTip(!1),this.ShowAutoSelect(!1)},OnClickStop:function(){cc.vv.gameData.GetSlotsScript().StopMove(),cc.vv.gameData.getManage()._isInFree&&cc.vv.gameData.GetFreeSlotsScript().StopMove()}}),cc._RF.pop()},{LMSlots_Bottom_Base:void 0}],SunWuKong_Cfg:[function(e,t,n){"use strict";var o,i,a;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"212c7V6CU9NvJfK/1FS5jJ0","SunWuKong_Cfg");var c={symbol:(o={},r(o,1,{node:"s16",win_node:"w15",win_ani:{name:"actionframe",zIndex:200},idle_ani:{name:"idleframe",zIndex:200}}),r(o,2,{node:"s14",win_node:"w13",win_ani:{name:"actionframe",zIndex:200},stop_ani:{name:"buling",zIndex:200},idle_ani:{name:"idleframe",zIndex:200}}),r(o,3,{node:"s1",win_node:"w1",win_ani:{name:"actionframe",zIndex:200},stop_ani:{name:"buling",zIndex:200}}),r(o,4,{node:"s2",win_node:"w2",win_ani:{name:"kai",name2:"idleframe2",zIndex:200},stop_ani:{name:"buling",zIndex:200}}),r(o,5,{node:"s3",win_node:"w3",win_ani:{name:"actionframe",zIndex:200},idle_ani:{name:"idleframe",zIndex:200}}),r(o,6,{node:"s4",win_node:"w4",win_ani:{name:"actionframe",zIndex:200},idle_ani:{name:"idleframe",zIndex:200}}),r(o,7,{node:"s5",win_node:"w5",win_ani:{name:"actionframe",zIndex:200},idle_ani:{name:"idleframe",zIndex:200}}),r(o,8,{node:"s10"}),r(o,9,{node:"s11"}),r(o,10,{node:"s12"}),r(o,11,{node:"s6"}),r(o,12,{node:"s7"}),r(o,13,{node:"s8"}),r(o,14,{node:"s9"}),r(o,201,{node:"s13",win_node:"w13",win_ani:{name:"actionframe2",zIndex:200},stop_ani:{name:"buling2",zIndex:200},idle_ani:{name:"idleframe2",zIndex:200}}),r(o,101,{node:"s15",win_node:"w15",win_ani:{name:"actionframe2",zIndex:200},idle_ani:{name:"idleframe2",zIndex:200},change_ani:{name:"switch",zIndex:200},fly_ani:{name:"buling",zIndex:200}}),o),scripts:{Top:"LMSlots_Top_Base",Bottom:"SunWuKong_Bottom",Slots:"SunWuKong_Slots",Reels:"SunWuKong_reel",Symbols:"SunWuKong_symbol",Sound:"SunWuKong_sound"},col:5,row:3,symbolPrefab:"LMSlots_Symbol",symbolSize:{width:130,height:130},helpItems:["games/SunWuKong/prefab/LMSlots_Help_item1","games/SunWuKong/prefab/LMSlots_Help_item2","games/SunWuKong/prefab/LMSlots_Help_item3","games/SunWuKong/prefab/LMSlots_Help_item4","games/SunWuKong/prefab/LMSlots_Help_item5","games/SunWuKong/prefab/LMSlots_Help_item6","games/SunWuKong/prefab/LMSlots_Help_item7"],scatterId:2,autoModelDelay:1,cardmap:(i={},r(i,1,[12,12,13,13,13,13,1,1,13,13,13,13,6,6,6,6,5,1,14,14,9,9,9,6,5,5,11,13,13,13,13,12,12,8,8,8,14,14,10,10,10,10,1,1,7,8,8,8,12,12,12,12,14,6,6,6,6,9,9,9,9,14,14,10,10,13,13,13,13,11,10,10,10,7,7,7,7,12,12,12,12,5,1,11,5,8,9,13,13,13,13,1,7,7,7,9,9,9,7,7,5,5,14,5,5,5,5,8,8,14,8,9,9,11,11,11,11,8,8,7,7,7,6,5,5,14,9,9,1,7,7,7,7,14,14,14,5,5,1,6,11,11,5,5,5,5,7,14,14,10,1,12,12,11,11,11,10,10,7,5,6,7,12]),r(i,2,[7,7,7,7,8,8,7,11,11,11,3,3,3,4,4,4,13,13,13,13,1,1,7,7,13,13,13,13,1,2,9,8,6,6,6,6,5,5,5,5,8,8,11,11,11,11,12,12,12,12,8,6,6,2,14,14,14,9,9,13,13,13,13,8,6,6,9,9,9,9,7,7,5,10,10,2,5,5,5,9,9,9,9,5,5,5,5,13,13,13,13,10,10,10,12,12,12,12,10,10,10,8,8,8,7,2,1,1,12,12,12,12,8,7,5,5,11,7,13,13,13,13,14,14,2,8,8,8,8,14,12,12,1,1,6,1,8,8,8,10,10,10,7,7,7,1,1,10,14,14,12,14,7,11,14,14,14,6,6,6,7,7,7,14,14,14,5,5,9,9,9,5,11,5,5,5,8,11,11,8,9,7]),r(i,3,[13,13,13,13,10,9,11,11,11,11,3,3,3,4,4,4,8,8,12,12,12,12,7,7,7,13,13,13,13,14,14,14,2,10,10,5,5,6,6,8,8,8,8,10,10,10,11,7,9,9,9,9,1,1,2,5,8,8,8,8,12,12,12,12,5,5,6,6,11,11,5,5,11,11,14,14,2,1,8,12,12,12,12,6,6,6,6,14,6,6,6,6,5,5,8,7,7,7,2,13,13,13,13,14,14,10,10,10,10,8,8,14,14,13,13,13,13,1,1,12,9,9,9,2,5,5,8,8,8,1,13,13,13,13,5,5,5,12,12,6,10,1,9,9,5,5,14,7,7,8,8,14,14,14,7,5,5,5,5,9,1,1,11,11,11,9,9,9,7,7,9,14,6,8,6,6,1,10,6,6,6,6]),r(i,4,[8,9,9,9,1,6,6,5,6,6,11,11,3,3,3,4,4,4,7,7,7,7,14,14,14,2,13,13,13,13,7,7,7,14,13,13,13,13,7,7,14,14,12,13,13,13,13,5,5,5,2,10,10,9,9,9,9,11,11,11,11,12,12,12,10,10,10,10,13,13,13,13,8,8,8,8,7,7,1,1,2,12,12,7,7,7,7,12,12,12,12,8,9,9,11,11,14,14,8,8,8,13,13,13,13,2,9,7,7,7,1,8,8,8,8,9,6,6,6,5,5,5,5,6,6,14,14,2,9,9,9,9,5,5,8,12,12,12,5,5,1,1,14,8,8,8,6,6,6,6,1,1,10,10,10,6,12,12,1,14,14,11,11,11,11,10,10,10,1,7,7,14,6,8,14,8,8,6,6,6,6,6]),r(i,5,[5,5,5,5,11,11,11,7,7,7,1,14,7,7,7,8,10,10,11,11,11,1,1,6,13,13,13,13,11,11,11,14,14,14,6,6,6,6,9,9,9,9,1,1,9,9,9,9,12,12,12,12,6,6,6,6,9,9,9,9,10,10,6,6,6,13,13,13,13,7,7,7,7,1,1,13,13,13,13,8,8,8,8,6,6,6,5,13,13,13,13,5,5,5,5,12,12,12,12,8,12,12,12,8,8,8,8,9,7,8,8,10,10,10,10,14,14,13,13,13,13,10,10,10,1,14,14,6,6,6,7,12,12,12,12,5,5,5,1,7,7,14,7,7,14,14,14,7,11,11,11,14,14,14,7,10,7,7,9,9,1,6,6]),i),cardmapfree:(a={},r(a,1,[12,12,13,13,13,13,1,1,13,13,13,13,6,6,6,6,5,1,14,14,9,9,9,6,5,5,11,13,13,13,13,12,12,8,8,8,14,14,10,10,10,10,1,1,7,8,8,8,12,12,12,12,14,6,6,6,6,9,9,9,9,14,14,10,10,13,13,13,13,11,10,10,10,7,7,7,7,12,12,12,12,5,1,11,5,8,9,13,13,13,13,1,7,7,7,9,9,9,7,7,5,5,14,5,5,5,5,8,8,14,8,9,9,11,11,11,11,8,8,7,7,7,6,5,5,14,9,9,1,7,7,7,7,14,14,14,5,5,1,6,11,11,5,5,5,5,7,14,14,10,1,12,12,11,11,11,10,10,7,5,6,7,12]),r(a,2,[7,7,7,7,8,8,7,11,11,11,13,13,13,13,1,1,7,7,13,13,13,13,1,2,9,8,6,6,6,6,5,5,5,5,8,8,11,11,11,11,12,12,12,12,8,6,6,2,14,14,14,9,9,13,13,13,13,8,6,6,9,9,9,9,7,7,5,10,10,2,5,5,5,9,9,9,9,5,5,5,5,13,13,13,13,10,10,10,12,12,12,12,10,10,10,8,8,8,7,2,1,1,12,12,12,12,8,7,5,5,11,7,13,13,13,13,14,14,2,8,8,8,8,14,12,12,1,1,6,1,8,8,8,10,10,10,7,7,7,1,1,10,14,14,12,14,7,11,14,14,14,6,6,6,7,7,7,14,14,14,5,5,9,9,9,5,11,5,5,5,8,11,11,8,9,7]),r(a,3,[13,13,13,13,10,9,11,11,11,11,8,8,12,12,12,12,7,7,7,13,13,13,13,14,14,14,2,10,10,5,5,6,6,8,8,8,8,10,10,10,11,7,9,9,9,9,1,1,2,5,8,8,8,8,12,12,12,12,5,5,6,6,11,11,5,5,11,11,14,14,2,1,8,12,12,12,12,6,6,6,6,14,6,6,6,6,5,5,8,7,7,7,2,13,13,13,13,14,14,10,10,10,10,8,8,14,14,13,13,13,13,1,1,12,9,9,9,2,5,5,8,8,8,1,13,13,13,13,5,5,5,12,12,6,10,1,9,9,5,5,14,7,7,8,8,14,14,14,7,5,5,5,5,9,1,1,11,11,11,9,9,9,7,7,9,14,6,8,6,6,1,10,6,6,6,6]),r(a,4,[8,9,9,9,1,6,6,5,6,6,11,11,7,7,7,7,14,14,14,2,13,13,13,13,7,7,7,14,13,13,13,13,7,7,14,14,12,13,13,13,13,5,5,5,2,10,10,9,9,9,9,11,11,11,11,12,12,12,10,10,10,10,13,13,13,13,8,8,8,8,7,7,1,1,2,12,12,7,7,7,7,12,12,12,12,8,9,9,11,11,14,14,8,8,8,13,13,13,13,2,9,7,7,7,1,8,8,8,8,9,6,6,6,5,5,5,5,6,6,14,14,2,9,9,9,9,5,5,8,12,12,12,5,5,1,1,14,8,8,8,6,6,6,6,1,1,10,10,10,6,12,12,1,14,14,11,11,11,11,10,10,10,1,7,7,14,6,8,14,8,8,6,6,6,6,6]),r(a,5,[5,5,5,5,11,11,11,7,7,7,1,14,7,7,7,8,10,10,11,11,11,1,1,6,13,13,13,13,11,11,11,14,14,14,6,6,6,6,9,9,9,9,1,1,9,9,9,9,12,12,12,12,6,6,6,6,9,9,9,9,10,10,6,6,6,13,13,13,13,7,7,7,7,1,1,13,13,13,13,8,8,8,8,6,6,6,5,13,13,13,13,5,5,5,5,12,12,12,12,8,12,12,12,8,8,8,8,9,7,8,8,10,10,10,10,14,14,13,13,13,13,10,10,10,1,14,14,6,6,6,7,12,12,12,12,5,5,5,1,7,7,14,7,7,14,14,14,7,11,11,11,14,14,14,7,10,7,7,9,9,1,6,6]),a),kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,bounce:!0,bounceInfo:{distance:30,time:.1},commEffect:{path:"games/SunWuKong/",win1:["music_FloweryPixie_last_win_1",""],win2:["music_FloweryPixie_last_win_2",""]},reelStateInfo:[{id:[3],mini:100,counts:[3,3,3,3,3,100],antiNode:"",path:"games/SunWuKong/",reelStopSound:"FloweryPixie_reel_stop",symbolStopSound:"music_FloweryPixie_Bonus1_Down",antSound:"",antSpeed:2e3},{id:[4],mini:100,counts:[3,3,3,3,3,100],antiNode:"",path:"games/SunWuKong/",reelStopSound:"FloweryPixie_reel_stop",symbolStopSound:"music_FloweryPixie_Bonus2_Down",antSound:"",antSpeed:2e3},{id:[2,201],mini:4,counts:[3,3,3,3,3],antiNode:"node_anti",path:"games/SunWuKong/",reelStopSound:"FloweryPixie_reel_stop",symbolStopSound:"FloweryPixie_scatter_down",antSound:"music_FloweryPixie_LongRun",antSpeed:2e3,continuous:!0}],AddAntiTime:5,normalBgm:"music_FloweryPixie_baseGame",sysFloatOffsetPos:cc.v2(0,120)};t.exports=c,cc._RF.pop()},{}],SunWuKong_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"37b5eU+MKxBTILUnO84TL45","SunWuKong_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{_popWinManage:null,_manage:null,_freeSlotsScript:null,_collectNode:null,_isTriggerFree:!1,_freeGameCnt:0},setPopWinManage:function(e){this._popWinManage=e},getPopWinManage:function(){return this._popWinManage},setManage:function(e){this._manage=e},getManage:function(){return this._manage},SetFreeSlotsScript:function(e){this._freeSlotsScript=e},GetFreeSlotsScript:function(){return this._freeSlotsScript},setCollectNode:function(e){this._collectNode=e},getCollectNode:function(){return this._collectNode},OnRcvNetSpine:function(e){if(200==e.code){if(this._deskInfo.user.coin=e.coin,this._gameInfo=e,this._deskInfo.restFreeCount=e.freeCnt,this._deskInfo.allFreeCount=e.allFreeCnt,this._puzzleData=e.chipGame,e.gameTask&&cc.vv.UserManager.updateQuestInfoData(e.gameTask),this._isTriggerFree=!1,this._freeGameCnt=0,cc.vv.gameData.getManage()._isInFree){var t=e.freeGameSlots,n=Global.copy(e),o=Global.copy(e);if(o.scatterResult=t[1].scatterResult,o.resultCards=t[1].resultCards,o.zjLuXian=t[1].zjLuXian,o.freeResult=t[1].freeResult,o.winCoin=t[1].winCoin+t[0].winCoin,n.scatterResult=t[0].scatterResult,n.resultCards=t[0].resultCards,n.zjLuXian=t[0].zjLuXian,n.freeResult=t[0].freeResult,this.GetFreeSlotsScript().onMsgSpine(n),this.GetSlotsScript().onMsgSpine(o),n.freeResult&&n.freeResult.freeInfo){var i=n.freeResult.freeInfo.scatterIdx;i||(i=n.freeResult.freeInfo.idxs),i&&(this._isTriggerFree=!0,this._freeGameCnt+=n.freeResult.freeInfo.freeCnt)}if(o.freeResult&&o.freeResult.freeInfo){var a=o.freeResult.freeInfo.scatterIdx;a||(a=o.freeResult.freeInfo.idxs),a&&(this._isTriggerFree=!0,this._freeGameCnt+=o.freeResult.freeInfo.freeCnt)}}else if(this.GetSlotsScript().onMsgSpine(e),e.freeResult&&e.freeResult.freeInfo){var r=e.freeResult.freeInfo.scatterIdx;r||(r=e.freeResult.freeInfo.idxs),r&&(this._isTriggerFree=!0,this._freeGameCnt+=e.freeResult.freeInfo.freeCnt)}this._puzzleData&&this._cfg.puzzleCfg&&this._puzzleData.currChipInfo&&cc.find("Canvas").getComponent("LMSlots_Puzzle").puzzleFly()}}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],SunWuKong_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"a3413Ah00xCyq3ep8IHthOk","SunWuKong_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},InitCommComponent:function(){this._super();var e=cc.find("safe_node",this.node),t=e.addComponent("SunWuKong_manage");cc.vv.gameData.setManage(t),cc.vv.gameData.setPopWinManage(e.getComponentInChildren("SunWuKong_Pop"));var n=cc.find("slotsfree",e).addComponent("SunWuKong_Slotsfree");cc.vv.gameData.SetFreeSlotsScript(n);var o=cc.find("slots/collectNode",e).addComponent("SunWuKong_collectNode");cc.vv.gameData.setCollectNode(o)},StartSlot:function(){this._super(),cc.vv.gameData.GetFreeSlotsScript().Init()}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],SunWuKong_Pop:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,r){try{var c=e[a](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function c(e){o(r,i,a,c,s,"next",e)}function s(e){o(r,i,a,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"ca6025nlWlNZKJUi4CCOyfW","SunWuKong_Pop"),cc.Class({extends:cc.Component,properties:{_startAddCoin:!1},onLoad:function(){},start:function(){},showWin:function(){var e=cc.find("popup",this.node);e.active=!0,e.opacity=0,cc.tween(e).to(.3,{opacity:255}).start()},hideWin:function(e){var t=cc.find("popup",this.node);cc.tween(t).to(.3,{opacity:0}).call(function(){e&&e(),t.active=!1}).start()},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})},showFreeGameTimes:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(o,a){var r,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_FreespinStart_view),t.showWin(),(r=cc.find("show_freeGameTimes",t.node)).active=!0,cc.find("numBg/num",r).getComponent(cc.Label).string=e,(c=r.getComponent(cc.Animation)).play("showFreeGameTimes"),c.on("finished",function(){c.off("finished"),c.play("idleFreeGameTimes");var e=cc.find("startBtn",r);e.getComponent(cc.Button).interactable=!0,e.off("click");var n=function(){var n=i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.getComponent(cc.Button).interactable=!1,n.next=3,t.awaitTime(.2);case 3:c.play("hideFreeGameTimes"),c.on("finished",function(){c.off("finished"),r.active=!1,t.hideWin(function(){o()})});case 5:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();cc.vv.gameData.checkAutoPlay(e,n),e.on("click",i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.stopAllActions(),n();case 2:case"end":return t.stop()}},t)})))});case 10:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},showFreeGameWinCoin:function(e,t){var n=this;return new Promise(function(){var o=i(regeneratorRuntime.mark(function o(a,r){var c,s,l;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_FreespinOver_view),n.showWin(),(c=cc.find("show_freeGame_winCoin",n.node)).active=!0,s=cc.find("numBg/num",c),n._startAddCoin=!0,Global.doRoallNumEff(s,Math.floor(.1*e),e,2.5,function(){n._startAddCoin=!1},null,0,!0),cc.find("Common-FloweryPixie_zi_1/times",c).getComponent(cc.Label).string=t,(l=c.getComponent(cc.Animation)).play("showFreeGameWinCoin"),l.on("finished",function(){l.off("finished"),l.play("idleFreeGameWinCoin");var t=cc.find("collectBtn",c);t.getComponent(cc.Button).interactable=!0,t.off("click");var o=function(){var o=i(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t.getComponent(cc.Button).interactable=!1,n._startAddCoin&&(n._startAddCoin=!1,s.stopAllActions(),s.getComponent(cc.Label).string=Global.FormatNumToComma(e)),o.next=4,n.awaitTime(.2);case 4:l.play("hideFreeGameWinCoin"),l.on("finished",function(){l.off("finished"),c.active=!1,n.hideWin(function(){a()})});case 6:case"end":return o.stop()}},o)}));return function(){return o.apply(this,arguments)}}();cc.vv.gameData.checkAutoPlay(t,o),t.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.stopAllActions(),o();case 2:case"end":return e.stop()}},e)})))});case 12:case"end":return o.stop()}},o)}));return function(e,t){return o.apply(this,arguments)}}())},showFreeGameWinFree:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(o,a){var r,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_FreespinStart_view),t.showWin(),(r=cc.find("show_freeGameWinFree",t.node)).active=!0,cc.find("numBg/num",r).getComponent(cc.Label).string=e,(c=r.getComponent(cc.Animation)).play("showFreeGameWinFree"),c.on("finished",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.off("finished"),c.play("idleFreeGameWinFree"),e.next=4,t.awaitTime(2);case 4:c.play("hideFreeGameWinFree"),c.on("finished",function(){c.off("finished"),r.active=!1,t.hideWin(function(){o()})});case 6:case"end":return e.stop()}},e)})));case 9:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())}}),cc._RF.pop()},{}],SunWuKong_PrizePool:[function(e,t,n){"use strict";cc._RF.push(t,"ff9142TqAxO9JLXnpjznP9n","SunWuKong_PrizePool");var o=["Mini","Minor","Major","Grand","MAXI"];cc.Class({extends:e("LMSlots_PrizePool_Base"),properties:{_lastLockJackpot:0},start:function(){var e=this;this._super(),this.scheduleOnce(function(){if(e.node.y+e.node.height>cc.winSize.height/2-74){var t=e.node.y+e.node.height-(cc.winSize.height/2-74);e.node.scale=1-t/e.node.height}},0)},ShowNodeLockByNode:function(e,t,n,o,i){var a=this,r=e;if(r){var c=r.getChildByName("lockbg");if(c){r.getChildByName("spr_title");c.active=!0,c.getChildByName("betNum").getComponent(cc.Label).string=Global.FormatNumToComma(n);var s=c.getChildByName("lock").getComponent(sp.Skeleton);if(t)c.active=!0,s.setAnimation(0,"animation",!1),s.setCompleteListener(function(){a.updateJackpotLockAni()}),o<this._lastLockJackpot&&(this._lastLockJackpot=o);else{if(c.active=!1,!i){var l=r.getChildByName("unlock");l.active=!0;var u=l.getComponent(sp.Skeleton);u.setAnimation(0,"animation0"+(o+5),!1),u.setCompleteListener(function(){l.active=!1}),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.unlock)}o>=this._lastLockJackpot&&(this._lastLockJackpot=o+1),this.updateJackpotLockAni()}}}},updateJackpotLockAni:function(){var e=cc.find("Canvas/safe_node").getComponentInChildren("LMSlotMachine_PrizePool"),t=this._lastLockJackpot;if(3===t?t++:5===t&&(t=3),e)for(var n=0;n<o.length;n++){var i=o[n],a=cc.find("prizePool_"+i,e.node.parent);if(a){var r=a.getChildByName("lockbg");if(r){var c=r.getChildByName("lock").getComponent(sp.Skeleton);t===n?c.setAnimation(0,"animation",!0):(c.setAnimation(0,"animation",!1),c.clearTracks()),c.setCompleteListener(null)}}}}}),cc._RF.pop()},{LMSlots_PrizePool_Base:void 0}],SunWuKong_Slotsfree:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,r){try{var c=e[a](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function c(e){o(r,i,a,c,s,"next",e)}function s(e){o(r,i,a,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"7e4fd71jYpIia0E+jXBc/NJ","SunWuKong_Slotsfree"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_canShowStop:!1},onLoad:function(){this._super()},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})},Init:function(){this._topScript=cc.vv.gameData.GetTopScript(),this._bottomScript=cc.vv.gameData.GetBottomScript(),this._cfg=cc.vv.gameData.getGameCfg(),this._col=this._cfg.col,this._row=this._cfg.row,this.createReels(this._col,this._row),this.RegisterEvent()},createReels:function(e,t){this._cfg.scripts.Reels;for(var n=0;n<e;n++){var o=cc.find("reels/reel"+(n+1),this.node).addComponent("SunWuKong_reelfree");o.Init(n,t,this._topAniNode),this._reels.push(o)}},StartMove:function(){this._bStopRightnow=null,this._gameInfo=null,this.MoveReels(this._reels),this._stopTime=this.GetStopTime(),this._canShowStop=!1},onMsgSpine:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t._super(e),t._canShowStop=!0;case 2:case"end":return n.stop()}},n)}))()},ReconnectShow:function(){return i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},Backup:function(){this._super()},Resume:function(){this.clearTopSymbol(),this._super()},CanStopSlot:function(){return this._canShowStop},OnSpinEnd:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,i,a,r,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._gameInfo.extraFreeInfo)for(n=0;n<e._gameInfo.extraFreeInfo.slot2.stickyWilds.length;n++)o=e._gameInfo.extraFreeInfo.slot2.stickyWilds[n],(i=e.GetSymbolByIdx(o))&&i.ShowById(101);if(e.ShowWinTrace(),e._gameInfo.freeResult&&e._gameInfo.freeResult.freeInfo&&((a=e._gameInfo.freeResult.freeInfo.scatterIdx)||(a=e._gameInfo.freeResult.freeInfo.idxs),a))for(r=0;r<a.length;r++)c=a[r],(s=e.GetSymbolByIdx(Number(c)))&&s.playWinAnimation();case 3:case"end":return t.stop()}},t)}))()},clearTopSymbol:function(){for(var e=0;e<this._reels.length;e++)for(var t=this._reels[e],n=0;n<t._symbols.length;n++){var o=t._symbols[n];o.stopWinTweenAction(),o.ShowNormal(),o.ShowKuang(!1)}},SetSlotsResult:function(e){for(var t=e.length/this._col,n=[],o=0;o<e.length;o++){Math.floor(o/t);var i=o%this._col;if(this._cfg.symbol[e[o]]){var a={};a.sid=e[o],n[i]||(n[i]=[]),n[i].unshift(a)}}for(var r=0;r<this._reels.length;r++){var c=this._reels[r],s=n[r];c.SetResult(s)}},OnReelBounsActionBefore:function(e){}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],SunWuKong_Slots:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,r){try{var c=e[a](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function c(e){o(r,i,a,c,s,"next",e)}function s(e){o(r,i,a,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"53ac1RHFqZPjLSl9K1Vj7+q","SunWuKong_Slots");cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_canShowStop:!1,_collectNode:null,_reels_bg:null},onLoad:function(){this._super(),this._collectNode=cc.find("collectNode",this.node),this._reels_bg=cc.find("reels_bg",this.node)},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})},ShowWinTrace:function(){this._super()},StartMove:function(){Global.SlotsSoundMgr.playNormalBgm(),this._bStopRightnow=null,this._gameInfo=null,this._topScript.StartMove(),cc.vv.gameData.ClearOneRoundData(),this.MoveReels(this._reels),this._stopTime=this.GetStopTime();var e=cc.find("top_ani",this.node);e&&e.removeAllChildren(),this._canShowStop=!1,cc.vv.gameData.getManage()._isInFree||cc.vv.gameData.getCollectNode().hideSmallHua(),cc.vv.gameData.getManage()._collectNode.active=!0},onMsgSpine:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t._super(e),t._canShowStop=!0;case 2:case"end":return n.stop()}},n)}))()},ShowWinCoin:function(e,t,n){var o=this;return new Promise(function(){var a=i(regeneratorRuntime.mark(function i(a,r){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o.ShowBottomWin(e,t,n,a);case 1:case"end":return i.stop()}},i)}));return function(e,t){return a.apply(this,arguments)}}())},OnSpinEnd:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,i,a,r,c,s,l,u,_,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._bottomScript.ShowBtnsByState("moveing_1"),!e._gameInfo.bonusItems){t.next=6;break}for(n=[],o=0;o<e._gameInfo.bonusItems.length;o++)e._gameInfo.bonusItems[o].isCollected&&n.push({idx:e._gameInfo.bonusItems[o].idx,coin:e._gameInfo.bonusItems[o].coin});return t.next=6,cc.vv.gameData.getManage().flyBeetle(n);case 6:if(cc.vv.gameData.getCollectNode().checkCloseHuaDuo(),!e._gameInfo.flowerReward){t.next=10;break}return t.next=10,cc.vv.gameData.getManage().collectFlowerCoin([{idx:e._gameInfo.flowerReward.idx,coin:e._gameInfo.flowerReward.winCoin}]);case 10:if(e._gameInfo.extraFreeInfo)for(cc.vv.gameData.getManage()._collectNode.active=!1,i=0;i<e._gameInfo.extraFreeInfo.slot1.stickyWilds.length;i++)a=e._gameInfo.extraFreeInfo.slot1.stickyWilds[i],(r=e.GetSymbolByIdx(a))&&r.ShowById(101);return e.ShowWinTrace(),c=cc.vv.gameData.GetGameWin(),s=c,l=!0,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(s=cc.vv.gameData.GetGameTotalFreeWin(),l=!1),t.next=18,e.ShowWinCoin(c,s,l);case 18:if(e._gameInfo.freeResult&&e._gameInfo.freeResult.freeInfo&&((u=e._gameInfo.freeResult.freeInfo.scatterIdx)||(u=e._gameInfo.freeResult.freeInfo.idxs),u))for(_=0;_<u.length;_++)f=u[_],(m=e.GetSymbolByIdx(Number(f)))&&m.playWinAnimation();if(!(cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime())){t.next=29;break}if(!cc.vv.gameData._isTriggerFree){t.next=27;break}if(!(cc.vv.gameData._freeGameCnt>0)){t.next=27;break}return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.FloweryPixie_triggerFreespin),t.next=25,e.awaitTime(2);case 25:return t.next=27,e.CheckFreeEnterFreeGame(cc.vv.gameData._freeGameCnt);case 27:t.next=36;break;case 29:if(!cc.vv.gameData._isTriggerFree){t.next=36;break}if(!(cc.vv.gameData._freeGameCnt>0)){t.next=36;break}return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.FloweryPixie_triggerFreespin),t.next=34,e.awaitTime(2);case 34:return t.next=36,e.CheckEnterFreeGame(cc.vv.gameData._freeGameCnt);case 36:if(!(cc.vv.gameData.GetTotalFree()>0&&0==cc.vv.gameData.GetFreeTime())){t.next=39;break}return t.next=39,e.CheckExitFreeGame();case 39:e.CanDoNextRound();case 40:case"end":return t.stop()}},t)}))()},ReconnectShow:function(){return i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},CheckExitFreeGame:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,o){var i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_FreespinEnd),t.next=3,e.awaitTime(.5);case 3:return i=cc.vv.gameData.GetGameTotalFreeWin(),a=i,t.next=7,cc.vv.gameData.getPopWinManage().showFreeGameWinCoin(i,cc.vv.gameData.GetTotalFree());case 7:return t.next=9,cc.vv.gameData.getManage().showTransition2();case 9:return e.Resume(),cc.vv.gameData.getManage()._collectNode.removeAllChildren(),Global.SlotsSoundMgr.playNormalBgm(!0),cc.vv.gameData.SetTotalFree(0),t.next=15,e.awaitTime(.8);case 15:return t.next=17,e.ShowWinCoin(i,a,!0);case 17:n();case 18:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},CheckFreeEnterFreeGame:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=i(regeneratorRuntime.mark(function n(o,i){var a,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.clearTopSymbol(),cc.vv.gameData.GetFreeSlotsScript().clearTopSymbol(),n.next=4,cc.vv.gameData.getPopWinManage().showFreeGameWinFree(e);case 4:if(a=cc.vv.gameData.GetTotalFree(),r=cc.vv.gameData.GetFreeTime(),t._bottomScript.UpdateFreeTime(a,a-r),!t._gameInfo.extraFreeInfo){n.next=11;break}return cc.vv.gameData.getManage()._collectNode.active=!0,n.next=11,cc.vv.gameData.getManage().changeColorHouseToWildEx(t._gameInfo.extraFreeInfo.slot2.activeStickyWilds,t._gameInfo.extraFreeInfo.slot1.activeStickyWilds);case 11:return n.next=13,t.awaitTime(1);case 13:o();case 14:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},CheckEnterFreeGame:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=i(regeneratorRuntime.mark(function n(o,i){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.Backup(),n.next=3,cc.vv.gameData.getPopWinManage().showFreeGameTimes(e);case 3:return t.clearTopSymbol(),n.next=6,cc.vv.gameData.getManage().showTransition1();case 6:if(!t._gameInfo.extraFreeInfo){n.next=10;break}return cc.vv.gameData.getManage()._collectNode.active=!0,n.next=10,cc.vv.gameData.getManage().changeColorHouseToWild(t._gameInfo.extraFreeInfo.slot2.activeStickyWilds);case 10:Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.music_FloweryPixie_freeGame),o();case 12:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},ShowGameview:function(e){if(e){var t=cc.vv.gameData.GetTotalFreeWin();this._bottomScript.SetWin(t)}var n=cc.find("Canvas/safe_node/spr_bg_normal"),o=cc.find("Canvas/safe_node/spr_bg_free");o&&(n&&(n.active=!e),o.active=e),this._collectNode.active=!e,this._reels_bg.active=!e},ShowFreeTimes:function(e){if(e){var t=cc.vv.gameData.GetTotalFree(),n=cc.vv.gameData.GetFreeTime();this._bottomScript.ShowFreeModel(!0,t-n,t)}else this._bottomScript.ShowFreeModel(!1)},CanDoNextRound:function(){this._topScript.StopMove(),this._bottomScript.CanDoNextRound()},Backup:function(){this._super()},Resume:function(){this.clearTopSymbol(),this._super()},CanStopSlot:function(){return this._canShowStop},clearTopSymbol:function(){for(var e=0;e<this._reels.length;e++)for(var t=this._reels[e],n=0;n<t._symbols.length;n++){var o=t._symbols[n];o.stopWinTweenAction(),o.ShowNormal(),o.ShowKuang(!1)}},SetSlotsResult:function(e){for(var t=e.length/this._col,n=[],o=0;o<e.length;o++){Math.floor(o/t);var i=o%this._col;if(this._cfg.symbol[e[o]]){var a={};if(a.sid=e[o],3===a.sid&&this._gameInfo.bonusItems)for(var r=0;r<this._gameInfo.bonusItems.length;r++){var c=this._gameInfo.bonusItems[r];c.idx===o+1&&(a.data={coin:c.coin})}n[i]||(n[i]=[]),n[i].unshift(a)}}for(var s=0;s<this._reels.length;s++){var l=this._reels[s],u=n[s];l.SetResult(u)}},DoCheckReelAnti:function(e){var t=!1,n=!1;if(this._gameInfo.extraFreeInfo){for(var o=[2,7,12],i=0;i<o.length;i++)if(!this._gameInfo.extraFreeInfo.slot1.stickyWilds.includes(o[i])){t=!0;break}for(var a=[3,8,13],r=0;r<o.length;r++)if(!this._gameInfo.extraFreeInfo.slot1.stickyWilds.includes(a[r])){n=!0;break}if(!n&&2===e)return}else t=!0;if(t&&!this._bStopRightnow)for(var c=!1,s=0;s<this._reels.length;s++){var l=this._reels[s].GetReelIdx();if(l==e+1&&(c=this._reels[s].playAntiAnimation(),cc.vv.gameData.getManage()._isInFree&&(c=c||cc.vv.gameData.GetFreeSlotsScript()._reels[s].playAntiAnimation())),l>e&&c){var u=cc.vv.gameData.getGameCfg().AddAntiTime||1;this._reels[s].AddDelayTime(u),cc.vv.gameData.getManage()._isInFree&&cc.vv.gameData.GetFreeSlotsScript()._reels[s].AddDelayTime(u)}}}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],SunWuKong_collectNode:[function(e,t,n){"use strict";cc._RF.push(t,"0123f+cNqFKCZ43NKxoKAlG","SunWuKong_collectNode"),cc.Class({extends:cc.Component,properties:{_smallHua:[],_bigHua:[],_numBg:[],_click:null,_tips:null,_huaJin:[],_collectCoin:[],_unlockBet:[],_isunlock:[]},onLoad:function(){for(var e=1;e<4;e++){this._smallHua[e-1]=[];for(var t=1;t<9;t++){var n=cc.find("hua"+e+"/smallFlower"+t,this.node);this._smallHua[e-1].push(n)}this._bigHua.push(cc.find("hua"+e+"/bigFlower",this.node)),this._numBg.push(cc.find("hua"+e+"/numBg",this.node)),this._huaJin.push(cc.find("hua"+e,this.node))}this._click=cc.find("click",this.node),this._click.on("click",this.onClickTips,this),this._tips=cc.find("tips",this.node.parent)},onDestroy:function(){},start:function(){},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})},init:function(e){var t=[];t.push(e.flower1.coin),t.push(e.flower2.coin),t.push(e.flower3.coin),this._collectCoin=t,this._unlockBet=e.betLevel,this.initSmallHua(0,e.flower1.restCnt),this.initSmallHua(1,e.flower2.restCnt),this.initSmallHua(2,e.flower3.restCnt),this._isunlock=[!0,!0,!0],this.initLockState()},initLockState:function(){var e=cc.vv.gameData.GetBetIdx();e>=this._unlockBet[2]?(this.initHuaDuo(0,this._collectCoin[0],!1),this.initHuaDuo(1,this._collectCoin[1],!1),this.initHuaDuo(2,this._collectCoin[2],!1)):e>=this._unlockBet[1]?(this.initHuaDuo(0,this._collectCoin[0],!1),this.initHuaDuo(1,this._collectCoin[1],!1),this.initHuaDuo(2,this._collectCoin[2],!0)):e>=this._unlockBet[0]?(this.initHuaDuo(0,this._collectCoin[0],!1),this.initHuaDuo(1,this._collectCoin[1],!0),this.initHuaDuo(2,this._collectCoin[2],!0)):(this.initHuaDuo(0,this._collectCoin[0],!0),this.initHuaDuo(1,this._collectCoin[1],!0),this.initHuaDuo(2,this._collectCoin[2],!0))},updateLockState:function(){var e=cc.vv.gameData.GetBetIdx();e>=this._unlockBet[2]?(this.updateHuaDuo(0,this._collectCoin[0],!1),this.updateHuaDuo(1,this._collectCoin[1],!1),this.updateHuaDuo(2,this._collectCoin[2],!1)):e>=this._unlockBet[1]?(this.updateHuaDuo(0,this._collectCoin[0],!1),this.updateHuaDuo(1,this._collectCoin[1],!1),this.updateHuaDuo(2,this._collectCoin[2],!0)):e>=this._unlockBet[0]?(this.updateHuaDuo(0,this._collectCoin[0],!1),this.updateHuaDuo(1,this._collectCoin[1],!0),this.updateHuaDuo(2,this._collectCoin[2],!0)):(this.updateHuaDuo(0,this._collectCoin[0],!0),this.updateHuaDuo(1,this._collectCoin[1],!0),this.updateHuaDuo(2,this._collectCoin[2],!0))},getBigHua:function(e){return this._bigHua[e]},getCoin:function(e){return this._collectCoin[e]},onClickTips:function(){var e=this;this._click.getComponent(cc.Button).interactable=!1,this._tips.active=!0,this._tips.scale=0,cc.tween(this._tips).to(.5,{scale:1},{easing:"backOut"}).delay(1).to(.5,{scale:0},{easing:"backIn"}).call(function(){e._tips.active=!1,e._click.getComponent(cc.Button).interactable=!0}).start()},lockHua:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e<0||e>2)){if(!t){if(!this._isunlock[e])return;Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_BigHua_Close)}this._isunlock[e]=!1;var n=this._bigHua[e];n.getComponent(sp.Skeleton).setAnimation(0,"yahei",!0),n.y=105,this._huaJin[e].color=cc.color(60,60,60);for(var o=this._smallHua[e],i=0;i<o.length;i++)o[i].opacity=0;this._numBg[e].active=!1}},unlockHua:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e<0||e>2)){if(!t){if(this._isunlock[e])return;Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_BigHua_Open)}this._isunlock[e]=!0;for(var n=this._smallHua[e],o=0;o<n.length;o++)n[o].opacity=255;var i=this._collectCoin[e],a=this._bigHua[e],r=a.getComponent(sp.Skeleton);i>0?(a.y=120,r.setAnimation(0,"kai2",!1),r.addAnimation(0,"idleframe6",!0),this._numBg[e].active=!0,cc.find("num",this._numBg[e]).getComponent(cc.Label).string=Global.convertNumToShort(i,1e3,1)):this.closeHuaDuo(e),this._huaJin[e].color=cc.color(255,255,255)}},hideCoin:function(e){this._numBg[e]&&(this._numBg[e].active=!1)},closeHuaDuo:function(e){if(!(e<0||e>2)){this._numBg[e].active=!1;for(var t=this._smallHua[e],n=0;n<t.length;n++)t[n].opacity=0;var o=this._bigHua[e],i=o.getComponent(sp.Skeleton);i.setAnimation(0,"he",!1),i.addAnimation(0,"idleframe5",!0),o.y=105,this._collectCoin[e]=0}},openHuaDuo:function(e,t){if(!(e<0||e>2)){if(0===this._collectCoin[e]){var n=this._bigHua[e];n.y=120;var o=n.getComponent(sp.Skeleton);o.setAnimation(0,"kai2",!1),o.addAnimation(0,"idleframe6",!0)}this._collectCoin[e]+=t,this._numBg[e].active=!0,cc.find("num",this._numBg[e]).getComponent(cc.Label).string=Global.convertNumToShort(this._collectCoin[e],1e3,1),this.resetSmallHua(e)}},initHuaDuo:function(e,t,n){e<0||e>2||(cc.find("num",this._numBg[e]).getComponent(cc.Label).string=Global.convertNumToShort(t,1e3,1),n?this.lockHua(e,!0):this.unlockHua(e,!0))},updateHuaDuo:function(e,t,n){e<0||e>2||(cc.find("num",this._numBg[e]).getComponent(cc.Label).string=Global.convertNumToShort(t,1e3,1),n?this.lockHua(e):this.unlockHua(e))},hideSmallHua:function(){for(var e=this,t=function(t){if(0===e._collectCoin[t])return"continue";if(!e._isunlock[t])return"continue";for(var n=e._smallHua[t],o=function(e){if(n[e].active)return cc.tween(n[e]).to(.5,{opacity:0}).call(function(){n[e].active=!1}).start(),"break"},i=0;i<n.length;i++){if("break"===o(i))break}},n=0;n<this._smallHua.length;n++)t(n)},initSmallHua:function(e,t){if(!(e<0||e>2))for(var n=this._smallHua[e],o=0;o<8-t;o++)n[o]&&(n[o].active=!1)},resetSmallHua:function(e){if(!(e<0||e>2))for(var t=this._smallHua[e],n=0;n<t.length;n++)t[n].opacity=255,t[n].active=!0},checkCloseHuaDuo:function(){for(var e=0;e<this._smallHua.length;e++){if(this._isunlock[e])if(this._collectCoin[e]>0){for(var t=0,n=0;n<this._smallHua[e].length;n++)this._smallHua[e][n].active&&t++;0===t&&(this._collectCoin[e]=0,this.closeHuaDuo(e))}}}}),cc._RF.pop()},{}],SunWuKong_manage:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,r){try{var c=e[a](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function c(e){o(r,i,a,c,s,"next",e)}function s(e){o(r,i,a,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"a76dezaaOxD4ob5HVm3lZGc","SunWuKong_manage"),cc.Class({extends:cc.Component,properties:{_slotsfree:null,_slots:null,_node_pop_ui:null,_top:null,_bottom:null,_freeEffectNode:null,_bg_normal:null,_bg_free:null,_slotsfreeInitY:0,_collectNode:null,_collectNode1:null,_col:0,_row:0,_cfg:null,_isInFree:!1,_isInitEntry:!0},onLoad:function(){this._bg_normal=cc.find("spr_bg_normal",this.node),this._bg_normal.zIndex=-10,this._bg_free=cc.find("spr_bg_free",this.node),this._bg_free.zIndex=-9,this._slotsfree=cc.find("slotsfree",this.node),this._slotsfree.zIndex=-8,cc.find("logo",this.node).zIndex=-7,this._character=cc.find("character",this.node),this._character.zIndex=-7,this._slots=cc.find("slots",this.node),this._slots.zIndex=-6,this._freeEffectNode=cc.find("freeEffectNode",this.node),this._freeEffectNode.zIndex=-5,this._node_pop_ui=cc.find("node_pop_ui",this.node),this._node_pop_ui.zIndex=-4,this._top=cc.find("LMSlots_Top",this.node),this._top.zIndex=-3,this._bottom=cc.find("LMSlots_Bottom",this.node),this._bottom.zIndex=-2,this._collectNode=cc.find("collectNode",this.node),this._collectNode.zIndex=-1,this._cfg=cc.vv.gameData.getGameCfg(),this._col=this._cfg.col,this._row=this._cfg.row,this._collectNode1=cc.find("collectNode1",this.node),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onEventTotalbetUpdated,this),this._isInitEntry=!0,Global.registerEvent(EventId.END_QUEUE_POP,this.onEventEndQueuePop,this)},start:function(){var e=this;this.scheduleOnce(function(){e._slotsfreeInitY=e._slotsfree.y,e.ReconnectShow()},0)},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})},onEventEndQueuePop:function(){this._isInitEntry&&(this._isInitEntry=!1,cc.vv.gameData.GetTotalFree()>0||this.playEnterGameEff())},playEnterGameEff:function(){Global.SlotsSoundMgr.playEffect("enter")},ReconnectShow:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:cc.vv.gameData.getCollectNode().init(cc.vv.gameData._deskInfo.flowerInfo),cc.vv.gameData.GetFreeTime()?(e._isInFree=!0,e._character.active=!1,e._slotsfree.y=e._slotsfreeInitY+400,e._freeEffectNode.y=e._slotsfreeInitY+400,cc.vv.gameData.GetSlotsScript().ShowGameview(!0),cc.vv.gameData.GetSlotsScript().ShowFreeTimes(!0),cc.vv.gameData._deskInfo.extraFreeInfo&&e.recoveryStickyWild(cc.vv.gameData._deskInfo.extraFreeInfo.slot1.stickyWilds,cc.vv.gameData._deskInfo.extraFreeInfo.slot2.stickyWilds),Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.music_FloweryPixie_freeGame)):(e._isInFree=!1,e._character.active=!0,e._slotsfree.y=e._slotsfreeInitY,e._freeEffectNode.y=e._slotsfreeInitY,cc.vv.gameData.GetSlotsScript().ShowGameview(!1),cc.vv.gameData.GetSlotsScript().ShowFreeTimes(!1)),cc.vv.gameData.GetSlotsScript().CanDoNextRound();case 4:case"end":return t.stop()}},t)}))()},onEventTotalbetUpdated:function(e){cc.vv.gameData.getCollectNode().updateLockState()},showSlotsfree:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,o){var i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e._isInFree=!0,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_Reel_UP),cc.vv.gameData.GetSlotsScript().ShowGameview(!0),cc.vv.gameData.GetSlotsScript().ShowFreeTimes(!0),cc.tween(e._slotsfree).to(1.7,{y:e._slotsfreeInitY+400}).start(),e._freeEffectNode.active=!0,(i=e._freeEffectNode.getChildByName("huaxianzi_sahuaban2").getComponent(cc.ParticleSystem)).resetSystem(),e.scheduleOnce(function(){i.stopSystem()},1.7),e._freeEffectNode.y=e._slotsfreeInitY,cc.tween(e._freeEffectNode).to(1.7,{y:e._slotsfreeInitY+400}).start(),e._freeEffectNode.getChildByName("huaxianzi_sahuaban2").runAction(cc.shake(1.7,10,10)),a=0;a<e._slotsfree.children.length;a++)e._slotsfree.children[a].runAction(cc.shake(1.7,10,10));return t.next=15,e.awaitTime(1.7);case 15:n();case 16:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},hideSlotsfree:function(){this._isInFree=!1,this._slotsfree.y=this._slotsfreeInitY,this._freeEffectNode.y=this._slotsfreeInitY,cc.vv.gameData.GetSlotsScript().ShowGameview(!1),cc.vv.gameData.GetSlotsScript().ShowFreeTimes(!1),cc.vv.gameData.GetFreeSlotsScript().clearTopSymbol()},showTransition1:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.FloweryPixie_Guochang),e._character.active=!0,e._character.zIndex=-7,e._character.getComponent(sp.Skeleton).setAnimation(0,"skill",!1),t.next=6,e.awaitTime(1.6);case 6:return e._character.zIndex=-1,e.scheduleOnce(function(){e._character.active=!1,e._character.zIndex=-7},.8),t.next=10,e.showSlotsfree();case 10:n();case 11:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},showTransition2:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.FloweryPixie_Guochang2),e._free_chara||(e._free_chara=cc.instantiate(e._character),e._free_chara.parent=e._character.parent,e._free_chara.position=e._character.position),e._free_chara.active=!0,e._free_chara.zIndex=-1,e._free_chara.getComponent(sp.Skeleton).setAnimation(0,"skill",!1),e._free_chara.getComponent(sp.Skeleton).setCompleteListener(function(){e._free_chara.active=!1}),t.next=8,e.awaitTime(1.6);case 8:e._character.active=!0,e._character.zIndex=-7,e._character.getComponent(sp.Skeleton).setAnimation(0,"idle",!0),e.hideSlotsfree(),n();case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},flyBeetle:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(o,i){var a,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||0!==e.length){n.next=3;break}return o(),n.abrupt("return");case 3:for(a=function(n){var o=e[n].idx,i=(o-1)%t._col;if(i>0&&i<4){var a=cc.vv.gameData.getCollectNode().getBigHua(i-1).convertToWorldSpaceAR(cc.v2(0,0)),r=t._collectNode1.convertToNodeSpaceAR(a),c=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(o);if(c){var s=c.node.convertToWorldSpaceAR(cc.v2(0,0)),l=t._collectNode1.convertToNodeSpaceAR(s),u=cc.instantiate(cc.vv.gameData.GetPrefabByName(t._cfg.symbolPrefab));u.position=l,u.parent=t._collectNode1;for(var _=0;_<u.children.length;_++)u.children[_].active=!1;var f=cc.find("w1",u);f.active=!0;var m=f.getComponent(sp.Skeleton);m.setAnimation(0,"actionframe",!1),m.setCompleteListener(function(){u.parent=null,m.setCompleteListener(null)}),cc.tween(u).delay(.4).to(.7,{position:r}).start();var d=cc.instantiate(cc.vv.gameData.GetPrefabByName("beetleTW")),h=d.getComponent(cc.ParticleSystem);h.resetSystem(),d.position=l,d.parent=t._collectNode1,d.zIndex=-1,cc.tween(d).delay(.4).to(.7,{position:r}).call(function(){h.stopSystem(),cc.vv.gameData.getCollectNode().openHuaDuo(i-1,e[n].coin)}).delay(2).removeSelf().start()}}},r=0;r<e.length;r++)a(r);return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_Bonus_1_Trigger),n.next=8,t.awaitTime(1.1);case 8:Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_Bonus_1_Down_collect),o();case 10:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},collectFlowerCoin:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(o,i){var a,r,c,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||0!==e.length){n.next=3;break}return o(),n.abrupt("return");case 3:return n.next=5,t.awaitTime(.2);case 5:for(Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_Bonus_2_Triigger),a=function(n){var o=e[n].idx,i=(o-1)%t._col;if(i>0&&i<4){cc.vv.gameData.getCollectNode().hideCoin(i-1);var a=cc.vv.gameData.getCollectNode().getBigHua(i-1).convertToWorldSpaceAR(cc.v2(0,0)),r=t._collectNode1.convertToNodeSpaceAR(a),c=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(o);if(c){var s=c.node.convertToWorldSpaceAR(cc.v2(0,0)),l=t._collectNode1.convertToNodeSpaceAR(s),u=cc.instantiate(cc.vv.gameData.GetPrefabByName("flowerTW"));u.parent=t._collectNode1,u.position=r;var _=u.getComponent(cc.ParticleSystem);_.resetSystem(),cc.tween(u).to(.5,{position:l}).call(function(){_.stopSystem(),c.playKaiHuaAnimation(e[n].coin)}).delay(2).removeSelf().start()}}},r=0;r<e.length;r++)a(r);return n.next=10,t.awaitTime(.5);case 10:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_Bonus_2_Down_collect),n.next=13,t.awaitTime(1.5);case 13:for(Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.music_FloweryPixie_LiZi_Fly),c=function(n){var o=e[n].idx,i=(o-1)%t._col;if(i>0&&i<4){var a=cc.find("winBg/lbl_winNum_nor",cc.vv.gameData.GetBottomScript().node).convertToWorldSpaceAR(cc.v2(0,0)),r=t._collectNode1.convertToNodeSpaceAR(a),c=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(o);if(c){var s=c.node.convertToWorldSpaceAR(cc.v2(0,0)),l=t._collectNode1.convertToNodeSpaceAR(s),u=cc.instantiate(cc.vv.gameData.GetPrefabByName("flowerTW"));u.parent=t._collectNode1,u.position=l;var _=u.getComponent(cc.ParticleSystem);_.resetSystem(),cc.tween(u).to(.5,{position:r}).call(function(){_.stopSystem(),cc.vv.gameData.getCollectNode().closeHuaDuo(i-1),cc.vv.gameData.GetBottomScript().SetWin(cc.vv.gameData.GetBottomScript().getCurrentWin()+e[n].coin)}).delay(2).removeSelf().start()}}},s=0;s<e.length;s++)c(s);return n.next=18,t.awaitTime(.5);case 18:o();case 19:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},changeColorHouseToWild:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(o,i){var a,r,c,s,l,u,_,f,m;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=3;break}return o(),n.abrupt("return");case 3:if(0!==e.length){n.next=6;break}return o(),n.abrupt("return");case 6:for(a=0;a<e.length;a++)r=e[a],(c=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(r))&&(s=c.node.convertToWorldSpaceAR(cc.v2(0,0)),l=t._collectNode.convertToNodeSpaceAR(s),(u=cc.instantiate(cc.vv.gameData.GetPrefabByName(t._cfg.symbolPrefab))).parent=t._collectNode,u.position=l,u.zIndex=r,(_=u.addComponent(t._cfg.scripts.Symbols)).ShowById(101),_.showChangeWild(),c.ShowById(101));return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.FloweryPixie_reel_ScatterToWIld),n.next=10,t.awaitTime(1);case 10:for(f=function(n){var o=e[n],i=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(o),a=cc.vv.gameData.GetFreeSlotsScript().GetSymbolByIdx(o);if(i&&a){var r=i.node.convertToWorldSpaceAR(cc.v2(0,0)),c=t._collectNode.convertToNodeSpaceAR(r),s=a.node.convertToWorldSpaceAR(cc.v2(0,0)),l=t._collectNode.convertToNodeSpaceAR(s),u=cc.instantiate(cc.vv.gameData.GetPrefabByName(t._cfg.symbolPrefab));u.parent=t._collectNode,u.position=c,u.zIndex=o;var _=u.addComponent(t._cfg.scripts.Symbols);_.ShowById(101),cc.tween(u).parallel(cc.tween().to(.6,{position:l},{easing:"quadIn"}),cc.tween().to(.3,{scale:.7}).to(.3,{scale:.5})).call(function(){_.showChangeWildBuLing(),a.ShowById(101)}).start()}},m=0;m<e.length;m++)f(m);return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.FloweryPixie_reel_WIld_copy),n.next=15,t.awaitTime(1.1);case 15:o();case 16:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},changeColorHouseToWildEx:function(e,t){var n=this;return new Promise(function(){var o=i(regeneratorRuntime.mark(function o(i,a){var r,c,s,l,u,_,f,m,d,h,p,g,v,S,w,y,b,x;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(0!==e.length||0!==t.length){o.next=3;break}return i(),o.abrupt("return");case 3:for(r=0;r<e.length;r++)c=e[r],(s=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(c))&&(l=s.node.convertToWorldSpaceAR(cc.v2(0,0)),u=n._collectNode.convertToNodeSpaceAR(l),(_=cc.instantiate(cc.vv.gameData.GetPrefabByName(n._cfg.symbolPrefab))).parent=n._collectNode,_.position=u,_.zIndex=c,(f=_.addComponent(n._cfg.scripts.Symbols)).ShowById(101),f.showChangeWild(),s.ShowById(101));for(m=0;m<t.length;m++)d=t[m],(h=cc.vv.gameData.GetFreeSlotsScript().GetSymbolByIdx(d))&&(p=h.node.convertToWorldSpaceAR(cc.v2(0,0)),g=n._collectNode.convertToNodeSpaceAR(p),(v=cc.instantiate(cc.vv.gameData.GetPrefabByName(n._cfg.symbolPrefab))).parent=n._collectNode,v.position=g,v.zIndex=d,(S=v.addComponent(n._cfg.scripts.Symbols)).ShowById(101),S.showChangeWild(),h.ShowById(101));return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.FloweryPixie_reel_ScatterToWIld),o.next=8,n.awaitTime(1);case 8:for(w=function(t){var o=e[t],i=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(o),a=cc.vv.gameData.GetFreeSlotsScript().GetSymbolByIdx(o);if(i&&a){var r=i.node.convertToWorldSpaceAR(cc.v2(0,0)),c=n._collectNode.convertToNodeSpaceAR(r),s=a.node.convertToWorldSpaceAR(cc.v2(0,0)),l=n._collectNode.convertToNodeSpaceAR(s),u=cc.instantiate(cc.vv.gameData.GetPrefabByName(n._cfg.symbolPrefab));u.parent=n._collectNode,u.position=c,u.zIndex=o;var _=u.addComponent(n._cfg.scripts.Symbols);_.ShowById(101),cc.tween(u).parallel(cc.tween().to(.6,{position:l},{easing:"quadIn"}),cc.tween().to(.3,{scale:.7}).to(.3,{scale:.5})).call(function(){_.showChangeWildBuLing(),a.ShowById(101)}).start()}},y=0;y<e.length;y++)w(y);for(b=function(e){var o=t[e],i=cc.vv.gameData.GetFreeSlotsScript().GetSymbolByIdx(o),a=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(o);if(i&&a){var r=i.node.convertToWorldSpaceAR(cc.v2(0,0)),c=n._collectNode.convertToNodeSpaceAR(r),s=a.node.convertToWorldSpaceAR(cc.v2(0,0)),l=n._collectNode.convertToNodeSpaceAR(s),u=cc.instantiate(cc.vv.gameData.GetPrefabByName(n._cfg.symbolPrefab));u.parent=n._collectNode,u.position=c,u.zIndex=o;var _=u.addComponent(n._cfg.scripts.Symbols);_.ShowById(101),cc.tween(u).parallel(cc.tween().to(.6,{position:l},{easing:"quadIn"}),cc.tween().to(.3,{scale:.7}).to(.3,{scale:.5})).call(function(){_.showChangeWildBuLing(),a.ShowById(101)}).start()}},x=0;x<t.length;x++)b(x);return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.FloweryPixie_reel_WIld_copy),o.next=15,n.awaitTime(1.1);case 15:i();case 16:case"end":return o.stop()}},o)}));return function(e,t){return o.apply(this,arguments)}}())},recoveryStickyWild:function(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(o);if(i){var a=i.node.convertToWorldSpaceAR(cc.v2(0,0)),r=this._collectNode.convertToNodeSpaceAR(a),c=cc.instantiate(cc.vv.gameData.GetPrefabByName(this._cfg.symbolPrefab));c.parent=this._collectNode,c.position=r,c.zIndex=o,c.addComponent(this._cfg.scripts.Symbols).ShowById(101)}}for(var s=0;s<t.length;s++){var l=t[s],u=cc.vv.gameData.GetFreeSlotsScript().GetSymbolByIdx(l);if(u){var _=u.node.convertToWorldSpaceAR(cc.v2(0,0)),f=this._collectNode.convertToNodeSpaceAR(_),m=cc.instantiate(cc.vv.gameData.GetPrefabByName(this._cfg.symbolPrefab));m.parent=this._collectNode,m.position=f,m.zIndex=l,m.addComponent(this._cfg.scripts.Symbols).ShowById(101)}}}}),cc._RF.pop()},{}],SunWuKong_reelfree:[function(e,t,n){"use strict";cc._RF.push(t,"1e91at0bltD6Ie/KJXhPa1p","SunWuKong_reelfree"),cc.Class({extends:e("SunWuKong_reel"),properties:{},start:function(){},OnReelSpinEnd:function(){this._reelState=[];var e=cc.vv.gameData.GetFreeSlotsScript();e.OnReelSpinEnd(this._reelIdx);var t=e.GetLastStopReelIdx();this._reelIdx==t&&e.OnSpinEnd()},ReadyToStop:function(){this._bNotifyReadyStop||(this._bNotifyReadyStop=!0,cc.vv.gameData.GetFreeSlotsScript().OnReelReadyToStop(this._reelIdx))},OnReelBounsActionBefore:function(){if(cc.vv.gameData.GetFreeSlotsScript().OnReelBounsActionBefore(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveBefore()},OnReelBounsActionDeep:function(){if(this.ShowAntiEffect(!1),this.playReelStop(),cc.vv.gameData.GetFreeSlotsScript().OnReelBounsActionDeep(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveDeep()},OnReelBounsActionEnd:function(){if(cc.vv.gameData.GetFreeSlotsScript().OnReelBounsActionEnd(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveEnd();else cc.log("\u56de\u5f39\u7ed3\u675f\uff0c\u6570\u636e\u5df2\u7ecf\u88ab\u6e05\u7a7a\u4e86");this.OnReelSpinEnd()}}),cc._RF.pop()},{SunWuKong_reel:"SunWuKong_reel"}],SunWuKong_reel:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,r=!0,c=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){c=!0,a=e},f:function(){try{r||null==o.return||o.return()}finally{if(c)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"982543GE/ZGfpQpGNqMUW52","SunWuKong_reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},start:function(){},ShowAntiEffect:function(e,t){if(0==e){if(this._cfg.reelStateInfo){var n,i=o(this._cfg.reelStateInfo);try{for(i.s();!(n=i.n()).done;){var a=n.value,r=cc.find(a.antiNode,this.node);r&&r.active&&(r.active=!1,this._stopRightNow&&cc.vv.AudioManager.stopEffectByName(a.antSound))}}catch(e){i.e(e)}finally{i.f()}}}else{var c=cc.find(t,this.node);c?c.active=e:cc.log("\u672a\u627e\u5230\u52a0\u901f\u8282\u70b9\uff1amask/node_anti")}},playReelStop:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++){var t,n=this._symbols[e],i=o(this._reelState);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.isStop&&a.id.includes(n.GetShowId())&&n.playStopAnimation(!0)}}catch(e){i.e(e)}finally{i.f()}}if(this._cfg.reelStateInfo&&this._cfg.reelStateInfo[0]){var r,c="",s="",l=!1,u=o(this._reelState);try{for(u.s();!(r=u.n()).done;){var _=r.value;_.isStop?(s=_.symbolStopSound?_.symbolStopSound:"",l=!0):c=_.reelStopSound?_.reelStopSound:""}}catch(e){u.e(e)}finally{u.f()}l&&(c=s);var f=this._cfg.reelStateInfo[0].path;f||(f=cc.vv.gameData.getGameDir()),cc.vv.AudioManager.playEff(f,c,!0)}}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],SunWuKong_sound:[function(e,t,n){"use strict";cc._RF.push(t,"e216ebDRJ1Lx65Ejq3TzZdi","SunWuKong_sound"),cc.Class({extends:e("LMSlots_Sound"),properties:{soundPath:{default:"games/SunWuKong/",override:!0},bonus_stop:{default:"",override:!0},scatter_ant:{default:"",override:!0},bonus_ant:{default:"",override:!0},base_bgm:{default:"",override:!0},reel_stop:{default:"",override:!0},scatter_stop:{default:"",override:!0},FloweryPixie_Guochang:"FloweryPixie_Guochang",FloweryPixie_Guochang2:"FloweryPixie_Guochang2",FloweryPixie_reel_ScatterToWIld:"FloweryPixie_reel_ScatterToWIld",FloweryPixie_reel_stop:"FloweryPixie_reel_stop",FloweryPixie_reel_WIld_copy:"FloweryPixie_reel_WIld_copy",FloweryPixie_scatter_down:"FloweryPixie_scatter_down",FloweryPixie_scatter_down1:"FloweryPixie_scatter_down1",FloweryPixie_scatter_down2:"FloweryPixie_scatter_down2",FloweryPixie_scatter_down3:"FloweryPixie_scatter_down3",FloweryPixie_triggerFreespin:"FloweryPixie_triggerFreespin",music_FloweryPixie_baseGame:"music_FloweryPixie_baseGame",music_FloweryPixie_BigHua_Close:"music_FloweryPixie_BigHua_Close",music_FloweryPixie_BigHua_Open:"music_FloweryPixie_BigHua_Open",music_FloweryPixie_Bonus_1_Down_collect:"music_FloweryPixie_Bonus_1_Down_collect",music_FloweryPixie_Bonus_1_Trigger:"music_FloweryPixie_Bonus_1_Trigger",music_FloweryPixie_Bonus_2_Down_collect:"music_FloweryPixie_Bonus_2_Down_collect",music_FloweryPixie_Bonus_2_Triigger:"music_FloweryPixie_Bonus_2_Triigger",music_FloweryPixie_Bonus1_Down:"music_FloweryPixie_Bonus1_Down",music_FloweryPixie_Bonus2_Down:"music_FloweryPixie_Bonus2_Down",music_FloweryPixie_enter:"music_FloweryPixie_enter",music_FloweryPixie_freeGame:"music_FloweryPixie_freeGame",music_FloweryPixie_FreespinEnd:"music_FloweryPixie_FreespinEnd",music_FloweryPixie_FreespinOver_view:"music_FloweryPixie_FreespinOver_view",music_FloweryPixie_FreespinStart_view:"music_FloweryPixie_FreespinStart_view",music_FloweryPixie_last_win_1:"music_FloweryPixie_last_win_1",music_FloweryPixie_last_win_2:"music_FloweryPixie_last_win_2",music_FloweryPixie_last_win_3:"music_FloweryPixie_last_win_3",music_FloweryPixie_LiZi_Fly:"music_FloweryPixie_LiZi_Fly",music_FloweryPixie_LongRun:"music_FloweryPixie_LongRun",music_FloweryPixie_Reel_UP:"music_FloweryPixie_Reel_UP"}}),cc._RF.pop()},{LMSlots_Sound:void 0}],SunWuKong_symbol:[function(e,t,n){"use strict";cc._RF.push(t,"60bc6UwEtZKbr8gBJMKCaso","SunWuKong_symbol");var o=[1,1,1,1,1,1,1.5,1.5,1.5,2,2,2,2.5,2.5,2.5,3,3,3,3.5,3.5,3.5,4,4,4,4.5,4.5,4.5,5,5,5,5.5,5.5,5.5,6,6,6,7,8,9,10];cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},start:function(){},SetSymbolIdx:function(e){this._symbolIdx=e},ShowById:function(e,t){this._id=e,this._data=t,this._state="normal",this.node.scale=.5,this._showNode&&(this._showNode.active=!1);var n=cc.vv.gameData.getGameCfg();n.symbol[e]&&n.symbol[e].node?(this._showNode=cc.find(n.symbol[e].node,this.node),3===e&&(cc.find("s1/coin",this.node).active=!1),4===e&&(cc.find("w2/coin",this.node).active=!1),this._showNode.active=!0):console.log("\u672a\u627e\u5230\u914d\u7f6eid:"+e),this._data&&this.setSymbolCoin(this._data.coin,this.node)},playWinAnimation:function(){this._showNode&&(this._showNode.active=!1);var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node){this._state="win",this._showNode&&(this._showNode.active=!1);var n=this.setAnimationToTop(!0);n.active=!0;var o=cc.find(t.symbol[e].win_node,n);if(o.active=!0,t.symbol[e].win_ani&&""!==t.symbol[e].win_ani.name){n.zIndex=t.symbol[e].win_ani.zIndex-this._symbolIdx+10*this._reelIdx;var i=o.getComponent(sp.Skeleton);i&&(t.symbol[e].win_ani.name2?(i.setAnimation(0,t.symbol[e].win_ani.name,!1),i.addAnimation(0,t.symbol[e].win_ani.name2,!0)):i.setAnimation(0,t.symbol[e].win_ani.name,!0))}}else if(t.symbol[e]&&t.symbol[e].win_ani&&""!==t.symbol[e].win_ani.name){this._state="win",this._showNode&&(this._showNode.active=!1);var a=this.setAnimationToTop(!0);a.active=!0;var r=cc.find(t.symbol[e].node,a);r.active=!0,a.zIndex=t.symbol[e].win_ani.zIndex-this._symbolIdx+10*this._reelIdx;var c=r.getComponent(cc.Animation);c&&c.play(t.symbol[e].win_ani.name)}else this._state="win",this._showNode.active=!0,this.playWinTweenAction()},playStopAnimation:function(e){var t=this,n=this._id,o=cc.vv.gameData.getGameCfg();if(o.symbol[n]&&o.symbol[n].win_node&&o.symbol[n].stop_ani){this._state="stop",this._showNode&&(this._showNode.active=!1);var i=this.setAnimationToTop(!0);i.active=!0;var a=cc.find(o.symbol[n].win_node,i);if(a.active=!0,""!==o.symbol[n].stop_ani.name){i.zIndex=o.symbol[n].stop_ani.zIndex-this._symbolIdx+10*this._reelIdx;var r=a.getComponent(sp.Skeleton);r&&(r.setAnimation(0,o.symbol[n].stop_ani.name,!1),o.symbol[n].idle_ani?r.addAnimation(0,o.symbol[n].idle_ani.name,!0):r.setCompleteListener(function(){t.ShowNormal(),r.setCompleteListener(null)})),e&&this.OnSymbolAction(i)}}else if(o.symbol[n]&&o.symbol[n].stop_ani){this._state="stop",this._showNode&&(this._showNode.active=!1);var c=this.setAnimationToTop(!0);c.active=!0;var s=cc.find(o.symbol[n].node,c);if(s.active=!0,""!==o.symbol[n].stop_ani.name){c.zIndex=o.symbol[n].stop_ani.zIndex-this._symbolIdx+10*this._reelIdx;var l=s.getComponent(cc.Animation);l&&(l.play(o.symbol[n].stop_ani.name),l.on("finished",function(){l.off("finished"),o.symbol[n].idle_ani?(t.setAnimationToTop(!1),t.playidleAnimation()):t.ShowNormal()})),e&&this.OnSymbolAction(c)}}},playidleAnimation:function(){var e=!1,t=this._id,n=cc.vv.gameData.getGameCfg();if(n.symbol[t]&&n.symbol[t].win_node&&n.symbol[t].idle_ani){if(this._state="idle",this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(n.symbol[t].win_node,this.node),this._showNode.active=!0,""!==n.symbol[t].idle_ani.name){this.node.zIndex=n.symbol[t].idle_ani.zIndex-this._symbolIdx+10*this._reelIdx,e=!0;var o=this._showNode.getComponent(sp.Skeleton);o&&o.setAnimation(0,n.symbol[t].idle_ani.name,!0)}}else if(n.symbol[t]&&n.symbol[t].idle_ani&&(this._state="idle",""!==n.symbol[t].stop_ani.name)){this.node.zIndex=n.symbol[t].stop_ani.zIndex-this._symbolIdx+10*this._reelIdx;var i=this._showNode.getComponent(cc.Animation);e=!0,i&&i.play(n.symbol[t].idle_ani.name)}return e},playWinTweenAction:function(){this.node.getComponent(cc.Animation).play("smallSymbolWin")},stopWinTweenAction:function(){this.node.getComponent(cc.Animation).play("smallSymbolIdel")},ShowRandomSymbol:function(){var e,t=this.GetRandomCfg();if(t){var n=t[this._reelIdx+1];if(n){var i=cc.vv.gameData.GetReelRandomIdx(this._reelIdx);i&&(i=Global.random(1,n.length)-1),(e=n[i])||(e=n[i=0]),cc.vv.gameData.SetReelRandomIdx(this._reelIdx,++i)}}else{var a=cc.vv.gameData.getGameCfg(),r=Global.random(1,a.randomSymbols.length);e=a.randomSymbols[r-1]}var c=null;if(3===e){var s=cc.vv.gameData.GetTotalBet();c={coin:o[Global.random(0,o.length-1)]*s}}return this.ShowById(e,c),e},setSymbolCoin:function(e,t){var n=cc.find("s1",t),o=cc.find("coin",n);o.active=!0,o.getComponent(cc.Label).string=Global.convertNumToShort(e,1e3,1)},playKaiHuaAnimation:function(e){if(4===this._id){var t=this._id,n=cc.vv.gameData.getGameCfg();if(n.symbol[t]&&n.symbol[t].win_node){if(this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(n.symbol[t].win_node,this.node),this._showNode.active=!0,n.symbol[t].win_ani&&""!==n.symbol[t].win_ani.name){this.node.zIndex=n.symbol[t].win_ani.zIndex-this._symbolIdx+10*this._reelIdx;var o=this._showNode.getComponent(sp.Skeleton);o&&(o.setAnimation(0,n.symbol[t].win_ani.name,!1),o.addAnimation(0,n.symbol[t].win_ani.name2,!0))}cc.find("coin",this._showNode).active=!0,cc.find("coin",this._showNode).getComponent(cc.Label).string=Global.convertNumToShort(e,1e3,1)}}},showChangeWild:function(){if(101===this._id){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node){this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0;var n=this._showNode.getComponent(sp.Skeleton);n&&(n.setAnimation(0,t.symbol[e].change_ani.name,!1),n.addAnimation(0,t.symbol[e].idle_ani.name,!0))}}},showChangeWildBuLing:function(){if(101===this._id){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node){this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0;var n=this._showNode.getComponent(sp.Skeleton);n&&(n.setAnimation(0,t.symbol[e].fly_ani.name,!1),n.addAnimation(0,t.symbol[e].idle_ani.name,!0))}}},OnSymbolAction:function(e){var t=cc.vv.gameData.getGameCfg(),n=t.bounceInfo?t.bounceInfo.distance:30,o=t.bounceInfo?t.bounceInfo.time:.3;o/=cc.vv.gameData.GetSlotsScript().GetTimeScale(),cc.tween(e).to(o,{position:cc.v2(e.x,e.y+n)}).start()}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["SunWuKong_Bottom","SunWuKong_Cfg","SunWuKong_GameData","SunWuKong_Logic","SunWuKong_Pop","SunWuKong_PrizePool","SunWuKong_Slots","SunWuKong_Slotsfree","SunWuKong_collectNode","SunWuKong_manage","SunWuKong_reel","SunWuKong_reelfree","SunWuKong_sound","SunWuKong_symbol"]);