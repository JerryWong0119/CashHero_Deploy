window.__require=function e(t,n,o){function a(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var m=n[r]={exports:{}};t[r][0].call(m.exports,function(e){return a(t[r][1][e]||e)},m,m.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({Hephaestus_BonusReels:[function(e,t,n){"use strict";cc._RF.push(t,"71bcfqwa5tDN68Jo1IOCm2c","Hephaestus_BonusReels"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},Init:function(e,t,n){this._holderNode=cc.find("mask/holder",this.node),this._holderOrigPosY=this._holderNode.position.y,this._super(e,t,n)},LoadSymbols:function(){var e=this._cfg.bonusSymbolPrefab;this._symbolTemplete||(this._symbolTemplete=cc.vv.gameData.GetPrefabByName(e),this._symbolTemplete&&(this._symbolTemplete.optimizationPolicy=cc.Prefab.OptimizationPolicy.MULTI_INSTANCE));for(var t=0;t<this._nCount+1;t++)this.CreateOneSymbol();this.ReLayOut()},OnReelSpinEnd:function(){this._reelState=[];var e=cc.vv.gameData.getBonusSlots();e.OnReelSpinEnd(this._reelIdx);var t=e.GetLastStopReelIdx();cc.log(t),this._reelIdx==t&&e.OnSpinEnd()},ReadyToStop:function(){this._bNotifyReadyStop||(this._bNotifyReadyStop=!0,cc.vv.gameData.getBonusSlots().OnReelReadyToStop(this._reelIdx))},OnReelBounsActionBefore:function(){if(cc.vv.gameData.getBonusSlots().OnReelBounsActionBefore(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveBefore()},OnReelBounsActionDeep:function(){if(this.ShowAntiEffect(!1),this.playReelStop(),cc.vv.gameData.getBonusSlots().OnReelBounsActionDeep(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveDeep()},OnReelBounsActionEnd:function(){if(cc.vv.gameData.getBonusSlots().OnReelBounsActionEnd(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveEnd();else cc.log("\u56de\u5f39\u7ed3\u675f\uff0c\u6570\u636e\u5df2\u7ecf\u88ab\u6e05\u7a7a\u4e86");this.OnReelSpinEnd()}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Hephaestus_BonusSlots:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"27b830RKj1Dx7DUVY/HKK8s","Hephaestus_BonusSlots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{},Init:function(){this._node_bonus=cc.find("safe_node/node_bonus",this.node),this._node_bonus.active=!1,this.showBonusBg(!1),this._topAniNode=cc.find("top_ani",this._node_bonus),this._topScript=cc.vv.gameData.GetTopScript(),this._bottomScript=cc.vv.gameData.GetBottomScript(),this._cfg=cc.vv.gameData.getGameCfg(),this._col=this._cfg.bonusCol,this._row=this._cfg.bonusRow,this.createReels(this._col,this._row),cc.find("huo_kuang",this._node_bonus).active=!1,cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRecvMsgSubAction,this)},onDestroy:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRecvMsgSubAction,!1,this)},createReels:function(e,t){for(var n=0;n<e;n++){var o=cc.find("slots/reels/reel"+(n+1),this._node_bonus).addComponent("Hephaestus_BonusReels");o.Init(n,t,this._topAniNode),this._reels.push(o)}},initSymbols:function(){for(var e=this._bonusGame.items,t=[],n=0;n<e.length;n++){var o=this.GetSymbolByIdx(e[n].idx);o.ShowById(3,e[n]),o.playBonusIdleAnim(),t[e[n].idx]=!0}for(var a=0;a<this._col*this._row;a++){if(!t[a+1])this.GetSymbolByIdx(a+1).ShowById(this.getBonusRandVal())}},setSlotRow:function(e){var t=cc.find("slots",this._node_bonus),n=cc.find("node_cnt",this._node_bonus),o=cc.find("reels_frame",this._node_bonus);if(e){var a=357+118*(this._curRow-3);cc.tween(t).to(.5,{height:a}).start(),cc.tween(n).to(.5,{y:t.position.y+a+50}).start(),cc.tween(o).to(.5,{height:a}).start()}else{var i=this._bonusGame.row,r=357+118*(i-3);t.height=r,n.y=t.position.y+r+50,o.height=r,this._curRow=i}},setRestCnt:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a,i,r,s,c,u,m,_;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(a=cc.find("node_cnt",n._node_bonus),(i=cc.find("item3/ani_add",a)).active=!1,r=[],s=1;s<=3;s++)r[s]=cc.find(cc.js.formatStr("item%s/light",s),a);if(t){o.next=17;break}for(c=null,u=null,m=1;m<=3;m++)c=r[m].active?r[m]:c,u=m===e?r[m]:u;if(!c){o.next=14;break}return cc.tween(c).to(.3,{scale:0}).start(),o.next=13,cc.vv.gameData.awaitTime(.2);case 13:c.active=!1;case 14:3===e?(Global.SlotsSoundMgr.playEffect("Pomi_respinTime_rest"),u.setScale(0),u.active=!0,cc.tween(u).to(.3,{scale:1}).start(),i.active=!0,i.getComponent(cc.Animation).play("bonus_add")):u&&(u.active=!0,u.setScale(0),cc.tween(u).to(.3,{scale:1}).start()),o.next=18;break;case 17:for(_=1;_<=3;_++)r[_].active=_===e,r[_].setScale(1);case 18:case"end":return o.stop()}},o)}))()},initAllNode:function(){this._bonusGame=cc.vv.gameData.getBonusGame(),this.setSlotRow(!1),this.setRestCnt(this._bonusGame.spinCnt,!0),this.initSymbols()},showBonusBg:function(e){cc.find("Canvas/safe_node/spr_bg_bonus").active=e},enterBonusGame:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playBgm("music_Pomi_Respin_Bg"),cc.vv.gameData.setIsBonusGame(!0),t._bottomScript.SetWin(0),t._node_bonus.active=!0,t.showBonusBg(!0),t._bonusGame=cc.vv.gameData.getBonusGame(),e||(t.initAllNode(),cc.find("Canvas/safe_node/slots").active=!1,cc.find("Canvas/safe_node/LMSlots_PrizePool_1/prizePool_MINI").active=!1,cc.find("Canvas/safe_node/LMSlots_PrizePool_1/prizePool_MINOR").active=!1),n.next=9,cc.vv.gameData.awaitTime(1);case 9:t.reqSpin(),t._bonusSuccess=o;case 11:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},reqSpin:function(){this.StartMove(this._bonusGame);var e={c:MsgId.SLOT_SUBGAME_DATA,data:{rtype:1}};e.gameid=cc.vv.gameData.getGameId(),cc.vv.NetManager.send(e,!0)},onRecvMsgSubAction:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:200===e.code&&(t._bonusGame=e.data.bonusGame,t._gameInfo=t._bonusGame,t._currResult=e.data.currResult,cc.vv.gameData.setBonusGame(t._bonusGame),t.SetSlotsResult(t._bonusGame.items,t._currResult));case 1:case"end":return n.stop()}},n)}))()},StartMove:function(e){this.setRestCnt(e.spinCnt-1,!1),this._gameInfo=null;for(var t=[],n=[],o=0;o<e.items.length;o++)n[e.items[o].idx]=!0;for(var a=5*(6-e.row);a<this._reels.length;a++)n[a+1]||t.push(this._reels[a]);this.MoveReels(t),this.setMoveLastIdx(n),this._stopTime=this.GetStopTime()},setMoveLastIdx:function(e){for(var t=0,n=5*(6-this._bonusGame.row);n<this._col;n++)e[n+1]||(n%5>t%5||n%5==t%5&&n/6>t/6)&&(t=n);this.moveReelLastIdx=t},SetSlotsResult:function(e,t){for(var n=[],o=0;o<e.length;o++)n[e[o].idx]={},n[e[o].idx].data=e[o],n[e[o].idx].sid=3;for(var a=0;a<t.length;a++)2==t[a].type?n[t[a].idx].sid=301:3==t[a].type&&(n[t[a].idx].sid=302);for(var i=[],r=0;r<this._col;r++){var s={};n[r+1]?s=Global.copy(n[r+1]):s.sid=this.getBonusRandVal(),i[r]||(i[r]=[]),i[r].unshift(s)}for(var c=0;c<this._reels.length;c++){var u=this._reels[c],m=i[c];u.SetResult(m)}},GetReelStopInter:function(e){return e%5*(this._cfg.reelStopInter||.6)},OnReelBounsActionDeep:function(e){var t=this._reels[e].GetSymbolByRow(0),n=t.GetShowId();3===n?Global.SlotsSoundMgr.playEffect("music_Pomi_Bonus_down_base"):301!==n&&302!==n||Global.SlotsSoundMgr.playEffect("music_Pomi_Bonus_down_Special"),t.playBonusStopAnim()},OnSpinEnd:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._gameInfo.isEnd?e.setRestCnt(0):3==e._bonusGame.spinCnt&&e.setRestCnt(e._bonusGame.spinCnt,!1),!e._currResult){t.next=15;break}n=0;case 3:if(!(n<e._currResult.length)){t.next=15;break}if(!e._currResult[n].type||2!=e._currResult[n].type){t.next=9;break}return t.next=7,e.playUpAnim(e._currResult[n]);case 7:t.next=12;break;case 9:if(!e._currResult[n].type||3!=e._currResult[n].type){t.next=12;break}return t.next=12,e.playExtraAnim(e._currResult[n]);case 12:n++,t.next=3;break;case 15:return t.next=17,cc.vv.gameData.awaitTime(1);case 17:e._gameInfo.isEnd?e.playGameResult():e.reqSpin();case 18:case"end":return t.stop()}},t)}))()},playGameResult:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_respin_end"),t.next=3,cc.vv.gameData.awaitTime(.5);case 3:n=e._bottomScript.getCurrentWin(),(o=Global.copy(e._bonusGame.items)).sort(function(e,t){return e.idx/5-t.idx/5}).sort(function(e,t){return(e.idx-1)%5-(t.idx-1)%5}),a=0;case 7:if(!(a<o.length)){t.next=26;break}if(!(i=e.GetSymbolByIdx(o[a].idx))){t.next=23;break}if(Global.SlotsSoundMgr.playEffect("music_Pomi_Bonus_collect_coins"),i.playBonusJiesuan(),!o[a].coin){t.next=16;break}n+=o[a].coin,t.next=20;break;case 16:if(!o[a].jackpot){t.next=20;break}return n+=o[a].jackpot.value,t.next=20,cc.vv.gameData.getPopupScript().playWinJp(o[a].jackpot.value,o[a].jackpot.id);case 20:return e._bottomScript.SetWin(n),t.next=23,cc.vv.gameData.awaitTime(.5);case 23:a++,t.next=7;break;case 26:return t.next=28,cc.vv.gameData.getPopupScript().endBonusGame(n);case 28:return t.next=30,cc.vv.gameData.GetSlotsScript().playBonusQp(!1);case 30:if(cc.vv.gameData.setIsBonusGame(!1),e._node_bonus.active=!1,e.showBonusBg(!1),!cc.vv.gameData.isFreeGame()){t.next=40;break}return r=cc.vv.gameData.getFreeWinCoin()+n,cc.vv.gameData.setFreeWinCoin(r),t.next=38,new Promise(function(e,t){cc.vv.gameData.GetSlotsScript().ShowBottomWin(n,r,!1,e)});case 38:t.next=42;break;case 40:return t.next=42,new Promise(function(t,o){cc.vv.gameData.AddCoin(n),e.ShowBottomWin(n,n,!0,t)});case 42:e._bonusSuccess&&(e._bonusSuccess(),e._bonusSuccess=null);case 43:case"end":return t.stop()}},t)}))()},getBonusRandVal:function(){var e=cc.vv.gameData.getGameCfg(),t=Global.random(1,e.randomBonusSymbols.length);return e.randomBonusSymbols[t-1]},playUpAnim:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,a){var i,r,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.idx,(r=t.GetSymbolByIdx(i)).playBonusTriAnim(!1,function(){r.playBonusIdleAnim()}),Global.SlotsSoundMgr.playEffect("music_Pomi_reelsUP_Trigger"),n.next=6,cc.vv.gameData.awaitTime(.5);case 6:return Global.SlotsSoundMgr.playEffect("music_Pomi_ReelsUp_action"),t._curRow+=1,t.setSlotRow(!0),s=t._curRow,(c=cc.find("huo_kuang",t._node_bonus)).active=!0,c.scaleY=s,c.getComponent(cc.Animation).play("bonus_huo_up"),c.getComponent(cc.Animation).off("stop"),c.getComponent(cc.Animation).on("stop",function(){c.getComponent(cc.Animation).off("stop"),c.getComponent(cc.Animation).play("bonus_huo_up_loop")}),n.next=18,cc.vv.gameData.awaitTime(1);case 18:return cc.vv.gameData.getPopupScript().showShake(1,5,5),c.active=!1,c.getComponent(cc.Animation).stop(),r.playBonusChangeAnim(e),Global.SlotsSoundMgr.playEffect("music_Pomi_DoubleBet_Trigger"),n.next=25,cc.vv.gameData.awaitTime(1);case 25:o();case 26:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},playExtraAnim:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,a){var i,r,s,c,u,m,_,p,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.idx,(r=t.GetSymbolByIdx(i)).playBonusTriAnim(!1,function(){r.playBonusIdleAnim()}),n.next=5,cc.vv.gameData.awaitTime(.5);case 5:if((s=e.effectIdxs).length>0)for(Global.SlotsSoundMgr.playEffect("music_Pomi_DoubleBet_Trigger"),c=cc.find("fly_huoqiu",t._node_bonus),u=function(e){var n=t.GetSymbolByIdx(s[e]);if(n){var o=cc.instantiate(c);o.active=!0,o.parent=t._node_bonus;var a=t._node_bonus.convertToNodeSpaceAR(r.node.convertToWorldSpaceAR(cc.v2(0,0))),i=t._node_bonus.convertToNodeSpaceAR(n.node.convertToWorldSpaceAR(cc.v2(0,0))),u=cc.v2(i.x,i.y).sub(cc.v2(a.x,a.y)).signAngle(cc.v2(1,0));o.angle=-u*cc.macro.DEG-90,o.position=a,o.scaleY=0,cc.tween(o).parallel(cc.tween().to(.5,{position:cc.v2(i.x,i.y)}),cc.tween().to(.3,{scaleY:1}).to(.2,{scaleY:0})).call(function(){o.destroy(),n.playBonusExtraBoom(),n.playBonusKuangAnim(!0)}).start()}},m=0;m<s.length;m++)u(m);return n.next=9,cc.vv.gameData.awaitTime(.5);case 9:return cc.vv.gameData.getPopupScript().showShake(1,5,5),cc.vv.gameData.getPopupScript().playHuoqiuEffect(!0),n.next=13,cc.vv.gameData.awaitTime(1);case 13:_=cc.find("fly_huoqiu_big",t._node_bonus),p=regeneratorRuntime.mark(function e(n){var o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=t.GetSymbolByIdx(s[n]))){e.next=10;break}return(a=cc.instantiate(_)).active=!0,a.parent=t._node_bonus,i=t._node_bonus.convertToNodeSpaceAR(o.node.convertToWorldSpaceAR(cc.v2(0,0))),a.position=cc.v2(i.x,t._node_bonus.y+t._node_bonus.height/2+100),cc.tween(a).to(1,{position:i}).call(function(){Global.SlotsSoundMgr.playEffect("music_Pomi_DoubleBet_action"),a.destroy(),o.playBonusBoom(),o.setNum(2*o.getNum()),o.playBonusKuangAnim(!1)}).start(),e.next=10,cc.vv.gameData.awaitTime(.3);case 10:case"end":return e.stop()}},e)}),l=0;case 16:if(!(l<s.length)){n.next=21;break}return n.delegateYield(p(l),"t0",18);case 18:l++,n.next=16;break;case 21:return n.next=23,cc.vv.gameData.awaitTime(2);case 23:return r.playBonusChangeAnim(e),Global.SlotsSoundMgr.playEffect("music_Pomi_DoubleBet_Trigger"),n.next=27,cc.vv.gameData.awaitTime(1);case 27:o();case 28:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Hephaestus_Cfg:[function(e,t,n){"use strict";var o;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"d8fb7B8vA9NfowXmCfrHaZh","Hephaestus_Cfg");var i={symbol:(o={},a(o,1,{node:"s1",win_node:"w1",win_ani:{name:"actionframe",zIndex:300}}),a(o,2,{node:"s2",win_node:"w2",win_ani:{name:"actionframe",zIndex:300},trigger_ani:{name:"actionframe",zIndex:300},stop_ani:{name:"buling",zIndex:100}}),a(o,3,{node:"s3",win_node:"w3",stop_ani:{name:"animation",zIndex:100},idle_ani:{name:"animation2",zIndex:300},trigger_ani:{name:"animation3",zIndex:300},kuang_node:"kuangFire"}),a(o,4,{node:"s4",win_node:"w4",win_ani:{name:"actionframe",zIndex:300}}),a(o,5,{node:"s5",win_node:""}),a(o,6,{node:"s6",win_node:""}),a(o,7,{node:"s7",win_node:""}),a(o,8,{node:"s8",win_node:""}),a(o,9,{node:"s9",win_node:""}),a(o,10,{node:"s10",win_node:""}),a(o,11,{node:"s11",win_node:""}),a(o,12,{node:"s12",win_node:""}),a(o,301,{node:"s301",win_node:"w301",stop_ani:{name:"animation",zIndex:100},idle_ani:{name:"animation2",zIndex:100},trigger_ani:{name:"animation3",zIndex:100},boom_ani:{name:"animation4",zIndex:100}}),a(o,302,{node:"s302",win_node:"w302",stop_ani:{name:"animation",zIndex:100},idle_ani:{name:"animation2",zIndex:100},trigger_ani:{name:"animation3",zIndex:100},boom_ani:{name:"animation4",zIndex:100}}),o),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"Hephaestus_Slots",Reels:"Hephaestus_Reels",Symbols:"Hephaestus_Symbol"},col:5,row:3,bonusCol:30,bonusRow:1,symbolPrefab:"LMSlots_Symbol",bonusSymbolPrefab:"Bonus_Symbol",symbolSize:{height:116},randomSymbols:[3,4,5,6,7,8,9],randomBonusSymbols:[4,5,6,7,8,9],bonusCoinMultList:[.5,1,2,2.5,3,4,6,8,10],kuang:"kuang",autoModelDelay:1,speed:3e3,reelStopInter:.2,bonusReelStopInter:.2,auto_stop_time:1,bounceInfo:{distance:30,time:.1},helpItems:["games/Hephaestus/prefab/help_node/LMSlots_Help_item1","games/Hephaestus/prefab/help_node/LMSlots_Help_item2","games/Hephaestus/prefab/help_node/LMSlots_Help_item3","games/Hephaestus/prefab/help_node/LMSlots_Help_item4","games/Hephaestus/prefab/help_node/LMSlots_Help_item5"],commEffect:{path:"games/Hephaestus/",win1:["music_Pomi_last_win_1",""],win2:["music_Pomi_last_win_2",""],win3:["music_Pomi_last_win_3",""]},AddAntiTime:1.8,normalBgm:"music_Pomi_normal_Bg",reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/Hephaestus/",reelStopSound:"music_Pomi_Reel_Stop",symbolStopSound:"music_Pomi_Scatter_Down_1",antSound:"anticipation",antSpeed:2e3},{id:[3],mini:1,counts:[1,1,1,1,1],antiNode:"",path:"games/Hephaestus/",reelStopSound:"music_Pomi_Reel_Stop",symbolStopSound:"music_Pomi_Bonus_down_base",antSound:"",antSpeed:2e3}]};t.exports=i,cc._RF.pop()},{}],Hephaestus_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"3061a6MXj5JlK4qPMh1JDML","Hephaestus_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{},init:function(e,t,n){this._bonusGame=e.bonusGame,this._freeWinCoin=e.freeWinCoin,this._super(e,t,n)},OnRcvNetSpine:function(e){200==e.code&&(this._bonusGame=e.bonusGame,this._freeWinCoin=e.freeWinCoin),this._super(e)},setPopupScript:function(e){this._popouScp=e},getPopupScript:function(){return this._popouScp},setBonusSlots:function(e){this._bonusSlotsScp=e},getBonusSlots:function(){return this._bonusSlotsScp},getFreeWinCoin:function(){return this._freeWinCoin},setFreeWinCoin:function(e){this._freeWinCoin=e},getBonusGame:function(){return this._bonusGame},setBonusGame:function(e){this._bonusGame=e},setIsFreeGame:function(e){this._isFreeGame=e},isFreeGame:function(){return this._isFreeGame},setIsBonusGame:function(e){this._isBonusGame=e},isBonusGame:function(){return this._isBonusGame}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],Hephaestus_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"8dea3mmzldLEociK51pqZuM","Hephaestus_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},InitCommComponent:function(){this._super();var e=this.node.addComponent("Hephaestus_Popup");cc.vv.gameData.setPopupScript(e),e.Init();var t=this.node.addComponent("Hephaestus_BonusSlots");cc.vv.gameData.setBonusSlots(t),t.Init()}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Hephaestus_Popup:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"85f04me63NJtItZv9ZR8hyi","Hephaestus_Popup"),cc.Class({extends:cc.Component,properties:{},start:function(){},Init:function(){this._node_popup=cc.find("safe_node/node_popup",this.node),this._node_popup.active=!1,this._node_tri_free=cc.find("node_tri_free",this._node_popup),this._node_end_free=cc.find("node_end_free",this._node_popup),this._node_tri_bonus=cc.find("node_tri_bonus",this._node_popup),this._node_end_bonus=cc.find("node_end_bonus",this._node_popup),this._node_win_jp=cc.find("node_win_jp",this._node_popup),this._node_tri_free.active=!1,this._node_end_free.active=!1,this._node_tri_bonus.active=!1,this._node_end_bonus.active=!1,this._node_win_jp.active=!1,this._huoqiu=cc.find("safe_node/Effect_Pomi_huoqiu4",this.node),this._huoqiu_bg=cc.find("safe_node/Effect_Pomi_huoqiu4_bg",this.node),this._huoqiu.active=!1,this._huoqiu_bg.active=!1,this._node_qp=cc.find("safe_node/node_qp",this.node),this._node_qp.active=!1},playPanelAnim:function(e,t){return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,a){var i,r,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=t.childrenCount,r=function(n){var o=t.children[n],a=o.scaleX,r=o.scaleY;e?(o.active=!0,o.setScale(0),cc.tween(o).delay(.1*n).to(.5,{scaleX:a,scaleY:r},{easing:"backOut"}).start()):cc.tween(o).delay(.1*(i-n)).to(.5,{scaleX:0,scaleY:0},{easing:"backIn"}).call(function(){o.active=!1,o.scale=cc.v2(a,r)}).start()},s=0;s<i;s++)r(s);return n.next=5,cc.vv.gameData.awaitTime(.1*i+.5);case 5:o();case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},triFreeGame:function(e,t){var n=this;return new Promise(function(){var o=a(regeneratorRuntime.mark(function o(i,r){var s,c,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_common_viewOpen"),n._node_popup.active=!0,n._node_tri_free.active=!0,cc.find("kuang/lbl",n._node_tri_free).getComponent(cc.Label).string=t,cc.find("text_first",n._node_tri_free).opacity=e?255:0,cc.find("text_extra",n._node_tri_free).opacity=e?0:255,cc.find("btn",n._node_tri_free).opacity=e?255:0,o.next=9,n.playPanelAnim(!0,n._node_tri_free);case 9:if(!e){o.next=19;break}(s=cc.find("btn",n._node_tri_free)).off("click"),s.getComponent(cc.Button).interactable=!0,c=n,u=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_common_Click"),s.getComponent(cc.Button).interactable=!1,e.next=4,c.playPanelAnim(!1,c._node_tri_free);case 4:c._node_popup.active=!1,c._node_tri_free.active=!1,i();case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(s,u),s.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.stopAllActions(),u();case 2:case"end":return e.stop()}},e)}))),o.next=26;break;case 19:return o.next=21,cc.vv.gameData.awaitTime(2);case 21:return o.next=23,n.playPanelAnim(!1,n._node_tri_free);case 23:n._node_popup.active=!1,n._node_tri_free.active=!1,i();case 26:case"end":return o.stop()}},o)}));return function(e,t){return o.apply(this,arguments)}}())},endFreeGame:function(e,t){var n=this;return new Promise(function(){var o=a(regeneratorRuntime.mark(function o(i,r){var s,c,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_common_viewOpen"),n._node_popup.active=!0,n._node_end_free.active=!0,cc.find("kuang/lbl",n._node_end_free).getComponent(cc.Label).string=Global.FormatNumToComma(e),cc.find("freeCnt",n._node_end_free).getComponent(cc.Label).string=t,(s=cc.find("btn",n._node_end_free)).off("click"),s.getComponent(cc.Button).interactable=!0,o.next=10,n.playPanelAnim(!0,n._node_end_free);case 10:c=n,u=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_common_Click"),s.getComponent(cc.Button).interactable=!1,e.next=4,c.playPanelAnim(!1,c._node_end_free);case 4:c._node_popup.active=!1,c._node_end_free.active=!1,i();case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(s,u),s.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.stopAllActions(),u();case 2:case"end":return e.stop()}},e)})));case 14:case"end":return o.stop()}},o)}));return function(e,t){return o.apply(this,arguments)}}())},triBonusGame:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,o){var i,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_common_viewOpen"),e._node_popup.active=!0,e._node_tri_bonus.active=!0,t.next=5,e.playPanelAnim(!0,e._node_tri_bonus);case 5:(i=cc.find("btn",e._node_tri_bonus)).off("click"),i.getComponent(cc.Button).interactable=!0,r=e,s=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_common_Click"),i.getComponent(cc.Button).interactable=!1,e.next=4,r.playPanelAnim(!1,r._node_tri_bonus);case 4:r._node_popup.active=!1,r._node_tri_bonus.active=!1,n();case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(i,s),i.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.stopAllActions(),s();case 2:case"end":return e.stop()}},e)})));case 12:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},endBonusGame:function(e){var t=this;return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,i){var r,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_common_viewOpen"),t._node_popup.active=!0,t._node_end_bonus.active=!0,cc.find("kuang/lbl",t._node_end_bonus).getComponent(cc.Label).string=Global.FormatNumToComma(e),n.next=6,t.playPanelAnim(!0,t._node_end_bonus);case 6:(r=cc.find("btn",t._node_end_bonus)).off("click"),r.getComponent(cc.Button).interactable=!0,s=t,c=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_common_Click"),r.getComponent(cc.Button).interactable=!1,e.next=4,s.playPanelAnim(!1,s._node_end_bonus);case 4:s._node_popup.active=!1,s._node_end_bonus.active=!1,o();case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(r,c),r.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.stopAllActions(),c();case 2:case"end":return e.stop()}},e)})));case 13:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},playWinJp:function(e,t){var n=this;return new Promise(function(){var o=a(regeneratorRuntime.mark(function o(i,r){var s,c,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_common_viewOpen"),n._node_popup.active=!0,n._node_win_jp.active=!0,cc.find("spr_jp",n._node_win_jp).getComponent("ImgSwitchCmp").setIndex(t-1),cc.find("kuang/lbl",n._node_win_jp).getComponent(cc.Label).string=Global.FormatNumToComma(e),o.next=7,n.playPanelAnim(!0,n._node_win_jp);case 7:(s=cc.find("btn",n._node_win_jp)).off("click"),s.getComponent(cc.Button).interactable=!0,c=n,u=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_common_Click"),s.getComponent(cc.Button).interactable=!1,e.next=4,c.playPanelAnim(!1,c._node_win_jp);case 4:c._node_popup.active=!1,c._node_win_jp.active=!1,i();case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(s,u),s.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.stopAllActions(),u();case 2:case"end":return e.stop()}},e)})));case 14:case"end":return o.stop()}},o)}));return function(e,t){return o.apply(this,arguments)}}())},playHuoshanAnim:function(e){var t=this;return a(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Global.SlotsSoundMgr.playEffect("music_Pomi_GuoChang"),(n=cc.find("safe_node/character",t.node)).active=!1,t._node_qp.active=!0,t._node_qp.getComponent(sp.Skeleton).setAnimation(0,"skill",!1),t._node_qp.getComponent(sp.Skeleton).setCompleteListener(function(){t._node_qp.getComponent(sp.Skeleton).setCompleteListener(),t._node_qp.active=!1,n.active=!0});case 6:case"end":return e.stop()}},e)}))()},playHuoqiuEffect:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e?(t._huoqiu_bg.active=!0,t._huoqiu_bg.getComponent(cc.ParticleSystem).resetSystem()):(t._huoqiu.active=!0,t._huoqiu.getComponent(cc.ParticleSystem).resetSystem()),n.next=3,cc.vv.gameData.awaitTime(4);case 3:t._huoqiu.active=!1,t._huoqiu_bg.active=!1;case 5:case"end":return n.stop()}},n)}))()},showShake:function(e,t,n){return new Promise(function(){var o=a(regeneratorRuntime.mark(function o(a,i){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bell),cc.find("Canvas/safe_node/slots").runAction(cc.shake(e,t,n)),cc.find("Canvas/safe_node/node_bonus").runAction(cc.shake(e,t,n)),cc.find("Canvas/safe_node/LMSlots_PrizePool_1").runAction(cc.shake(e,t,n)),cc.find("Canvas/safe_node/spr_bg_normal").runAction(cc.shake(e,t,n)),cc.find("Canvas/safe_node/spr_bg_free").runAction(cc.shake(e,t,n)),cc.find("Canvas/safe_node/pomi_bg_3").runAction(cc.shake(e,t,n)),o.next=9,cc.vv.gameData.awaitTime(e);case 9:a();case 10:case"end":return o.stop()}},o)}));return function(e,t){return o.apply(this,arguments)}}())}}),cc._RF.pop()},{}],Hephaestus_Reels:[function(e,t,n){"use strict";cc._RF.push(t,"14af7In6YhN8KfPp1gsICZU","Hephaestus_Reels"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Hephaestus_Slots:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"2e5bb73MuZJapLiYH77MmNl","Hephaestus_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{},start:function(){},ReconnectShow:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._topScript.SetBackLobby(!1),e._bottomScript.ShowBtnsByState("moveing_1"),Global.SlotsSoundMgr.playEffect("music_Pomi_enter"),cc.vv.gameData.GetTotalFree()>0?e.ShowGameview(!0):e.ShowGameview(!1),!cc.vv.gameData.getBonusGame()){t.next=8;break}return t.next=8,cc.vv.gameData.getBonusSlots().enterBonusGame(!1);case 8:if(!(cc.vv.gameData.GetTotalFree()>0&&0==cc.vv.gameData.GetFreeTime())){t.next=11;break}return t.next=11,e.CheckExitFreeGame();case 11:e._topScript.StopMove(),e._bottomScript.CanDoNextRound();case 13:case"end":return t.stop()}},t)}))()},StartMove:function(){cc.vv.gameData.isBonusGame()?cc.vv.gameData.getBonusSlots().StartMove():(this._super(),Global.SlotsSoundMgr.playNormalBgm())},StopMove:function(){cc.vv.gameData.isBonusGame()?cc.vv.gameData.getBonusSlots().StopMove():this._super()},SetSlotsResult:function(e){var t=[];if(this._gameInfo.bonusInfo&&this._gameInfo.bonusInfo.length>0)for(var n=0;n<this._gameInfo.bonusInfo.length;n++){var o=this._gameInfo.bonusInfo[n];t[o.idx-1]=o}for(var a=e.length/this._col,i=[],r=0;r<e.length;r++){Math.floor(r/a);var s=r%this._col;if(this._cfg.symbol[e[r]]){var c={};c.sid=e[r],c.data=t[r],i[s]||(i[s]=[]),i[s].unshift(c)}}for(var u=0;u<this._reels.length;u++){var m=this._reels[u],_=i[u];m.SetResult(_)}},OnSpinEnd:function(){this.onSpinEndAction()},onSpinEndAction:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.ShowWinTrace(),n=cc.vv.gameData.GetGameWin(),o=n,a=!0,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(o=cc.vv.gameData.getFreeWinCoin(),a=!1),t.next=7,new Promise(function(t,i){e.ShowBottomWin(n,o,a,t)});case 7:if(!e._gameInfo.bonusGame){t.next=10;break}return t.next=10,e.triBonusGame();case 10:if(!((i=e._gameInfo.freeResult.freeInfo)&&i.freeCnt>0)){t.next=14;break}return t.next=14,e.triFreeGame();case 14:if(!(e._gameInfo.allFreeCnt>0&&0==e._gameInfo.freeCnt)){t.next=17;break}return t.next=17,e.endFreeGame();case 17:e.CanDoNextRound();case 18:case"end":return t.stop()}},t)}))()},triFreeGame:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,o){var a,i,r,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a=e._gameInfo.freeResult.freeInfo,i=a.scatterIdx,r=0;r<i.length;r++)(s=e.GetSymbolByIdx(i[r]))&&s.playTriggerAnimation();return Global.SlotsSoundMgr.playEffect("music_Pomi_Trigger_Freespin"),t.next=6,cc.vv.gameData.awaitTime(1.5);case 6:return c=e._gameInfo.freeCnt===e._gameInfo.allFreeCnt,t.next=9,cc.vv.gameData.getPopupScript().triFreeGame(c,a.freeCnt);case 9:if(!c){t.next=12;break}return t.next=12,e.playFreeQp(!0);case 12:n();case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},endFreeGame:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,o){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("music_Pomi_freespin_end"),t.next=3,cc.vv.gameData.awaitTime(.5);case 3:return a=cc.vv.gameData.getFreeWinCoin(),t.next=6,cc.vv.gameData.getPopupScript().endFreeGame(a,e._gameInfo.allFreeCnt);case 6:return t.next=8,e.playFreeQp(!1);case 8:return t.next=10,new Promise(function(t,n){e.ShowBottomWin(a,a,!0,t)});case 10:n();case 11:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},triBonusGame:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,o){var a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a=e._gameInfo.bonusInfo,i=0;i<a.length;i++)(r=e.GetSymbolByIdx(a[i].idx))&&r.playBonusTriAnim(!0);return Global.SlotsSoundMgr.playEffect("music_Pomi_Trigger_Freespin"),t.next=5,cc.vv.gameData.awaitTime(1.5);case 5:return t.next=7,cc.vv.gameData.getPopupScript().triBonusGame();case 7:return t.next=9,e.playBonusQp(!0);case 9:return t.next=11,cc.vv.gameData.getBonusSlots().enterBonusGame(!0);case 11:n();case 12:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},ShowWinTrace:function(){for(var e=[],t=0;t<this._gameInfo.zjLuXian.length;t++)for(var n=this._gameInfo.zjLuXian[t],o=0;o<n.indexs.length;o++)e[n.indexs[o]]=1;for(var a in e){var i=this.GetSymbolByIdx(Number(a));i&&(i.playWinAnimation(),i.ShowKuang())}},playFreeQp:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return cc.vv.gameData.getPopupScript().showShake(3.5,5,5),n.next=3,cc.vv.gameData.awaitTime(.5);case 3:return cc.vv.gameData.getPopupScript().playHuoshanAnim(),cc.vv.gameData.getPopupScript().playHuoqiuEffect(),n.next=7,cc.vv.gameData.awaitTime(3);case 7:return e?(t.Backup(),t.ShowGameview(!0)):(t.Resume(),t.ShowGameview(!1)),n.next=10,cc.vv.gameData.awaitTime(1);case 10:o();case 11:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},playBonusQp:function(e){return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,o){var a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=cc.find("Canvas/safe_node/LMSlots_PrizePool_1"),i=cc.find("Canvas/safe_node/slots"),r=cc.find("Canvas/safe_node/node_bonus"),cc.vv.gameData.getPopupScript().showShake(3.5,5,5),cc.tween(a).to(.5,{opacity:0}).start(),t.next=8,cc.vv.gameData.awaitTime(.5);case 8:return cc.vv.gameData.getPopupScript().playHuoshanAnim(),cc.vv.gameData.getPopupScript().playHuoqiuEffect(),t.next=12,cc.vv.gameData.awaitTime(3);case 12:return i.active=!e,r.active=e,cc.vv.gameData.getBonusSlots().initAllNode(),cc.tween(a).to(.5,{opacity:255}).start(),cc.find("prizePool_MINI",a).active=!e,cc.find("prizePool_MINOR",a).active=!e,t.next=20,cc.vv.gameData.awaitTime(1);case 20:n();case 21:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},ShowGameview:function(e){if(cc.vv.gameData.setIsFreeGame(e),e){var t=cc.vv.gameData.GetTotalFree(),n=cc.vv.gameData.GetFreeTime();this._bottomScript.ShowFreeModel(!0,t-n,t);var o=cc.vv.gameData.getFreeWinCoin();this._bottomScript.SetWin(o)}else this._bottomScript.ShowFreeModel(!1);var a=cc.find("Canvas/safe_node/spr_bg_normal"),i=cc.find("Canvas/safe_node/spr_bg_free");i&&(a&&(a.active=!e),i.active=e),e?Global.SlotsSoundMgr.playBgm("music_Pomi_Freespin_Bg"):Global.SlotsSoundMgr.stopBgm()}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Hephaestus_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"f9557Au+BRGjL5cfEzG8dtM","Hephaestus_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},ShowRandomSymbol:function(){this._super();var e=cc.vv.gameData.getGameCfg(),t=this._id;if(3==t){var n={};if(Math.random()>.3){var o=Global.random(1,e.bonusCoinMultList.length);n.coin=e.bonusCoinMultList[o-1]*cc.vv.gameData.GetTotalBet()}else{var a=Math.random(),i=[.1,.3,.5],r=1;a<i[0]?r=4:a<i[1]?r=3:a<i[2]&&(r=2),n.jackpot={id:r}}this.ShowById(t,n)}},ShowById:function(e,t){this._super(e,t),this.setNum(),this.setJp(),t&&3==e&&(t.coin?this.setNum(t.coin):t.jackpot&&this.setJp(t.jackpot.id))},setNum:function(e){var t=cc.find("lbl",this.node);t&&(e?(t.active=!0,t.getComponent(cc.Label).string=Global.formatNumShort(e,0)):t.active=!1),this._bonusNum=e},getNum:function(){return this._bonusNum},setJp:function(e){var t=cc.find("jp",this.node);t&&(e?(t.active=!0,t.getComponent("ImgSwitchCmp").setIndex(e-1)):t.active=!1)},playBonusStopAnim:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node&&t.symbol[e].stop_ani&&(this._state="stop",this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0,""!=t.symbol[e].stop_ani.name)){this.node.zIndex=t.symbol[e].stop_ani.zIndex-this._symbolIdx+10*this._reelIdx;var n=this._showNode.getComponent(sp.Skeleton);n&&(n.setAnimation(0,t.symbol[e].stop_ani.name,!1),t.symbol[e].idle_ani&&n.addAnimation(0,t.symbol[e].idle_ani.name,!0))}},playBonusIdleAnim:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node&&t.symbol[e].idle_ani&&(this._state="stop",this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0,""!=t.symbol[e].idle_ani.name)){this.node.zIndex=t.symbol[e].idle_ani.zIndex-this._symbolIdx+10*this._reelIdx;var n=this._showNode.getComponent(sp.Skeleton);n&&n.setAnimation(0,t.symbol[e].idle_ani.name,!0)}},playBonusTriAnim:function(e,t){var n=!1,o=this._id,a=cc.vv.gameData.getGameCfg();if(a.symbol[o]&&a.symbol[o].win_node&&a.symbol[o].trigger_ani){this._state="trigger",this._showNode&&(this._showNode.active=!1);var i=this.setAnimationToTop(!0);i.active=!0;var r=cc.find(a.symbol[o].win_node,i);if(r.active=!0,""!=a.symbol[o].trigger_ani.name){i.zIndex=a.symbol[o].trigger_ani.zIndex-this._symbolIdx+10*this._reelIdx,n=!0;var s=r.getComponent(sp.Skeleton);s&&(s.setAnimation(0,a.symbol[o].trigger_ani.name,!1),e?s.addAnimation(0,a.symbol[o].trigger_ani.name,!1):t&&s.setCompleteListener(function(){t()}))}}return n},playBonusChangeAnim:function(e){var t=this._id,n=cc.vv.gameData.getGameCfg(),o=cc.instantiate(this.node);o.parent=this._topAniNode,o.position=this._topAniNode.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v2(0,0))),o.active=!0;var a=cc.find(n.symbol[t].win_node,o);if(a.active=!0,""!=n.symbol[t].boom_ani.name){var i=a.getComponent(sp.Skeleton);i&&(i.setAnimation(0,n.symbol[t].boom_ani.name,!1),i.setCompleteListener(function(){o.destroy()}))}this.setAnimationToTop(!1),this.ShowById(3,e),this.playBonusBoom(),this.playBonusIdleAnim()},playBonusBoom:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node){var n=this._showNode.getComponent(cc.Animation);n&&n.play("b_boom_1")}},playBonusExtraBoom:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node){var n=this._showNode.getComponent(cc.Animation);n&&n.play("b_extra_boom")}},playBonusJiesuan:function(){var e=this._id;if(cc.vv.gameData.getGameCfg().symbol[e]){var t=this._showNode.getComponent(cc.Animation);t&&t.play("b_jiesuan"),this._showNode.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1)}},playBonusKuangAnim:function(e){var t=this._id,n=cc.vv.gameData.getGameCfg();n.symbol[t]&&n.symbol[t].kuang_node&&(cc.find(n.symbol[t].kuang_node,this._showNode).active=e)}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["Hephaestus_BonusReels","Hephaestus_BonusSlots","Hephaestus_Cfg","Hephaestus_GameData","Hephaestus_Logic","Hephaestus_Popup","Hephaestus_Reels","Hephaestus_Slots","Hephaestus_Symbol"]);