window.__require=function e(t,n,a){function o(r,c){if(!n[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){return o(t[r][1][e]||e)},l,l.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<a.length;r++)o(a[r]);return o}({Fenrir_BonusGameMgr:[function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function c(e){a(r,o,i,c,s,"next",e)}function s(e){a(r,o,i,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"19978kmDMVIDIkU8t9BB248","Fenrir_BonusGameMgr"),cc.Class({extends:cc.Component,properties:{_bonusId:3},Init:function(){this._bonusId=3,this.node.active=!0,this._mainNode=cc.find("mainnode",this.node),this._mainNode.active=!1,this._transition2Node=cc.find("transition2",this.node),this._topSlotsScript=cc.find("slots_top",this._mainNode).addComponent("Fenrir_BonusSlots"),this._bottomSlotsScript=cc.find("slots",this._mainNode).addComponent("Fenrir_BonusSlots"),this._topType=1,this._bottomType=2,this._topSlotsScript.Init(this._topType),this._bottomSlotsScript.Init(this._bottomType),this._slots_top=cc.find("slots_top",this._mainNode),this._slots_bottom=cc.find("slots",this._mainNode),this._spine_wolf=cc.find("slots_top/spine_wolf",this._mainNode),this._settleNode=cc.find("slots_top/settleNode",this._mainNode),this._node_top=cc.find("node_top",this._mainNode),this._flyNode=cc.find("flyNode",this._mainNode),this._symbolTemplete||(this._symbolTemplete=cc.vv.gameData.GetPrefabByName("bonus_Symbol"),this._symbolTemplete&&(this._symbolTemplete.optimizationPolicy=cc.Prefab.OptimizationPolicy.MULTI_INSTANCE))},showBonusGame:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=o(regeneratorRuntime.mark(function n(a,o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Global.SlotsSoundMgr.playBgm("respin_bgm"),cc.vv.gameData.setIsBonusGame(!0),t._subGameData=e,1!==t._subGameData.state){n.next=17;break}return n.next=6,cc.vv.gameData.getUIMgr().showBonusGamePickOneUI();case 6:return t._subGameData=cc.vv.gameData.getBonusGame(),n.next=9,cc.vv.gameData.getUIMgr().showBonusStartUI(t._subGameData.totalSpinCnt,2);case 9:return cc.vv.gameData.getUIMgr().playBonusQPAnim(),n.next=12,cc.vv.gameData.awaitTime(.5);case 12:return cc.vv.gameData.GetBottomScript().SetWin(0),n.next=15,t.showBonusGameUI(!0);case 15:n.next=30;break;case 17:if(2!==t._subGameData.state){n.next=27;break}return n.next=20,t.showBonusGameUI(!1);case 20:return n.next=22,cc.vv.gameData.getUIMgr().showBonusAddSpinsUI();case 22:t._subGameData=cc.vv.gameData.getBonusGame(),t._curCnt=t._subGameData.totalSpinCnt-t._subGameData.spinCnt,t._totalCnt=t._subGameData.totalSpinCnt,n.next=30;break;case 27:if(0!==t._subGameData.state){n.next=30;break}return n.next=30,t.showBonusGameUI(!1);case 30:t.reqSpine(),t._callBack=a;case 32:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},endBonusGame:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return AppLog.log("###bonus\u6e38\u620f\u7ed3\u675f"),t.next=3,e.showBonusSettlement();case 3:return t.next=5,cc.vv.gameData.getUIMgr().showBonusEndUI(e._subGameData);case 5:return cc.vv.gameData.getUIMgr().playBonusQPAnim(),t.next=8,cc.vv.gameData.awaitTime(.5);case 8:return cc.vv.gameData.GetBottomScript().ShowFreeModel(!1),e._mainNode.active=!1,t.next=12,cc.vv.gameData.awaitTime(2);case 12:return t.next=14,new Promise(function(t,n){var a=e._subGameData.winCoin,o=e._subGameData.winCoin;cc.vv.gameData.isFreeGame()?(o=cc.vv.gameData.getFreeWinCoin()+e._subGameData.winCoin,cc.vv.gameData.setFreeWinCoin(o),cc.vv.gameData.GetSlotsScript().ShowBottomWin(a,o,!1,function(){t()})):(cc.vv.gameData.AddCoin(e._subGameData.winCoin),cc.vv.gameData.GetSlotsScript().ShowBottomWin(a,o,!0,function(){t()}))});case 14:e._callBack&&(Global.SlotsSoundMgr.stopBgm(),cc.vv.gameData.setIsBonusGame(!1),e._callBack(),e._callBack=null,e._subGameData=null),cc.vv.gameData.isBoxGame()&&!cc.vv.gameData.isFreeGame()&&(cc.vv.gameData.getBoxGameMgr().openBoxUI(),cc.vv.gameData.setIsBoxGame(!1));case 16:case"end":return t.stop()}},t)}))()},showBonusGameUI:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=o(regeneratorRuntime.mark(function n(a,o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._mainNode.active=!0,t.lockJackpot(t._subGameData.jackpotValues),t._totalCnt=t._subGameData.totalSpinCnt,t._curCnt=t._subGameData.totalSpinCnt-t._subGameData.spinCnt,cc.vv.gameData.GetBottomScript().ShowFreeModel(!0,t._curCnt,t._totalCnt),t._bonusType=t._subGameData.type,t.topShow(),!e){n.next=12;break}return n.next=10,t.showTriAnimFromShop();case 10:n.next=14;break;case 12:return n.next=14,t.showBonusSlotsUI();case 14:a();case 15:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},showTriAnimFromShop:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n,a){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.awaitTime(0);case 2:return e._slots_top.position=e._slots_bottom.position,e._bottomSlotsScript.initAllSymbol(),e._topSlotsScript.initAllSymbol(),e._spine_wolf.active=!1,e._settleNode.active=!1,t.next=9,cc.vv.gameData.awaitTime(1);case 9:return t.next=11,e.playStartSymbolAnim(e._subGameData.slots[1].bonusItems,!1);case 11:return Global.SlotsSoundMgr.playEffect("nudge"),cc.tween(e._slots_top).to(.5,{position:cc.find("pos_top",e._mainNode).position}).start(),o=cc.find("spine_xue",e._slots_top),cc.vv.gameData.playSpine(o,"animation",!1,function(){o.active=!1}),t.next=17,cc.vv.gameData.awaitTime(.7);case 17:return t.next=19,e.playStartSymbolAnim(e._subGameData.slots[0].bonusItems,!0);case 19:return cc.vv.gameData.playSpine(e._spine_wolf,"animation",!0),e.initSettleState(),t.next=23,cc.vv.gameData.getUIMgr().showBonusDoubleStartUI();case 23:n();case 24:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showBonusSlotsUI:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bottomSlotsScript.initAllSymbol(),e._topSlotsScript.initAllSymbol(),e.scheduleOnce(function(){e._slots_top.position=cc.find("pos_top",e._mainNode).position,e.initSettleState();var t=e;e._subGameData.slots[1].bonusItems.forEach(function(e){t.showSymbolNormalAnim(e,!1)}),e._subGameData.slots[0].bonusItems.forEach(function(e){t.showSymbolNormalAnim(e,!0)})},0),t.next=5,cc.vv.gameData.awaitTime(2);case 5:n();case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showSymbolNormalAnim:function(e,t){e.idx;var n=(t?this._topSlotsScript:this._bottomSlotsScript).GetSymbolByIdx(e.idx);n.ShowById(this._bonusId,{bonus:e}),n.playBonusFireAnim(!0)},playStartSymbolAnim:function(e,t){var n=this;return new Promise(function(){var a=o(regeneratorRuntime.mark(function a(o,i){var r,c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.sort(function(e,t){return e.idx/5-t.idx/5}).sort(function(e,t){return(e.idx-1)%5-(t.idx-1)%5}),r=regeneratorRuntime.mark(function a(o){var i,r,c,s,u,l,m;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e[o].idx-1,e[o].coin,e[o].jackpot,t?(i=n._topSlotsScript.GetSymbolByIdx(e[o].idx),(r=cc.instantiate(n._flyNode)).parent=n._node_top,c=cc.find("moon",r),s=cc.find("burst",r),c.active=!1,s.active=!1,u=n._bottomSlotsScript.GetSymbolByIdx(e[o].idx).node,r.position=n._node_top.convertToNodeSpaceAR(u.convertToWorldSpaceAR(cc.v2(0,0))),l=n._node_top.convertToNodeSpaceAR(i.node.convertToWorldSpaceAR(cc.v2(0,0))),c.active=!0,c.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),cc.tween(r).to(.5,{position:l}).call(function(){c.active=!1,i.ShowById(n._bonusId,{bonus:e[o]}),i.playBonusFireAnim(!0),s.active=!0,s.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),s.getComponent(sp.Skeleton).setCompleteListener(function(){r.destroy()})}).start()):((m=n._bottomSlotsScript.GetSymbolByIdx(e[o].idx)).ShowById(n._bonusId,{bonus:e[o]}),m.playBonusQuanAnim(!0),m.playBonusZoomAnim(!0)),a.next=6,cc.vv.gameData.awaitTime(.2);case 6:case"end":return a.stop()}},a)}),c=0;case 3:if(!(c<e.length)){a.next=8;break}return a.delegateYield(r(c),"t0",5);case 5:c++,a.next=3;break;case 8:return a.next=10,cc.vv.gameData.awaitTime(.5);case 10:o();case 11:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())},initSettleState:function(){this._settleNode.active=!0,cc.find("jiesuo",this._settleNode).active=1==this._bonusType,cc.find("jiesuo2",this._settleNode).active=2==this._bonusType,cc.vv.gameData.playSpine(cc.find(1==this._bonusType?"jiesuo":"jiesuo2",this._settleNode),"animation2",!1),cc.find("settlement",this._settleNode).active=!1,cc.find("settlement/winner",this._settleNode).active=!0;for(var e=1;e<=5;e++)cc.find("settlement/jp_"+e,this._settleNode).active=!1},topShow:function(){cc.find("top_lock",this._mainNode).active=2!=this._bonusType},showBonusSettlement:function(){var e=this;return new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n,a){var o,i,r,c,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("logo_transition"),o=cc.find(1==e._bonusType?"jiesuo":"jiesuo2",e._settleNode),i=cc.find("settlement",e._settleNode),r=cc.find("uishowani",i),cc.find("collectcoin",i).getComponent(cc.Label).string="",cc.vv.gameData.playSpine(o,"animation1",!1),t.next=9,cc.vv.gameData.awaitTime(1);case 9:return i.active=!0,cc.vv.gameData.playSpine(r,"animation1",!1),t.next=13,cc.vv.gameData.awaitTime(1);case 13:if(c=e._subGameData.slots,s=0,(u=cc.find("slots_top/settleNode/settlement/collectcoin",e._mainNode)).getComponent(cc.Label).string="",2!=e._subGameData.type){t.next=21;break}return t.next=20,e.collectSlotsCoin(e._topType,e._topSlotsScript,s,c[0].bonusItems);case 20:s=Global.FormatCommaNumToNum(u.getComponent(cc.Label).string);case 21:return t.next=23,e.collectSlotsCoin(e._bottomType,e._bottomSlotsScript,s,c[1].bonusItems);case 23:return t.next=25,cc.vv.gameData.awaitTime(1);case 25:n();case 26:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},collectSlotsCoin:function(e,t,n,a){var i=this;return o(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var r=o(regeneratorRuntime.mark(function o(r){var c,s,u,l,m,p,f,v,d,g,h,_,S;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(c=i,s=cc.find("spine_sj",i._mainNode),u=cc.find("spine_sj_2",i._mainNode),l=cc.find("slots_top/settleNode/settlement",i._mainNode),m=cc.find("collectcoin",l).getComponent(cc.Label),p=cc.find("shoujijieshu",l).getComponent(cc.ParticleSystem),u.active=!1,!(f=15===a.length)){o.next=11;break}return o.next=11,cc.vv.gameData.getUIMgr().showBonusDoubleWin(e==i._bottomType?1:2);case 11:a.sort(function(e,t){return e.idx-t.idx}),v=0;case 13:if(!(v<a.length)){o.next=54;break}if(d=a[v].idx,g=t.GetSymbolByIdx(d),a[v].jackpot&&(cc.find("winner",l).active=!1,cc.find("jp_"+a[v].jackpot.id,l).active=!0),h=c._mainNode.convertToNodeSpaceAR(g.node.convertToWorldSpaceAR(cc.v2(0,0))),s.position=h,_=c.getScaleMul(d,e),S=c.getRotationAngle(d,e),s.angle=S,s.scaleY=_,Global.SlotsSoundMgr.playEffect("respin_calculate1"),cc.vv.gameData.playSpine(s,"animation"+e,!1,function(){p.resetSystem()}),!f){o.next=33;break}return o.next=28,cc.vv.gameData.awaitTime(.2);case 28:u.position=h,u.angle=S,u.scaleY=_,Global.SlotsSoundMgr.playEffect("respin_calculate1"),cc.vv.gameData.playSpine(u,"animation"+e,!1);case 33:if(g.playBonusFireAnim(!1),a[v].coin?n+=a[v].coin:a[v].jackpot&&(n+=a[v].jackpot.value),!f){o.next=44;break}return o.next=38,cc.vv.gameData.awaitTime(.3);case 38:return m.string=Global.FormatNumToComma(n),a[v].coin?n+=a[v].coin:a[v].jackpot&&(n+=a[v].jackpot.value),o.next=42,cc.vv.gameData.awaitTime(.2);case 42:o.next=46;break;case 44:return o.next=46,cc.vv.gameData.awaitTime(.5);case 46:return Global.SlotsSoundMgr.playEffect("respin_calculate2"),m.string=Global.FormatNumToComma(n),o.next=50,cc.vv.gameData.awaitTime(.5);case 50:a[v].jackpot&&(cc.find("winner",l).active=!0,cc.find("jp_"+a[v].jackpot.id,l).active=!1);case 51:v++,o.next=13;break;case 54:r();case 55:case"end":return o.stop()}},o)}));return function(e){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},r)}))()},lockJackpot:function(e){cc.find("LMSlots_PrizePool2",this._mainNode).getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:0,pauseNum:e[0]},{prizeType:1,pauseNum:e[1]},{prizeType:2,pauseNum:e[2]},{prizeType:3,pauseNum:e[3]},{prizeType:4,pauseNum:e[4]}])},startSpin:function(){},showSpinResult:function(){},getSubGameData:function(){return this._subGameData},spinEnd:function(){},reqSpine:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cc.log(cc.js.formatStr("startMove:%s, %s",e._curCnt,e._totalCnt)),e._curCnt+=1,cc.vv.gameData.GetBottomScript().ShowFreeModel(!0,e._curCnt,e._totalCnt),e._topSlotsScript.StartMove(e._subGameData.slots[0].bonusIdxs),e._bottomSlotsScript.StartMove(e._subGameData.slots[1].bonusIdxs),t.next=7,cc.vv.gameData.awaitTime(1);case 7:return n={rtype:3},t.next=10,cc.vv.gameData.reqSubGame(n);case 10:200!==(a=t.sent).code||a.spcode||(e._subGameData=a.data.bonusGame,cc.vv.gameData.setBonusGame(e._subGameData),e._bottomSlotsScript.setSpinResult(e._subGameData.slots[1].bonusIdxs,e._subGameData.slots[1].bonusItems),e._topSlotsScript.setSpinResult(e._subGameData.slots[0].bonusIdxs,e._subGameData.slots[0].bonusItems));case 12:case"end":return t.stop()}},t)}))()},StopMove:function(){this._topSlotsScript.StopMove(),this._bottomSlotsScript.StopMove()},OnSpinEnd:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cc.log("OnSpinEnd"),cc.vv.gameData.GetBottomScript().ShowBtnsByState("moveing_1"),t.next=4,cc.vv.gameData.awaitTime(1);case 4:if(2!=e._subGameData.state){t.next=13;break}return t.next=7,cc.vv.gameData.getUIMgr().showBonusAddSpinsUI();case 7:e._subGameData=cc.vv.gameData.getBonusGame(),e._curCnt=e._subGameData.totalSpinCnt-e._subGameData.spinCnt,e._totalCnt=e._subGameData.totalSpinCnt,e.reqSpine(),t.next=14;break;case 13:e._subGameData.spinCnt>0?(cc.vv.gameData.awaitTime(1),e.reqSpine()):e.endBonusGame();case 14:case"end":return t.stop()}},t)}))()},GetLastStopSlotReel:function(){var e=this._topSlotsScript.GetLastStopReelIdx(),t=this._bottomSlotsScript.GetLastStopReelIdx(),n=t||e;return{slotType:t?this._bottomType:this._topType,reelIdx:n}},getMaxReelIdx:function(e,t){return(e==this._topType?this._topSlotsScript.getLastStopReel():this._bottomSlotsScript.getLastStopReel())[t]},getRotationAngle:function(e,t){return(t==this._topType?[-60,-40,0,40,60,-45,-25,0,25,45,-35,-20,0,20,35]:[-28,-15,0,15,28,-23,-12,0,12,23,-20,-10,0,10,20])[e-1]},getScaleMul:function(e,t){return(t==this._topType?[1.2,.9,.7,.9,1.2,1.4,1.2,1.1,1.2,1.4,1.8,1.6,1.5,1.6,1.8]:[.95,.9,.85,.9,.95,1.1,1.05,1,1.05,1.1,1.25,1.2,1.2,1.2,1.25])[e-1]}}),cc._RF.pop()},{}],Fenrir_BonusReel:[function(e,t,n){"use strict";cc._RF.push(t,"354a1DeixtC+p0iJxlyIeDE","Fenrir_BonusReel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},Init:function(e,t,n){this._holderNode=cc.find("mask/holder",this.node),this._holderOrigPosY=this._holderNode.position.y,this._super(e,t,n)},initReelType:function(e){this._type=e,this._symbols.forEach(function(t){t.initSymbolType(e)})},OnReelSpinEnd:function(){this._reelState=[];var e=cc.vv.gameData.getBonusGameMgr().GetLastStopSlotReel(),t=e.reelIdx,n=e.slotType;this._type===n&&this._reelIdx==t&&(cc.log(cc.js.formatStr("OnReelSpinEnd, %s, %s",n,t)),cc.vv.gameData.getBonusGameMgr().OnSpinEnd())},ReadyToStop:function(){this._bNotifyReadyStop||(this._bNotifyReadyStop=!0)},OnReelBounsActionBefore:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveBefore()},OnReelBounsActionDeep:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveDeep();this.playStopAnim()},playStopAnim:function(){var e=this._symbols[0];if(3===e.GetShowId()){var t=e.GetData();t.bonus&&(t.bonus.coin?Global.SlotsSoundMgr.playEffect("respin_appear"):t.bonus.jackpot&&Global.SlotsSoundMgr.playEffect("respin_jackpot")),e.playBonusQuanAnim(!0)}var n=cc.vv.gameData.getBonusGameMgr().getMaxReelIdx(this._type,this._reelIdx%5);this._reelIdx==n&&Global.SlotsSoundMgr.playEffect("reel_stop")},OnReelBounsActionEnd:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveEnd();else cc.log("\u56de\u5f39\u7ed3\u675f\uff0c\u6570\u636e\u5df2\u7ecf\u88ab\u6e05\u7a7a\u4e86");this.OnReelSpinEnd(),this.playScaleAnim()},playScaleAnim:function(){var e=this._symbols[0];3===e.GetShowId()&&e.playBonusZoomAnim(!0)}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Fenrir_BonusSlots:[function(e,t,n){"use strict";cc._RF.push(t,"789d0Dl1StGpa6jzSiK+g23","Fenrir_BonusSlots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_canStop:!1,_slotsIndex:1},onLoad:function(){this._super()},start:function(){},Init:function(e){this._slotsIndex=e,this._topScript=cc.vv.gameData.GetTopScript(),this._bottomScript=cc.vv.gameData.GetBottomScript(),this._cfg=cc.vv.gameData.getGameCfg(),this._col=15,this._row=1,this._topAniNode=cc.find("top_ani",this.node),this.createReels(this._col,this._row)},createReels:function(e,t){for(var n=0;n<e;n++){var a=cc.find("reels/reel"+(n+1),this.node).addComponent("Fenrir_BonusReel");a.Init(n,t,this._topAniNode),a.initReelType(this._slotsIndex),this._reels.push(a)}},GetReelStopInter:function(e){var t=this._cfg.reelStopInter||.6;return(e%5+5*(this._slotsIndex-1))*t},OnSpinEnd:function(){},getReelNode:function(e){return e>=this._reels.length?null:this._reels[e].node},clearGuangyun:function(e){var t=cc.find(cc.js.formatStr("coin_top_%s/guangyun",e),this._topAniNode);t&&(t.active=!1)},StartMove:function(e){this._bStopRightnow=null,this._gameInfo=null,this._canStop=!1;var t=[],n=[];this._reels.forEach(function(a){e.includes(a.GetReelIdx()+1)||(t.push(a),n.push(a.GetReelIdx()))}),this.MoveReels(t),this.setMoveLastIdx(n),this._stopTime=this.GetStopTime()},MoveReels:function(e){for(var t=0;t<e.length;t++){e[t].StartMove()}},setMoveLastIdx:function(e){var t=e[0],n=[];e.forEach(function(e){(e%5>t%5||e%5==t%5&&e/3>t/3)&&(t=e),n[e%5]=n[e%5]?Math.max(n[e%5],e):e}),this.moveReelLastIdx=t,cc.log("StartMove\uff1athis.moveReelLastIdx:",this.moveReelLastIdx),this._reelMax=n},getLastStopReel:function(){return this._reelMax},setSpinResult:function(e,t){this._canStop=!0;for(var n=cc.vv.gameData.getGameCfg(),a=[],o=1;o<=15;o++){var i=Global.random(1,n.randomSymbols.length),r=n.randomSymbols[i-1];a.push(r)}this.SetSlotsResult(a,e,t)},SetSlotsResult:function(e,t,n){for(var a=e.length/this._col,o=[],i=0;i<e.length;i++){Math.floor(i/a);var r=i%this._col;if(this._cfg.symbol[e[i]]){var c={};c.sid=e[i],c.data={},t&&t.includes(i+1)&&(c.sid=3,c.data.bonus=n[t.indexOf(i+1)]),o[r]||(o[r]=[]),o[r].unshift(c)}}for(var s=0;s<this._reels.length;s++){var u=this._reels[s],l=o[s];u.SetResult(l)}},CanStopSlot:function(){return this._canStop},getSlotsIndex:function(){return this._slotsIndex},setReelsState:function(e){cc.find("reels",this.node).active=e},getReel:function(e){return this._reels[e]},initAllSymbol:function(){for(var e=0;e<this._col;e++)this._reels[e].GetSymbolByRow(0).ClearState(),this._reels[e].GetSymbolByRow(0).ShowById(14)}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Fenrir_BoxUI:[function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function c(e){a(r,o,i,c,s,"next",e)}function s(e){a(r,o,i,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"1a7e8YciG1Ge5DSWiBKcdEf","Fenrir_BoxUI"),cc.Class({extends:cc.Component,properties:{},Init:function(){this.node.active=!0,this._mainNode=cc.find("mainnode",this.node),this._mainNode.active=!1,this._btn_close=cc.find("mainnode/uinode/btn_close",this.node),this._btn_close.off("click"),Global.btnClickEvent(this._btn_close,this.onCloseUI,this),this._box_tip=cc.find("mainnode/uinode/box_tip",this.node),this._box_tip.active=!1,this._spr_tip=cc.find("mainnode/uinode/node_paw/spr_tip",this.node),this._spr_tip.active=!1;var e=cc.find("mainnode/uinode/node_paw/btn_help",this.node);Global.btnClickEvent(e,this.onOpenHelp,this);var t=cc.find("mainnode/uinode/btn_leftmove",this.node);Global.btnClickEvent(t,this.onBoxLastLevel,this);var n=cc.find("mainnode/uinode/btn_rightmove",this.node);Global.btnClickEvent(n,this.onBoxNextLevel,this),this._topSpineNode=cc.find("uinode/topspine",this._mainNode)},openBoxUI:function(){Global.SlotsSoundMgr.playEffect("shop_open"),cc.vv.gameData.GetBottomScript().ShowBtnsByState("moveing_1"),this._pawStore=cc.vv.gameData.getPawStore(),this._curPage=this._pawStore.unlockPage;var e=cc.find("mask",this._mainNode),t=cc.find("uinode",this._mainNode);e.opacity=0,t.scale=0,this._mainNode.active=!0,cc.tween(e).to(.3,{opacity:255}).start(),cc.tween(t).to(.3,{scale:1},{easing:"backOut"}).start(),cc.vv.gameData.setCanClickBox(!0),this.loadBoxData()},closeBoxUI:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n,a){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("shop_close"),o=cc.find("mask",e._mainNode),i=cc.find("uinode",e._mainNode),o.opacity=0,i.scale=0,cc.tween(o).to(.3,{opacity:0}).start(),cc.tween(i).to(.3,{scale:0}).start(),t.next=9,cc.vv.gameData.awaitTime(.3);case 9:e._mainNode.active=!1,n();case 11:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},topPlaySpine:function(){var e=this._pawStore.unlockPage>=this._curPage?2:1;cc.vv.gameData.playSpine(this._topSpineNode,cc.js.formatStr("animation%s_%s",this._curPage,e),!1)},pagePointShow:function(e){for(var t=this,n=cc.find("mainnode/uinode/bottompoints",this.node),a=function(a){var o=cc.find(cc.js.formatStr("point%s/choice",a),n);a==t._curPage?(o.active=!0,e?cc.vv.gameData.playSpine(o,"animation",!1,function(){cc.vv.gameData.playSpine(o,"animation2",!0)}):cc.vv.gameData.playSpine(o,"animation2",!0)):o.active=!1},o=1;o<5;o++)a(o)},updatePawNum:function(){this._pawStore=cc.vv.gameData.getPawStore(),cc.find("mainnode/uinode/node_paw/desctext",this.node).getComponent(cc.Label).string=Global.FormatNumToComma(this._pawStore.pawCnt),cc.vv.gameData.GetSlotsScript().showPawNum(!1)},updataOtherBox:function(){if(this._pawStore.unlockPage==this._curPage){var e=this.getPageDetail();if(this._pawStore.pawCnt<e.price)for(var t=cc.find("mainnode/uinode/bottombg/baoxiangview/view/content",this.node),n=1;n<10;n++){var a=cc.find(cc.js.formatStr("item%s",n),t);this.getUnlockItems(n)?this.setBoxState(a,4):this._pawStore.pawCnt<e.price?this.setBoxState(a,3):this.setBoxState(a,2)}}},loadBoxData:function(){this.refreshDataWithAction(0),this.showBoxState(),this.updatePawNum(),this.topPlaySpine(),this.pagePointShow()},showBoxState:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e=this.getPageDetail(),t=cc.find("mainnode/uinode/bottombg/baoxiangview/view/content",this.node),n=1;n<10;n++){var a=cc.find(cc.js.formatStr("item%s",n),t);if(cc.find("bg_show/costnum",a).getComponent(cc.Label).string=Global.FormatNumToComma(e.price),this._pawStore.unlockPage>=this._curPage){var o=this.getUnlockItems(n);o?(this.setBoxState(a,4),a.getComponent("Fenrir_Boxitem").showBoxState(o,!0)):this._pawStore.pawCnt<e.price?this.setBoxState(a,3):this.setBoxState(a,2)}else this.setBoxState(a,1)}},refreshDataWithAction:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a,o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=cc.find("mainnode/uinode/bottombg/baoxiangview/view/content",t.node),0==e){n.next=8;break}return Global.SlotsSoundMgr.playEffect("page_next"),a.stopAllActions(),a.x=0,a.runAction(cc.sequence(cc.spawn(cc.fadeTo(.15,63),cc.moveBy(.15,e,0)),cc.spawn(cc.fadeTo(.15,255),cc.moveBy(.15,-e,0)))),n.next=8,cc.vv.gameData.awaitTime(.15);case 8:for(o=1;o<=9;o++)(i=cc.find(cc.js.formatStr("item%s",o),a)).setScale(.1),i.stopAllActions(),i.runAction(cc.scaleTo(.1*o,1,1).easing(cc.easeBackOut()));case 9:case"end":return n.stop()}},n)}))()},setBoxState:function(e,t){cc.find("baoxiang",e).active=2==t,cc.find("baoxiang_lock",e).active=3==t,cc.find("baoxiang_ice",e).active=1==t,cc.find("baoxiangspine",e).active=4==t,4!=t&&(cc.find("getcoin",e).active=!1),cc.find("bg_show",e).active=4!=t,e.getComponent("Fenrir_Boxitem").changeBoxState(this._curPage,t)},getPageDetail:function(){return this._pawStore.pageDetails[this._curPage-1]},getUnlockItems:function(e){var t=this._pawStore.unlockItems[this._curPage-1];if(t)for(var n=0;n<t.length;n++)if(t[n].idx==e)return t[n]},onCloseUI:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("click"),e._btn_close.getComponent(cc.Button).interactable=!1,t.next=4,e.closeBoxUI();case 4:cc.vv.gameData.GetBottomScript().CanDoNextRound(),e._btn_close.getComponent(cc.Button).interactable=!0;case 6:case"end":return t.stop()}},t)}))()},onOpenHelp:function(){var e=this;this._spr_tip.stopAllActions(),this._spr_tip.active?this._spr_tip.runAction(cc.sequence(cc.scaleTo(this._spr_tip.scaleX/2,0,0),cc.callFunc(function(){e._spr_tip.active=!1}))):(Global.SlotsSoundMgr.playEffect("tips_popup"),this._spr_tip.active=!0,this._spr_tip.setScale(0),this._spr_tip.runAction(cc.sequence(cc.scaleTo(.5,1,1),cc.delayTime(1),cc.scaleTo(.5,0,0),cc.callFunc(function(){e._spr_tip.active=!1}))))},showBoxTip:function(e){var t=this;this._box_tip.stopAllActions(),this._box_tip.active?this._box_tip.runAction(cc.sequence(cc.scaleTo(this._box_tip.scaleX/2,0,0),cc.callFunc(function(){t._box_tip.active=!1}))):(this._box_tip.position=this._box_tip.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0))),this._box_tip.active=!0,this._box_tip.setScale(0),this._box_tip.runAction(cc.sequence(cc.scaleTo(.5,1,1),cc.delayTime(1),cc.scaleTo(.5,0,0),cc.callFunc(function(){t._box_tip.active=!1}))))},onBoxLastLevel:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cc.vv.gameData.canClickBox()){t.next=2;break}return t.abrupt("return");case 2:return cc.vv.gameData.setCanClickBox(!1),e._curPage<=1?e._curPage=4:e._curPage--,e.topPlaySpine(),e.pagePointShow(!0),e.refreshDataWithAction(20),e.showBoxState(!0),t.next=10,cc.vv.gameData.awaitTime(1.1);case 10:cc.vv.gameData.setCanClickBox(!0);case 11:case"end":return t.stop()}},t)}))()},onBoxNextLevel:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cc.vv.gameData.canClickBox()){t.next=2;break}return t.abrupt("return");case 2:return cc.vv.gameData.setCanClickBox(!1),e._curPage>=4?e._curPage=1:e._curPage++,e.topPlaySpine(),e.pagePointShow(!0),e.refreshDataWithAction(-20),e.showBoxState(!0),t.next=10,cc.vv.gameData.awaitTime(1.1);case 10:cc.vv.gameData.setCanClickBox(!0);case 11:case"end":return t.stop()}},t)}))()},gainSpecial:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return cc.vv.gameData.setIsBoxGame(!0),n.next=3,cc.vv.gameData.awaitTime(.5);case 3:if(t.closeBoxUI(),!e.bonusGame){n.next=9;break}cc.vv.gameData.getBonusGameMgr().showBonusGame(e.bonusGame),cc.vv.gameData.GetBottomScript().SetWin(0),n.next=45;break;case 9:if(!(e.freeInfo&&e.freeInfo.freeCnt>0)){n.next=27;break}return cc.vv.gameData.SetTotalFree(e.freeInfo.freeCnt),cc.vv.gameData.SetFreeTime(e.freeInfo.freeCnt),n.next=14,cc.vv.gameData.awaitTime(.5);case 14:return n.next=16,cc.vv.gameData.getUIMgr().showFreeGameStartUI(e.freeInfo.freeCnt,"first");case 16:return cc.vv.gameData.getUIMgr().playFreeQPAnim(),n.next=19,cc.vv.gameData.awaitTime(.6);case 19:return cc.vv.gameData.GetBottomScript().SetWin(0),cc.vv.gameData.GetSlotsScript().ShowGameview(!0),cc.vv.gameData.GetSlotsScript().setPawState(!1),n.next=24,cc.vv.gameData.awaitTime(2);case 24:cc.vv.gameData.GetBottomScript().CanDoNextRound(),n.next=45;break;case 27:if(!e.pageReward){n.next=45;break}return cc.vv.gameData.setPageReward(e.pageReward),cc.vv.gameData.setIsSuperFree(!0),cc.vv.gameData.SetTotalFree(e.pageReward.freeCnt),cc.vv.gameData.SetFreeTime(e.pageReward.freeCnt),n.next=34,cc.vv.gameData.awaitTime(.5);case 34:return n.next=36,cc.vv.gameData.getUIMgr().showSuperFreeStartFreeUI(t._curPage);case 36:return cc.vv.gameData.getUIMgr().playFreeQPAnim(),n.next=39,cc.vv.gameData.awaitTime(.6);case 39:return cc.vv.gameData.GetBottomScript().SetWin(0),cc.vv.gameData.GetBottomScript().ShowFreeModel(!0,0,e.pageReward.freeCnt),cc.vv.gameData.getSuperFreeMgr().initShowSlotsDate(),n.next=44,cc.vv.gameData.awaitTime(2);case 44:cc.vv.gameData.GetBottomScript().CanDoNextRound();case 45:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{}],Fenrir_Boxitem:[function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function c(e){a(r,o,i,c,s,"next",e)}function s(e){a(r,o,i,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"dbfcbO5+LxHlqfYbqN8Nda5","Fenrir_Boxitem"),cc.Class({extends:cc.Component,properties:{pos:0},onLoad:function(){this._baoxiangSpNode=cc.find("baoxiangspine",this.node),this._costShowNode=cc.find("bg_show",this.node),Global.btnClickEvent(this.node,this.onBoxEvent,this)},showBoxState:function(e,t){this._costShowNode.active=!1,cc.find("baoxiang",this.node).active=!1;var n=this.getSpineName(e.type);if(t)cc.vv.gameData.playSpine(this._baoxiangSpNode,n+"_1",!0);else{var a=this;cc.vv.gameData.playSpine(this._baoxiangSpNode,n,!1,function(){cc.vv.gameData.playSpine(a._baoxiangSpNode,n+"_1",!0)})}var o=cc.find("getcoin",this.node);2==e.type?(o.active=!0,o.getComponent(cc.Label).string=Global.convertNumToShort(e.coin,1e3,0),t||(o.setScale(0),cc.tween(o).to(.5,{scale:1},{easing:"backOut"}).start())):o.active=!1},changeBoxState:function(e,t){this._pageId=e,this._boxState=t},onBoxEvent:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(3==e._boxState&&e.showTip(),2==e._boxState){t.next=3;break}return t.abrupt("return");case 3:if(cc.vv.gameData.canClickBox()){t.next=5;break}return t.abrupt("return");case 5:return cc.vv.gameData.setCanClickBox(!1),Global.SlotsSoundMgr.playEffect("chest_open"),n={rtype:4,pageId:e._pageId,choiceId:e.pos},t.next=10,cc.vv.gameData.reqSubGame(n);case 10:if(200!=(a=t.sent).code||a.spcode){t.next=19;break}return cc.vv.gameData.updatePawStore(a.data.pawStore),o=a.data.result,e.updateBox(o),t.next=17,cc.vv.gameData.awaitTime(.5);case 17:o.coin&&o.coin>0&&e.updateCoin(o.coin),o.bonusGame||o.freeInfo||o.pageReward?cc.vv.gameData.getBoxGameMgr().gainSpecial(o):cc.vv.gameData.setCanClickBox(!0);case 19:case"end":return t.stop()}},t)}))()},getSpineName:function(e){switch(e){case 1:return"animation3";case 2:return"animation1";case 3:return"animation2";default:return"animation1"}},updateBox:function(e){this.changeBoxState(this._pageId,4),this.showBoxState(e,!1),cc.vv.gameData.getBoxGameMgr().updatePawNum(),cc.vv.gameData.getBoxGameMgr().updataOtherBox()},updateCoin:function(e){e&&e>0&&(cc.vv.gameData.AddCoin(e),cc.vv.gameData.GetBottomScript().SetWin(e),cc.vv.gameData.GetTopScript().ShowCoin())},showTip:function(){cc.vv.gameData.getBoxGameMgr().showBoxTip(this.node)}}),cc._RF.pop()},{}],Fenrir_Cfg:[function(e,t,n){"use strict";var a;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"f17a5gJGepGm5+R9dlbxz9I","Fenrir_Cfg");var i={symbol:(a={},o(a,1,{node:"s1",win_node:"w1",win_ani:{name:"animation",zIndex:100}}),o(a,2,{node:"s12",win_node:"w12",stop_ani:{name:"animation1",zIndex:200},trigger_ani:{name:"animation2",zIndex:300}}),o(a,3,{node:"s13",win_node:"w13",stop_ani:{name:"",zIndex:200},trigger_ani:{name:"animation2",zIndex:300}}),o(a,4,{node:"s2",win_node:"w2",win_ani:{name:"animation",zIndex:100}}),o(a,5,{node:"s3",win_node:"w3",win_ani:{name:"animation",zIndex:100}}),o(a,6,{node:"s4",win_node:"w4",win_ani:{name:"animation",zIndex:100}}),o(a,7,{node:"s5",win_node:"w5",win_ani:{name:"animation",zIndex:100}}),o(a,8,{node:"s6",win_node:"w6",win_ani:{name:"animation",zIndex:100}}),o(a,9,{node:"s7",win_node:""}),o(a,10,{node:"s8",win_node:""}),o(a,11,{node:"s9",win_node:""}),o(a,12,{node:"s10",win_node:""}),o(a,13,{node:"s11",win_node:""}),o(a,14,{node:"s14",win_node:""}),a),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"Fenrir_Slots",Reels:"Fenrir_Reel",Symbols:"Fenrir_Symbol"},col:5,row:3,symbolPrefab:"LMSlots_Symbol",symbolSize:{width:117,height:99},randomSymbols:[4,5,6,7,8,9,10,11,12,13],kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,bounce:!0,autoModelDelay:1,bounceInfo:{distance:30,time:.1},normalBgm:"base_bgm",AddAntiTime:3,reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/Fenrir/",reelStopSound:"reel_stop",symbolStopSound:"scatter_landing",antSound:"anticipation2",antSpeed:2500,type:"free"},{id:[3],mini:6,counts:[3,3,3,3,3],path:"games/Fenrir/",reelStopSound:"reel_stop",symbolStopSound:"respin_landing",type:"bonus"}],commEffect:{path:"games/Fenrir/",win1:["win1","win1end"],win2:["win2","win2end"]},helpItems:["games/Fenrir/prefab/help_node/LMSlots_Help_item1","games/Fenrir/prefab/help_node/LMSlots_Help_item2","games/Fenrir/prefab/help_node/LMSlots_Help_item3","games/Fenrir/prefab/help_node/LMSlots_Help_item4","games/Fenrir/prefab/help_node/LMSlots_Help_item5","games/Fenrir/prefab/help_node/LMSlots_Help_item6","games/Fenrir/prefab/help_node/LMSlots_Help_item7"]};t.exports=i,cc._RF.pop()},{}],Fenrir_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"2c400dC889CP7oJ78q+3U5h","Fenrir_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{},RegisterMsg:function(){this._super(),cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,this)},UnregisterMsg:function(){this._super(),cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,!1,this)},init:function(e,t,n){this._pawStore=e.pawStore,this._pawInfo=e.pawInfo,this._bonusGame=e.bonusGame,this._pageReward=e.pageReward,this._freeWinCoin=e.freeWinCoin,this._super(e,t,n)},OnRcvNetSpine:function(e){200==e.code&&(this._pawStore=e.pawStore,this._pawInfo=e.pawInfo,this._bonusGame=e.bonusGame,this._freeWinCoin=e.freeWinCoin,this._super(e))},isNormalFreeOver:function(){return this._gameInfo.allFreeCnt>0&&0==this._gameInfo.freeCnt},isTriggerFree:function(){var e=this._gameInfo.freeResult;return e.freeInfo&&e.freeInfo.freeCnt>0},getFreeWinCoin:function(){return this._freeWinCoin},setFreeWinCoin:function(e){this._freeWinCoin=e},getBonusGame:function(){return this._bonusGame},setBonusGame:function(e){this._bonusGame=e},getPawStore:function(){return this._pawStore},updatePawStore:function(e){this._pawStore=e},getPawInfo:function(){return this._pawInfo},setUIMgrScript:function(e){this._uiMgr=e},getUIMgr:function(){return this._uiMgr},setBonusGameMgr:function(e){this._bonusMgr=e},getBonusGameMgr:function(){return this._bonusMgr},setSuperFreeMgr:function(e){this._superFreeMgr=e},getSuperFreeMgr:function(){return this._superFreeMgr},setBoxGameMgr:function(e){this._boxMgr=e},getBoxGameMgr:function(){return this._boxMgr},playSpine:function(e,t,n,a){if(e){e.active=!0;var o=e.getComponent(sp.Skeleton);o&&(o.setAnimation(0,t,n),o.setCompleteListener(function(){a&&a()}))}},reqSubGame:function(e){var t=this;return new Promise(function(n){t._subCallBack=n;var a={c:MsgId.SLOT_SUBGAME_DATA,gameid:t._gameId,data:e};cc.vv.NetManager.send(a,!0)})},onRcvSubGameAction:function(e){this._subCallBack&&(this._subCallBack(e),this._subCallBack=null)},isSuperFree:function(){return this._isSuperFree},setIsSuperFree:function(e){this._isSuperFree=e},isFreeGame:function(){return this._isFreeGame},setIsFree:function(e){this._isFreeGame=e},setIsBonusGame:function(e){this._isBonusGame=e},isBonusGame:function(){return this._isBonusGame},canClickBox:function(){return this._canClickBox},setCanClickBox:function(e){this._canClickBox=e},setIsBoxGame:function(e){this._isBoxGame=e},isBoxGame:function(){return this._isBoxGame},getPageReward:function(){return this._pageReward},setPageReward:function(e){this._pageReward=e},getState:function(){return this._deskInfo.state},getNeedBet:function(){return this._deskInfo.needBet}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],Fenrir_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"ecfc8jAFhFEJqfxxM5YiG83","Fenrir_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},InitCommComponent:function(){this._super();var e=cc.find("safe_node/gameUI",this.node).addComponent("Fenrir_UIMgr");cc.vv.gameData.setUIMgrScript(e),e.Init();var t=cc.find("safe_node/bonusgame",this.node).addComponent("Fenrir_BonusGameMgr");cc.vv.gameData.setBonusGameMgr(t),t.Init();var n=cc.find("safe_node/super_free",this.node).addComponent("Fenrir_SFreeMgr");cc.vv.gameData.setSuperFreeMgr(n),n.Init();var a=cc.find("safe_node/boxGame",this.node).addComponent("Fenrir_BoxUI");cc.vv.gameData.setBoxGameMgr(a),a.Init()}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Fenrir_PawInfo:[function(e,t,n){"use strict";cc._RF.push(t,"71af3nxR5hOHIDXtD8p1QdP","Fenrir_PawInfo"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this._pawCntLbl=cc.find("desctext",this.node).getComponent(cc.Label);var e=cc.find("descbg",this.node);e.off("click"),Global.btnClickEvent(e,this.onOpenStore,this)},start:function(){this.updatePawNum();var e=cc.find("tip",this.node);e.stopAllActions(),e.active=!0,e.setScale(0),e.runAction(cc.sequence(cc.scaleTo(.5,1,1),cc.delayTime(1),cc.scaleTo(.5,0,0),cc.callFunc(function(){e.active=!1})))},updatePawNum:function(){var e=cc.vv.gameData.getPawStore();this._pawCntLbl.string=Global.FormatNumToComma(e.pawCnt)},onOpenStore:function(){cc.vv.gameData.GetBottomScript().GetSpinBtnState()&&(cc.vv.gameData.isFreeGame()||cc.vv.gameData.GetAutoModelTime()>0||cc.vv.gameData.getBoxGameMgr().openBoxUI())},setPawNodeState:function(e){this.node.active=e}}),cc._RF.pop()},{}],Fenrir_Reel:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"4173fw9oY9Cbb0khCQUPrKV","Fenrir_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},start:function(){},playReelStop:function(){if(this._super(),this._originResult)for(var e=0;e<this._originResult.length;e++){var t,n=a(this._reelState);try{for(n.s();!(t=n.n()).done;){var o=t.value;"free"==o.type&&(o.isStop&&this.ShowAntiEffect(!0,o.antiNode),o.hasRemain||cc.vv.gameData.GetSlotsScript().hideAllAnit())}}catch(e){n.e(e)}finally{n.f()}}}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Fenrir_SFreeMgr:[function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function c(e){a(r,o,i,c,s,"next",e)}function s(e){a(r,o,i,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"bd639g/9PtO/7OBkDVFlPIM","Fenrir_SFreeMgr"),cc.Class({extends:cc.Component,properties:{_slotsNodeList:[],_slotsScpList:[]},Init:function(){this._mainNode=cc.find("mainnode",this.node),this._slots=cc.find("slots",this._mainNode);for(var e=1;e<=4;e++){var t=cc.find("slots_"+e,this._slots),n=t.addComponent("Fenrir_SFreeSlots");n.Init(e),this._slotsNodeList.push(t),this._slotsScpList.push(n)}this._mainNode.active=!1},start:function(){},StartMove:function(){for(var e=0;e<this._slotsNodeList.length;e++)e<this._slotCnt&&this._slotsScpList[e].StartMove()},StopMove:function(){for(var e=0;e<this._slotsNodeList.length;e++)e<this._slotCnt&&this._slotsScpList[e].StopMove()},onMsgSpine:function(e){for(var t=e.freeGameSlots,n=0;n<this._slotsNodeList.length;n++)n<this._slotCnt&&this._slotsScpList[n].onMsgSpine(t[n])},OnSpinEnd:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0;n<e._slotsNodeList.length;n++)n<e._slotCnt&&e._slotsScpList[n].OnSpinEnd();return e,a=cc.vv.gameData.GetGameWin(),o=a,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(o=cc.vv.gameData.GetGameTotalFreeWin()),t.next=7,new Promise(function(e,t){cc.vv.gameData.GetSlotsScript().ShowBottomWin(a,o,!0,function(){e()})});case 7:if(!cc.vv.gameData.isNormalFreeOver()){t.next=10;break}return e.endSuperFree(),t.abrupt("return");case 10:cc.vv.gameData.GetSlotsScript().CanDoNextRound();case 11:case"end":return t.stop()}},t)}))()},GetLastStopReelIdx:function(){return this._slotsScpList[0].GetLastStopReelIdx()},initShowSlotsDate:function(){Global.SlotsSoundMgr.playBgm("free_bgm"),this.node.active=!0,this._mainNode.active=!0;var e=cc.vv.gameData.getPageReward();this._slotCnt=e.slotCnt;for(var t=e.wildCols,n=0;n<this._slotsNodeList.length;n++)n<this._slotCnt?(this._slotsNodeList[n].active=!0,this._slotsScpList[n].iniAllSymbol(),this._slotsScpList[n].setWildCols(t)):this._slotsNodeList[n].active=!1;this.initWolfState(),this.initStoreState(),this.setSlotsScale()},endSuperFree:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.awaitTime(1);case 2:return cc.vv.gameData.GetBottomScript().ShowBtnsByState("moveing_1"),t.next=5,cc.vv.gameData.getUIMgr().showFreeGameEndUI();case 5:return cc.vv.gameData.getUIMgr().playFreeQPAnim(),t.next=8,cc.vv.gameData.awaitTime(.6);case 8:for(cc.vv.gameData.GetBottomScript().ShowFreeModel(!1),Global.SlotsSoundMgr.stopBgm(),e._mainNode.active=!1,n=0;n<e._slotsNodeList.length;n++)e._slotsScpList[n].iniAllSymbol();return t.next=14,cc.vv.gameData.awaitTime(2);case 14:return cc.vv.gameData.setIsSuperFree(!1),t.next=17,new Promise(function(e){var t=cc.vv.gameData.GetGameWin(),n=cc.vv.gameData.GetGameTotalFreeWin();cc.vv.gameData.GetSlotsScript().ShowBottomWin(t,n,!0,function(){e()})});case 17:cc.vv.gameData.GetBottomScript().CanDoNextRound(),cc.vv.gameData.isBoxGame()&&(cc.vv.gameData.getBoxGameMgr().openBoxUI(),cc.vv.gameData.setIsBoxGame(!1));case 19:case"end":return t.stop()}},t)}))()},initWolfState:function(){cc.find("spine_wolf_1",this._mainNode).active=1==this._slotCnt,cc.find("spine_wolf_2",this._mainNode).active=2==this._slotCnt},initStoreState:function(){},setSlotsScale:function(){this._slots.setScale([1.1,1,.9,.75][this._slotCnt-1]),this._slots.getComponent(cc.Widget).updateAlignment()}}),cc._RF.pop()},{}],Fenrir_SFreeReel:[function(e,t,n){"use strict";cc._RF.push(t,"ae98aFdAz5O96Pb7ivXioFn","Fenrir_SFreeReel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},start:function(){},Init:function(e,t,n){this._holderNode=cc.find("mask/holder",this.node),this._holderOrigPosY=this._holderNode.position.y,this._super(e,t,n)},setSlotType:function(e){this._slotsType=e},OnReelSpinEnd:function(){this._reelState=[];var e=cc.vv.gameData.getSuperFreeMgr().GetLastStopReelIdx();1==this._slotsType&&this._reelIdx==e&&cc.vv.gameData.getSuperFreeMgr().OnSpinEnd()},ReadyToStop:function(){this._bNotifyReadyStop||(this._bNotifyReadyStop=!0)},OnReelBounsActionBefore:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveBefore()},OnReelBounsActionDeep:function(){if(this.playReelStop(),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveDeep()},OnReelBounsActionEnd:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveEnd();else cc.log("\u56de\u5f39\u7ed3\u675f\uff0c\u6570\u636e\u5df2\u7ecf\u88ab\u6e05\u7a7a\u4e86");this.OnReelSpinEnd()}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Fenrir_SFreeSlots:[function(e,t,n){"use strict";cc._RF.push(t,"1cbebzlbWJN9J7hIgEl8vXU","Fenrir_SFreeSlots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_wildCols:[]},start:function(){},Init:function(e){this._slotsType=e,this._topScript=cc.vv.gameData.GetTopScript(),this._bottomScript=cc.vv.gameData.GetBottomScript(),this._cfg=cc.vv.gameData.getGameCfg(),this._col=this._cfg.col,this._row=this._cfg.row,this._topAniNode=cc.find("top_ani",this.node),this.createReels(this._col,this._row,e)},createReels:function(e,t,n){for(var a=0;a<e;a++){var o=cc.find("reels/reel"+(a+1),this.node).addComponent("Fenrir_SFreeReel");o.Init(a,t,this._topAniNode),o.setSlotType(n),this._reels.push(o)}},setWildCols:function(e){this._wildCols=e;for(var t=0;t<e.length;t++)for(var n=0;n<this._row;n++)this._reels[e[t]-1].GetSymbolByRow(n).ShowById(1)},iniAllSymbol:function(){for(var e=0;e<this._reels.length;e++)for(var t=0;t<this._row;t++)this._reels[e].GetSymbolByRow(t).ClearState()},StartMove:function(){var e=this;this._bStopRightnow=null,this._gameInfo=null,this._topScript.StartMove(),cc.vv.gameData.ClearOneRoundData();var t=[],n=this;this._reels.forEach(function(a){if(e._wildCols.includes(a.GetReelIdx()+1))for(var o=0;o<n._row;o++)a.GetSymbolByRow(o).ClearState();else t.push(a)}),this.MoveReels(t),this._stopTime=this.GetStopTime()},onMsgSpine:function(e){this._gameInfo=e;var t=e.cards;this.SetSlotsResult(t)},OnSpinEnd:function(){this.ShowWinTrace()},GetReelStopInter:function(e){var t=this._cfg.reelStopInter||.6,n=cc.vv.gameData.getPageReward();return(e+this._col*(n.slotCnt-this._slotsType))*t}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Fenrir_Slots:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"2eca6hr5pdMEYAHauoQJTs8","Fenrir_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{},Init:function(){this._spine_stoneLogo=cc.find("spine_stoneLogo",this.node),this._spine_stoneLogo.off("click"),Global.btnClickEvent(this._spine_stoneLogo,this.onClickStone,this),this._collectPaw=cc.find("collectpaw",this.node),this._collectPaw.off("click"),Global.btnClickEvent(this._collectPaw,this.onClickPaw,this),this._super(),this.showPawNum(!1),this.showPawTip(),this.setRespinState()},RegisterEvent:function(){this._super(),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onEventTotalbetUpdated,this)},ReconnectShow:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ShowGameview(!1),cc.vv.gameData.getPageReward()?(cc.vv.gameData.setIsSuperFree(!0),cc.vv.gameData.GetBottomScript().ShowFreeModel(!0,cc.vv.gameData.GetFreeTime(),cc.vv.gameData.GetTotalFree()),cc.vv.gameData.getSuperFreeMgr().initShowSlotsDate()):cc.vv.gameData.GetTotalFree()>0&&(e.ShowGameview(!0),1==cc.vv.gameData.getState()&&e.setPawState(!1)),!(n=cc.vv.gameData.getBonusGame())){t.next=6;break}return t.next=6,cc.vv.gameData.getBonusGameMgr().showBonusGame(n);case 6:if(!(cc.vv.gameData.GetTotalFree()>0&&0==cc.vv.gameData.GetFreeTime())){t.next=9;break}return t.next=9,e.exitFreeGame();case 9:e._topScript.StopMove(),e._bottomScript.CanDoNextRound();case 11:case"end":return t.stop()}},t)}))()},onMsgSpine:function(e){cc.vv.gameData.isSuperFree()?cc.vv.gameData.getSuperFreeMgr().onMsgSpine(e):this._super(e)},SetSlotsResult:function(e){var t,n=e.length/this._col,a=[],o=this._gameInfo.pawInfo;o&&o.idxs&&(t=o.idxs);for(var i=this._gameInfo.bonusIdxs,r=this._gameInfo.bonusItems,c=0;c<e.length;c++){Math.floor(c/n);var s=c%this._col;if(this._cfg.symbol[e[c]]){var u={};u.sid=e[c],u.data={},t&&t.includes(c+1)&&(u.data.paw=1),i&&i.includes(c+1)&&(u.data.bonus=r[i.indexOf(c+1)]),a[s]||(a[s]=[]),a[s].unshift(u)}}for(var l=0;l<this._reels.length;l++){var m=this._reels[l],p=a[l];m.SetResult(p)}},SetReelStateInfo:function(e){var t=this;if(this._cfg.reelStateInfo){for(var n=[],o=0;o<e.length;o++){var i=e[o],r=o%this._col;n[r]||(n[r]=[]),n[r].push(i)}var c,s=a(this._cfg.reelStateInfo);try{var u=function(){var e=c.value,a=Global.copy(e);a.isStop=!1,a.isAnt=!1;for(var o=a.mini,i=Global.copy(a.counts),r=0,s=!0,u=0;u<n.length;u++){var l=t._reels[u],m=n[u];a.isStop=!1,a.isAnt=!1,r>=o-1&&a.counts[u]>0&&s&&(a.isAnt=!0);var p=m.reduce(function(e,t){return a.id.includes(t)?e+1:e+0},0);r+=p,i.shift();var f=(i.length>0?i.reduce(function(e,t){return e+t}):0)+r;p>0&&f>=o&&s&&(a.isStop=!0),a.hasRemain=f>=o,a.continuous&&a.counts[u]>0&&0==p&&(s=!1),l.AddReelStateInfo(Global.copy(a))}};for(s.s();!(c=s.n()).done;)u()}catch(e){s.e(e)}finally{s.f()}}},OnSpinEnd:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e._gameInfo.pawInfo&&e._gameInfo.pawInfo.idxs&&e._gameInfo.pawInfo.idxs.length>0)){t.next=3;break}return t.next=3,e.playPawFlyAnim();case 3:return e.ShowWinTrace(),t.next=6,e.playBottomWin();case 6:if(!(n=cc.vv.gameData.getBonusGame())){t.next=10;break}return t.next=10,e.gainBonusGame(n);case 10:if(!cc.vv.gameData.isTriggerFree()){t.next=13;break}return t.next=13,e.gainFreeGame();case 13:if(!cc.vv.gameData.isNormalFreeOver()){t.next=16;break}return t.next=16,e.exitFreeGame();case 16:e.CanDoNextRound();case 17:case"end":return t.stop()}},t)}))()},StartMove:function(){cc.vv.gameData.isSuperFree()?cc.vv.gameData.getSuperFreeMgr().StartMove():cc.vv.gameData.isBonusGame()||(this._super(),Global.SlotsSoundMgr.playNormalBgm())},StopMove:function(){cc.vv.gameData.isSuperFree()?cc.vv.gameData.getSuperFreeMgr().StopMove():cc.vv.gameData.isBonusGame()?cc.vv.gameData.getBonusGameMgr().StopMove():this._super()},gainBonusGame:function(e){var t=this;return new Promise(function(){var n=c(regeneratorRuntime.mark(function n(o,i){var r,c,s,u,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=t._gameInfo.bonusIdxs,c=a(r);try{for(c.s();!(s=c.n()).done;)u=s.value,(l=t.GetSymbolByIdx(u))&&l.playTriggerAnimation()}catch(e){c.e(e)}finally{c.f()}return Global.SlotsSoundMgr.playEffect("bell"),n.next=6,cc.vv.gameData.awaitTime(2);case 6:return n.next=8,cc.vv.gameData.getUIMgr().showBonusStartUI(e.spinCnt);case 8:return cc.vv.gameData.getUIMgr().playBonusQPAnim(),n.next=11,cc.vv.gameData.awaitTime(.5);case 11:return n.next=13,cc.vv.gameData.getBonusGameMgr().showBonusGame(e);case 13:o();case 14:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},gainFreeGame:function(){var e=this;return new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n,o){var i,r,c,s,u,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hideAllAnit(),(i=e._gameInfo.freeResult)&&i.freeInfo&&i.freeInfo.scatterIdx){r=i.freeInfo.scatterIdx,c=a(r);try{for(c.s();!(s=c.n()).done;)u=s.value,(l=e.GetSymbolByIdx(u))&&l.playTriggerAnimation()}catch(e){c.e(e)}finally{c.f()}Global.SlotsSoundMgr.playEffect("bell")}return t.next=5,cc.vv.gameData.awaitTime(2);case 5:if(e._gameInfo.freeCnt==e._gameInfo.allFreeCnt){t.next=10;break}return t.next=8,cc.vv.gameData.getUIMgr().showFreeGameStartUI(i.freeInfo.freeCnt,"again");case 8:t.next=19;break;case 10:return t.next=12,cc.vv.gameData.getUIMgr().showFreeGameStartUI(i.freeInfo.freeCnt,"first");case 12:return cc.vv.gameData.getUIMgr().playFreeQPAnim(),t.next=15,cc.vv.gameData.awaitTime(.6);case 15:return e.ShowGameview(!0),e.Backup(),t.next=19,cc.vv.gameData.awaitTime(2);case 19:n();case 20:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},exitFreeGame:function(){var e=this;return new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n,a){var o,i,r,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.awaitTime(1);case 2:return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=5,cc.vv.gameData.getUIMgr().showFreeGameEndUI();case 5:return cc.vv.gameData.getUIMgr().playFreeQPAnim(),t.next=8,cc.vv.gameData.awaitTime(.6);case 8:if(e.ShowGameview(!1),e.setPawState(!0),cc.vv.gameData.isBoxGame())for(o=0;o<e._col;o++)for(i=0;i<e._row;i++)(r=e._reels[o].GetSymbolByRow(i))&&r.ClearState();else e.Resume();return Global.SlotsSoundMgr.stopBgm(),t.next=14,cc.vv.gameData.awaitTime(2);case 14:return c=cc.vv.gameData.getFreeWinCoin(),s=c,t.next=18,new Promise(function(t,n){e.ShowBottomWin(c,s,!0,t)});case 18:cc.vv.gameData.isBoxGame()?(cc.vv.gameData.getBoxGameMgr().openBoxUI(),cc.vv.gameData.setIsBoxGame(!1)):n();case 19:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playPawFlyAnim:function(){var e=this;return new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n,a){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e._gameInfo.pawInfo.idxs,Global.SlotsSoundMgr.playEffect("symbol_fly"),o.forEach(function(t){var n=e.GetSymbolByIdx(t);n&&(e.showPawFly(t,n.getPawWPos()),n.setPaw(!1))}),t.next=5,cc.vv.gameData.awaitTime(.3);case 5:return n(),e.showPawNum(!0),t.next=9,cc.vv.gameData.awaitTime(.5);case 9:i=cc.find("collectpaw/pawspine",e.node),cc.vv.gameData.playSpine(i,"animation1",!1);case 11:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},showPawFly:function(e,t){var n=this;return c(regeneratorRuntime.mark(function e(){var a,o,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n._pawNode||(n._pawNode=cc.instantiate(n.node.getChildByName("shoujifly"))),n._pawEndPos||(a=cc.find("collectpaw/pawspine",n.node),n._pawEndPos=n.node.convertToNodeSpaceAR(a.convertToWorldSpaceAR(cc.v2(0,0)))),(o=cc.instantiate(n._pawNode)).active=!0,i=n.node.convertToNodeSpaceAR(t),o.position=i,o.parent=n.node,r=cc.find("spine",o),cc.vv.gameData.playSpine(r,"animation1",!1),e.next=11,cc.vv.gameData.awaitTime(.3);case 11:cc.vv.gameData.playSpine(r,"animation2",!1),o.runAction(cc.sequence(cc.moveTo(.5,n._pawEndPos),cc.destroySelf()));case 13:case"end":return e.stop()}},e)}))()},onClickPaw:function(){cc.vv.gameData.GetBottomScript().GetSpinBtnState()&&(cc.vv.gameData.isFreeGame()||cc.vv.gameData.GetAutoModelTime()>0||(Global.SlotsSoundMgr.playEffect("click"),cc.vv.gameData.getBoxGameMgr().openBoxUI()))},showPawTip:function(){var e=cc.find("tip",this._collectPaw);e.stopAllActions(),e.active=!0,e.setScale(0),e.runAction(cc.sequence(cc.scaleTo(.5,1,1),cc.delayTime(1),cc.scaleTo(.5,0,0),cc.callFunc(function(){e.active=!1})))},showPawNum:function(e){var t=cc.vv.gameData.getPawStore(),n=cc.find("desctext",this._collectPaw);if(e){var a=Global.FormatCommaNumToNum(n.getComponent(cc.Label).string);Global.doRoallNumEff(n,a,t.pawCnt,.5,null,null,0,!0)}else n.getComponent(cc.Label).string=Global.FormatNumToComma(t.pawCnt)},setPawState:function(e){this._collectPaw.active=e},onClickStone:function(){if(cc.vv.gameData.GetBottomScript().GetSpinBtnState()&&!cc.vv.gameData.isFreeGame()&&!(cc.vv.gameData.GetAutoModelTime()>0)&&this._bonusLock){var e=cc.vv.gameData.getNeedBet();e>cc.vv.gameData.GetBetMults().length||cc.vv.gameData.GetBottomScript().SetBetIdx(e)}},setRespinState:function(){cc.vv.gameData.GetBetIdx()>=cc.vv.gameData.getNeedBet()?(this._spine_stoneLogo.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0),this._bonusLock=!1):(this._spine_stoneLogo.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1),this._bonusLock=!0)},onEventTotalbetUpdated:function(){var e=this,t=cc.vv.gameData.GetBetIdx(),n=cc.vv.gameData.getNeedBet();if(t>=n&&this._bonusLock){Global.SlotsSoundMgr.playEffect("unlock");var a=this._spine_stoneLogo.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1);this._spine_stoneLogo.getComponent(sp.Skeleton).setTrackCompleteListener(a,function(){e._spine_stoneLogo.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0)}),this._bonusLock=!1}else t<n&&!this._bonusLock&&(Global.SlotsSoundMgr.playEffect("lock"),this._spine_stoneLogo.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1),this._bonusLock=!0)},playBottomWin:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){var n=cc.vv.gameData.GetGameWin(),a=n,o=!0;cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(a=cc.vv.gameData.GetGameTotalFreeWin(),o=0==cc.vv.gameData.GetFreeTime()),e.ShowBottomWin(n,a,o,function(){t()})}));case 1:case"end":return t.stop()}},t)}))()},hideAllAnit:function(){for(var e=0;e<this._col;e++)this._reels[e].ShowAntiEffect(!1)},ShowGameview:function(e){cc.vv.gameData.setIsFree(e),e&&Global.SlotsSoundMgr.playBgm("free_bgm"),this._super(e)}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Fenrir_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"f75efap2pVKaL7aKZkw/g+v","Fenrir_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},initSymbolType:function(e){this._bonusType=e},StartMove:function(){this._super(),this.playBonusFireAnim(!1),this.playBonusQuanAnim(!1)},ClearState:function(){this.hideAllIcon(),this.setAnimationToTop(!1),this.ShowKuang(!1),this.stopWinTweenAction(),this.node.zIndex=50-this._symbolIdx+10*this._reelIdx,this.playBonusFireAnim(!1),this.playBonusQuanAnim(!1)},ShowById:function(e,t){this._super(e,t),this._bonusType&&this.setDim(),this.hideAllIcon(),t&&(t.paw&&this.setPaw(!0),t.bonus&&(t.bonus.coin?this.setNum(t.bonus.coin):t.bonus.jackpot&&this.setJp(t.bonus.jackpot.id)),this._isResume&&(this._isResume=!1,this.setPaw(!1)))},Resume:function(e){this._isResume=!0,this._super(e)},hideAllIcon:function(){this.setPaw(!1),this.setNum(),this.setJp()},setPaw:function(e){cc.find("paw",this.node).active=e},getPawWPos:function(){return cc.find("paw",this.node).convertToWorldSpaceAR(cc.v2(0,0))},setNum:function(e){var t=cc.find("num",this.node);e?(t.active=!0,t.getComponent(cc.Label).string=Global.convertNumToShort(e,1e3,0)):t.active=!1},setJp:function(e){cc.find("jackpot1",this.node).active=1===e,cc.find("jackpot2",this.node).active=2===e,cc.find("jackpot3",this.node).active=3===e,cc.find("jackpot4",this.node).active=4===e,cc.find("jackpot5",this.node).active=5===e},setDim:function(){if(this._bonusType){var e=cc.vv.gameData.getGameCfg();if(e.symbol[this._id]&&e.symbol[this._id].node){var t=cc.find(e.symbol[this._id].node,this.node);3==this._id?t.color=cc.Color.WHITE:t.color=new cc.Color(100,100,100)}}},playTriggerAnimation:function(){var e=!1,t=this._id,n=cc.vv.gameData.getGameCfg();if(n.symbol[t]&&n.symbol[t].win_node&&n.symbol[t].trigger_ani){this._state="trigger",this._showNode&&(this._showNode.active=!1);var a=this.setAnimationToTop(!0);a.active=!0;var o=cc.find(n.symbol[t].win_node,a);if(o.active=!0,""!=n.symbol[t].trigger_ani.name){a.zIndex=n.symbol[t].trigger_ani.zIndex-this._symbolIdx+10*this._reelIdx,e=!0;var i=o.getComponent(sp.Skeleton);i&&i.setAnimation(0,n.symbol[t].trigger_ani.name,!0)}}return e},playStopAnimation:function(){if(3==this._id){var e=cc.find("quan",this.node);e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,"animation",!1)}else this._super()},playBonusQuanAnim:function(e){var t=cc.find("quan",this.node);e?(t.active=!0,t.getComponent(sp.Skeleton).setAnimation(0,"animation",!1)):t.active=!1},playBonusFireAnim:function(e){var t=cc.find("fire",this.node);e?(t.active=!0,t.getComponent(sp.Skeleton).setAnimation(0,"animation",!0)):t.active=!1},playBonusZoomAnim:function(e){var t=this,n=this.setAnimationToTop(!0);n.active=!0,n.stopAllActions(),e&&cc.tween(n).to(.3,{scale:1.2}).to(.2,{scale:1}).call(function(){t.setAnimationToTop(!1),t.playBonusFireAnim(!0)}).start()}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}],Fenrir_UIMgr:[function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function c(e){a(r,o,i,c,s,"next",e)}function s(e){a(r,o,i,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"a3e9cV5i35FMZAOLuPH834V","Fenrir_UIMgr"),cc.Class({extends:cc.Component,properties:{_bonusAddSpinList:[],_bonusPickItemList:[],_canAddSpins:!1},Init:function(){this._bonusGameStartUI=cc.find("bonusGameStartUI",this.node),this._bonusGameEndUI=cc.find("bonusGameEndUI",this.node),this._bonusDoubleStartUI=cc.find("bonusDoubleStartUI",this.node),this._freeGameStartUI=cc.find("freeGameStartUI",this.node),this._freeGameEndUI=cc.find("freeGameEndUI",this.node),this._bonusGameAddSpinsUI=cc.find("bonusGameAddSpins",this.node),this._bonusGamePickOneUI=cc.find("bonusGamePickOneUI",this.node),this._superFreeStartUI=cc.find("superFreeStartUI",this.node),this._bonusDoubleWinUI=cc.find("bonusDoubleWinUI",this.node),this._bonusGameStartUI.active=!1,this._bonusGameEndUI.active=!1,this._bonusDoubleStartUI.active=!1,this._freeGameStartUI.active=!1,this._freeGameEndUI.active=!1,this._bonusGamePickOneUI.active=!1,this._superFreeStartUI.active=!1,this._bonusDoubleWinUI.active=!1;for(var e=1;e<=3;e++){var t=cc.find("mainnode/number"+e,this._bonusGameAddSpinsUI);this._bonusAddSpinList.push(t)}for(var n=1;n<=5;n++){var a=cc.find("mainnode/item"+n,this._bonusGamePickOneUI);this._bonusPickItemList.push(a)}this._transition1=cc.find("transition1",this.node),this._transition2=cc.find("transition2",this.node),this._transition1.active=!1,this._transition2.active=!1},showBonusStartUI:function(e,t){var n=this;return o(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(){var a=o(regeneratorRuntime.mark(function a(i,r){var c,s,u,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(Global.SlotsSoundMgr.playEffect("bonus_start_show"),n._bonusGameStartUI.active=!0,(c=cc.find("mainnode",n._bonusGameStartUI)).setScale(0),cc.tween(c).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("mainnode/freetimes",n._bonusGameStartUI).getComponent(cc.Label).string=e,s=cc.find("mainnode/btn_start",n._bonusGameStartUI),!t||2!==t){a.next=19;break}return s.active=!1,a.next=12,cc.vv.gameData.awaitTime(1.5);case 12:return cc.tween(c).to(.5,{scale:0},{easing:"backIn"}).start(),a.next=15,cc.vv.gameData.awaitTime(.5);case 15:n._bonusGameStartUI.active=!1,i(),a.next=28;break;case 19:return s.active=!0,a.next=22,cc.vv.gameData.awaitTime(.5);case 22:u=n,l=function(){Global.SlotsSoundMgr.playEffect("pop_click"),s.getComponent(cc.Button).interactable=!1,cc.tween(c).to(.5,{scale:0},{easing:"backIn"}).call(function(){u._bonusGameStartUI.active=!1,i()}).start()},cc.vv.gameData.checkAutoPlay(s,l),s.off("click"),s.getComponent(cc.Button).interactable=!0,s.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.stopAllActions(),l();case 2:case"end":return e.stop()}},e)})));case 28:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}},a)}))()},showBonusEndUI:function(e){var t=this;return new Promise(function(){var n=o(regeneratorRuntime.mark(function n(a,i){var r,c,s,u,l,m,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect("bonus_end_show"),t._bonusGameEndUI.active=!0,(r=cc.find("mainnode",t._bonusGameEndUI)).setScale(0),cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),c=cc.find("bgcoin/getcoin",r),Global.doRoallNumEff(c,0,e.winCoin,1,null,null,0,!0),s=cc.find("bottombg",r),u=s.position,s.position=cc.v2(0,0),s.active=!1,n.next=13,cc.vv.gameData.awaitTime(.3);case 13:return s.active=!0,cc.tween(s).to(.5,{position:u}).start(),n.next=17,cc.vv.gameData.awaitTime(.5);case 17:l=cc.find("btn_collect",s),m=t,p=function(){Global.SlotsSoundMgr.playEffect("pop_click"),l.getComponent(cc.Button).interactable=!1,cc.tween(s).to(.5,{position:cc.v2(0,0)}).start(),cc.tween(r).to(.5,{scale:0},{easing:"backIn"}).call(function(){m._bonusGameEndUI.active=!1,s.position=u,a()}).start()},cc.vv.gameData.checkAutoPlay(l,p),l.off("click"),l.getComponent(cc.Button).interactable=!0,l.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.stopAllActions(),p();case 2:case"end":return e.stop()}},e)})));case 24:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},showBonusAddSpinsUI:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n,a){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bonusGameAddSpinsUI.active=!0,(o=cc.find("mainnode",e._bonusGameAddSpinsUI)).setScale(0),cc.tween(o).to(.5,{scale:1},{easing:"backOut"}).start(),e._bonusAddSpinList.forEach(function(t){cc.vv.gameData.playSpine(cc.find("aninode",t),"animation1",!0);var a=cc.vv.gameData.GetAtlasByName("dialog");cc.find("addnum",t).getComponent(cc.Sprite).spriteFrame=a.getSpriteFrame("theme158_dialog_text19"),t.off("click"),t.getComponent(cc.Button).interactable=!1,t.on("click",function(){e.onClickBonusAddSpins(t,n)})}),t.next=7,cc.vv.gameData.awaitTime(.5);case 7:e._canAddSpins=!0,e._bonusAddSpinList.forEach(function(e){e.getComponent(cc.Button).interactable=!0}),cc.vv.gameData.checkAutoPlay(e._bonusAddSpinList[0],function(){e.onClickBonusAddSpins(e._bonusAddSpinList[0],n)});case 10:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},onClickBonusAddSpins:function(e,t){var n=this;return o(regeneratorRuntime.mark(function a(){var o,i,r,c,s,u,l,m,p,f,v;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n._canAddSpins){a.next=2;break}return a.abrupt("return");case 2:return n._canAddSpins=!1,n._bonusAddSpinList[0].stopAllActions(),Global.SlotsSoundMgr.playEffect("extra_respin"),n._bonusAddSpinList.forEach(function(e){e.getComponent(cc.Button).interactable=!1}),o=parseInt(e.name.substr(-1,1)),i={rtype:2,choiceId:o},a.next=10,cc.vv.gameData.reqSubGame(i);case 10:if(200!=(r=a.sent).code){a.next=24;break}for(c=r.data.extraSpins,s=r.data.bonusGame,cc.vv.gameData.setBonusGame(s),u=0;u<c.length;u++)l=u+1,m=cc.find(cc.js.formatStr("mainnode/number%s/addnum",l),n._bonusGameAddSpinsUI),p=cc.vv.gameData.GetAtlasByName("dialog"),m.getComponent(cc.Sprite).spriteFrame=p.getSpriteFrame("theme158_dialog_num"+c[u]),l==r.data.choiceId&&(f=cc.find(cc.js.formatStr("mainnode/number%s/aninode",l),n._bonusGameAddSpinsUI),cc.vv.gameData.playSpine(f,"animation2",!1,null));return a.next=18,cc.vv.gameData.awaitTime(3);case 18:return v=cc.find("mainnode",n._bonusGameAddSpinsUI),cc.tween(v).to(.5,{scale:0},{easing:"backIn"}).start(),a.next=22,cc.vv.gameData.awaitTime(.5);case 22:n._bonusGameAddSpinsUI.active=!1,t();case 24:case"end":return a.stop()}},a)}))()},showFreeGameStartUI:function(e,t){var n=this;return o(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(){var a=o(regeneratorRuntime.mark(function a(i,r){var c,s,u,l,m,p;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return Global.SlotsSoundMgr.playEffect("free_dialog_start_show"),n._freeGameStartUI.active=!0,c=cc.find("mainnode",n._freeGameStartUI),s=cc.find("mainnode/bg_coin/getcoin",n._freeGameStartUI),u=cc.vv.gameData.GetAtlasByName("dialog"),s.getComponent(cc.Sprite).spriteFrame=u.getSpriteFrame("theme158_dialog_num"+e),c.scale=0,cc.tween(c).to(.5,{scale:1},{easing:"backOut"}).start(),(l=cc.find("mainnode/btn_start",n._freeGameStartUI)).active=!("again"==t),a.next=12,cc.vv.gameData.awaitTime(.5);case 12:if("again"!=t){a.next=22;break}return a.next=15,cc.vv.gameData.awaitTime(1);case 15:return cc.tween(c).to(.5,{scale:0},{easing:"backIn"}).start(),a.next=18,cc.vv.gameData.awaitTime(.5);case 18:n._freeGameStartUI.active=!1,i(),a.next=28;break;case 22:m=n,p=function(){Global.SlotsSoundMgr.playEffect("pop_click"),l.getComponent(cc.Button).interactable=!1,cc.tween(c).to(.5,{scale:0},{easing:"backIn"}).call(function(){m._freeGameStartUI.active=!1,i()}).start()},cc.vv.gameData.checkAutoPlay(l,p),l.off("click"),l.getComponent(cc.Button).interactable=!0,l.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.stopAllActions(),p();case 2:case"end":return e.stop()}},e)})));case 28:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}},a)}))()},showFreeGameEndUI:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n,a){var i,r,c,s,u,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cc.vv.gameData.isSuperFree()?Global.SlotsSoundMgr.playEffect("collect_popclose"):Global.SlotsSoundMgr.playEffect("free_dialog_collect_show"),e._freeGameEndUI.active=!0,i=cc.find("mainnode",e._freeGameEndUI),r=cc.find("mainnode/bg_coin/getcoin",e._freeGameEndUI),c=cc.vv.gameData.getFreeWinCoin(),Global.doRoallNumEff(r,0,c,1,null,null,0,!0),i.scale=0,cc.tween(i).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=10,cc.vv.gameData.awaitTime(.5);case 10:s=cc.find("mainnode/btn_collect",e._freeGameEndUI),u=e,l=function(){Global.SlotsSoundMgr.playEffect("pop_click"),s.getComponent(cc.Button).interactable=!1,cc.tween(i).to(.5,{scale:0},{easing:"backIn"}).call(function(){u._freeGameEndUI.active=!1,n()}).start()},cc.vv.gameData.checkAutoPlay(s,l),s.off("click"),s.getComponent(cc.Button).interactable=!0,s.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.stopAllActions(),l();case 2:case"end":return e.stop()}},e)})));case 17:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showBonusDoubleStartUI:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n,a){var i,r,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bonusDoubleStartUI.active=!0,(i=cc.find("mainnode",e._bonusDoubleStartUI)).setScale(0),cc.tween(i).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=6,cc.vv.gameData.awaitTime(.5);case 6:r=cc.find("bottombg/btn_collect",i),c=e,s=function(){Global.SlotsSoundMgr.playEffect("pop_click"),r.getComponent(cc.Button).interactable=!1,cc.tween(i).to(.5,{scale:0},{easing:"backIn"}).call(function(){c._bonusDoubleStartUI.active=!1,n()}).start()},cc.vv.gameData.checkAutoPlay(r,s),r.off("click"),r.getComponent(cc.Button).interactable=!0,r.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.stopAllActions(),s();case 2:case"end":return e.stop()}},e)})));case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showBonusGamePickOneUI:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n,a){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bonusGamePickOneUI.active=!0,(o=cc.find("mainnode",e._bonusGamePickOneUI)).setScale(0),cc.tween(o).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("mainnode/kuangsp",e._bonusGamePickOneUI).active=!1,e._bonusPickItemList.forEach(function(t){cc.find("di_def",t).active=!0,cc.find("wenhao",t).active=!0,cc.find("result",t).active=!1,cc.find("dongzhu",t).active=!1,t.off("click"),t.getComponent(cc.Button).interactable=!1,t.on("click",function(){e.onClickBonusPickItem(t,n)})}),t.next=8,cc.vv.gameData.awaitTime(.5);case 8:e._bonusPickItemList.forEach(function(e){e.getComponent(cc.Button).interactable=!0});case 9:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},onClickBonusPickItem:function(e,t){var n=this;return o(regeneratorRuntime.mark(function a(){var o,i,r,c,s,u,l,m,p,f,v,d;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n._bonusPickItemList.forEach(function(e){e.getComponent(cc.Button).interactable=!1}),o=parseInt(e.name.substring("item".length)),i={rtype:1,choiceId:o},a.next=5,cc.vv.gameData.reqSubGame(i);case 5:if(200!=(r=a.sent).code){a.next=33;break}return Global.SlotsSoundMgr.playEffect("respin_pick"),c=r.data.bonusGame,s=r.data.bonusTypes,u=r.data.result,cc.vv.gameData.setBonusGame(c),cc.find("di_def",e).active=!1,cc.find("wenhao",e).active=!1,cc.find("result",e).active=!0,cc.find("dongzhu",e).active=!1,l=cc.vv.gameData.GetAtlasByName("dialog"),m="theme158_dialog_6_text"+u.spinCnt,cc.find("result",e).getComponent(cc.Sprite).spriteFrame=l.getSpriteFrame(m),(p=cc.find("mainnode/kuangsp",n._bonusGamePickOneUI)).active=!0,p.getComponent(sp.Skeleton).setAnimation(0,"animation"+o,!0),a.next=24,cc.vv.gameData.awaitTime(.5);case 24:for(Global.SlotsSoundMgr.playEffect("respin_reveal"),f=0;f<n._bonusPickItemList.length;f++)f+1!=o&&(v=n._bonusPickItemList[f],cc.find("di_def",v).active=!1,cc.find("wenhao",v).active=!1,cc.find("result",v).active=!0,cc.find("dongzhu",v).active=!0,d="theme158_dialog_6_text"+s[f].spinCnt,cc.find("result",v).getComponent(cc.Sprite).spriteFrame=l.getSpriteFrame(d),cc.vv.gameData.playSpine(cc.find("dongzhu",v),"animation",!1));return a.next=28,cc.vv.gameData.awaitTime(2);case 28:return cc.tween(cc.find("mainnode",n._bonusGamePickOneUI)).to(.5,{scale:0},{easing:"backIn"}).start(),a.next=31,cc.vv.gameData.awaitTime(.5);case 31:n._bonusGamePickOneUI.active=!1,t();case 33:case"end":return a.stop()}},a)}))()},showSuperFreeStartFreeUI:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=o(regeneratorRuntime.mark(function n(a,i){var r,c,s,u,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect("collect_popup"),t._superFreeStartUI.active=!0,(r=cc.find("mainnode",t._superFreeStartUI)).setScale(0),cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),c=cc.vv.gameData.GetAtlasByName("dialog"),cc.find("bg_cnt/spr_cnt",r).getComponent(cc.Sprite).spriteFrame=c.getSpriteFrame("theme158_dialog_num"+cc.vv.gameData.GetTotalFree()),cc.find("spr_page",r).getComponent(cc.Sprite).spriteFrame=c.getSpriteFrame("theme158_dialog_win"+e),n.next=10,cc.vv.gameData.awaitTime(.5);case 10:s=cc.find("btn_start",r),u=t,l=function(){Global.SlotsSoundMgr.playEffect("pop_click"),s.getComponent(cc.Button).interactable=!1,cc.tween(r).to(.5,{scale:0},{easing:"backIn"}).call(function(){u._superFreeStartUI.active=!1,a()}).start()},cc.vv.gameData.checkAutoPlay(s,l),s.off("click"),s.getComponent(cc.Button).interactable=!0,s.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.stopAllActions(),l();case 2:case"end":return e.stop()}},e)})));case 17:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},showBonusDoubleWin:function(e){var t=this;return new Promise(function(){var n=o(regeneratorRuntime.mark(function n(a,o){var i,r,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect("double_popup"),t._bonusDoubleWinUI.active=!0,cc.find("mainnode1",t._bonusDoubleWinUI).active=1===e,cc.find("mainnode2",t._bonusDoubleWinUI).active=2===e,i=cc.find(1===e?"mainnode1":"mainnode2",t._bonusDoubleWinUI),cc.find("bg_1",i).active=1===e,cc.find("bg_2",i).active=2===e,r=cc.find("bg_"+e,i),c=cc.find("spine",i),r.setScale(0),cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),cc.vv.gameData.playSpine(c,cc.js.formatStr("animation%s_1",e),!1,function(){cc.vv.gameData.playSpine(c,cc.js.formatStr("animation%s_2",e),!0)}),n.next=14,cc.vv.gameData.awaitTime(1.5);case 14:return cc.tween(r).to(.5,{scale:0},{easing:"backIn"}).start(),cc.vv.gameData.playSpine(c,cc.js.formatStr("animation%s_3",e),!1),n.next=18,cc.vv.gameData.awaitTime(.5);case 18:t._bonusDoubleWinUI.active=!1,a();case 20:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},playBonusQPAnim:function(){Global.SlotsSoundMgr.playEffect("transition2");var e=this;cc.vv.gameData.playSpine(this._transition2,"animation",!1,function(){e._transition2.active=!1})},playFreeQPAnim:function(){Global.SlotsSoundMgr.playEffect("transition1");var e=this;cc.vv.gameData.playSpine(this._transition1,"animation",!1,function(){e._transition1.active=!1})}}),cc._RF.pop()},{}]},{},["Fenrir_BonusGameMgr","Fenrir_BonusReel","Fenrir_BonusSlots","Fenrir_BoxUI","Fenrir_Boxitem","Fenrir_Cfg","Fenrir_GameData","Fenrir_Logic","Fenrir_PawInfo","Fenrir_Reel","Fenrir_SFreeMgr","Fenrir_SFreeReel","Fenrir_SFreeSlots","Fenrir_Slots","Fenrir_Symbol","Fenrir_UIMgr"]);