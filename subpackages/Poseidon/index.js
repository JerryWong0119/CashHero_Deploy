window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var m=n[r]={exports:{}};t[r][0].call(m.exports,function(e){return i(t[r][1][e]||e)},m,m.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Poseidon_Cfg:[function(e,t,n){"use strict";var o;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"a6bb5GQilhKu7MMVRpNfkP+","Poseidon_Cfg");var a={symbol:(o={},i(o,1,{node:"symbol_1",win_node:"animation_1",win_ani:{name:"animation",zIndex:300},stop_ani:{name:"animation1",zIndex:100}}),i(o,2,{node:"symbol_2",win_node:"animation_2",win_ani:{name:"animation",zIndex:400},stop_ani:{name:"animation1",zIndex:100}}),i(o,3,{node:"symbol_3",win_node:"animation_3",win_ani:{name:"animation",zIndex:300},stop_ani:{name:"animation1",zIndex:100}}),i(o,4,{node:"symbol_4",win_node:"animation_4",win_ani:{name:"animation",zIndex:300}}),i(o,5,{node:"symbol_5",win_node:"animation_5",win_ani:{name:"animation",zIndex:300}}),i(o,6,{node:"symbol_6",win_node:"animation_6",win_ani:{name:"animation",zIndex:300}}),i(o,7,{node:"symbol_7",win_node:"animation_7",win_ani:{name:"animation",zIndex:300}}),i(o,8,{node:"symbol_8",win_node:"animation_8",win_ani:{name:"animation",zIndex:300}}),i(o,9,{node:"symbol_9"}),i(o,10,{node:"symbol_10"}),i(o,11,{node:"symbol_11"}),i(o,12,{node:"symbol_12"}),i(o,13,{node:"symbol_13"}),o),puzzleCfg:{atlas:"puzzle_10",bg:"theme_store_puzzle10_bg",full:"theme_store_puzzle10_full",pieces:["theme_store_puzzle_10_1","theme_store_puzzle_10_2","theme_store_puzzle_10_3","theme_store_puzzle_10_4","theme_store_puzzle_10_5","theme_store_puzzle_10_6","theme_store_puzzle_10_7","theme_store_puzzle_10_8","theme_store_puzzle_10_9","theme_store_puzzle_10_10","theme_store_puzzle_10_11","theme_store_puzzle_10_12"]},scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"Poseidon_Slots",Reels:"Poseidon_Reel",Symbols:"Poseidon_Symbol"},col:5,row:3,symbolPrefab:"symbol",symbolSize:{width:126,height:105},randomSymbols:[4,5,6,7,8,9,10,11,12,13],wildId:1,scatterId:2,bonusId:3,kuang:"kuang",autoModelDelay:.5,speed:3e3,reelStopInter:.2,auto_stop_time:1,AddAntiTime:2,bounce:!0,helpItems:["games/Poseidon/prefab/help_item_1","games/Poseidon/prefab/help_item_2","games/Poseidon/prefab/help_item_3","games/Poseidon/prefab/help_item_4","games/Poseidon/prefab/help_item_5","games/Poseidon/prefab/help_item_6"],commEffect:{path:"games/Poseidon/",win1:["win1","win1end"],win2:["win2","win2end"]},bounceInfo:{distance:30,time:.1},normalBgm:"music_Poseidon_respin_bg",reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/Poseidon/",reelStopSound:"reel_stop",symbolStopSound:"symbol_scatter",antSound:"reel_notify",antSpeed:2e3}]};t.exports=a,cc._RF.pop()},{}],Poseidon_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"d88095dkY1OPZDc/L3H7b/K","Poseidon_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},onLoad:function(){this._super();var e=cc.find("safe_node/wheel",this.node).getComponent("Poseidon_Wheel");cc.vv.gameData.GetSlotsScript().setWheelScripts(e)}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Poseidon_Reel:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,r=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"1725fUUa1tAZrr16mPx7DpW","Poseidon_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},StartMove:function(){this.StartRecycleSymbol(),this._super()},playReelStop:function(){this._super();for(var e=cc.vv.gameData.getGameCfg(),t=0;t<e.row;t++){var n=this._symbols[t];n.GetShowId()===e.wildId&&(0===this._reelIdx||1===this._reelIdx&&cc.vv.gameData.GetSlotsScript().haveWildInReel(0))&&n.playStopAnimation()}for(var o=0;o<e.row;o++){if(this._symbols[o].GetShowId()===e.bonusId&&cc.vv.gameData.GetSlotsScript().haveWildInReel(0)&&cc.vv.gameData.GetSlotsScript().haveWildInReel(1)){cc.vv.AudioManager.playEff("games/Poseidon/","symbol_bonus",!0);break}}},StartRecycleSymbol:function(){var e=cc.vv.gameData.getGameCfg();this._symbols.length>e.row+1&&this.AddCount(-(this._symbols.length-(e.row+1)),.5,.5)},GetSymbolPosByRow:function(e){var t=cc.vv.gameData.getGameCfg();return this._symbols[e].GetShowId()===t.bonusId?cc.v2(0,(e+.5)*t.symbolSize.height+12):cc.v2(0,(e+.5)*t.symbolSize.height)},GetResizeHeightObjs:function(){var e=[],t=cc.find("mask",this.node);t&&e.push(t);var n=cc.find("reels_bg/reel_bg"+(this._reelIdx+1),this.node.parent.parent);if(n&&e.push(n),2===this._reelIdx)for(var o=1;o<=4;o++){var i=cc.find("reels_frame/line_"+o,this.node.parent.parent);i&&e.push(i)}return e},GetResizeMoveingObjs:function(){var e=[];if(2===this._reelIdx){var t=cc.find("reels_frame/top_bg",this.node.parent.parent);t&&e.push(t)}return e},isHaveScatter:function(){var e,t=cc.vv.gameData.getGameCfg(),n=o(this._symbols);try{for(n.s();!(e=n.n()).done;){if(e.value.GetShowId()===t.scatterId)return!0}}catch(e){n.e(e)}finally{n.f()}return!1},setScatterBgVisible:function(e){var t=cc.find("mask/anti_bg",this.node);t&&(t.active=e)}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Poseidon_Slots:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,r=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t,n,o,i,a,r){try{var s=e[a](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"55218KfvsZDpJw+MJFjGCdZ","Poseidon_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{wheel_script:null,_haveCheckWheel:!1,_bgm:!1,_playRoleAnimation:!0,_roleAnimationTimer:10},Init:function(){var e=this;this._super(),cc.winSize.height/cc.winSize.width>2.1?cc.find("logo",this.node.parent).active=!0:cc.find("logo",this.node.parent).active=!1,this.node.parent.parent.getComponent("LMSlots_Puzzle").setCallback(function(t,n){cc.vv.gameData.SetTotalFree(t.freeCnt),cc.vv.gameData.SetFreeTime(t.freeCnt);var o=cc.find("free_dialog",e.node.parent);o.active=!0,Global.SlotsSoundMgr.stopBgm(),cc.vv.AudioManager.playEff("games/Poseidon/","free_dialog_start_show",!0);var i=o.getChildByName("tcjingzi");i.getComponent(sp.Skeleton).clearTracks(),i.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),i.getComponent(sp.Skeleton).setCompleteListener(function(t){if("animation"===(t.animation?t.animation.name:"")){var n=o.getChildByName("enter_node");n.active=!0,n.scale=0,n.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)));var a=n.getChildByName("btn_start");a.off("click");var r=function(){o.active=!1,n.active=!1,cc.vv.AudioManager.playEff("games/Poseidon/","popup_out",!0),e.scheduleOnce(function(){e._showGameBg(!0),cc.find("role/jmnanren",e.node.parent).active=!1,e.wheel_script.enterWheelGame()},2),e.playQiepingAnim(function(){Global.SlotsSoundMgr.playBgm("music_Poseidon_freespin_bg"),e.CanDoNextRound()})};cc.vv.gameData.checkAutoPlay(a,r),a.on("click",function(){a.stopAllActions(),r()}),i.getComponent(sp.Skeleton).clearTracks(),i.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0)}})})},StartMove:function(){this._super(),cc.find("kuanghuo",this.node).active=!1,this.hideScatterBg(),Global.SlotsSoundMgr.playNormalBgm()},onMsgSpine:function(e){this._super(e),this._getWildNum()>=2&&this._bottomScript.ShowBtnsByState("moveing_1")},CheckEnterFreeGame:function(){var e=this,t=cc.find("free_dialog",this.node.parent);if(this._gameInfo.allFreeCnt>0&&this._gameInfo.freeCnt===this._gameInfo.allFreeCnt){cc.vv.AudioManager.playEff("games/Poseidon/","bell",!0);for(var n=0;n<this._gameInfo.resultCards.length;n++){if(this._gameInfo.resultCards[n]===this._cfg.scatterId){var o=this.GetSymbolByIdx(n+1);o&&o.playWinAnimation()}}this.Backup(),Global.SlotsSoundMgr.stopBgm();var i=this;return this.scheduleOnce(function(){t.active=!0,cc.vv.AudioManager.playEff("games/Poseidon/","free_dialog_start_show",!0);var n=t.getChildByName("tcjingzi");n.getComponent(sp.Skeleton).clearTracks(),n.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(o){if("animation"===(o.animation?o.animation.name:"")){var a=t.getChildByName("enter_node");a.active=!0,a.scale=0,a.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)));var r=a.getChildByName("btn_start");r.off("click");var s=function(){t.active=!1,a.active=!1,cc.vv.AudioManager.playEff("games/Poseidon/","popup_out",!0),e.scheduleOnce(function(){e._showGameBg(!0),cc.find("role/jmnanren",e.node.parent).active=!1,e.wheel_script.enterWheelGame()},2),e.playQiepingAnim(function(){Global.SlotsSoundMgr.playBgm("music_Poseidon_freespin_bg"),i.CanDoNextRound()})};cc.vv.gameData.checkAutoPlay(r,s),r.on("click",function(){r.stopAllActions(),s()}),n.getComponent(sp.Skeleton).clearTracks(),n.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0)}})},1),!0}if(this._gameInfo.freeResult&&this._gameInfo.freeResult.freeInfo&&this._gameInfo.freeResult.freeInfo.freeCnt>0){cc.vv.AudioManager.playEff("games/Poseidon/","bell",!0);for(var a=0;a<this._gameInfo.resultCards.length;a++){if(this._gameInfo.resultCards[a]===this._cfg.scatterId){var r=this.GetSymbolByIdx(a+1);r&&r.playWinAnimation()}}return this.scheduleOnce(function(){t.active=!0,cc.vv.AudioManager.playEff("games/Poseidon/","free_dialog_more_show",!0);var n=t.getChildByName("tcjingzi");n.getComponent(sp.Skeleton).clearTracks(),n.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(o){if("animation"===(o.animation?o.animation.name:"")){var i=t.getChildByName("extra_node");i.active=!0,i.scale=0,i.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.1,1),cc.delayTime(1.5),cc.callFunc(function(){cc.vv.AudioManager.playEff("games/Poseidon/","popup_out",!0),t.active=!1,i.active=!1,e.CanDoNextRound()}))),n.getComponent(sp.Skeleton).clearTracks(),n.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0)}})},1),!0}return!1},CheckExitFreeGame:function(){var e=this,t=this._gameInfo.freeWinCoin,n=cc.vv.gameData.GetFreeTime();if(t>=0&&0===n&&cc.vv.gameData.GetTotalFree()>0){var o=cc.find("free_dialog",this.node.parent);o.active=!0,Global.SlotsSoundMgr.stopBgm(),cc.vv.AudioManager.playEff("games/Poseidon/","free_dialog_collect_show",!0);var i=o.getChildByName("result_node"),a=i.getChildByName("coin_bg").getChildByName("num");a.getComponent(cc.Label).string="";var r=o.getChildByName("tcjingzi");return r.getComponent(sp.Skeleton).clearTracks(),r.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),r.getComponent(sp.Skeleton).setCompleteListener(function(n){if("animation"===(n.animation?n.animation.name:"")){i.active=!0,i.scale=0,i.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.1,1),cc.callFunc(function(){a.active=!0,Global.doRoallNumEff(a,0,t,3,null,null,0,!0)})));var c=i.getChildByName("btn_collect");c.off("click");var l=function(){var n=s(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(c.off("click"),a.stopAllActions(),!(Global.FormatCommaNumToNum(a.getComponent(cc.Label).string)<t)){n.next=6;break}return a.getComponent(cc.Label).string=Global.FormatNumToComma(t),n.next=6,cc.vv.gameData.awaitTime(.4);case 6:cc.vv.AudioManager.playEff("games/Poseidon/","popup_out",!0),o.active=!1,i.active=!1,e.playQiepingAnim(function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e.ShowBottomWin(t,t,!0,function(){e.CanDoNextRound()})}),e.scheduleOnce(function(){cc.find("role/jmnanren",e.node.parent).active=!0,e.wheel_script.exitWheelGame(),e._bottomScript.ShowFreeModel(!1),e._showGameBg(!1),e.Resume()},2.2);case 11:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();cc.vv.gameData.checkAutoPlay(c,l),c.on("click",function(){c.stopAllActions(),l()}),r.getComponent(sp.Skeleton).clearTracks(),r.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0)}}),!0}return!1},playQiepingAnim:function(e){return s(regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=cc.find("Canvas/safe_node/role")).active=!1,o=cc.find("Canvas/safe_node/qieping"),cc.vv.AudioManager.playEff("games/Poseidon/","music_Poseidon_GC_ShuiWoXuan",!0),o.active=!0,o.getComponent(sp.Skeleton).clearTracks(),o.getComponent(sp.Skeleton).setAnimation(0,"skill",!1),t.next=9,cc.vv.gameData.awaitTime(2.5);case 9:return e&&e(),t.next=12,cc.vv.gameData.awaitTime(.4);case 12:o.active=!1,n.active=!0;case 14:case"end":return t.stop()}},t)}))()},GetReelStopInter:function(e){var t=this._cfg.reelStopInter||.6;if(this._getWildNum()>=2&&e>=2){var n=this._getAddCount();if(1===n)return t+1.5+2*(e-1);if(2===n)return t+3.5+2*(e-1)}return e*t},ShowWinTrace:function(){this._super()},OnSpinEnd:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._bottomScript.ShowBtnsByState("moveing_1"),!((n=cc.vv.gameData.GetGameWin())>0)){t.next=10;break}if(!(cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime())){t.next=7;break}e.wheel_script.startWheel(e._gameInfo.coinExtraMult.id),t.next=8;break;case 7:return t.delegateYield(regeneratorRuntime.mark(function t(){var i,a,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cc.find("kuanghuo",e.node).active=!1,i=0,!(e._getWildNum()>=2)){t.next=20;break}a=o(e._gameInfo.winIdxs),t.prev=5,s=regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.value,(o=e.GetSymbolByIdx(n)).GetShowId()!==e._cfg.bonusId||!o.GetData()){t.next=7;break}return o.playGetCoinAnimation(function(){e._playBonusSpine(),i+=o.GetData().coin,e._bottomScript.SetWin(i)}),cc.vv.AudioManager.playEff("games/Poseidon/","bonus_result",!0),t.next=7,e.awaitTime(2);case 7:case"end":return t.stop()}},t)}),a.s();case 8:if((r=a.n()).done){t.next=12;break}return t.delegateYield(s(),"t0",10);case 10:t.next=8;break;case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(5),a.e(t.t1);case 17:return t.prev=17,a.f(),t.finish(17);case 20:e.ShowWinTrace(),e.ShowBottomWin(n-i,n,!0,function(){e.CheckExitFreeGame()||e.CheckSpecialReward()||e.CanDoNextRound()});case 22:case"end":return t.stop()}},t,null,[[5,14,17,20]])})(),"t0",8);case 8:t.next=11;break;case 10:e.CheckExitFreeGame()||e.CheckSpecialReward()||e.CanDoNextRound();case 11:case"end":return t.stop()}},t)}))()},OnReelSpinEnd:function(e){var t=this;return s(regeneratorRuntime.mark(function n(){var o,i,a,r,s,c,l,m,u,_;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._super(e),!(1===e&&t._getWildNum()>=2)){n.next=15;break}return(o=cc.find("kuanghuo",t.node)).active=!0,o.getComponent(sp.Skeleton).clearTracks(),o.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),cc.vv.AudioManager.playEff("games/Poseidon/","reel_up",!0),cc.vv.AudioManager.playEff("games/Poseidon/","bonus_notify",!0),n.next=10,t.awaitTime(.7);case 10:for(i=t._getAddCount(),a=1===i?.5:1.5,o.runAction(cc.sequence(cc.delayTime(a),cc.callFunc(function(){1===i?(o.getComponent(sp.Skeleton).clearTracks(),o.getComponent(sp.Skeleton).setAnimation(0,"animation1",!0)):(o.getComponent(sp.Skeleton).clearTracks(),o.getComponent(sp.Skeleton).setAnimation(0,"animation0",!0))}))),r=function(e){var n=t._reels[e];1===i?n.AddCount(1,.5,.5):n.node.runAction(cc.sequence(cc.callFunc(function(){n.AddCount(1,.5,.5)}),cc.delayTime(1),cc.callFunc(function(){n.AddCount(1)})))},s=2;s<5;s++)r(s);case 15:if((2===e||3===e)&&t._getWildNum()>=2&&cc.vv.AudioManager.playEff("games/Poseidon/","bonus_notify",!0),(c=t._reels[e]).isHaveScatter()&&c.setScatterBgVisible(!0),3===e){for(l=0,m=0;m<3;m++)t._reels[m].isHaveScatter()&&l++;1===l&&(t._reels[e].isHaveScatter()||t.hideScatterBg()),0===l&&c.setScatterBgVisible(!1)}else if(4===e){for(u=0,_=0;_<4;_++)t._reels[_].isHaveScatter()&&u++;cc.log(u),u<=1?t.hideScatterBg():2===u&&(t._reels[e].isHaveScatter()||t.hideScatterBg())}case 19:case"end":return n.stop()}},n)}))()},SetSlotsResult:function(e){for(var t=e.length/this._col,n=[],o=0;o<e.length;o++){Math.floor(o/t);var i=o%this._col;if(this._cfg.symbol[e[o]]){var a={};a.sid=e[o],e[o]===this._cfg.bonusId&&(a.data=this.getBonusCoinNum(o+1)),n[i]||(n[i]=[]),n[i].unshift(a)}}for(var r=0;r<this._reels.length;r++){var s=this._reels[r],c=n[r];s.SetResult(c)}},GetSymbolByIdx:function(e){var t=(e-1)%this._col,n=5-Math.floor((e-1)/this._col)-1;return this._reels[t].GetSymbolByRow(n)},ShowGameview:function(e){if(e){var t=cc.vv.gameData.GetTotalFree(),n=cc.vv.gameData.GetFreeTime();this._bottomScript.ShowFreeModel(!0,t-n,t);var o=cc.vv.gameData.GetTotalFreeWin();this._bottomScript.SetWin(o),cc.find("role/jmnanren",this.node.parent).active=!1,cc.find("wheel",this.node.parent).getComponent("Poseidon_Wheel").enterWheelGame(),Global.SlotsSoundMgr.playBgm("music_Poseidon_freespin_bg"),this.CanDoNextRound()}else this._bottomScript.ShowFreeModel(!1);var i=cc.find("Canvas/safe_node/spr_bg_normal"),a=cc.find("Canvas/safe_node/spr_bg_free");a&&(i&&(i.active=!e),a.active=e),cc.find("LMSlots_Collect_Puzzle",this.node.parent).active=!e},update:function(e){if(this._stopTime>0&&(this._stopTime=this._stopTime-e,this._stopTime<=0))if(this.CanStopSlot()){this._getWildNum()<2&&this._bottomScript.ShowBtnsByState("moveing_2");for(var t=0;t<this._reels.length;t++){var n=this._reels[t],o=this.GetReelStopInter(t);n.StopMove(o)}}else this._stopTime=e;if(this._playRoleAnimation&&(this._roleAnimationTimer-=e,this._roleAnimationTimer<=0)){this._playRoleAnimation=!1,this._roleAnimationTimer=10;var i=cc.find("role/jmnanren",this.node.parent),a="";a=(Math.random(),"Idle"),i.getComponent(sp.Skeleton).clearTracks(),i.getComponent(sp.Skeleton).setAnimation(0,a,!0)}},setWheelScripts:function(e){this.wheel_script=e},getBonusCoinNum:function(e){var t=this._gameInfo.coinIdxs.indexOf(e);if(-1!==t&&t<this._gameInfo.coinList.length)return this._gameInfo.coinList[t]},changeCoin:function(){var e,t=o(this._gameInfo.winIdxs);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=this.GetSymbolByIdx(n);i.GetShowId()===this._cfg.bonusId&&i.GetData()&&i.changeCoinNum(i.GetData(),this._gameInfo.coinExtraMult.mult)}}catch(e){t.e(e)}finally{t.f()}},playGetCoinInFree:function(e){var t=this;return s(regeneratorRuntime.mark(function e(){var n,i,a,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(cc.find("kuanghuo",t.node).active=!1,n=0,!(t._getWildNum()>=2)){e.next=20;break}i=o(t._gameInfo.winIdxs),e.prev=5,r=regeneratorRuntime.mark(function e(){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.value,(i=t.GetSymbolByIdx(o)).GetShowId()!==t._cfg.bonusId||!i.GetData()){e.next=6;break}return i.playGetCoinAnimation(function(){t._playBonusSpine(),n+=i.GetData().coin,t._bottomScript.ShowWin(i.GetData().coin,1,null,null)}),e.next=6,t.awaitTime(2);case 6:case"end":return e.stop()}},e)}),i.s();case 8:if((a=i.n()).done){e.next=12;break}return e.delegateYield(r(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),i.e(e.t1);case 17:return e.prev=17,i.f(),e.finish(17);case 20:cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetFreeTime()!==cc.vv.gameData.GetTotalFree()>0&&t.ShowWinTrace(),s=cc.vv.gameData.GetGameWin(),t.ShowBottomWin(s-n,cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){t.CheckExitFreeGame()?t._bottomScript.ShowFreeModel(!1):t.CheckSpecialReward()||t.CanDoNextRound()});case 23:case"end":return e.stop()}},e,null,[[5,14,17,20]])}))()},hideScatterBg:function(){var e,t=o(this._reels);try{for(t.s();!(e=t.n()).done;){e.value.setScatterBgVisible(!1)}}catch(e){t.e(e)}finally{t.f()}},haveWildInReel:function(e){var t=this._reels[e];if(t)for(var n=0;n<this._cfg.row;n++){var o=t.GetSymbolByRow(n);if(o&&o.GetShowId()===this._cfg.wildId)return!0}return!1},_getWildNum:function(){var e=0,t=0,n=0;if(this._gameInfo)for(var o=0;o<this._gameInfo.resultCards.length;o++){var i=this._gameInfo.resultCards[o];o%5==0&&i===this._cfg.wildId&&0===t&&(t=1,e++),o%5==1&&i===this._cfg.wildId&&0===n&&(n=1,e++)}return e},_playBonusSpine:function(){var e=cc.find("bonus_node/bouns_sj_01",this.node.parent);e&&(e.active=!0,e.position=e.parent.convertToNodeSpaceAR(this._bottomScript.getWinLabelNor().convertToWorldSpaceAR(cc.v2(0,0))),e.getComponent(sp.Skeleton).clearTracks(),e.getComponent(sp.Skeleton).setToSetupPose(),e.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){e.active=!1}))},_getAddCount:function(){var e=0;if(this._gameInfo)for(var t=0;t<this._gameInfo.resultCards.length&&!(t>=10);t++){if(20!==this._gameInfo.resultCards[t]){e=t<=4?2:1;break}}return e},_showGameBg:function(e){var t=cc.find("Canvas/safe_node/spr_bg_normal"),n=cc.find("Canvas/safe_node/spr_bg_free");t.active=!e,n.active=e},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Poseidon_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"b997cNEzwlNoqsR3qH1aZG6","Poseidon_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},start:function(){},StartMove:function(){this._super(),this.setCoinText({coin:0,jackpotId:null})},setCoinText:function(e,t){var n=cc.find("coin_bg",this.node),o=n.getChildByName("coin"),i=n.getChildByName("minor"),a=n.getChildByName("major");if(e.jackpotId){switch(e.jackpotId){case 2:i.active=!0,a.active=!1;break;case 3:i.active=!1,a.active=!0;break;default:i.active=!1,a.active=!1}n.active=!0,o.active=!1}else e.coin&&0!==e.coin?(i.active=!1,a.active=!1,e.coin=t?e.coin*t:e.coin,o.getComponent(cc.Label).string=Global.formatNumShort(e.coin),n.active=!0,o.active=!0):n.active=!1},ShowById:function(e,t){this._super(e,t),t&&this.setCoinText(t)},playStopAnimation:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node&&t.symbol[e].stop_ani&&(this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0,""!==t.symbol[e].stop_ani.name)){this.node.zIndex=t.symbol[e].stop_ani.zIndex-this._symbolIdx+10*this._reelIdx;var n=this._showNode.getComponent(sp.Skeleton);if(n&&(n.setAnimation(0,t.symbol[e].stop_ani.name,!1),e===t.wildId)){var o=cc.vv.gameData.GetSlotsScript();(0===this._reelIdx&&this._symbolIdx<t.row||1===this._reelIdx&&o.haveWildInReel(0))&&cc.vv.AudioManager.playEff("games/Poseidon/","symbol_wild",!0)}}},playGetCoinAnimation:function(e){var t=this;this._showNode.runAction(cc.sequence(cc.scaleTo(.2,1.4),cc.callFunc(function(){var e=cc.find("symbol_3/fangdahuo",t.node);e.getComponent(sp.Skeleton).clearTracks(),e.getComponent(sp.Skeleton).setAnimation(0,"animation",!1)}),cc.delayTime(.5),cc.scaleTo(.2,1),cc.callFunc(function(){e&&e()}))),cc.find("coin_bg",this.node).runAction(cc.sequence(cc.scaleTo(.2,1.4),cc.delayTime(.5),cc.scaleTo(.2,1)))},changeCoinNum:function(e,t){var n=this,o=cc.find("symbol_3/shuzibao",this.node);o.active=!0,o.getComponent(sp.Skeleton).setToSetupPose(),o.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(){o.active=!1}),this.scheduleOnce(function(){n.setCoinText(e,t)},.1)}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}],Poseidon_Wheel:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,r){try{var s=e[a](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var r=e.apply(t,n);function s(e){o(r,i,a,s,c,"next",e)}function c(e){o(r,i,a,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"403eeo7k7hMopWqWq6xxOCu","Poseidon_Wheel"),cc.Class({extends:cc.Component,properties:{move_node_1:cc.Node,move_node_2:cc.Node,waikuang:cc.Node,xuanzhong:cc.Node,beishu:cc.Node,_commonMove:!1,_speed:50,_round:2,_needStop:!1,_minSpeed:800,_speedChangeInterval:20,_targetIndex:1,_endPosY:0,_startPosY:0,_successCallback:null,_beginStop:!1,_wheelCfg:[]},onLoad:function(){this._bottom_posY=this.move_node_1.y-this.move_node_1.height,this._reset_posY=this.move_node_2.y,this._startPosY=this.move_node_1.y,this._wheelCfg=[2,3,10,5,2,3,10,5,2,3,1e3,5]},update:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t._commonMove){n.next=29;break}if(t._beginStop&&(t._speed=1500),t.move_node_1.y-=e*t._speed,t.move_node_2.y-=e*t._speed,t.move_node_1.y<=t._bottom_posY&&(t.move_node_1.y=t._reset_posY,t._beginStop&&(t._round--,t._round<=0&&(t._round=0,t._needStop=!0))),t.move_node_2.y<=t._bottom_posY&&(t.move_node_2.y=t._reset_posY),!t._needStop){n.next=29;break}if(t.move_node_1.y-t._endPosY<=305&&(t._speed-=t._speedChangeInterval,t._speed<=t._minSpeed&&(t._speed=t._minSpeed)),!(t.move_node_1.y<=t._endPosY)){n.next=29;break}return t.move_node_1.y=t._endPosY,t._targetIndex>=6?t.move_node_2.y=t.move_node_1.y+t.move_node_1.height:t.move_node_2.y=t.move_node_1.y-t.move_node_1.height,t._commonMove=!1,cc.vv.AudioManager.playEff("games/Poseidon/","wheel_stop",!0),t.beishu.getComponent(sp.Skeleton).clearTracks(),t.beishu.getComponent(sp.Skeleton).setAnimation(0,"animation"+t._wheelCfg[t._targetIndex-1],!1),o="animation3",1e3===t._wheelCfg[t._targetIndex-1]?o="animation1":10===t._wheelCfg[t._targetIndex-1]&&(o="animation2"),t.xuanzhong.active=!0,t.xuanzhong.getComponent(sp.Skeleton).clearTracks(),t.xuanzhong.getComponent(sp.Skeleton).setAnimation(0,o,!0),t.xuanzhong.getComponent(sp.Skeleton).setCompleteListener(function(){t.xuanzhong.active=!1}),n.next=23,t.awaitTime(1.5);case 23:return cc.vv.AudioManager.playEff("games/Poseidon/","bonus_num",!0),cc.vv.gameData.GetSlotsScript().changeCoin(),n.next=27,t.awaitTime(1);case 27:t.reset(),cc.vv.gameData.GetSlotsScript().playGetCoinInFree();case 29:case"end":return n.stop()}},n)}))()},enterWheelGame:function(){this.node.active=!0,this.reset(),this._commonMove=!0},exitWheelGame:function(){this._commonMove=!1,this.node.active=!1},startWheel:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n._targetIndex=e,n._successCallback=t,n._caculateEndPosY(),n.waikuang.active=!0,o.next=6,n.awaitTime(1);case 6:n._beginStop=!0,cc.vv.AudioManager.playEff("games/Poseidon/","wheel",!0);case 8:case"end":return o.stop()}},o)}))()},reset:function(){this._commonMove=!0,this._speed=50,this._needStop=!1,this._beginStop=!1,this._round=2,this.waikuang.active=!1},_caculateEndPosY:function(){this._endPosY=this._startPosY-61*(this._targetIndex-6)},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{}]},{},["Poseidon_Cfg","Poseidon_Logic","Poseidon_Reel","Poseidon_Slots","Poseidon_Symbol","Poseidon_Wheel"]);