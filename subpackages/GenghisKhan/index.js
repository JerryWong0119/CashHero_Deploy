window.__require=function e(t,n,o){function a(s,r){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return a(t[s][1][e]||e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<o.length;s++)a(o[s]);return a}({GenghisKhan_Bottom:[function(e,t,n){"use strict";cc._RF.push(t,"9d725QqRD1Bo4Df+O8u17Sp","GenghisKhan_Bottom"),cc.Class({extends:e("LMSlots_Bottom_Base"),properties:{},showTotalBet:function(e){cc.find("totalBetBg",this.node).active=e},ShowBtnsByState:function(e){this._super(e),cc.vv.gameData.GetSlotsScript()._stopClick.active="moveing_2"==e}}),cc._RF.pop()},{LMSlots_Bottom_Base:void 0}],GenghisKhan_Cfg:[function(e,t,n){"use strict";var o;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"d333aTKKshGy5NQ9GPlTlCw","GenghisKhan_Cfg");var i={symbol:(o={},a(o,1,{node:"s1",win_node:"w1",win_ani:{name:"animation1",zIndex:200},trigger_ani:{name:"animation",zIndex:160}}),a(o,2,{node:"s13",win_node:"w13",win_ani:{name:"animation2",zIndex:800},stop_ani:{name:"animation",zIndex:160},idle_ani:{name:"animation1",zIndex:160}}),a(o,3,{node:"s14",win_node:"w14",stop_ani:{name:"animation",zIndex:160},trigger_ani:{name:"animation2",zIndex:160}}),a(o,4,{node:"s2",win_node:"w2",win_ani:{name:"animation",zIndex:200}}),a(o,5,{node:"s3",win_node:"w3",win_ani:{name:"animation",zIndex:200}}),a(o,6,{node:"s4",win_node:"w4",win_ani:{name:"animation",zIndex:200}}),a(o,7,{node:"s5",win_node:"w5",win_ani:{name:"animation",zIndex:200}}),a(o,8,{node:"s6",win_node:"w6",win_ani:{name:"animation",zIndex:200}}),a(o,9,{node:"s7",win_node:"w7",win_ani:{name:"animation",zIndex:200}}),a(o,10,{node:"s8",win_node:"w8",win_ani:{name:"animation",zIndex:200}}),a(o,11,{node:"s9",win_node:"w9",win_ani:{name:"animation",zIndex:200}}),a(o,12,{node:"s10",win_node:"w10",win_ani:{name:"animation",zIndex:200}}),a(o,13,{node:"s11",win_node:"w11",win_ani:{name:"animation",zIndex:200}}),a(o,14,{node:"s12",win_node:"w12",win_ani:{name:"animation",zIndex:200}}),a(o,101,{node:"s200",win_node:"w16",win_ani:{name:"animation2",zIndex:200}}),a(o,102,{node:"s300",win_node:"w16",win_ani:{name:"animation3",zIndex:200}}),a(o,103,{node:"s500",win_node:"w16",win_ani:{name:"animation5",zIndex:200}}),a(o,104,{node:"s800",win_node:"w16",win_ani:{name:"animation8",zIndex:200}}),a(o,105,{node:"s1000",win_node:"w16",win_ani:{name:"animation10",zIndex:200}}),a(o,106,{node:"s17",win_node:"w15",win_ani:{name:"animation3",zIndex:200}}),a(o,107,{node:"s16",win_node:"w15",win_ani:{name:"animation2",zIndex:200}}),a(o,108,{node:"s15",win_node:"w15",win_ani:{name:"animation1",zIndex:200}}),o),scripts:{Top:"LMSlots_Top_Base",Bottom:"GenghisKhan_Bottom",Slots:"GenghisKhan_Slots",Reels:"GenghisKhan_reel",Symbols:"GenghisKhan_symbol",Sound:"GenghisKhan_sound"},col:5,row:4,symbolPrefab:"LMSlots_Symbol",symbolSize:{width:125,height:105},help_prefab:"games/GenghisKhan/prefab/LMSlots_Help_prefab",helpItems:["games/GenghisKhan/prefab/LMSlots_Help_item1","games/GenghisKhan/prefab/LMSlots_Help_item2","games/GenghisKhan/prefab/LMSlots_Help_item3","games/GenghisKhan/prefab/LMSlots_Help_item4","games/GenghisKhan/prefab/LMSlots_Help_item5","games/GenghisKhan/prefab/LMSlots_Help_item6","games/GenghisKhan/prefab/LMSlots_Help_item7"],scatterId:2,autoModelDelay:1,randomSymbols:[1,1,1,4,4,4,5,5,5,6,6,6,6,6,7,7,7,7,7,8,8,8,8,8,9,9,9,9,9,10,10,10,10,10,11,11,11,11,11,12,12,12,12,12,13,13,13,13,13,14,14,14,14,14],randomSymbols_move:[2,3,1,1,1,4,4,4,5,5,5,6,6,6,6,6,7,7,7,7,7,8,8,8,8,8,9,9,9,9,9,10,10,10,10,10,11,11,11,11,11,12,12,12,12,12,13,13,13,13,13,14,14,14,14,14],randomSymbols_bonus:[1,101,102,103,104,105,106,107,108],kuang:"kuang",speed:1600,reelStopInter:.2,auto_stop_time:2,bounce:!0,bounceInfo:{distance:10,time:.2},commEffect:{path:"games/GenghisKhan/",win1:["win1","win1end"],win2:["win2","win2end"]},reelStateInfo:[{id:[3],mini:100,counts:[1,1,1,1,1,100],antiNode:"",path:"games/GenghisKhan/",reelStopSound:"reel_stop",symbolStopSound:"symbol_bonus",antSound:"",antSpeed:2e3},{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/GenghisKhan/",reelStopSound:"reel_stop",symbolStopSound:"symbol_scatter",antSound:"reel_notify",antSpeed:2e3}],reelStateInfoFree:[{id:[3],mini:100,counts:[1,1,1,1,1,100],antiNode:"",path:"games/GenghisKhan/",reelStopSound:"reel_stop",symbolStopSound:"symbol_bonus",antSound:"",antSpeed:2e3},{id:[2],mini:2,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/GenghisKhan/",reelStopSound:"reel_stop",symbolStopSound:"symbol_scatter",antSound:"reel_notify",antSpeed:2e3}],AddAntiTime:2,normalBgm:"base_bgm"};t.exports=i,cc._RF.pop()},{}],GenghisKhan_CollectNode:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var r=e[i](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function r(e){o(s,a,i,r,c,"next",e)}function c(e){o(s,a,i,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"204b3lNCfJMVJ0dSDIXJPKF","GenghisKhan_CollectNode"),cc.Class({extends:cc.Component,properties:{_suo:null,_clickNode:null,_pointList:[],_needBet:0,_collectLock:!0,_pointIndex:0,_maxCount:0,_superJL:null,_tips:null,_sjt:null},onLoad:function(){this._suo=cc.find("sjt_suo",this.node),this._clickNode=cc.find("clickNode",this.node);for(var e=1;e<7;e++){var t=cc.find("point"+e,this.node);this._pointList.push(t)}this._clickNode.on("click",this.onClickNode,this),this._superJL=cc.find("superJL",this.node),this._tips=cc.find("tips",this.node),this._sjt=cc.find("sjt",this.node)},onDestroy:function(){},start:function(){},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})},isSuperBonus:function(){return this._pointIndex==this._maxCount},show:function(){cc.tween(this.node).to(.5,{opacity:255}).start()},hide:function(){cc.tween(this.node).to(.5,{opacity:0}).start()},setCollectData:function(e,t){this._needBet=t,this._pointIndex=e.count||0,this._maxCount=e.totalCount;for(var n=0;n<this._pointIndex;n++){var o=this._pointList[n];cc.find("select",o).active=!0}this.initCollectNode(),this._maxCount-this._pointIndex==1?this._superJL.active=!0:this._superJL.active=!1},onClickNode:function(){cc.vv.gameData.GetSlotsScript()._isInFree||"idle"==cc.vv.gameData.GetSlotState()&&(cc.vv.gameData.GetAutoModelTime()>0||this._tips.active||this._needBet<=cc.vv.gameData._deskInfo.mults.length&&(cc.vv.gameData.GetBetIdx()>=this._needBet?this.showTips():cc.vv.gameData.GetBottomScript().SetBetIdx(this._needBet)))},showTips:function(){var e=this;this._tips.active=!0,this._tips.scale=0,this._tips.stopAllActions(),cc.tween(this._tips).to(.2,{scale:1},{easing:"backOut"}).delay(2).to(.2,{scale:0},{easing:"backIn"}).call(function(){e._tips.active=!1}).start()},initCollectNode:function(){cc.vv.gameData.GetBetIdx()>=this._needBet?(this._collectLock=!1,this._suo.active=!1,this.showTips()):(this._suo.active=!0,this._suo.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0),this._collectLock=!0)},changeCollectNode:function(){var e=this;if(cc.vv.gameData.GetBetIdx()>=this._needBet){if(this._collectLock){this._collectLock=!1;var t=this._suo.getComponent(sp.Skeleton);Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.collect_unlock),this._suo.active=!0,t.setAnimation(0,"animation3",!1),t.setCompleteListener(function(){e._suo.active=!1,t.setCompleteListener(null)})}}else if(!this._collectLock){this._collectLock=!0;var n=this._suo.getComponent(sp.Skeleton);Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.collect_lock),this._suo.active=!0,n.setAnimation(0,"animation1",!1),n.addAnimation(0,"animation2",!0)}},addPoint:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,a,i,s,r,c,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(cc.vv.gameData.GetBetIdx()<t._needBet)){n.next=3;break}return n.abrupt("return");case 3:for(t._pointIndex++,t._pointIndex>t._maxCount&&(t._pointIndex=t._maxCount),o=t._pointList[t._pointIndex-1],a=o.convertToWorldSpaceAR(cc.v2(0,0)),i=cc.vv.gameData.getManage()._collectFree.convertToNodeSpaceAR(a),s=0;s<e.length;s++)r=e[s],(c=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(r))&&function(){var e=c.node.convertToWorldSpaceAR(cc.v2(0,0)),t=cc.vv.gameData.getManage()._collectFree.convertToNodeSpaceAR(e),n=cc.instantiate(cc.vv.gameData.GetPrefabByName("scattershouji"));n.parent=cc.vv.gameData.getManage()._collectFree,n.position=t,cc.tween(n).to(.5,{position:i}).call(function(){n.parent=null}).start()}();return n.next=11,t.awaitTime(.5);case 11:if(cc.find("select",o).active=!0,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.collect_light),t._maxCount-t._pointIndex==1?t._superJL.active=!0:t._superJL.active=!1,!(t._pointIndex>=t._maxCount)){n.next=21;break}return n.next=17,t.awaitTime(.2);case 17:Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.collect_full),(l=t._sjt.getComponent(sp.Skeleton)).setAnimation(0,"animation2",!1),l.addAnimation(0,"animation1",!0);case 21:case"end":return n.stop()}},n)}))()},resetCollect:function(){for(var e=0;e<this._pointList.length;e++){var t=this._pointList[e];cc.find("select",t).active=!1}this._pointIndex=0,this._superJL.active=!1}}),cc._RF.pop()},{}],GenghisKhan_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"563e0I2jalJ9IDwfz3dQA99","GenghisKhan_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{_collectNode:null,_popWin:null,_qiePing:null,_slotsArr:[],_slotsIndex:0,_bonus:null,_manage:null},getCollectNode:function(){return this._collectNode},setCollectNode:function(e){this._collectNode=e},getPopWinManage:function(){return this._popWin},setPopWinManage:function(e){this._popWin=e},getQiePing:function(){return this._qiePing},setQiePing:function(e){this._qiePing=e},addSlots:function(e){this._slotsArr.push(e)},setSlotsIndex:function(e){this._slotsIndex=e},GetSlotsScript:function(){return this._slotsArr[this._slotsIndex]},GetSlotsScriptById:function(e){return this._slotsArr[e]},getBonus:function(){return this._bonus},setBonus:function(e){this._bonus=e},init:function(e,t,n){this._super(e,t,n),this._deskInfo.restFreeCount>0?this._slotsIndex=1:this._slotsIndex=0},showSlot:function(){for(var e=0;e<this._slotsArr.length;e++){var t=this._slotsArr[e];e==this._slotsIndex?t.show():t.hide()}},recoverySlot:function(){for(var e=0;e<this._slotsArr.length;e++){var t=this._slotsArr[e];e==this._slotsIndex?t.recovery():t.hide()}},getManage:function(){return this._manage},setManage:function(e){this._manage=e}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],GenghisKhan_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"56718gFsKNEoowF1khR6MGl","GenghisKhan_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},InitCommComponent:function(){this.FitIPad(),this.node.addComponent("BigWin");var e=cc.find("Canvas").getComponent("LMSlots_Asset_Base");cc.vv.gameData.SetAssetScript(e);var t=cc.find("safe_node",this.node),n=cc.vv.gameData.getGameCfg(),o="LMSlots_Sound";n.scripts.Sound&&(o=n.scripts.Sound),this.node.addComponent(o);var a=cc.find("LMSlots_Top",t).addComponent(n.scripts.Top);a.Init();var i=cc.find("LMSlots_Bottom",t).addComponent(n.scripts.Bottom);i.Init(),cc.vv.gameData.SetTopBottomScript(a,i);var s=cc.find("slots",t).addComponent(n.scripts.Slots);cc.vv.gameData.addSlots(s);var r=cc.find("slotsfree",t).addComponent(n.scripts.Slots);cc.vv.gameData.addSlots(r);var c=cc.find("slotssuper",t).addComponent(n.scripts.Slots);cc.vv.gameData.addSlots(c),this.node.addComponent("LMSots_OtherSys"),n.puzzleCfg&&this.node.addComponent("LMSlots_Puzzle");var l=cc.find("Canvas/safe_node/slots").getComponentInChildren("GenghisKhan_CollectNode");l&&cc.vv.gameData.setCollectNode(l);var u=t.getComponentInChildren("GenghisKhan_Pop");u&&cc.vv.gameData.setPopWinManage(u);var m=t.getComponentInChildren("GenghisKhan_qiePing");m&&cc.vv.gameData.setQiePing(m);var h=t.getComponentInChildren("GenghisKhan_bouns");h&&cc.vv.gameData.setBonus(h),cc.vv.gameData.setManage(this.node.getComponent("GenghisKhan_manage"))},StartSlot:function(){for(var e=cc.vv.gameData._slotsArr,t=0;t<e.length;t++){e[t].Init()}}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],GenghisKhan_Pop:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var r=e[i](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function r(e){o(s,a,i,r,c,"next",e)}function c(e){o(s,a,i,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"732a6T4R5lOuK+HIznjAcXp","GenghisKhan_Pop"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},showWin:function(){this.node.active=!0;var e=cc.find("popup",this.node);e.opacity=0,cc.tween(e).to(.3,{opacity:255}).start()},showWinEx:function(){this.node.active=!0,cc.find("popup",this.node).opacity=0},hideWin:function(e){var t=this,n=cc.find("popup",this.node);cc.tween(n).to(.3,{opacity:0}).call(function(){e&&e(),t.node.active=!1}).start()},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})},showFreeGameTimes:function(e){var t=this;return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,i){var s,r,c,l,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_dialog_start_show),t.showWin(),(s=cc.find("show_freeGameTimes",t.node)).active=!0,(r=cc.find("times",s)).active=!1,(c=cc.find("startButton",s)).active=!1,(l=cc.find("freetanchuang",s)).active=!0,(u=l.getComponent(sp.Skeleton)).setAnimation(0,"animation3",!1),u.addAnimation(0,"animation3_1",!0),n.next=15,t.awaitTime(.5);case 15:c.active=!0,c.scale=0,cc.tween(c).to(.2,{scale:1},{easing:"backOut"}).start(),r.active=!0,r.getComponent(cc.Label).string=e,c.getComponent(cc.Button).interactable=!0,c.off("click"),c.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.getComponent(cc.Button).interactable=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.click),e.next=4,t.awaitTime(.2);case 4:return u.setAnimation(0,"animation3_2",!1),u.setCompleteListener(function(){s.active=!1,t.hideWin(function(){o()}),u.setCompleteListener(null)}),e.next=8,t.awaitTime(.5);case 8:r.active=!1,cc.tween(c).to(.2,{scale:0},{easing:"backOut"}).start();case 10:case"end":return e.stop()}},e)})));case 23:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},showFreeGameWinCoin:function(e){var t=this;return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,i){var s,r,c,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_dialog_collect_show),t.showWin(),(s=cc.find("show_freeGame_winCoin",t.node)).active=!0,r=cc.find("coin",s),c=cc.find("collectBtn",s),r.active=!1,c.active=!1,(l=cc.find("freetanchuang",s).getComponent(sp.Skeleton)).setAnimation(0,"animation1",!1),l.addAnimation(0,"animation1_1",!0),n.next=13,t.awaitTime(.5);case 13:r.active=!0,r.scale=1,c.active=!0,c.scale=0,cc.tween(c).to(.2,{scale:1},{easing:"backOut"}).start(),t._startAddCoin=!0,Global.doRoallNumEff(r,Math.floor(.1*e),e,2.5,function(){t._startAddCoin=!1},null,0,!0),c.getComponent(cc.Button).interactable=!0,c.off("click"),c.on("click",a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c.getComponent(cc.Button).interactable=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.click),t._startAddCoin&&(t._startAddCoin=!1,r.stopAllActions(),r.getComponent(cc.Label).string=Global.FormatNumToComma(e)),n.next=5,t.awaitTime(.2);case 5:return l.setAnimation(0,"animation1_2",!1),l.setCompleteListener(function(){s.active=!1,t.hideWin(function(){o()}),l.setCompleteListener(null)}),n.next=9,t.awaitTime(.5);case 9:cc.tween(c).to(.2,{scale:0},{easing:"backIn"}).start(),cc.tween(r).to(.3,{scale:0},{easing:"backIn"}).start();case 11:case"end":return n.stop()}},n)})));case 23:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},showFreeGameWinFree:function(e){var t=this;return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,a){var i,s,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_retrigger_dialog_start_show),t.showWin(),(i=cc.find("show_freeGame_winfree",t.node)).active=!0,(s=cc.find("times",i)).active=!1,(r=cc.find("freetanchuang",i).getComponent(sp.Skeleton)).setAnimation(0,"animation2",!1),r.addAnimation(0,"animation2_1",!0),n.next=11,t.awaitTime(.5);case 11:return s.active=!0,s.scale=0,cc.tween(s).to(.2,{scale:1},{easing:"backOut"}).start(),s.getComponent(cc.Label).string=e,n.next=17,t.awaitTime(2);case 17:return r.setAnimation(0,"animation2_2",!1),r.setCompleteListener(function(){i.active=!1,t.hideWin(function(){o()}),r.setCompleteListener(null)}),n.next=21,t.awaitTime(.3);case 21:cc.tween(s).to(.2,{scale:0},{easing:"backIn"}).start();case 22:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},showSuperBonusStart:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,o){var i,s,r,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.mapfree_dialog_start_show),e.showWin(),(i=cc.find("show_superBonusStart",e.node)).active=!0,(s=cc.find("startButton",i)).active=!1,(r=cc.find("bonustanchuang",i)).active=!0,(c=r.getComponent(sp.Skeleton)).setAnimation(0,"animation2",!1),c.addAnimation(0,"animation2_1",!0),t.next=13,e.awaitTime(.5);case 13:s.active=!0,s.scale=0,cc.tween(s).to(.2,{scale:1},{easing:"backOut"}).start(),s.getComponent(cc.Button).interactable=!0,s.off("click"),s.on("click",a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.getComponent(cc.Button).interactable=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.click),t.next=4,e.awaitTime(.2);case 4:return c.setAnimation(0,"animation2_2",!1),c.setCompleteListener(function(){i.active=!1,e.hideWin(function(){n()}),c.setCompleteListener(null)}),t.next=8,e.awaitTime(.5);case 8:cc.tween(s).to(.2,{scale:0},{easing:"backOut"}).start();case 9:case"end":return t.stop()}},t)})));case 19:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},showBonusGameStart:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,o){var a,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bonus_dialog_start_show),e.showWinEx(),(a=cc.find("showBonusGame",e.node)).active=!0,(i=cc.find("bonuskaishi",a)).active=!0,(s=i.getComponent(sp.Skeleton)).setAnimation(0,"animation",!1),s.setCompleteListener(function(){a.active=!1,e.hideWin(function(){n()}),s.setCompleteListener(null)});case 9:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},showBonusGameFreeStart:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,o){var a,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bonus_dialog_start_show),e.showWinEx(),(a=cc.find("showBonusGameFree",e.node)).active=!0,(i=cc.find("bonuskaishi",a)).active=!0,(s=i.getComponent(sp.Skeleton)).setAnimation(0,"animation",!1),s.setCompleteListener(function(){a.active=!1,e.hideWin(function(){n()}),s.setCompleteListener(null)});case 9:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},showSuperBonusWinCoin:function(e){var t=this;return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,i){var s,r,c,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.mapfree_dialog_collect_show),t.showWin(),(s=cc.find("show_superBonusWinCoin",t.node)).active=!0,r=cc.find("coin",s),c=cc.find("collectBtn",s),r.active=!1,c.active=!1,(l=cc.find("bonustanchuang",s).getComponent(sp.Skeleton)).setAnimation(0,"animation1",!1),l.addAnimation(0,"animation1_1",!0),n.next=13,t.awaitTime(.5);case 13:r.active=!0,r.scale=1,c.active=!0,c.scale=0,cc.tween(c).to(.2,{scale:1},{easing:"backOut"}).start(),t._startAddCoin=!0,Global.doRoallNumEff(r,Math.floor(.1*e),e,2.5,function(){t._startAddCoin=!1},null,0,!0),c.getComponent(cc.Button).interactable=!0,c.off("click"),c.on("click",a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c.getComponent(cc.Button).interactable=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.click),t._startAddCoin&&(t._startAddCoin=!1,r.stopAllActions(),r.getComponent(cc.Label).string=Global.FormatNumToComma(e)),n.next=5,t.awaitTime(.2);case 5:return l.setAnimation(0,"animation1_2",!1),l.setCompleteListener(function(){s.active=!1,t.hideWin(function(){o()}),l.setCompleteListener(null)}),n.next=9,t.awaitTime(.5);case 9:cc.tween(c).to(.2,{scale:0},{easing:"backIn"}).start(),cc.tween(r).to(.3,{scale:0},{easing:"backIn"}).start();case 11:case"end":return n.stop()}},n)})));case 23:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},showJackpotWinCoin:function(e,t){var n=this;return new Promise(function(){var o=a(regeneratorRuntime.mark(function o(i,s){var r,c,l,u,m,h;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:0!==t&&(t-=1),o.t0=t,o.next=0===o.t0?4:1===o.t0?6:2===o.t0?8:3===o.t0?10:12;break;case 4:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bonus_dialog_collect_show),o.abrupt("break",12);case 6:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.MINOR_jp_dialog_collect_show),o.abrupt("break",12);case 8:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.Major_jp_dialog_collect_show),o.abrupt("break",12);case 10:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.Grand_jp_dialog_collect_show),o.abrupt("break",12);case 12:return n.showWin(),(r=cc.find("show_win_jackpot",n.node)).active=!0,c=cc.find("coin",r),l=cc.find("collectBtn",r),c.active=!1,l.active=!1,u=cc.find("jptanchuang_di",r).getComponent(sp.Skeleton),m=cc.find("jptanchuang_ma",r).getComponent(sp.Skeleton),h=cc.find("jptanchuang_ban",r).getComponent(sp.Skeleton),u.setAnimation(0,"animation"+(4-t),!1),u.addAnimation(0,"animation"+(4-t)+"_1",!0),m.setAnimation(0,"animation"+(4-t),!1),m.addAnimation(0,"animation"+(4-t)+"_1",!0),h.setAnimation(0,"animation"+(4-t),!1),h.addAnimation(0,"animation"+(4-t)+"_1",!0),o.next=30,n.awaitTime(.5);case 30:c.active=!0,l.active=!0,l.scale=0,cc.tween(l).to(.2,{scale:1},{easing:"backOut"}).start(),n._startAddCoin=!0,Global.doRoallNumEff(c,Math.floor(.1*e),e,2.5,function(){n._startAddCoin=!1},null,0,!0),l.getComponent(cc.Button).interactable=!0,l.off("click"),l.on("click",a(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return l.getComponent(cc.Button).interactable=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.click),n._startAddCoin&&(n._startAddCoin=!1,c.stopAllActions(),c.getComponent(cc.Label).string=Global.FormatNumToComma(e)),o.next=5,n.awaitTime(.2);case 5:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_out),u.setAnimation(0,"animation"+(4-t)+"_2",!1),m.setAnimation(0,"animation"+(4-t)+"_2",!1),h.setAnimation(0,"animation"+(4-t)+"_2",!1),u.setCompleteListener(function(){r.active=!1,n.hideWin(function(){i()}),u.setCompleteListener(null)}),o.next=12,n.awaitTime(.5);case 12:cc.tween(l).to(.2,{scale:0},{easing:"backIn"}).start(),c.active=!1;case 14:case"end":return o.stop()}},o)})));case 39:case"end":return o.stop()}},o)}));return function(e,t){return o.apply(this,arguments)}}())}}),cc._RF.pop()},{}],GenghisKhan_PrizePool:[function(e,t,n){"use strict";cc._RF.push(t,"621d57knjVP85zwXW1Gdnsk","GenghisKhan_PrizePool");var o=["Mini","Minor","Major","Grand"];cc.Class({extends:e("LMSlots_PrizePool_Base"),properties:{_lastLockJackpot:0},start:function(){var e=this;this._super(),this.scheduleOnce(function(){if(e.node.y+e.node.height/2>cc.winSize.height/2-74){var t=e.node.y+e.node.height/2-(cc.winSize.height/2-20);e.node.y-=t}},0)},ShowNodeLockByNode:function(e,t,n,a,i){if(a>0&&a<4){var s=o[a];if(this.updataJackPoolLock(a,t),s){var r=cc.find("Canvas/safe_node").getComponentInChildren("LMSlotMachine_PrizePool");if(r){var c=cc.find("prizePool_"+s,r.node.parent);if(c){var l=cc.find("lbl_num",c),u=(cc.find("spr_title",c),cc.find("liuguang",c)),m=cc.find("lockEffect",c);if(t){if(!i){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.jp_lock),m.active=!0;var h=m.getComponent(sp.Skeleton);h.setAnimation(0,"animation"+(4-a)+"_1",!1),h.setCompleteListener(function(){h.setCompleteListener(null),m.active=!1})}l.getComponent(cc.Label).font=cc.vv.gameData.GetFontByName("theme228_base2"),c.getComponent("ImgSwitchCmp").setIndex(1),u.active=!1}else{if(!i){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.jp_unlock),m.active=!0;var _=m.getComponent(sp.Skeleton);_.setAnimation(0,"animation"+(4-a)+"_2",!1),_.setCompleteListener(function(){_.setCompleteListener(null),m.active=!1})}l.getComponent(cc.Label).font=cc.vv.gameData.GetFontByName("theme228_base1"),c.getComponent("ImgSwitchCmp").setIndex(0),u.active=!0}}}}}},updataJackPoolLock:function(e,t){var n=e;if(t){if(this._nowUpdatePool<n)return;this._nowUpdatePool=n}else{if(this._nowUpdatePool>n)return;this._nowUpdatePool=n}var a=cc.find("Canvas/safe_node").getComponentInChildren("LMSlotMachine_PrizePool");if(a)for(var i=1;i<o.length;i++){var s=o[i],r=cc.find("tips_"+s,a.node.parent);r&&(e===i?t?(cc.find("lock",r).active=!0,cc.find("unlock",r).active=!1,r.scale=0,r.stopAllActions(),cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).delay(.5).to(.5,{scale:0},{easing:"backIn"}).start()):(cc.find("lock",r).active=!1,cc.find("unlock",r).active=!0,r.scale=0,r.stopAllActions(),cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).delay(.5).to(.5,{scale:0},{easing:"backIn"}).start()):(r.stopAllActions(),r.scale=0))}}}),cc._RF.pop()},{LMSlots_PrizePool_Base:void 0}],GenghisKhan_Slots:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,s=!0,r=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return s=e.done,e},e:function(e){r=!0,i=e},f:function(){try{s||null==o.return||o.return()}finally{if(r)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function s(e,t,n,o,a,i,s){try{var r=e[i](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,a)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){s(i,o,a,r,c,"next",e)}function c(e){s(i,o,a,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"813009Io9ZMn6ad7UUvsMP4","GenghisKhan_Slots");var c=["Mini","Minor","Major","Grand"];cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_canShowStop:!1,_canStop:!1,_normalSpine:null,_bonuskuang:null,_stayNode:null,_kuangFree:null,_bonusSpin:!1,_mask:null,_chufaFreeGame:!1,_stopClick:null},Init:function(){this._topScript=cc.vv.gameData.GetTopScript(),this._bottomScript=cc.vv.gameData.GetBottomScript(),this._cfg=cc.vv.gameData.getGameCfg(),this._col=this._cfg.col,this._row=this._cfg.row,"slots"!==this.node.name&&(this._row=8),this.createReels(this._col,this._row),this._bottomScript.ShowBtnsByState("idle"),this.RegisterEvent(),this.ReconnectShow()},onLoad:function(){this._super(),this._normalSpine=cc.find("reels_bg/click",this.node),this._bonuskuang=cc.find("kuang_lz",this.node),this._bonuskuang.active=!1,this._stayNode=cc.find("stayNode",this.node),this._kuangFree=cc.find("kuang_sd",this.node),this._kuangFree.active=!1,this._mask=cc.find("mask",this.node),this._stopClick=cc.find("reels_bg/stopClick",this.node),this._stopClick.active=!1,Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onEventTotalbetUpdated,this)},show:function(){var e=this;this.node.active=!0,"slots"!==this.node.name&&(this.clearSlots(),this.scheduleOnce(function(){e.node.y=-900-cc.winSize.height/2;var t=-cc.winSize.height/2+189;Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_rise),cc.tween(e.node).to(.5,{y:t}).start()},0))},recovery:function(){var e=this;this.node.active=!0,"slots"!==this.node.name&&this.scheduleOnce(function(){e.node.y=-cc.winSize.height/2+189})},hide:function(){this.node.active=!1,"slots"!==this.node.name&&(this.node.y=-900-cc.winSize.height/2)},slotsSpine:function(){this._bottomScript.OnClickSpin()},stopSpin:function(){this._stopClick.active=!1,this._bottomScript.OnClickStop()},CanDoNextRound:function(){this._super(),"slots"===this.node.name&&(this._normalSpine.getComponent(cc.Button).interactable=this._bottomScript.GetSpinBtnState())},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})},ShowWinTrace:function(){this._super()},StartMove:function(){"slots"===this.node.name&&(this._normalSpine.getComponent(cc.Button).interactable=!1),Global.SlotsSoundMgr.playNormalBgm(),this._bStopRightnow=null,this._gameInfo=null,this._topScript.StartMove(),cc.vv.gameData.ClearOneRoundData(),this.MoveReels(this._reels),this._stopTime=this.GetStopTime(),this._canShowStop=!0,this._canStop=!1,this._bonusSpin=!1},startBonusMove:function(e){this._gameInfo.resultCards=Global.copy(e.resultCards),this._gameInfo.winCoin=Global.copy(e.winCoin),this._gameInfo.zjLuXian=Global.copy(e.zjLuXian),e.jackpot?this._gameInfo.jackpot=Global.copy(e.jackpot):this._gameInfo.jackpot=null,this._gameInfo.jackpotValues=Global.copy(e.jackpotValues),this._gameInfo.randWildIdxs=Global.copy(e.randWildIdxs),this._gameInfo.bonusGame=null,Global.SlotsSoundMgr.playNormalBgm(),this.MoveReels(this._reels);var t=this._gameInfo.resultCards;this.SetSlotsResult(t),this.SetReelStateInfo(t),this._stopTime=4,this._canShowStop=!1,this._canStop=!0,this._bonusSpin=!0,this._mask.opacity=0,this._mask.active=!0,cc.tween(this._mask).to(.2,{opacity:140}).delay(this._stopTime).to(.2,{opacity:0}).start()},showJackpotWinEffect:function(e){if(!(e<0)){var t=cc.find("Canvas/safe_node").getComponentInChildren("LMSlotMachine_PrizePool");if(t){var n=c[e],o=cc.find("prizePool_"+n,t.node.parent);if(o){var a=o.getChildByName("winEffect");if(a){var i=a.getComponent(sp.Skeleton);a.active=!0,i.setCompleteListener(function(){a.active=!1,i.setCompleteListener(null)})}}}}},onMsgSpine:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var o,a,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._super(e),o=!1,cc.vv.gameData.getManage()._isInFree){n.next=15;break}if(t._gameInfo.freeResult&&t._gameInfo.freeResult.freeInfo&&t._gameInfo.freeResult.freeInfo.scatterIdx&&(o=!0),a=cc.vv.gameData.GetGameWin(),i=cc.vv.gameData.GetTotalBet(),a/i>=10&&(o=!0),t._gameInfo.bonusGame&&(o=!0),!o){n.next=15;break}if(!(Global.random(1,100)>50)){n.next=15;break}return t._chufaFreeGame=!0,n.next=15,cc.vv.gameData.getManage().showFreeGameEffect(2.5,10,10);case 15:if(!cc.vv.gameData.getCollectNode().isSuperBonus()){n.next=19;break}if(cc.vv.gameData.GetTotalFree()-cc.vv.gameData.GetFreeTime()!=1){n.next=19;break}return n.next=19,t.showRandomMa();case 19:t._canStop=!0;case 20:case"end":return n.stop()}},n)}))()},ShowWinCoin:function(e,t,n){var o=this;return new Promise(function(){var a=r(regeneratorRuntime.mark(function a(i,s){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o.ShowBottomWin(e,t,n,i);case 1:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())},OnSpinEnd:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,o,a,i,s,r,c,l,u,m,h,_,f,d,p,g,v,S,b,w,y,G;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._bottomScript.ShowBtnsByState("moveing_1"),e._stayNode.removeAllChildren(),e._mask.stopAllActions(),e._mask.active=!1,e._chufaFreeGame=!1,e._bonuskuang.active=!1,!(e._gameInfo.randWildIdxs&&e._gameInfo.randWildIdxs.length>0)){t.next=19;break}n=0;case 8:if(!(n<e._gameInfo.randWildIdxs.length)){t.next=17;break}return o=e._gameInfo.randWildIdxs[n],(a=e.GetSymbolByIdx(o))&&a.changeWild(),t.next=14,e.awaitTime(.2);case 14:n++,t.next=8;break;case 17:return t.next=19,e.awaitTime(.8);case 19:if(!e._gameInfo.jackpot){t.next=23;break}return e.showJackpotWinEffect(e._gameInfo.jackpot.id-1),t.next=23,cc.vv.gameData.getPopWinManage().showJackpotWinCoin(e._gameInfo.jackpot.value,e._gameInfo.jackpot.id);case 23:if(e.ShowWinTrace(),i=cc.vv.gameData.GetGameWin(),s=i,r=!0,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(s=cc.vv.gameData.GetGameTotalFreeWin(),r=!1),e._gameInfo.bonusGame&&(i-=e._gameInfo.bonusGame.winCoin,s-=e._gameInfo.bonusGame.winCoin,r=!1),e._isInFree||!e._bonusSpin){t.next=36;break}return c=e._bottomScript.getCurrentWin()+cc.vv.gameData.GetGameWin(),l=c,t.next=34,e.ShowWinCoin(c,l,!0);case 34:t.next=38;break;case 36:return t.next=38,e.ShowWinCoin(i,s,r);case 38:if(!e._gameInfo.bonusGame){t.next=73;break}for(cc.vv.gameData.getManage().showBonusBg(),cc.vv.gameData.getCollectNode().hide(),u=0;u<e._reels.length;u++)for(m=e._reels[u],h=0;h<m._symbols.length;h++)(_=m._symbols[h]).ShowNormal(),_.ShowKuang(!1);if(cc.vv.gameData.getManage().PausePool(e._gameInfo.bonusGame.jackpotValues),!(f=e.GetSymbolByIdx(e._gameInfo.bonusGame.bonusIdx))){t.next=49;break}return f.playTriggerAnimation(),t.next=48,e.awaitTime(1);case 48:f.ShowNormal();case 49:if(!cc.vv.gameData.getManage()._isInFree){t.next=57;break}return e._mask.active=!0,e._mask.opacity=140,t.next=54,cc.vv.gameData.getPopWinManage().showBonusGameFreeStart();case 54:e._mask.active=!1,t.next=62;break;case 57:return e._mask.active=!0,e._mask.opacity=140,t.next=61,cc.vv.gameData.getPopWinManage().showBonusGameStart();case 61:e._mask.active=!1;case 62:for(e._bonuskuang.active=!0,e._gameInfo.bonusGame.lockSymbols.length>0&&Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bonus_lock),d=0;d<e._gameInfo.bonusGame.lockSymbols.length;d++)p=e._gameInfo.bonusGame.lockSymbols[d],(g=e.GetSymbolByIdx(p.idx))&&g.showSuo();if(!f){t.next=68;break}return t.next=68,f.showZhaQiu();case 68:return cc.vv.gameData.getBonus().showBonus(f._reelIdx,e._gameInfo.bonusGame.wheels,e.OnSpinEnd.bind(e),e._gameInfo.bonusGame.stopIdx-1),t.next=71,e.awaitTime(1.3);case 71:return e.startBonusMove(e._gameInfo.bonusGame),t.abrupt("return");case 73:if(cc.vv.gameData.getManage().ResumePausePool(),cc.vv.gameData.getManage().hideBonusBg(),!(cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime())){t.next=87;break}if(!e._gameInfo.freeResult){t.next=85;break}if(!e._gameInfo.freeResult.freeInfo||!e._gameInfo.freeResult.freeInfo.scatterIdx){t.next=85;break}for(v=0;v<e._gameInfo.freeResult.freeInfo.scatterIdx.length;v++)S=e._gameInfo.freeResult.freeInfo.scatterIdx[v],(b=e.GetSymbolByIdx(Number(S)))&&b.playWinAnimation();if(!(e._gameInfo.freeResult.freeInfo.freeCnt>0)){t.next=85;break}return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bell2),t.next=83,e.awaitTime(2);case 83:return t.next=85,e.CheckFreeEnterFreeGame(e._gameInfo.freeResult.freeInfo.freeCnt);case 85:t.next=99;break;case 87:if(!e._gameInfo.freeResult){t.next=99;break}if(!e._gameInfo.freeResult.freeInfo||!e._gameInfo.freeResult.freeInfo.scatterIdx){t.next=99;break}for(w=0;w<e._gameInfo.freeResult.freeInfo.scatterIdx.length;w++)y=e._gameInfo.freeResult.freeInfo.scatterIdx[w],(G=e.GetSymbolByIdx(Number(y)))&&G.playWinAnimation();if(!(e._gameInfo.freeResult.freeInfo.freeCnt>0)){t.next=99;break}return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bell),t.next=94,e.awaitTime(1);case 94:return cc.vv.gameData.getCollectNode().addPoint(e._gameInfo.freeResult.freeInfo.scatterIdx),t.next=97,e.awaitTime(1);case 97:return t.next=99,e.CheckEnterFreeGame(e._gameInfo.freeResult.freeInfo.freeCnt);case 99:if(!(cc.vv.gameData.GetTotalFree()>0&&0==cc.vv.gameData.GetFreeTime())){t.next=102;break}return t.next=102,e.CheckExitFreeGame();case 102:e.CanDoNextRound();case 103:case"end":return t.stop()}},t)}))()},ReconnectShow:function(){return r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},CheckExitFreeGame:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n,o){var a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=cc.vv.gameData.GetGameTotalFreeWin(),i=a,!cc.vv.gameData.getCollectNode().isSuperBonus()){t.next=9;break}return t.next=5,cc.vv.gameData.getPopWinManage().showSuperBonusWinCoin(a);case 5:return t.next=7,cc.vv.gameData.getQiePing().showQiu(function(){e.ShowGameview(!1),cc.vv.gameData.getManage().changeSlot(0),cc.vv.gameData.getCollectNode().resetCollect()});case 7:t.next=13;break;case 9:return t.next=11,cc.vv.gameData.getPopWinManage().showFreeGameWinCoin(a);case 11:return t.next=13,cc.vv.gameData.getQiePing().showGongDian(function(){e.ShowGameview(!1),cc.vv.gameData.getManage().changeSlot(0)});case 13:return e.ShowFreeTimes(!1),cc.vv.gameData.SetTotalFree(0),t.next=17,e.ShowWinCoin(a,i,!0);case 17:Global.SlotsSoundMgr.playNormalBgm(!0),n();case 19:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},CheckFreeEnterFreeGame:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=r(regeneratorRuntime.mark(function n(o,a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cc.vv.gameData.getPopWinManage().showFreeGameWinFree(e);case 2:return n.next=4,t.awaitTime(1);case 4:o();case 5:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},CheckEnterFreeGame:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=r(regeneratorRuntime.mark(function n(o,a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!cc.vv.gameData.getCollectNode().isSuperBonus()){n.next=10;break}return n.next=3,cc.vv.gameData.getPopWinManage().showSuperBonusStart();case 3:return n.next=5,cc.vv.gameData.getQiePing().showQiu(function(){t.ShowGameview(!0),cc.vv.gameData.GetSlotsScriptById(0).hide()});case 5:return Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.map_bgm),n.next=8,cc.vv.gameData.getManage().changeSlot(2);case 8:n.next=17;break;case 10:return n.next=12,cc.vv.gameData.getPopWinManage().showFreeGameTimes(e);case 12:return n.next=14,cc.vv.gameData.getQiePing().showGongDian(function(){t.ShowGameview(!0),cc.vv.gameData.GetSlotsScriptById(0).hide()});case 14:return Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.free_bgm),n.next=17,cc.vv.gameData.getManage().changeSlot(1);case 17:t.ShowFreeTimes(!0),o();case 19:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},ShowGameview:function(e){if(cc.vv.gameData.getManage()._isInFree=e,e)cc.vv.gameData.GetTotalFree(),cc.vv.gameData.GetFreeTime();var t=cc.find("Canvas/safe_node/spr_bg_normal"),n=cc.find("Canvas/safe_node/spr_bg_free"),o=cc.find("Canvas/safe_node/spr_bg_superBonus");t&&(t.active=!e),cc.vv.gameData.getCollectNode().isSuperBonus()?(o.active=e,n.active=!1):(n.active=e,o.active=!1)},ShowFreeTimes:function(e){if(e){var t=cc.vv.gameData.GetTotalFree(),n=cc.vv.gameData.GetFreeTime();this._bottomScript.ShowFreeModel(!0,t-n,t),cc.vv.gameData.getCollectNode().isSuperBonus()&&this._bottomScript.showTotalBet(!1)}else this._bottomScript.ShowFreeModel(!1),this._bottomScript.showTotalBet(!0)},Backup:function(){this._super()},Resume:function(){this.clearSlots(),this._super()},clearSlots:function(){for(var e=0;e<this._reels.length;e++)for(var t=this._reels[e],n=0;n<t._symbols.length;n++){var o=t._symbols[n];o.setAnimationToTop(!1),o.ShowKuang(!1)}},update:function(e){if(this._stopTime>0&&(this._stopTime=this._stopTime-e,this._stopTime<=0))if(this.CanStopSlot()){this._canShowStop&&this._bottomScript.ShowBtnsByState("moveing_2");for(var t=0;t<this._reels.length;t++){var n=this._reels[t],o=this.GetReelStopInter(t);n.StopMove(o)}}else this._stopTime=e},CanStopSlot:function(){return this._canStop},onEventTotalbetUpdated:function(e){cc.vv.gameData.getCollectNode().changeCollectNode()},showFreeGameEffect:function(e,t,n){var o=this;this.node.runAction(cc.shake(e,t,n)),this._kuangFree.active=!0,this.scheduleOnce(function(){o._kuangFree.active=!1},e+.5)},DoCheckReelAnti:function(e){if(!this._bStopRightnow&&!this._chufaFreeGame)for(var t=!1,n=0;n<this._reels.length;n++){var o=this._reels[n].GetReelIdx();if(o==e+1&&(t=this._reels[n].playAntiAnimation()),o>e&&t){var a=cc.vv.gameData.getGameCfg().AddAntiTime||1;this._reels[n].AddDelayTime(a)}}},showRandomMa:function(){var e=this;return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n,o){var a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=regeneratorRuntime.mark(function t(n){var o,a,i,s,r,c,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(o=cc.instantiate(cc.vv.gameData.GetPrefabByName("m1za"))).parent=cc.vv.gameData.getManage()._collectFree,a=Global.random(1,40),(i=e.GetSymbolByIdx(a))&&(Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.wild_add),s=i.node.convertToWorldSpaceAR(cc.v2(0,0)),r=cc.vv.gameData.getManage()._collectFree.convertToNodeSpaceAR(s),o.position=r,(c=o.getComponent(sp.Skeleton)).setAnimation(0,"animation",!1),c.setCompleteListener(function(){o.parent=null,c.setCompleteListener(null)}),l=e._reels[i._reelIdx],o.y+=Math.abs(l._curY)),t.next=7,e.awaitTime(.1);case 7:case"end":return t.stop()}},t)}),i=0;case 2:if(!(i<20)){t.next=7;break}return t.delegateYield(a(i),"t0",4);case 4:i++,t.next=2;break;case 7:n();case 8:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},SetReelStateInfo:function(e){var t=this,n=this._cfg.reelStateInfo;if(cc.vv.gameData.getManage()._isInFree&&(n=this._cfg.reelStateInfoFree),n){for(var a=[],i=0;i<e.length;i++){var s=e[i],r=i%this._col;a[r]||(a[r]=[]),a[r].push(s)}var c,l=0,u=o(n);try{var m=function(){var e=c.value,n=Global.copy(e);n.isStop=!1,n.isAnt=!1;for(var o=n.mini,i=Global.copy(n.counts),s=0,r=!0,u=0;u<a.length;u++){var m=t._reels[u],h=a[u];n.isStop=!1,n.isAnt=!1,s>=o-1&&n.counts[u]>0&&r&&(n.isAnt=!0);var _=h.reduce(function(e,t){return n.id.includes(t)?e+1:e+0},0);s+=_,i.shift();var f=(i.length>0?i.reduce(function(e,t){return e+t}):0)+s;_>0&&f>=o&&r&&(n.isStop=!0,2===e.id[0]&&(l++,n.symbolStopSound=e.symbolStopSound+l)),n.continuous&&n.counts[u]>0&&0==_&&(r=!1),m.AddReelStateInfo(Global.copy(n))}};for(u.s();!(c=u.n()).done;)m()}catch(e){u.e(e)}finally{u.f()}}}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],GenghisKhan_bounsReel:[function(e,t,n){"use strict";cc._RF.push(t,"cb8acXeKj5AHrZw4yNVSzJ2","GenghisKhan_bounsReel");cc.Class({extends:cc.Component,properties:{_reelIdx:0,_result:[],_backReuslt:[],_symbols:[],_moveLength:0,_cfg:null,_remainingAmount:0,_randomVal:0,_mask:null,_bg:null,_stopTime:0,_bMoveing:!1,_moveSpeed:0,_holder:null,_callBack:null},onLoad:function(){this._cfg=cc.vv.gameData.getGameCfg(),this._mask=cc.find("mask",this.node),this._holder=cc.find("holder",this._mask)},start:function(){},init:function(e){this._reelIdx=e,this._bg=cc.find("reels_bg/reel"+this._reelIdx,this.node.parent.parent),this.hide()},randomVal:function(){if(this._remainingAmount>0)return this._remainingAmount--,this._randomVal;var e=Global.random(0,this._cfg.randomSymbols_bonus.length-1),t=this._cfg.randomSymbols_bonus[e];return this._randomVal=t,this._remainingAmount=3,this._randomVal},hide:function(){this.node.active=!1,this._bg.active=!1,this._callBack&&(this._callBack(),this._callBack=null)},show:function(e,t,n){this._callBack=t,this.node.active=!0,this._bg.active=!0,this.clearSymbols(),this.showAnimation(e,n)},clearSymbols:function(){for(var e=0;e<this._symbols.length;e++){this._symbols[e].node.parent=null}this._symbols=[]},showAnimation:function(e,t){var n=this;this.setResult(e,t),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bonus_rise);var o=this._bg.getComponent(sp.Skeleton);o.setAnimation(0,"animation2",!1),o.addAnimation(0,"animation3",!0),o.setCompleteListener(function(){n.startSpin(),o.setCompleteListener(null)})},setResult:function(e,t){this._result=e,this._backReuslt=[];for(var n=t;n<e.length;n++)this._backReuslt.push(e[n])},startSpin:function(){0==this._symbols.length&&this.updateSymbol(),this._stopTime=4.5,this._bMoveing=!0,this._moveSpeed=1600,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bonus_roll)},update:function(e){if(this._stopTime-=e,this._bMoveing&&this._symbols.length>0){for(var t=this._moveSpeed*e,n=0;n<this._symbols.length;n++){this._symbols[n].node.y-=t}this._moveLength+=t,this._moveLength>this._cfg.symbolSize.height&&(this.updateSymbol(),this._moveLength-=this._cfg.symbolSize.height)}this._stopTime<=0&&(this._moveSpeed-=680*e,this._moveSpeed<150&&(this._moveSpeed=150))},updateSymbol:function(){var e=this,t=null;(this._symbols[0]&&this._symbols[0].node.y<=-this._cfg.symbolSize.height/2&&(t=this._symbols.shift()),t)||((t=cc.instantiate(cc.vv.gameData.GetPrefabByName(this._cfg.symbolPrefab)).addComponent(this._cfg.scripts.Symbols)).node.parent=this._mask);var n=this.randomVal(),o=null;if(this._bMoveing&&this._stopTime<=2&&!(o=this._result.shift())){this._bMoveing=!1;var a=this._holder.y-this._cfg.symbolSize.height/2-this._symbols[0].node.y,i=-a/this._moveSpeed;i<0&&(i=0);for(var s=0;s<this._symbols.length;s++){var r=this._symbols[s],c=r.node.y+a;cc.tween(r.node).to(i,{y:c}).start()}this.scheduleOnce(function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bonus_stop),e.hideAnimation()},i+.5)}o&&(n=o),t.ShowById(n),this._symbols.length>0?t.node.y=this._symbols[this._symbols.length-1].node.y+this._cfg.symbolSize.height:t.node.y=this._mask.height+this._cfg.symbolSize.height/2+this._holder.y,this._symbols.push(t)},hideAnimation:function(){var e=this,t=this._bg.getComponent(sp.Skeleton);t.setAnimation(0,"animation4",!1),t.setCompleteListener(function(){e.hide(),t.setCompleteListener(null)});for(var n=0;n<this._symbols.length;n++){var o=this._symbols[n];cc.tween(o.node).to(.5,{opacity:0}).start()}for(var a=0;a<this._backReuslt.length;a++){var i=this._backReuslt[a],s=cc.vv.gameData.GetSlotsScript()._reels[this._reelIdx-1]._symbols[a];s&&s.ShowById(i)}cc.vv.gameData.getCollectNode().show()}}),cc._RF.pop()},{}],GenghisKhan_bouns:[function(e,t,n){"use strict";cc._RF.push(t,"3e847C/iiBHKYE5rm4IDBJx","GenghisKhan_bouns"),cc.Class({extends:cc.Component,properties:{_reels:[]},onLoad:function(){for(var e=1;e<6;e++){var t=cc.find("reels/reel"+e,this.node).addComponent("GenghisKhan_bounsReel");this._reels.push(t),t.init(e)}},start:function(){},showBonus:function(e,t,n,o){for(var a=0;a<this._reels.length;a++){this._reels[a].hide()}this._reels[e].show(t,n,o)}}),cc._RF.pop()},{}],GenghisKhan_manage:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var r=e[i](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function r(e){o(s,a,i,r,c,"next",e)}function c(e){o(s,a,i,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"c81a094z+xCBYGekeLJTTzw","GenghisKhan_manage"),cc.Class({extends:cc.Component,properties:{_malizi1:null,_malizi2:null,_tianma:null,_reels_frame:null,_prizePool:null,_bonusBg:null,_isInFree:!1,_collectFree:null},onLoad:function(){this._malizi1=cc.find("safe_node/reels_frame/malizi1",this.node),this._malizi1.active=!1,this._malizi2=cc.find("safe_node/reels_frame/malizi2",this.node),this._malizi2.active=!1,this._tianma=cc.find("safe_node/tianma",this.node),this._tianma.on("click",this.onClickTianMa,this),this._reels_frame=cc.find("safe_node/reels_frame",this.node),this._prizePool=cc.find("safe_node/LMSlots_PrizePool_1",this.node).getComponent("GenghisKhan_PrizePool"),this._bonusBg=cc.find("safe_node/spr_bg_bonus",this.node),this._collectFree=cc.find("safe_node/collectFree",this.node)},start:function(){this.ReconnectShow()},onClickTianMa:function(){var e=this;this._tianma.getComponent(cc.Button).interactable=!1;var t=this._tianma.getComponent(sp.Skeleton);t.setAnimation(0,"animation2",!1),t.addAnimation(0,"animation1",!0),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.interaction),this.scheduleOnce(function(){e._tianma.getComponent(cc.Button).interactable=!0},3)},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})},ReconnectShow:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:cc.vv.gameData.getCollectNode().setCollectData(cc.vv.gameData._deskInfo.bonusTrail,cc.vv.gameData._deskInfo.needBet),cc.vv.gameData.GetFreeTime()?(cc.vv.gameData.getCollectNode().isSuperBonus()?(e.recoverySlot(2),Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.map_bgm)):(e.recoverySlot(1),Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.free_bgm)),cc.vv.gameData.GetSlotsScript().ShowGameview(!0),cc.vv.gameData.GetSlotsScript().ShowFreeTimes(!0),n=cc.vv.gameData.GetTotalFreeWin(),cc.vv.gameData.GetBottomScript().SetWin(n),cc.vv.gameData.GetSlotsScript().CanDoNextRound()):(cc.vv.gameData.GetSlotsScript().ShowGameview(!1),cc.vv.gameData.GetSlotsScript().ShowFreeTimes(!1),e.recoverySlot(0));case 3:case"end":return t.stop()}},t)}))()},changeSlot:function(e){var t=this;return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return 0==e?(t._tianma.active=!0,t._tianma.opacity=255):cc.tween(t._tianma).delay(.5).to(.5,{opacity:0}).call(function(){t._tianma.active=!1}).start(),cc.vv.gameData.setSlotsIndex(e),cc.vv.gameData.showSlot(),n.next=5,t.awaitTime(.5);case 5:o();case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},recoverySlot:function(e){0==e?(this._tianma.active=!0,this._tianma.opacity=255):this._tianma.active=!1,cc.vv.gameData.setSlotsIndex(e),cc.vv.gameData.recoverySlot()},showFreeGameEffect:function(e,t,n){var o=this;return new Promise(function(){var i=a(regeneratorRuntime.mark(function a(i,s){var r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.notify),o._malizi1.active=!0,o._malizi2.active=!0,a.next=5,o.awaitTime(.6);case 5:return(r=o._tianma.getComponent(sp.Skeleton)).setAnimation(0,"animation3",!1),r.addAnimation(0,"animation1",!0),o._reels_frame.runAction(cc.shake(e-.5,t,n)),cc.vv.gameData.GetSlotsScript().showFreeGameEffect(e-.5,t,n),o._prizePool.node.runAction(cc.shake(e-.5,t,n)),a.next=13,o.awaitTime(e);case 13:o._malizi1.active=!1,o._malizi2.active=!1,i();case 16:case"end":return a.stop()}},a)}));return function(e,t){return i.apply(this,arguments)}}())},PausePool:function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];t.push({prizeType:n,pauseNum:o})}this._prizePool.PausePool(t)},ResumePausePool:function(){this._prizePool.ResumePausePool()},showBonusBg:function(){this._bonusBg.active=!0,this._bonusBg.opacity=0,cc.tween(this._bonusBg).to(.5,{opacity:255}).start(),Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.bonus_bgm)},hideBonusBg:function(){var e=this;this._bonusBg.active&&(cc.tween(this._bonusBg).to(.5,{opacity:0}).call(function(){e._bonusBg.active=!1}).start(),cc.vv.gameData.GetSlotsScript()._isInFree?cc.vv.gameData.getCollectNode().isSuperBonus()?Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.map_bgm):Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.free_bgm):Global.SlotsSoundMgr.playNormalBgm(!0))}}),cc._RF.pop()},{}],GenghisKhan_qiePing:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var r=e[i](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function r(e){o(s,a,i,r,c,"next",e)}function c(e){o(s,a,i,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"4a5b1itllZOtav0lRInw6Pd","GenghisKhan_qiePing"),cc.Class({extends:cc.Component,properties:{qiepinGD:{default:null,type:cc.Node},qiepinQiu:{default:null,type:cc.Node}},onLoad:function(){},onDestroy:function(){},start:function(){},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})},showGongDian:function(e){var t=this;return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,a){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.transition_free),t.qiepinGD.active=!0,(i=t.qiepinGD.getComponent(sp.Skeleton)).setAnimation(0,"animation",!1),i.setCompleteListener(function(){t.qiepinGD.active=!1,o(),i.setCompleteListener(null)}),n.next=7,t.awaitTime(.5);case 7:e&&e();case 8:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},showQiu:function(e){var t=this;return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(o,a){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.transition_map),t.qiepinQiu.active=!0,(i=t.qiepinQiu.getComponent(sp.Skeleton)).setAnimation(0,"animation",!1),i.setCompleteListener(function(){t.qiepinQiu.active=!1,o(),i.setCompleteListener(null)}),n.next=7,t.awaitTime(.5);case 7:e&&e();case 8:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())}}),cc._RF.pop()},{}],GenghisKhan_reel:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,s=!0,r=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return s=e.done,e},e:function(e){r=!0,i=e},f:function(){try{s||null==o.return||o.return()}finally{if(r)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"78f01w3UhBCO4NRC5+ENvII","GenghisKhan_reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},start:function(){},OnReelSpinEnd:function(){this._reelState=[];var e=cc.vv.gameData.GetSlotsScript();if(e.OnReelSpinEnd(this._reelIdx),!cc.vv.gameData.GetSlotsScript()._bonusSpin){var t=e.GetLastStopReelIdx();this._reelIdx==t&&e.OnSpinEnd()}},OnReelBounsActionBefore:function(){if(cc.vv.gameData.GetSlotsScript().OnReelBounsActionBefore(this._reelIdx),this.playReelStop(),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveBefore()},OnReelBounsActionDeep:function(){if(this.ShowAntiEffect(!1),cc.vv.gameData.GetSlotsScript().OnReelBounsActionDeep(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveDeep()},OnReelBounsActionEnd:function(){if(cc.vv.gameData.GetSlotsScript().OnReelBounsActionEnd(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveEnd();else cc.log("\u56de\u5f39\u7ed3\u675f\uff0c\u6570\u636e\u5df2\u7ecf\u88ab\u6e05\u7a7a\u4e86");this.OnReelSpinEnd()},playReelStop:function(){var e=this._cfg.reelStateInfo;if(cc.vv.gameData.getManage()._isInFree&&(e=this._cfg.reelStateInfoFree),this._originResult)for(var t=0;t<this._originResult.length;t++){var n,a=this._symbols[t],i=o(this._reelState);try{for(i.s();!(n=i.n()).done;){var s=n.value;s.isStop&&s.id.includes(a.GetShowId())?a.playStopAnimation():a.playidleAnimation()}}catch(e){i.e(e)}finally{i.f()}}if(e&&e[0]){var r,c="",l="",u=!1,m=o(this._reelState);try{for(m.s();!(r=m.n()).done;){var h=r.value;h.isStop?(l=h.symbolStopSound?h.symbolStopSound:"",u=!0):c=h.reelStopSound?h.reelStopSound:""}}catch(e){m.e(e)}finally{m.f()}u&&(c=l);var _=e[0].path;_||(_=cc.vv.gameData.getGameDir()),cc.vv.AudioManager.playEff(_,c,!0)}},playAntiAnimation:function(){var e=this._cfg.reelStateInfo;cc.vv.gameData.getManage()._isInFree&&(e=this._cfg.reelStateInfoFree);var t=!1;if(e&&e[0]){var n,a=o(this._reelState);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i.isAnt&&i.antiNode){this.ShowAntiEffect(!0,i.antiNode);var s=i.path;s||(s=cc.vv.gameData.getGameDir()),cc.vv.AudioManager.playEff(s,i.antSound,!0);var r=i.antSpeed;r&&(r*=this.GetTimeScale()),this._speed=r||this._speed,t=!0}}}catch(e){a.e(e)}finally{a.f()}}return t},ShowAntiEffect:function(e,t){var n=this._cfg.reelStateInfo;if(cc.vv.gameData.getManage()._isInFree&&(n=this._cfg.reelStateInfoFree),0==e){if(n){var a,i=o(n);try{for(i.s();!(a=i.n()).done;){var s=a.value,r=cc.find("effect/reel"+(this._reelIdx+1)+"/"+s.antiNode,this.node.parent);r&&r.active&&(r.active=!1,this._stopRightNow&&cc.vv.AudioManager.stopEffectByName(s.antSound))}}catch(e){i.e(e)}finally{i.f()}}}else{var c=cc.find("effect/reel"+(this._reelIdx+1)+"/node_anti",this.node.parent);c?c.active=e:cc.log("\u672a\u627e\u5230\u52a0\u901f\u8282\u70b9\uff1aeffect/node_anti")}},updataSymbol:function(){var e=this._symbols.shift(),t=null;this._stopTime<=0&&this._bStoping&&this._result&&!this._bResizing&&(this._result instanceof Array?(this.ReadyToStop(),(t=this._result.shift())||(this._bMoving=!1)):cc.error("LMSlots_Reel_Base.updataSymbol\u8bbe\u7f6e\u7684\u7ed3\u679c\u4e0d\u662f\u6570\u7ec4!")),t?e.ShowById(t.sid,t.data):e.ShowRandomSymbol_move(),this._symbols.push(e),this.ReLayOut(),this._curY=0,this._holderNode.y=this._holderOrigPosY,this._bMoving||this.OnReelBounsAction()}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],GenghisKhan_sound:[function(e,t,n){"use strict";var o;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"9374brEFrpDAqL9irtaif7x","GenghisKhan_sound"),cc.Class({extends:e("LMSlots_Sound"),properties:(o={soundPath:{default:"games/GenghisKhan/",override:!0},bonus_stop:{default:"",override:!0},scatter_ant:{default:"",override:!0},bonus_ant:{default:"",override:!0},base_bgm:{default:"base_bgm",override:!0},reel_stop:{default:"reel_stop",override:!0},scatter_stop:{default:"symbol_scatter",override:!0},bell:"bell",bell2:"bell2",bonus_sweep:"bonus_sweep",click:"click",collect_full:"collect_full",collect_light:"collect_light",collect_lock:"collect_lock",collect_unlock:"collect_unlock",interaction:"interaction",jp_lock:"jp_lock",jp_unlock:"jp_unlock",notify:"notify",popup_out:"popup_out",reel_notify:"reel_notify",reel_notify2:"reel_notify2"},a(o,"reel_stop","reel_stop"),a(o,"scatter_sweep","scatter_sweep"),a(o,"shake","shake"),a(o,"symbol_bonus","symbol_bonus"),a(o,"symbol_scatter1","symbol_scatter1"),a(o,"symbol_scatter2","symbol_scatter2"),a(o,"symbol_scatter3","symbol_scatter3"),a(o,"symbol_scatter4","symbol_scatter4"),a(o,"symbol_scatter5","symbol_scatter5"),a(o,"transition_free","transition_free"),a(o,"transition_map","transition_map"),a(o,"welcome","welcome"),a(o,"bonus_bgm","bonus_bgm"),a(o,"bonus_boom","bonus_boom"),a(o,"bonus_dialog_collect_show","bonus_dialog_collect_show"),a(o,"bonus_dialog_start_show","bonus_dialog_start_show"),a(o,"bonus_lock","bonus_lock"),a(o,"bonus_rise","bonus_rise"),a(o,"bonus_roll","bonus_roll"),a(o,"bonus_stop","bonus_stop"),a(o,"Grand_jp_dialog_collect_show","Grand_jp_dialog_collect_show"),a(o,"Major_jp_dialog_collect_show","Major_jp_dialog_collect_show"),a(o,"MINOR_jp_dialog_collect_show","MINOR_jp_dialog_collect_show"),a(o,"random_wild","random_wild"),a(o,"free_bgm","free_bgm"),a(o,"free_dialog_collect_show","free_dialog_collect_show"),a(o,"free_dialog_start_show","free_dialog_start_show"),a(o,"free_retrigger_dialog_start_show","free_retrigger_dialog_start_show"),a(o,"free_rise","free_rise"),a(o,"map_bgm","map_bgm"),a(o,"mapfree_dialog_collect_show","mapfree_dialog_collect_show"),a(o,"mapfree_dialog_start_show","mapfree_dialog_start_show"),a(o,"wild_add","wild_add"),o)}),cc._RF.pop()},{LMSlots_Sound:void 0}],GenghisKhan_symbol:[function(e,t,n){"use strict";cc._RF.push(t,"fe027G97MFA755YEAByrqVO","GenghisKhan_symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},start:function(){},SetSymbolIdx:function(e){this._symbolIdx=e,2===this._id?this.node.zIndex=150-e:this.node.zIndex=100-e},showZhaQiu:function(){var e=this;return new Promise(function(t,n){if(3===e._id){var o=cc.instantiate(e.node);o.parent=cc.vv.gameData.GetSlotsScript()._stayNode,o.active=!0;var a=e.node.convertToWorldSpaceAR(cc.v2(0,0)),i=cc.vv.gameData.GetSlotsScript()._stayNode.convertToNodeSpaceAR(a);o.position=i;var s=cc.find("w14",o);s.active=!0,s.getComponent(sp.Skeleton).setAnimation(0,"animation3",!0),e.scheduleOnce(function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bonus_boom);var e=cc.find("zhaqiu",o);e.active=!0;var n=e.getComponent(sp.Skeleton);n.setAnimation(0,"animation",!1),n.setCompleteListener(function(){o.parent=null,t(),n.setCompleteListener(null)})},1.5)}else t()})},playStopAnimation:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node&&t.symbol[e].stop_ani){this._state="stop",this._showNode&&(this._showNode.active=!1);var n=this.setAnimationToTop(!0);n.active=!0;var o=cc.find(t.symbol[e].win_node,n);if(o.active=!0,""!=t.symbol[e].stop_ani.name){n.zIndex=t.symbol[e].stop_ani.zIndex-this._symbolIdx+10*this._reelIdx;var a=o.getComponent(sp.Skeleton);a&&(a.setAnimation(0,t.symbol[e].stop_ani.name,!1),t.symbol[e].idle_ani&&a.addAnimation(0,t.symbol[e].idle_ani.name,!0))}}},playidleAnimation:function(){var e=!1,t=this._id,n=cc.vv.gameData.getGameCfg();if(n.symbol[t]&&n.symbol[t].win_node&&n.symbol[t].idle_ani){this._state="idle",this._showNode&&(this._showNode.active=!1);var o=this.setAnimationToTop(!0);o.active=!0;var a=cc.find(n.symbol[t].win_node,o);if(a.active=!0,""!=n.symbol[t].idle_ani.name){o.zIndex=n.symbol[t].idle_ani.zIndex-this._symbolIdx+10*this._reelIdx,e=!0;var i=a.getComponent(sp.Skeleton);i&&i.setAnimation(0,n.symbol[t].idle_ani.name,!0)}}return e},showSuo:function(){var e=this._id,t=cc.vv.gameData.getGameCfg(),n=cc.instantiate(this.node);n.parent=cc.vv.gameData.GetSlotsScript()._stayNode,n.active=!0;var o=this.node.convertToWorldSpaceAR(cc.v2(0,0)),a=cc.vv.gameData.GetSlotsScript()._stayNode.convertToNodeSpaceAR(o);n.position=a,cc.find(t.symbol[e].node,n).active=!0;var i=cc.find("suo2",n);i.active=!0;var s=i.getComponent(sp.Skeleton);s.setAnimation(0,"animation",!1),s.addAnimation(0,"animation2",!0),s.setCompleteListener(function(){s.setCompleteListener(null)})},changeWild:function(){this.ShowById(1),this.playTriggerAnimation()},ShowRandomSymbol_move:function(){var e=cc.vv.gameData.getGameCfg(),t=Global.random(1,e.randomSymbols_move.length),n=e.randomSymbols_move[t-1];this.ShowById(n)}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["GenghisKhan_Bottom","GenghisKhan_Cfg","GenghisKhan_CollectNode","GenghisKhan_GameData","GenghisKhan_Logic","GenghisKhan_Pop","GenghisKhan_PrizePool","GenghisKhan_Slots","GenghisKhan_bouns","GenghisKhan_bounsReel","GenghisKhan_manage","GenghisKhan_qiePing","GenghisKhan_reel","GenghisKhan_sound","GenghisKhan_symbol"]);