window.__require=function e(t,n,o){function a(s,c){if(!n[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var _=n[s]={exports:{}};t[s][0].call(_.exports,function(e){return a(t[s][1][e]||e)},_,_.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<o.length;s++)a(o[s]);return a}({TheMinstrel_Cfg:[function(e,t,n){"use strict";var o,a;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"36a16OjPEhMlJ5fhgJDBU58","TheMinstrel_Cfg");var s={symbol:(o={},i(o,1,{node:"s1",win_node:"",win_ani:""}),i(o,102,{node:"s102",win_node:"",win_ani:""}),i(o,103,{node:"s103",win_node:"",win_ani:""}),i(o,2,{node:"s2",win_node:"w2",win_ani:{name:"animation1",zIndex:300},stop_ani:{name:"animation1",zIndex:300},trigger_ani:{name:"animation2",zIndex:300}}),i(o,3,{node:"s3",win_node:"w3",win_ani:{name:"animation",zIndex:300}}),i(o,4,{node:"s4",win_node:"w4",win_ani:{name:"animation",zIndex:300}}),i(o,5,{node:"s5",win_node:"w5",win_ani:{name:"animation",zIndex:300}}),i(o,6,{node:"s6",win_node:"w6",win_ani:{name:"animation",zIndex:300}}),i(o,7,{node:"s7",win_node:"w7",win_ani:{name:"animation",zIndex:300}}),i(o,8,{node:"s8",win_node:"w8",win_ani:{name:"animation",zIndex:300}}),i(o,9,{node:"s9",win_node:"w9",win_ani:{name:"animation",zIndex:300}}),i(o,10,{node:"s10",win_node:"w10",win_ani:{name:"animation",zIndex:300}}),i(o,11,{node:"s11",win_node:"w1000",win_ani:{name:"animation1000_2",zIndex:300},stop_ani:{name:"animation1000_1",zIndex:300}}),i(o,12,{node:"s12",win_node:"w1000",win_ani:{name:"animation1001_2",zIndex:300},stop_ani:{name:"animation1001_1",zIndex:300}}),i(o,13,{node:"s13",win_node:"w1000",win_ani:{name:"animation1002_2",zIndex:300},stop_ani:{name:"animation1002_1",zIndex:300}}),i(o,14,{node:"s14",win_node:"w1000",win_ani:{name:"animation1003_2",zIndex:300},stop_ani:{name:"animation1003_1",zIndex:300}}),i(o,15,{node:"s15",win_node:"w1000",win_ani:{name:"animation11_2",zIndex:300},stop_ani:{name:"animation11_1",zIndex:300}}),i(o,16,{node:"s16",win_node:"w1000",win_ani:{name:"animation15_2",zIndex:300},stop_ani:{name:"animation15_1",zIndex:300}}),i(o,17,{node:"s17",win_node:"w1000",win_ani:{name:"animation16_2",zIndex:300},stop_ani:{name:"animation16_1",zIndex:300}}),i(o,18,{node:"s18",win_node:"w1000",win_ani:{name:"animation17_2",zIndex:300},stop_ani:{name:"animation17_1",zIndex:300}}),o),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"TheMinstrel_Slots",Reels:"TheMinstrel_Reel",Symbols:"TheMinstrel_symbol"},col:5,row:3,symbolPrefab:"LMSlots_Symbol",symbolSize:{height:105},helpItems:["games/TheMinstrel/prefab/LMSlots_Help_item1","games/TheMinstrel/prefab/LMSlots_Help_item2","games/TheMinstrel/prefab/LMSlots_Help_item3","games/TheMinstrel/prefab/LMSlots_Help_item4","games/TheMinstrel/prefab/LMSlots_Help_item5","games/TheMinstrel/prefab/LMSlots_Help_item6","games/TheMinstrel/prefab/LMSlots_Help_item7","games/TheMinstrel/prefab/LMSlots_Help_item8"],autoModelDelay:1,cardmap:(a={},i(a,1,[8,4,4,7,7,3,3,8,8,8,4,4,7,7,15,15,15,3,4,4,8,8,8,4,4,5,7,10,15,6,9,9,9,10,10,8,4,4,4,6,6,7,7,15,4,4,1,102,103,6,6,6,1,102,103,9,7,4,4,4,15,10,9,9,9,10,3,3,6,6,8,8,7,7,5,5,6,6,6,7,7,3,3,3,5,7,7,5,5,4,4,4,5,5,4,4,4,3,10,6,3,3,10,10,3,5,5,7,9,3,3,9,9,4,7,7,3,3,3,6,4,4,5,5,6,6,3,3,5,5,10,7,7,5,5,9,9,5,5,9,10,3,9]),i(a,2,[10,10,6,6,3,4,4,6,6,6,3,3,8,8,8,15,15,4,4,5,5,5,6,6,3,3,3,10,10,10,3,15,15,10,6,6,7,7,7,8,8,3,6,3,3,15,7,7,6,9,8,4,4,5,5,3,3,3,15,4,4,4,8,8,4,4,8,8,4,5,5,7,10,10,10,8,5,9,7,7,8,3,4,4,4,9,9,7,7,3,3,4,3,3,9,8,4,4,6,9,9,9,5,5,4,4,4,4,7,8,6,6,7,10,5,9,9,7,7,5,5,4,4,7,3,3,4,7,5]),i(a,3,[10,10,4,7,7,4,8,8,6,6,6,4,4,15,5,5,4,4,4,2,3,3,7,4,4,3,4,4,15,6,8,4,4,10,10,2,4,9,3,3,15,15,15,9,9,8,8,7,7,7,3,3,3,4,4,4,6,2,4,4,15,6,6,6,4,4,5,3,3,6,6,6,8,3,3,9,2,6,6,9,9,6,6,6,4,4,4,10,6,6,6,8,3,3,3,5,2,3,3,5,10,10,5,5,10,5,7,7,7,9,9,5,5,5,2,9,9,10,10,7,7,8,3,3,8,7,7,2,8,8,3,4,5,7,9,9]),i(a,4,[8,3,3,7,7,8,8,7,7,5,5,4,15,10,6,2,4,4,5,5,5,8,8,8,4,4,10,15,15,15,8,8,10,10,7,7,5,2,4,4,4,6,6,9,9,15,15,7,9,5,5,10,10,9,3,2,6,6,6,7,7,7,4,4,4,7,7,7,8,8,7,7,7,3,5,5,4,4,2,3,3,6,6,6,8,3,3,3,6,6,6,3,4,4,4,7,7,3,3,3,2,5,5,4,10,10,3,3,6,6,3,8,10,10,4,2,9,9,9,5,4,4,4,6,6,9,9,3,3,5,4,4,4,7,2,8,8,5,5,5,3,6,3,3,5,9,4,9,9]),i(a,5,[4,6,4,4,4,7,7,7,3,3,9,6,6,6,15,15,10,10,5,5,5,2,10,10,4,7,5,5,5,6,15,8,8,7,4,4,4,7,2,4,4,8,8,8,7,7,15,5,9,4,4,5,5,3,9,9,2,3,3,15,6,4,4,3,3,3,10,10,3,3,3,9,8,8,15,6,2,5,5,8,6,6,9,9,3,10,10,4,4,6,6,3,3,2,7,7,6,6,4,4,7,7,3,9,10,9,9,3,2,5,10,3,3,3,3]),a),kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,bounce:!0,commEffect:{path:"games/TheMinstrel/",win1:["win1","win1end"],win2:["win2","win2end"]},normalBgm:"base_bgm",AddAntiTime:2.4,reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",reelStopSound:"reel_stop",symbolStopSound:"symbol_scatter",antSound:"anticipation",antSpeed:2e3}],puzzleCfg:{atlas:"puzzle_2",bg:"theme_store_puzzle2_bg",full:"theme_store_puzzle2_full",pieces:["theme_store_puzzle_2_1","theme_store_puzzle_2_2","theme_store_puzzle_2_3","theme_store_puzzle_2_4","theme_store_puzzle_2_5","theme_store_puzzle_2_6","theme_store_puzzle_2_7","theme_store_puzzle_2_8","theme_store_puzzle_2_9","theme_store_puzzle_2_10","theme_store_puzzle_2_11","theme_store_puzzle_2_12"]}};t.exports=s,cc._RF.pop()},{}],TheMinstrel_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"81e6f6zBv5I/6rqoW59UdoL","TheMinstrel_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{},SetSubGameData:function(e){this._subGame=e},GetSubGameData:function(){return this._subGame},IsSelectWheel:function(){return this._deskInfo.select}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],TheMinstrel_Pop:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var c=e[i](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function c(e){o(s,a,i,c,r,"next",e)}function r(e){o(s,a,i,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"c6049TvAoVODo9a8WLxkHAF","TheMinstrel_Pop"),cc.Class({extends:e("LMSlots_PauseUI_Base"),properties:{_showNode:null},onLoad:function(){var e=cc.find("pop_wheel_result/node_coin/btn_collect",this.node);Global.btnClickEvent(e,this.OnClickCollect,this);var t=cc.find("pop_wheel_result/node_freegames/btn_start",this.node);Global.btnClickEvent(t,this.OnClickStart,this)},start:function(){},ShowWheelResult:function(e){this._WheelResultData=e,Global.SlotsSoundMgr.playEffect("pupup_in1"),this._showNode&&(this._showNode.active=!1);var t=cc.find("pop_wheel_result",this.node);t.active=!0,this._showNode=t;var n=cc.find("node_coin",t);n.active=1==e.awardType;var o=cc.find("node_freegames",t);if(o.active=!n.active,1==e.awardType){var a=this;Global.showAlertAction(t,!0,null,null,function(){var e=cc.find("btn_collect",n);e.getComponent(cc.Button).interactable=!0,cc.vv.gameData.checkAutoPlay(e,a.OnClickCollect.bind(a))});var i=cc.find("lbl_coin",n);Global.doRoallNumEff(i,0,e.num,3,null,null,0,!0),Global.SlotsSoundMgr.playEffect("win_rollup");for(var s=[1,5,9,13],c=0;c<s.length;c++){cc.find("res_"+s[c],n).active=s[c]==e.idx}}else{var r=this;Global.showAlertAction(t,!0,null,null,function(){var e=cc.find("btn_start",o);e.getComponent(cc.Button).interactable=!0,cc.vv.gameData.checkAutoPlay(e,r.OnClickStart.bind(r))}),cc.find("lbl_time",o).getComponent(cc.Label).string=Global.FormatNumToComma(e.num),cc.vv.gameData.SetFreeTime(e.num),cc.vv.gameData.SetTotalFree(e.num)}var l=e.num,_="theme135_popup_bg7";5==l?_="theme135_popup_bg1":8==l?_="theme135_popup_bg3":20==l?_="theme135_popup_bg6":15==l?_="theme135_popup_bg5":10==l?_="theme135_popup_bg4":7==l&&(_="theme135_popup_bg2");var u=cc.find("spr_bg",t),h=cc.vv.gameData.GetAtlasByName("popup");u.getComponent(cc.Sprite).spriteFrame=h.getSpriteFrame(_)},ShowExtraFree:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a,i,s,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=n,Global.SlotsSoundMgr.playEffect("pupup_in1"),n._showNode&&(n._showNode.active=!1),i=cc.find("node_extra_free",n.node),n._showNode=i,i.active=!0,cc.find("lbl_time",i).getComponent(cc.Label).string=e,(s=cc.find("txt_frees1",i)).active=1==e,cc.find("txt_frees2",i).active=!s.active,Global.showAlertAction(i,!0),o.next=15,cc.vv.gameData.awaitTime(2);case 15:return o.next=17,Global.SlotsSoundMgr.playEffectByUnSync("popup_out");case 17:c=function(e){t&&t(),a.HidePopNode()},Global.showAlertAction(i,!1,null,null,c);case 19:case"end":return o.stop()}},o)}))()},HidePopNode:function(){this.node.active=!1},OnClickCollect:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,(o=cc.find("pop_wheel_result/node_coin/btn_collect",e.node)).getComponent(cc.Button).interactable=!1,o.stopAllActions(),!((a=cc.find("pop_wheel_result/node_coin/lbl_coin",e.node)).getNumberOfRunningActions()>0)){t.next=10;break}return a.stopAllActions(),a.getComponent(cc.Label).string=Global.FormatNumToComma(n._WheelResultData.num),t.next=10,cc.vv.gameData.awaitTime(.2);case 10:if(0!=(i=cc.find("pop_wheel_result",e.node)).getNumberOfRunningActions()){t.next=16;break}return s=function(){n.HidePopNode(),cc.vv.gameData.GetSlotsScript().ShowTranstionExit()},t.next=15,Global.SlotsSoundMgr.playEffectByUnSync("popup_out");case 15:Global.showAlertAction(i,!1,null,null,s);case 16:case"end":return t.stop()}},t)}))()},OnClickStart:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,(o=cc.find("pop_wheel_result/node_freegames/btn_start",e.node)).getComponent(cc.Button).interactable=!1,o.stopAllActions(),0!=(a=cc.find("pop_wheel_result",e.node)).getNumberOfRunningActions()){t.next=10;break}return i=function(){n.HidePopNode(),cc.vv.gameData.GetSlotsScript().ShowTranstionExit(!0)},t.next=9,Global.SlotsSoundMgr.playEffectByUnSync("popup_out");case 9:Global.showAlertAction(a,!1,null,null,i);case 10:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{LMSlots_PauseUI_Base:void 0}],TheMinstrel_PrizePool:[function(e,t,n){"use strict";cc._RF.push(t,"a65c3HSj4NBnpj8Bl2LnJZt","TheMinstrel_PrizePool"),cc.Class({extends:e("LMSlots_PrizePool_Base"),properties:{},ShowNodeLockByNode:function(e,t,n,o,a){var i=e;if(i){var s=[3,3,2,1],c=i.getChildByName("jp_lock");if(c){var r=i.getChildByName("spr_title");c.active=!0;var l=c.getChildByName("un_lock_bet");l.getComponent(cc.Label).string=Global.convertNumToShort(n);var _=c.getComponent(sp.Skeleton);if(t){var u=function(){r&&(r.color=cc.Color.GRAY),l.active=!0};a?(u(),_.setAnimation(0,cc.js.formatStr("animation%s_%s",s[o],2),!0)):(this.scheduleOnce(u,.6),_.setAnimation(0,cc.js.formatStr("animation%s_%s",s[o],1),!1),_.addAnimation(0,cc.js.formatStr("animation%s_%s",s[o],2),!0),Global.SlotsSoundMgr.playEffect("lock"))}else{var h=function(){l.active=!1,r&&(r.color=cc.Color.WHITE)};a?(h(),_.setAnimation(0,cc.js.formatStr("animation%s_%s",s[o],3),!1)):(this.scheduleOnce(h,.6),_.setAnimation(0,cc.js.formatStr("animation%s_%s",s[o],3),!1),Global.SlotsSoundMgr.playEffect("unlock"))}}}}}),cc._RF.pop()},{LMSlots_PrizePool_Base:void 0}],TheMinstrel_Reel:[function(e,t,n){"use strict";cc._RF.push(t,"791d4h5ha1DKpuYk9lDdtsk","TheMinstrel_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},StartMove:function(){this.StartRecycleSymbol(),this._super()},playReelStop:function(){if(this._super(),this.isInBonusGame()){for(var e=!1,t=0;t<this._originResult.length;t++){var n=this._symbols[t];n.playStopAnimation();var o=n.GetShowId();15!=o&&14!=o&&13!=o&&12!=o&&11!=o||(e=!0)}e&&Global.SlotsSoundMgr.playEffect("symbol_coin")}},isInBonusGame:function(){var e=cc.vv.gameData.GetSlotsScript();if(e)return e.CheckTriggerSubGame()},AddCount:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._super(e,t,n),this.isInBonusGame()&&e>0)for(var o=0;o<this._symbols.length;o++){this._symbols[o].ShowMask(!0)}},OnReelHeigtChange:function(e){(this._super(e),2==this._reelIdx)&&(cc.find("Canvas/safe_node/slots/free_time").y+=e)}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],TheMinstrel_Slots:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var c=e[i](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function c(e){o(s,a,i,c,r,"next",e)}function r(e){o(s,a,i,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"ce592v7J0xDsoPZFI1KRn+8","TheMinstrel_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{},Init:function(){this._super();var e=this;this.node.parent.parent.getComponent("LMSlots_Puzzle").setCallback(function(t,n){cc.vv.gameData.SetTotalFree(t.freeCnt),cc.vv.gameData.SetFreeTime(t.freeCnt),cc.vv.gameData.SetSubGameData({awardType:0}),e.ShowTranstionExit()})},RegisterEvent:function(){Global.registerEvent(cc.vv.gameData._EventId.GAME423_SHOW_WHEEL_RESULT,this.OnEventWheelResult,this)},StartMove:function(){if(this._super(),cc.find("reels/reel1/mask/spine_man",this.node).active=!1,this.bBounusGame){var e=cc.find("spine_role",this.node).getComponent(sp.Skeleton);e.setAnimation(0,"chuxian",!1),e.addAnimation(0,"idle",!0),this.bBounusGame=null,Global.SlotsSoundMgr.playEffect("man_in"),Global.SlotsSoundMgr.playEffect("reel_down")}Global.SlotsSoundMgr.playNormalBgm(),this.UpdateOtherFreeTime()},GetBonusData:function(e){var t=this._gameInfo.bonusGame;if(t&&t.coins)for(var n=0;n<t.coins.length;n++)if(t.coins[n].idx==e)return{t:"coin",num:t.coins[n].num}},getBonusAddFree:function(){var e=0,t=this._gameInfo.bonusGame;if(t&&t.free)for(var n=0;n<t.free.length;n++)e+=t.free[n].num;return e},SetSlotsResult:function(e){for(var t=e.length/this._col,n=[],o=0;o<e.length;o++){Math.floor(o/t);var a=o%this._col;if(this._cfg.symbol[e[o]]){var i={};i.sid=e[o],i.data=this.GetBonusData(o+1),n[a]||(n[a]=[]),n[a].unshift(i)}}for(var s=0;s<this._reels.length;s++){var c=this._reels[s],r=n[s];c.SetResult(r)}},getPostionByRow:function(e){return this._reels[0].GetSymbolPosByRow(e)},onMsgSpine:function(e){var t=this;this._gameInfo=e;var n=e.resultCards,o=e.bonusGame.open>0;o&&(this._bottomScript.ShowBtnsByState("moveing_1"),n=e.bonusGame.cards);var a=t.changeWild(n);this.SetSlotsResult(n),this.SetReelStateInfo(n),o&&(this.bBounusGame=!0,this.SetStopTime(1e3),cc.tween(this.node).delay(1.5).call(function(){t.ShowReelEffect()}).delay(4).call(function(){t._reels[0].StopMove(0)}).delay(.6).call(function(){var e=cc.find("reels/reel1/mask/spine_man",t.node);e.position=t.getPostionByRow(a),e.active=!0;var n=e.getChildByName("spine").getComponent(sp.Skeleton);n.paused=!0,cc.tween(e).to(.5,{position:t.getPostionByRow(1)}).call(function(){n.paused=!1,n.setAnimation(0,"idle",!0)}).start();var o=cc.find("spine_role",t.node).getComponent(sp.Skeleton);o.setMix("skill01","xiaoshi"),o.setAnimation(0,"xiaoshi",!1),Global.SlotsSoundMgr.playEffect("man_in")}).delay(1).call(function(){Global.SlotsSoundMgr.playEffect("reel_up");for(var e=1;e<5;e++)t._reels[e].AddCount(2,1.2)}).delay(2).call(function(){for(var e=1;e<5;e++){var n=t.GetReelStopInter(e);t._reels[e].StopMove(n)}}).start())},changeWild:function(e){var t=0,n=0,o=this.GetResutByRowCol(e,0,0);1==o&&n++;var a=this.GetResutByRowCol(e,1,0);1==a&&n++;var i=this.GetResutByRowCol(e,2,0);if(1==i&&n++,1==n){if(1==o)e[this.ChangeRowColToIdx(e,0,0)]=1,t=-1;if(1==i)e[this.ChangeRowColToIdx(e,2,0)]=103,t=3}3==n&&(e[this.ChangeRowColToIdx(e,0,0)]=103,e[this.ChangeRowColToIdx(e,1,0)]=102,e[this.ChangeRowColToIdx(e,2,0)]=1,t=1);if(2==n){if(1==i&&1==a)e[this.ChangeRowColToIdx(e,2,0)]=102,e[this.ChangeRowColToIdx(e,1,0)]=103,t=2;if(1==o&&1==a)e[this.ChangeRowColToIdx(e,0,0)]=102,e[this.ChangeRowColToIdx(e,1,0)]=1,t=0}return t},OnReelBounsActionBefore:function(e){this._super(e);for(var t=0;t<5;t++)for(var n=this._reels[t]._symbols,o=0;o<n.length;o++){n[o].ShowData()}},GetReelStopInter:function(e){return e>0&&this.CheckTriggerSubGame()?1.5*e:this._super(e)},OnSpinEnd:function(){var e=this;this.ShowWinTrace();var t=cc.vv.gameData.GetGameWin(),n=t;if(cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(n=cc.vv.gameData.GetGameTotalFreeWin()),this.ShowBottomWin(t,n,!0,function(){if(e.CheckTriggerSubGame()){var t=e.getBonusAddFree();if(t){e._bottomScript.ShowBtnsByState("moveing_1");var n=cc.find("Canvas/safe_node/node_pop_ui");return n.active=!0,void n.getComponent("TheMinstrel_Pop").ShowExtraFree(t,function(){cc.vv.gameData.AddTotalFreeTime(t),e.CanDoNextRound()})}}e.CheckEnterFreeGame()?e._bottomScript.ShowBtnsByState("moveing_1"):e.CheckExitFreeGame()}),this.CheckTriggerSubGame())for(var o=1;o<5;o++)for(var a=this._reels[o]._symbols,i=0;i<a.length;i++){a[i].ShowBonus(!0)}},CheckTriggerSubGame:function(){return this.bBounusGame},CheckEnterFreeGame:function(){var e;if(e=this._gameInfo.select&&1==this._gameInfo.select){this.scheduleOnce(function(){this.ShowTranstion(function(){cc.find("Canvas/safe_node/wheel_node").active=!0})},1.5);for(var t=this._gameInfo.freeResult.freeInfo.idxs,n=0;n<t.length;n++){this.GetSymbolByIdx(t[n]).playTriggerAnimation()}Global.SlotsSoundMgr.playEffect("scatter_trigger")}return e},ShowReelEffect:function(){var e=this,t=cc.find("spine_role",this.node);t.active=!0;var n=t.getComponent(sp.Skeleton);n.setAnimation(0,"skill01",!0),n.addAnimation(0,"skill01",!1,3),n.addAnimation(0,"idle",!1,5),Global.SlotsSoundMgr.playEffect("man_stimulate");var o=cc.find("reels_frame/node_eff/spine_music",this.node);o.active=!0;var a=o.getComponent(sp.Skeleton);a.setAnimation(0,"animation",!1),a.setCompleteListener(function(){var t=cc.find("reels_frame/node_eff/spine_kuang",e.node);t.active=!0;var n=t.getComponent(sp.Skeleton);n.setAnimation(0,"animation1",!1),n.addAnimation(0,"animation2",!1),n.addAnimation(0,"animation3",!1),n.setStartListener(function(e){"animation2"==e.name&&Global.SlotsSoundMgr.playEffect("nudge")}),a.setCompleteListener(null)})},ShowTranstion:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,a,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(o=cc.find("spine_role",t.node)).getComponent(sp.Skeleton).setAnimation(0,"skill01",!1),o.getComponent(sp.Skeleton).addAnimation(0,"idle",!0),n.next=5,cc.vv.gameData.awaitTime(.5);case 5:(a=cc.find("Canvas/safe_node/translate_node")).active=!0,a.getComponent(sp.Skeleton).setAnimation(0,"skill02",!1),i=function(){e&&e()},t.scheduleOnce(i,.5),Global.SlotsSoundMgr.playEffect("transition");case 12:case"end":return n.stop()}},n)}))()},ShowTranstionExit:function(){var e=this;this.scheduleOnce(function(){var t=cc.vv.gameData.GetSubGameData();if(1==t.awardType){var n=t.num;e.ShowBottomWin(n,n,!0,function(){e.CanDoNextRound()})}else{e.CanDoNextRound();var o=cc.vv.gameData.GetTotalFree(),a=cc.vv.gameData.GetFreeTime();a>0&&(e._bottomScript.ShowFreeModel(!0,o-a,o),e._ShowGameBg(!0)),Global.SlotsSoundMgr.playBgm("free_bgm")}},1),this.ShowTranstion(function(){cc.find("Canvas/safe_node/wheel_node").active=!1})},OnReelReadyToStop:function(e){this._super(e),e>0&&this.CheckTriggerSubGame()&&Global.SlotsSoundMgr.playEffect("reel_anticipation")},OnEventWheelResult:function(e){var t=e.detail,n=cc.find("Canvas/safe_node/node_pop_ui");n.active=!0,n.getComponent("TheMinstrel_Pop").ShowWheelResult(t)},ReconnectShow:function(){if(cc.vv.gameData.IsSelectWheel()){this._bottomScript.ShowBtnsByState("moveing_1");this.ShowTranstion(function(){cc.find("Canvas/safe_node/wheel_node").active=!0})}else{var e=cc.vv.gameData.GetTotalFree(),t=cc.vv.gameData.GetFreeTime();if(t>0){this._bottomScript.ShowFreeModel(!0,e-t,e);var n=cc.vv.gameData.GetTotalFreeWin();this._bottomScript.SetWin(n),this.CanDoNextRound(),this._ShowGameBg(!0),Global.SlotsSoundMgr.playBgm("free_bgm")}}},CheckExitFreeGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,o=cc.vv.gameData.GetTotalFree(),a=cc.vv.gameData.GetFreeTime(),!(o>0&&0==a)){t.next=11;break}return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=7,cc.vv.gameData.awaitTime(1.5);case 7:e._ShowFreeBalance(),Global.SlotsSoundMgr.stopBgm(),t.next=12;break;case 11:n.CanDoNextRound();case 12:case"end":return t.stop()}},t)}))()},_ShowFreeBalance:function(){var e=this,t=cc.find("Canvas/safe_node/node_free_balance");t.active=!0;var n=cc.find("ui_bg/btn_collect",t),o=cc.vv.gameData.GetGameTotalFreeWin();n.off("click",e._OnClickFreeBalance,e),Global.showAlertAction(cc.find("ui_bg",t),!0,0,1,function(){var a=cc.find("ui_bg/lbl_coin",t);Global.doRoallNumEff(a,0,o,1.5,null,null,0,!0),cc.vv.gameData.checkAutoPlay(n,e._OnClickFreeBalance.bind(e)),n.on("click",e._OnClickFreeBalance,e)}),Global.SlotsSoundMgr.playEffect("popup_collect")},_OnClickFreeBalance:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a,i,s,c,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,o=cc.find("Canvas/safe_node/node_free_balance"),cc.find("ui_bg/btn_collect",o).stopAllActions(),!((a=cc.find("ui_bg/lbl_coin",o)).getNumberOfRunningActions()>0)){t.next=9;break}return i=cc.vv.gameData.GetGameTotalFreeWin(),a.stopAllActions(),a.getComponent(cc.Label).string=Global.FormatNumToComma(i),t.abrupt("return");case 9:if(!((s=cc.find("ui_bg",o)).getNumberOfRunningActions()>0)){t.next=13;break}return cc.log("\u5f39\u7a97\u52a8\u4f5c\u8fd8\u6ca1\u6267\u884c\u73a9\uff0c\u8fd8\u4e0d\u80fd\u6267\u884c\u5173\u95ed\u5f39\u7a97\uff01"),t.abrupt("return");case 13:return c=function(){o.active=!1;n.ShowTranstion(function(){n._ShowGameBg(!1),n._bottomScript.ShowFreeModel(!1)})},t.next=16,Global.SlotsSoundMgr.playEffectByUnSync("popup_out");case 16:return Global.showAlertAction(s,!1,0,1,c),t.next=19,cc.vv.gameData.awaitTime(2);case 19:return r=cc.vv.gameData.GetGameTotalFreeWin(),t.next=22,n.ShowBottomWin(r,r,!0,null,1);case 22:n.CanDoNextRound();case 23:case"end":return t.stop()}},t)}))()},_ShowGameBg:function(e){var t=cc.find("Canvas/safe_node/spr_bg_normal"),n=cc.find("Canvas/safe_node/spr_bg_free");t.active=!e,n.active=e,cc.find("Canvas/safe_node/slots/free_time").active=e,this.UpdateOtherFreeTime();var o=cc.vv.gameData.GetAtlasByName("base"),a=o.getSpriteFrame("reel_04");e&&(a=o.getSpriteFrame("reel_05"));for(var i=0;i<5;i++){var s=cc.find("Canvas/safe_node/slots/reels_bg/reel_bg"+(i+1));s&&(s.getComponent(cc.Sprite).spriteFrame=a)}},UpdateOtherFreeTime:function(){var e=cc.find("Canvas/safe_node/slots/free_time"),t=cc.vv.gameData.GetTotalFree(),n=cc.vv.gameData.GetFreeTime();t>0&&(cc.find("lbl_total",e).getComponent(cc.Label).string=t,cc.find("lbl_used",e).getComponent(cc.Label).string=t-n)}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],TheMinstrel_Wheel:[function(e,t,n){"use strict";cc._RF.push(t,"b64d4rmzjRBcIpTYj0zzOO5","TheMinstrel_Wheel"),cc.Class({extends:e("LMSlots_PauseUI_Base"),properties:{},onLoad:function(){this._GRAND=888,this._MAJOR=777,this._MINOR=666,this._MINI=555,this._ReelConfig=[this._GRAND,5,8,20,this._MAJOR,5,10,7,this._MINOR,5,8,20,this._MINI,15,10,7],cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.OnRecvMsgSubAction,this),this._startBtn=cc.find("btn_start",this.node),Global.btnClickEvent(this._startBtn,this.OnClickStart,this)},onDestroy:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.OnRecvMsgSubAction,!1,this)},onEnable:function(){this.InitShow()},onDisable:function(){this.ShowLogoTxt(!0),Global.dispatchEvent(cc.vv.gameData._EventId.SLOT_SHOW_HEADFOOTER_MASK,!1)},start:function(){},InitShow:function(){this._isStart=null,this.ShowLogoTxt(!1),Global.dispatchEvent(cc.vv.gameData._EventId.SLOT_SHOW_HEADFOOTER_MASK,!0),cc.find("wheel_pan",this.node).angle=0,this.ShowResultAni(!1),this.ShowIdle(!0),cc.find("btn_spine",this.node).getComponent(sp.Skeleton).setAnimation(0,"animation1",!0),Global.SlotsSoundMgr.playBgm("wheel_bgm"),this.CheckPrizePoolLock(),cc.vv.gameData.checkAutoPlay(this._startBtn,this.OnClickStart.bind(this))},CheckPrizePoolLock:function(){var e=cc.vv.gameData.IsPrizePoolLock(3);cc.find("wheel_pan/grand_lock",this.node).active=e;var t=cc.vv.gameData.IsPrizePoolLock(2);cc.find("wheel_pan/major_lock",this.node).active=t;var n=cc.vv.gameData.IsPrizePoolLock(1);cc.find("wheel_pan/minor_lock",this.node).active=n;var o=cc.vv.gameData.IsPrizePoolLock(0);cc.find("wheel_pan/mini_lock",this.node).active=o},ShowResultAni:function(e){cc.find("wheel_win_spine",this.node).active=e},ShowIdle:function(e){cc.find("wheel_pan/wheel_idle_spine",this.node).active=e,cc.find("wheel_pointer/pointer_spine",this.node).active=e},OnClickStart:function(){if(!this._isStart){this._isStart=!0,this._startBtn.stopAllActions();var e={c:MsgId.SLOT_SUBGAME_DATA};e.gameid=cc.vv.gameData.getGameId(),e.data={},e.data.rtype=1,cc.vv.NetManager.send(e,!0),Global.SlotsSoundMgr.playEffect("wheel_press")}},OnRecvMsgSubAction:function(e){var t=this;if(200==e.code&&1==e.data.rtype){this._subData=e.data,cc.vv.gameData.SetSubGameData(this._subData),this.ShowIdle(!1),cc.find("btn_spine",this.node).getComponent(sp.Skeleton).setAnimation(0,"animation2",!1);this.scheduleOnce(function(){Global.SlotsSoundMgr.playEffect("wheel_spin"),t.ShowWheelTurn(t._subData)},1)}},ShowWheelTurn:function(e,t){var n=this,o=this,a=e.idx,i=cc.find("wheel_pan",this.node),s=2880+(16-(a-1))*(360/this._ReelConfig.length);cc.tween(i).to(6.5,{angle:-s},{easing:"quadInOut"}).call(function(){o.ShowResultAni(!0),Global.SlotsSoundMgr.playEffect("wheel_win"),Global.SlotsSoundMgr.stopBgm()}).delay(2).call(function(){Global.dispatchEvent(cc.vv.gameData._EventId.GAME423_SHOW_WHEEL_RESULT,n._subData),t&&t()}).start()},ShowLogoTxt:function(e){cc.find("Canvas/safe_node/logo_txt").active=e}}),cc._RF.pop()},{LMSlots_PauseUI_Base:void 0}],TheMinstrel_symbol:[function(e,t,n){"use strict";cc._RF.push(t,"bb287+XeFVNQr8BpDfzwSzu","TheMinstrel_symbol"),cc.Class(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({extends:e("LMSlots_Symbol_Base"),properties:{},start:function(){},StartMove:function(){this._super(),this.SetText(),this.ShowMask(!1)},ShowBonus:function(e){this._data&&(e?(this.SetText(this._data.num),this.isInBonusGame()&&this.playWinAnimation()):this.SetText())},ShowData:function(){this._data&&this.SetText(this._data.num)},isCanShowBonus:function(){var e=!1;return this._id>10&&this._id<19&&(e=!0),e},ShowMask:function(e){cc.find("mask",this.node).active=e},SetText:function(e){var t=!1;15!=this._id&&16!=this._id&&17!=this._id&&18!=this._id||(t=!0);var n=cc.find("coin_num",this.node);e&&t?(n.active=!0,n.getComponent(cc.Label).string=Global.formatNumShort(e,1)):n.active=!1},isInBonusGame:function(){var e=cc.vv.gameData.GetSlotsScript();if(e)return e.CheckTriggerSubGame()}},"ShowMask",function(e){cc.find("mask",this.node).active=e})),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["TheMinstrel_Cfg","TheMinstrel_GameData","TheMinstrel_Pop","TheMinstrel_PrizePool","TheMinstrel_Reel","TheMinstrel_Slots","TheMinstrel_Wheel","TheMinstrel_symbol"]);