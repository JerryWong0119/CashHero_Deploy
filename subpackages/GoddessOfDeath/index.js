window.__require=function e(t,n,r){function a(i,c){if(!n[i]){if(!t[i]){var s=i.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){return a(t[i][1][e]||e)},u,u.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof __require&&__require,i=0;i<r.length;i++)a(r[i]);return a}({GoddessOfDeath_Bottom:[function(e,t,n){"use strict";cc._RF.push(t,"3b7acdGMXBIQ6XuygwVvZ2H","GoddessOfDeath_Bottom"),cc.Class({extends:e("LMSlots_Bottom_Base"),properties:{}}),cc._RF.pop()},{LMSlots_Bottom_Base:void 0}],GoddessOfDeath_Cfg:[function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"9c741XiojhE04TDQo/C61pC","GoddessOfDeath_Cfg");var o={symbol:(r={},a(r,1,{node:"s1",win_node:"w1",win_ani:{name:"animation12",zIndex:100},win_ani_free:{name:"animation14",zIndex:100}}),a(r,2,{node:"s2",win_node:"w2",win_ani:{name:"animation13",zIndex:100},win_ani_free:{name:"animation15",zIndex:100}}),a(r,3,{node:"s3",win_node:"w3",win_ani:{name:"animation0",zIndex:100},stop_ani:{name:"animation1",zIndex:200}}),a(r,4,{node:"s4",win_node:"w4",win_ani:{name:"animation",zIndex:100}}),a(r,5,{node:"s5",win_node:"w5",win_ani:{name:"animation",zIndex:100}}),a(r,6,{node:"s6",win_node:"w6",win_ani:{name:"animation",zIndex:100}}),a(r,7,{node:"s7",win_node:"w7",win_ani:{name:"animation",zIndex:100}}),a(r,8,{node:"s8",win_node:"w8",win_ani:{name:"animation",zIndex:100}}),a(r,9,{node:"s9"}),a(r,10,{node:"s10"}),a(r,11,{node:"s11"}),a(r,12,{node:"s12"}),a(r,13,{node:"s13"}),a(r,14,{node:"s14"}),a(r,100,{node:"s100",win_node:"w100",fly_anim:"animation2",stop_ani:"animation1"}),r),scripts:{Top:"LMSlots_Top_Base",Bottom:"GoddessOfDeath_Bottom",Slots:"GoddessOfDeath_Slots",Reels:"LMSlots_Reel_Base",Symbols:"GoddessOfDeath_Symbol",Sound:"GoddessOfDeath_Sound"},helpItems:["games/GoddessOfDeath/prefab/LMSlots_Help_item1","games/GoddessOfDeath/prefab/LMSlots_Help_item2","games/GoddessOfDeath/prefab/LMSlots_Help_item3","games/GoddessOfDeath/prefab/LMSlots_Help_item4","games/GoddessOfDeath/prefab/LMSlots_Help_item5","games/GoddessOfDeath/prefab/LMSlots_Help_item6"],col:5,row:3,scatterId:3,wildId1:1,wildId2:2,collectId:4,symbolPrefab:"GoddessOfDeath_Symbol",symbolSize:{height:85},randomSymbols:[1,2,4,5,6,7,8,9,10,11,12,13,14],kuang:"GoddessOfDeath_kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,AddAntiTime:2,autoModelDelay:.5,bounce:!0,bounceInfo:{distance:20,time:.1},commEffect:{path:"games/GoddessOfDeath/",win1:["win1","win1end"],win2:["win2","win2end"],clickSpin:"btn_click"},reelStateInfo:[{id:[3],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/GoddessOfDeath/",reelStopSound:"reel_stop",symbolStopSound:"symbol_scatter",antSound:"reel_notify",antSpeed:2e3},{id:[1,2],mini:10,counts:[0,0,1,1,1,10],antiNode:"",path:"games/GoddessOfDeath/",reelStopSound:"reel_stop",symbolStopSound:"symbol_wild",antSound:"reel_notify",antSpeed:1500}],normalBgm:"base_bgm"};t.exports=o,cc._RF.pop()},{}],GoddessOfDeath_GameData:[function(e,t,n){"use strict";function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cc._RF.push(t,"8d67eSeKa1FCY2HX9yX/QU+","GoddessOfDeath_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{mapInfo:null,progressData:null,_subGameWinCoin:0,needBet:0},init:function(e,t,n){this._super(e,t,n),this.mapInfo=this._deskInfo.mapInfo,this.progressData=this.mapInfo.progressData,this.needBet=this.mapInfo.needBet},GetGameWin:function(){var e=this._gameInfo.wincoin;if(this._gameInfo.mapFreeGameData&&this._gameInfo.mapFreeGameData.length>0){e=0;var t,n=r(this._gameInfo.mapFreeGameData);try{for(n.s();!(t=n.n()).done;){e+=t.value.winCoin}}catch(e){n.e(e)}finally{n.f()}}return e},GetMaxBetIdx:function(){return this._deskInfo.mults.length},SetSubGameData:function(e){this._subGame=e},GetSubGameData:function(){return this._subGame},getSubGameWinCoin:function(){return this._subGameWinCoin},setSubGameWinCoin:function(e){this._subGameWinCoin=e},isEnterMapGames:function(){return cc.vv.gameData.mapInfo.state!=Global.GOLD_TREASURE_MAP_STATE.COLLECT_ENERGY},isTriggerFreeGames:function(){return this._deskInfo.restFreeCount>0&&this._deskInfo.restFreeCount==this._deskInfo.allFreeCount},isFinishFreeGames:function(){return 0==this._deskInfo.restFreeCount&&this._deskInfo.allFreeCount>0},isFreeGamesTime:function(){return this._deskInfo.restFreeCount>0&&this._deskInfo.restFreeCount<this._deskInfo.allFreeCount},isMultipleSlots:function(){return this._gameInfo&&this._gameInfo.bonusGame},isOpenCollectProgress:function(){return this.GetBetIdx()>=this.needBet},ReqSpin:function(e){var t={c:MsgId.SLOT_START};t.betIndex=e,t.gameid=this._gameId,cc.vv.NetManager.send(t,!0)},OnRcvNetSpine:function(e){if(200==e.code){if(e.spcode&&967==e.spcode)return void cc.vv.FloatTip.show("\u6d41\u7a0b\u9519\u8bef\uff01\uff01\uff01");e.bonusGame&&(e.bonusGame.currResultCards||(e.bonusGame.currResultCards=e.resultCards),e.freeResult||(e.bonusGame.freeResult=e.freeResult)),this._deskInfo.user.coin=e.coin,this._gameInfo=e,(e.freeCnt||0==e.freeCnt)&&(this._deskInfo.restFreeCount=e.freeCnt),(e.allFreeCnt||0==e.allFreeCnt)&&(this._deskInfo.allFreeCount=e.allFreeCnt),this.GetSlotsScript().onMsgSpine(e),e.mapInfo&&(this.mapInfo=e.mapInfo,this.progressData=e.mapInfo.progressData)}},reqSubGame:function(e,t){var n=this;return new Promise(function(r){var a={c:MsgId.SLOT_SUBGAME_DATA,gameid:n._gameId,data:{rtype:e}};1==e&&(a.data.choiceGameId=t),3==e&&(a.data.choiceId=t);cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,function e(t){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,e,!1,n),console.log("reqSubGame-resp:",t),200===t.code&&t.data.mapInfo&&(n.mapInfo=t.data.mapInfo),r(t)},n),cc.vv.NetManager.send(a,!0)})}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],GoddessOfDeath_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"55de5dRTFFJ0ZMm2A3rUrZe","GoddessOfDeath_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},onLoad:function(){this._super();var e=cc.find("safe_node",this.node);cc.find("SlotsMgr",e).addComponent("GoddessOfDeath_SlotsMgr").init(cc.find("slots",e))},start:function(){this._super()}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],GoddessOfDeath_MapCollectProgress:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"fe0ebOz9e1EYqDBUafRZPGU","GoddessOfDeath_MapCollectProgress"),cc.Class({extends:cc.Component,properties:{percent:0,_isCollectState:!1,lblCollectNum:cc.Label,progressBar:cc.ProgressBar,spine_renyu:sp.Skeleton,spine_tips:sp.Skeleton,collect_track_particle:cc.Node,spine_progress_complete:sp.Skeleton,spine_progress_add:sp.Skeleton},onLoad:function(){var e=cc.vv.gameData.progressData;this.setProgress(e.needCnt>0?e.totalCnt/e.needCnt:0),this.setCollectNum(e.needCnt-e.totalCnt),this._initListener(),Global.GoddessOfDeathCollectProgress=this},start:function(){this.showCollect(cc.vv.gameData.isOpenCollectProgress())},_initListener:function(){Global.btnClickEvent(cc.find("btnUnlock",this.node),this.onBtnUnlockClicked,this),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onEventTotalbetUpdated,this)},onBtnUnlockClicked:function(){cc.vv.gameData.GetFreeTime()>0||this.spine_tips.node.active&&cc.vv.gameData.GetMaxBetIdx()>=cc.vv.gameData.needBet&&(cc.vv.gameData.SetBetIdx(cc.vv.gameData.needBet),cc.vv.gameData.GetSlotsScript()._bottomScript.ShowBetCoin(),Global.dispatchEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,cc.vv.gameData.GetTotalBet()))},setCollectNum:function(e){this.lblCollectNum.string=e.toString()},setBtnsClickEnable:function(e){cc.find("btnMapInfo",this.node).getComponent(cc.Button).interactable=e,cc.find("btnUnlock",this.node).getComponent(cc.Button).interactable=e},onEventTotalbetUpdated:function(e){this.showCollect(cc.vv.gameData.isOpenCollectProgress())},collectEnergy:function(e,t){var n=this;return a(regeneratorRuntime.mark(function r(){var a,o,i,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=Math.max(0,Math.min(1,t)),!(e.length<=0)){r.next=3;break}return r.abrupt("return");case 3:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.m1_fly),a=n.spine_renyu.node.getPosition(),o=[],e.forEach(function(e){var t=n.node.convertToNodeSpaceAR(e),r=cc.instantiate(n.collect_track_particle);r.parent=n.node,r.x=t.x,r.y=t.y,r.active=!0,r.getComponent(cc.ParticleSystem).resetSystem(),o.push(new Promise(function(e){cc.tween(r).to(.5,{x:a.x,y:a.y},{easing:"easeInOut"}).call(function(){r.removeFromParent(),e()}).start()}))}),r.next=9,Promise.all(o);case 9:n.setProgress(t),n.spine_renyu.node.active=!0,n.spine_renyu.setAnimation(0,"animation",!1),i=cc.vv.gameData.progressData,c=Math.max(0,i.needCnt-i.totalCnt),n.setCollectNum(c);case 15:case"end":return r.stop()}},r)}))()},showCollect:function(e){var t=this;this._isCollectState!=e&&(e?(Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.unlock),this.spine_tips.node.active=!0,this.spine_tips.setAnimation(0,"animation1",!1),this.spine_tips.setCompleteListener(function(){t.spine_tips.node.active=!1,t.spine_tips.setCompleteListener(null)})):(Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.lock),this.spine_tips.node.active=!0,this.spine_tips.setAnimation(0,"animation2",!1),this.spine_tips.setCompleteListener(function(){t.spine_tips.setAnimation(0,"animation3",!0),t.spine_tips.setCompleteListener(null)}))),this._isCollectState=e},setProgress:function(e){var t=this;e>0?(this.spine_progress_add.node.x=this.progressBar.node.width*e,this.spine_progress_add.node.active=!0,this.spine_progress_add.setAnimation(0,"animation",!1),this.spine_progress_add.setCompleteListener(function(){t.spine_progress_add.node.active=!1,t.spine_progress_add.setCompleteListener(null),e>=1&&(Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.collect_full),t.spine_progress_complete.node.active=!0,t.spine_progress_complete.setAnimation(0,"animation4",!1),t.spine_progress_complete.setCompleteListener(function(){t.spine_progress_complete.node.active=!1,t.spine_progress_complete.setCompleteListener(null)}))}),this.scheduleOnce(function(){t.progressBar.progress=e},.4)):this.progressBar.progress=0},onBtnShowInfoClicked:function(){Global.GoddessOfDeathMap.enterMap(!0,!0)}}),cc._RF.pop()},{}],GoddessOfDeath_Map:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cc._RF.push(t,"2d0e9W2lvdBrrwcmjGPRaIR","GoddessOfDeath_Map");var s=e("EventDef");s.GOLD_TREASURE_ENTER_MAP="GOLD_TREASURE_ENTER_MAP",s.GOLD_TREASURE_EXIT_MAP="GOLD_TREASURE_EXIT_MAP";var l={1:{2:[2,[5,6,7,8,9,10,11]],5:[6,[39,38,37,36,35,34,33]],6:[1,[4,3,2,1]]},2:{3:[3,[12,13,14,15,16,17,18]],1:[2,[11,10,9,8,7,6,5]],6:[7,[43,42,41,40]]},3:{4:[4,[19,20,21,22,23,24,25]],2:[3,[18,17,16,15,14,13,12]],6:[8,[47,46,45,44]]},4:{5:[5,[26,27,28,29,30,31,32]],3:[4,[25,24,23,22,21,20,19]],6:[9,[51,50,49,48]]},5:{1:[6,[33,34,35,36,37,38,39]],4:[5,[32,31,30,29,28,27,26]],6:[10,[55,54,53,52]]},6:{1:[1,[1,2,3,4]],2:[7,[40,41,42,43]],3:[8,[44,45,46,47]],4:[9,[48,49,50,51]],5:[10,[52,53,54,55]]}},u=[{idx:1,pointNum:4,lightAnim:"animation2"},{idx:2,pointNum:7,lightAnim:"animation3"},{idx:3,pointNum:7,lightAnim:"animation9"},{idx:4,pointNum:7,lightAnim:"animation10"},{idx:5,pointNum:7,lightAnim:"animation6"},{idx:6,pointNum:7,lightAnim:"animation1"},{idx:7,pointNum:4,lightAnim:"animation5"},{idx:8,pointNum:4,lightAnim:"animation8"},{idx:9,pointNum:4,lightAnim:"animation7"},{idx:10,pointNum:4,lightAnim:"animation4"}],m=[0,1,5,4,3,2],p=e("GlobalVar");p.GOLD_TREASURE_SUBGAME={BEKE:1,YELLOW_FISH:2,DICE:3,WHEEL:4,RENYU:5,GOLDSHIP:6},p.GOLD_TREASURE_MAP_RTYPE={CHOOSE_SUBGAME:1,COLLECT_WHEEL:2,OPERATE_SUBGAME:3},p.GOLD_TREASURE_MAP_STATE={COLLECT_ENERGY:0,CHOOSE_SUBGAME:1,COLLECT_WHEEL:2,ENTER_SUBGAME:3};var f=function(e,t){var n=this;this.node=e,this.id=t,this.spine=cc.find("spine",e),this.spine_light=cc.find("spine_light",e),this.spine_stroke=cc.find("spine_stroke",e),this.treasurebox_normal=cc.find("treasurebox",e),this.spine_treasurebox=cc.find("spine_treasurebox",e),this.spine_treasurebox.scale=.6,this.spine_treasurebox.active=!1,this.treasurebox_open=cc.find("treasurebox_open",e),this.treasurebox_open.active=!1,this.isEnabled=!1,this.setClickCallback=function(e){var t=this;Global.btnClickEvent(this.node,function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),e(t)},this)},this.setEnabled=function(e){this.isEnabled=e,this.setLightActive(e),e&&(this.setGray(!1),this.setStrokeActive(!1))},this.setGray=function(e){var t,n=e?cc.Color.GRAY:cc.Color.WHITE,r=o(this.node.children);try{for(r.s();!(t=r.n()).done;){t.value.color=n}}catch(e){r.e(e)}finally{r.f()}this.node.color=n,e&&(this.setLightActive(!1),this.setStrokeActive(!1))},this.setLightActive=function(e){this.spine_light.active=e},this.setStrokeActive=function(e){this.spine_stroke.active=e},this.setBoxNormal=function(e){this.treasurebox_normal.active=e,this.treasurebox_open.active=!e},this.playOpenBox=function(){n.spine_treasurebox.active=!0,n.spine_treasurebox.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),n.spine_treasurebox.getComponent(sp.Skeleton).setCompleteListener(function(){n.spine_treasurebox.active=!1}),setTimeout(function(){n.setBoxNormal(!1)},300)}};cc.Class({extends:cc.Component,properties:{_mapNode:null,_mapPathNode:null,_moveUser:null,_islandArr:null,_mapPointArr:null,_curIslandId:0,_mIsLandCallback:null,_isLook:!1},onLoad:function(){var e,t=this,n=o(this.node.children);try{for(n.s();!(e=n.n()).done;){e.value.active=!1}}catch(e){n.e(e)}finally{n.f()}this._mapNode=cc.find("mapMain",this.node),this._mapPathNode=cc.find("nodeMapPath",this._mapNode),this._moveUser=cc.find("theme163_map_user",this._mapPathNode),this._islandArr=[];for(var r=1;r<=6;r++){var a=new f(cc.find("theme163_map_dao"+r,this._mapPathNode),r);this._islandArr.push(a),a.setClickCallback(this.onIslandClicked.bind(this))}this._mapPointArr=[];for(var i=1;i<=10;i++){var c=cc.find("theme163_map_road"+i,this._mapPathNode);c.getComponent(cc.Sprite).enabled=!1,c.getChildByName("spine").active=!1;var s,l=o(c.children);try{for(l.s();!(s=l.n()).done;){var u=s.value;"spine"!=u.name&&(this._mapPointArr[parseInt(u.name.substr(-2,2))]=u)}}catch(e){l.e(e)}finally{l.f()}}Global.btnClickEvent(cc.find("uiChooseIslandSureTips/ui/btnYES",this._mapNode),this.onChooseYES.bind(this),this),Global.btnClickEvent(cc.find("uiChooseIslandSureTips/ui/btnNO",this._mapNode),this.onChooseNO.bind(this),this),Global.btnClickEvent(cc.find("btnHelp",this._mapNode),function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click);var e=cc.find("uiHelp",t._mapNode);e.active=!e.active,e.stopAllActions(),e.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.active=!1}))),Global.btnClickEvent(e,function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),e.stopAllActions(),e.active=!1},t)},this),Global.btnClickEvent(cc.find("backToGame",this._mapNode),function(){t.moveupMap(),Global.SlotsSoundMgr.stopBgm()},this),Global.GoddessOfDeathMap=this,this._bekeGameCmp=this.addComponent("GoddessOfDeath_subGameBeke"),this._yellowFishGameCmp=this.addComponent("GoddessOfDeath_subGameYellowFish"),this._diceGameCmp=this.addComponent("GoddessOfDeath_subGameDice"),this._multWheelGameCmp=this.addComponent("GoddessOfDeath_subGameMultWheel"),this._renyuGameCmp=this.addComponent("GoddessOfDeath_subGameRenyu"),this._goldShipGameCmp=this.addComponent("GoddessOfDeath_subGameGoldShip"),this._collectWheelCmp=this.addComponent("GoddessOfDeath_subGameCollectWheel"),this.autoAdaptSize()},autoAdaptSize:function(){var e=cc.find("Canvas"),t=e.width,n=e.height;if(e){var r=t/720,a=n/1560;this.node.scale=Math.min(r,a)}},reconnect:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.restoreMapByData(),cc.vv.gameData.mapInfo.state==Global.GOLD_TREASURE_MAP_STATE.COLLECT_ENERGY){t.next=4;break}return t.next=4,e.enterMap(!1,!1);case 4:case"end":return t.stop()}},t)}))()},restoreMapByData:function(){var e=cc.vv.gameData.mapInfo;cc.find("backToGame",this._mapNode).active=this._isLook;for(var t=0;t<6;t++){var n=cc.find("nodePrizePool/complete_island_"+(t+1),this._mapNode);n&&(n.active=!1),this.setIslandTipsActive(t+1,!1),this._islandArr[t].setEnabled(!1),this._islandArr[t].setStrokeActive(!1),this._islandArr[t].setGray(!0)}for(var r in e.completeGame){var a=e.completeGame[r];this._islandArr[a-1].setGray(!1),this._islandArr[a-1].setBoxNormal(!1);var o=cc.find("nodePrizePool/complete_island_"+(parseInt(r)+1),this._mapNode);o.active=!0,o.getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("map").getSpriteFrame("theme141_map_over_sp"+m[a])}e.nextGame>0&&(this._islandArr[e.nextGame-1].setGray(!1),this._islandArr[e.nextGame-1].setStrokeActive(!0));for(var i=1;i<=10;i++)cc.find("theme163_map_road"+i,this._mapPathNode).getComponent(cc.Sprite).enabled=!1;var c=this.getCurRoadNode();c&&(c.getComponent(cc.Sprite).enabled=!0);var s=this.getNextStepNode();s&&(this._moveUser.position=this.convertNodePosToLocalPos(s,this._moveUser.parent))},enterMap:function(e,t){var n=this;return a(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return cc.vv.gameData.GetSlotsScript()._bottomScript.SetWin(0),n._isLook=e,Global.dispatchEvent(EventId.GOLD_TREASURE_ENTER_MAP),n.restoreMapByData(n._isLook),cc.find("grayMask",n.node).active=!0,cc.find("chooseIslandTips",n._mapPathNode).active=!e,n._bTriggerSubGame=!1,r.abrupt("return",new Promise(function(){var r=a(regeneratorRuntime.mark(function r(a){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=5;break}return r.next=3,n.movedownMap();case 3:r.next=7;break;case 5:n._mapNode.active=!0,n._mapNode.y=0;case 7:if(e){r.next=15;break}return Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.map_bgm),r.next=11,n.nextStep();case 11:return r.next=13,n.showCollectWheel();case 13:return r.next=15,n.exitMap();case 15:a();case 16:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()));case 8:case"end":return r.stop()}},r)}))()},exitMap:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.moveupMap();case 2:Global.SlotsSoundMgr.stopBgm();case 3:case"end":return t.stop()}},t)}))()},nextStep:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.moveNextStep();case 2:return t.next=4,e.chooseNextSubGame();case 4:return t.next=6,e.triggerSubGame();case 6:n();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},getCurRoadData:function(){var e=cc.vv.gameData.mapInfo,t=e.prevGame||6,n=e.nextGame;return l[t][n]},getCurRoadNode:function(){var e=this.getCurRoadData(),t=null;return e&&(t=cc.find("theme163_map_road"+e[0],this._mapPathNode)),t},getNextStepNode:function(){var e=cc.vv.gameData.mapInfo,t=this.getCurRoadData();if(0==e.restStep)return 0==e.prevGame&&0==e.nextGame?this._islandArr[Global.GOLD_TREASURE_SUBGAME.GOLDSHIP-1].node:this._islandArr[e.nextGame-1].node;var n=t[1];return this._mapPointArr[n[n.length-e.restStep]]},moveNextStep:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.getNextStepNode())){t.next=9;break}return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.ship_move1),t.next=5,e.playActions(e._moveUser,[cc.moveTo(1,e.convertNodePosToLocalPos(r,e._moveUser.parent))]);case 5:return 0==cc.vv.gameData.mapInfo.restStep?Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.reach):Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.road),t.next=9,e.awaitTime(1);case 9:n();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},convertNodePosToLocalPos:function(e,t){return t.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0)))},popUIChooseIslandTips:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=cc.find("uiChooseIslandTips",e._mapNode)).active=!0,t.next=4,e.setUIVisible(cc.find("ui",r),!0);case 4:(o=cc.find("ui/btnLetsGo",r)).getComponent(cc.Button).interactable=!0,o.off("click"),i=e,c=function(){var e=a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.getComponent(cc.Button).interactable=!1,e.next=3,i.setUIVisible(cc.find("ui",r),!1);case 3:r.active=!1,(t=cc.find("chooseIslandTips",i._mapPathNode)).active=!0,t.stopAllActions(),t.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,.9),cc.scaleTo(.2,1),cc.delayTime(2)))),n();case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(o,c),Global.btnClickEvent(o,a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.stopAllActions(),c();case 2:case"end":return e.stop()}},e)})),e);case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},findIslandToEnable:function(){var e=cc.vv.gameData.mapInfo,t=e.nextGame||6,n=l[t];for(var r in n){if(!(6===parseInt(r)&&e.completeGame.length<5))this._islandArr[parseInt(r)-1].setEnabled(!0)}},chooseNextSubGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cc.vv.gameData.mapInfo.state==Global.GOLD_TREASURE_MAP_STATE.CHOOSE_SUBGAME){for(e.popUIChooseIslandTips(),r=1;r<=10;r++)cc.find("theme163_map_road"+r,e._mapPathNode).getComponent(cc.Sprite).enabled=!1;for(o=0;o<6;o++)e._islandArr[o].setEnabled(!1),e._islandArr[o].setStrokeActive(!1),e._islandArr[o].setGray(!0);e.findIslandToEnable(),e._mIsLandCallback=a(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.reqSubGame(Global.GOLD_TREASURE_MAP_RTYPE.CHOOSE_SUBGAME,e._curIslandId);case 2:200===t.sent.code?((r=e.getCurRoadNode()).getComponent(cc.Sprite).enabled=!0,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.path),e.playSpine(r.getChildByName("spine"),null,u[e.getCurRoadData()[0]-1].lightAnim,!1),n()):AppLog.err("\u8bf7\u6c42\u6570\u636e\u9519\u8bef");case 4:case"end":return t.stop()}},t)}))}else n();case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},triggerSubGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,a,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cc.vv.gameData.mapInfo.state!=Global.GOLD_TREASURE_MAP_STATE.ENTER_SUBGAME){t.next=53;break}r=cc.vv.gameData.mapInfo.nextGame,a=!0,t.t0=r,t.next=t.t0===Global.GOLD_TREASURE_SUBGAME.BEKE?7:t.t0===Global.GOLD_TREASURE_SUBGAME.YELLOW_FISH?10:t.t0===Global.GOLD_TREASURE_SUBGAME.DICE?13:t.t0===Global.GOLD_TREASURE_SUBGAME.WHEEL?16:t.t0===Global.GOLD_TREASURE_SUBGAME.RENYU?19:t.t0===Global.GOLD_TREASURE_SUBGAME.GOLDSHIP?22:28;break;case 7:return t.next=9,e.getBekeCmp().enterGame();case 9:return t.abrupt("break",30);case 10:return t.next=12,e.getYellowFishCmp().enterGame();case 12:return t.abrupt("break",30);case 13:return t.next=15,e.getDiceCmp().enterGame();case 15:return t.abrupt("break",30);case 16:return t.next=18,e.getMultWheelCmp().enterGame();case 18:return t.abrupt("break",30);case 19:return t.next=21,e.getRenyuCmp().enterGame();case 21:return t.abrupt("break",30);case 22:return t.next=24,e.getGoldShipCmp().enterGame();case 24:return cc.vv.gameData.mapInfo.completeGame=[],e.restoreMapByData(),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.map_full),t.abrupt("break",30);case 28:return a=!1,t.abrupt("break",30);case 30:if(!a){t.next=53;break}if(e._bTriggerSubGame=!0,o=cc.vv.gameData.mapInfo.completeGame,r!=o[o.length-1]){t.next=51;break}return(i=cc.find("nodePrizePool/complete_island_"+o.length,e._mapNode)).active=!0,i.getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("map").getSpriteFrame("theme141_map_over_sp"+m[r]),c=i.position,i.position=i.parent.convertToNodeSpaceAR(e._mapPathNode.convertToWorldSpaceAR(e._islandArr[r-1].node.position)),t.next=41,e.awaitTime(.5);case 41:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.box_open),e._islandArr[r-1].playOpenBox(),t.next=45,e.awaitTime(.4);case 45:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.island_collect),t.next=48,e.playActions(i,[cc.moveTo(.5,c)]);case 48:return e.playSpine(i.getChildByName("spine"),null,"animation",!1),t.next=51,e.awaitTime(.5);case 51:return t.next=53,e.chooseNextSubGame();case 53:n();case 54:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},isTriggerSubGame:function(){return this._bTriggerSubGame},showCollectWheel:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(cc.vv.gameData.mapInfo.state!=Global.GOLD_TREASURE_MAP_STATE.COLLECT_WHEEL){t.next=5;break}return t.next=4,e.getCollectWheelCmp().enterGame();case 4:Global.GoddessOfDeathCollectProgress.setProgress(0);case 5:n();case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},setUIVisible:function(e,t){var n=this;return a(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var r=a(regeneratorRuntime.mark(function r(a){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.active==t&&a(),!t){r.next=8;break}return e.scale=0,e.active=t,r.next=6,n.playActions(e,[cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)]);case 6:r.next=11;break;case 8:return e.scale=1,r.next=11,n.playActions(e,[cc.scaleTo(.1,1.2),cc.scaleTo(.3,0),cc.callFunc(function(){e.active=t})]);case 11:a();case 12:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},r)}))()},movedownMap:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.map_open),t.next=3,e.playActions(e._mapNode,[cc.callFunc(function(){e._mapNode.y=1500}),cc.delayTime(.05),cc.moveTo(.5,cc.v2(0,0))]);case 3:case"end":return t.stop()}},t)}))()},moveupMap:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.map_close),t.next=3,e.playActions(e._mapNode,[cc.callFunc(function(){e._mapNode.y=0}),cc.moveTo(.5,cc.v2(0,1500)),cc.callFunc(function(){cc.find("grayMask",e.node).active=!1,Global.dispatchEvent(EventId.GOLD_TREASURE_EXIT_MAP),Global.SlotsSoundMgr.stopBgm()})]);case 3:case"end":return t.stop()}},t)}))()},onIslandClicked:function(e){if(Global.SlotsSoundMgr.playEffect("btn_click"),e.isEnabled){this._curIslandId=e.id;for(var t=0;t<6;t++)this._islandArr[t].setEnabled(!1);this._islandArr[this._curIslandId-1].setStrokeActive(!0),cc.find("chooseIslandTips",this._mapPathNode).active=!1,this.setUIChooseIslandSureTipsVisible(!0)}else this.setIslandTipsActive(e.id,!0)},setUIChooseIslandSureTipsVisible:function(e){for(var t=cc.find("uiChooseIslandSureTips",this._mapNode),n=1;n<=6;n++)cc.find("ui/theme141_d_choose_type"+n,t).active=n==this._curIslandId;e?(cc.find("uiChooseIslandSureTips/ui/btnYES",this._mapNode).getComponent(cc.Button).enabled=!0,cc.find("uiChooseIslandSureTips/ui/btnNO",this._mapNode).getComponent(cc.Button).enabled=!0,t.active=e,this.setUIVisible(t.getChildByName("ui"),!0),Global.SlotsSoundMgr.playEffect("popup_out")):(this.setUIVisible(t.getChildByName("ui"),!1),t.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.active=e}))))},onChooseYES:function(){cc.find("uiChooseIslandSureTips/ui/btnYES",this._mapNode).getComponent(cc.Button).enabled=!1,cc.find("uiChooseIslandSureTips/ui/btnNO",this._mapNode).getComponent(cc.Button).enabled=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),this.setUIChooseIslandSureTipsVisible(!1),this._mIsLandCallback()},onChooseNO:function(){cc.find("uiChooseIslandSureTips/ui/btnYES",this._mapNode).getComponent(cc.Button).enabled=!1,cc.find("uiChooseIslandSureTips/ui/btnNO",this._mapNode).getComponent(cc.Button).enabled=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),this.setUIChooseIslandSureTipsVisible(!1),this.findIslandToEnable(),cc.find("chooseIslandTips",this._mapPathNode).active=!0},setIslandTipsActive:function(e,t){var n=cc.find("islandTips"+e,this._mapPathNode);n.active=t,n.stopAllActions(),n.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){n.active=!1})))},playSpine:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"animation",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e?(e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,n,r),r||e.getComponent(sp.Skeleton).setCompleteListener(function(){t&&t()})):t&&t()},playActions:function(e,t){return new Promise(function(n){t.push(cc.callFunc(function(){n()})),e.active=!0,e.runAction(cc.sequence(t))})},awaitTime:function(e){var t=this;return new Promise(function(n){t.scheduleOnce(function(){n()},e)})},getBekeCmp:function(){return this._bekeGameCmp},getYellowFishCmp:function(){return this._yellowFishGameCmp},getDiceCmp:function(){return this._diceGameCmp},getMultWheelCmp:function(){return this._multWheelGameCmp},getGoldShipCmp:function(){return this._goldShipGameCmp},getRenyuCmp:function(){return this._renyuGameCmp},getCollectWheelCmp:function(){return this._collectWheelCmp}}),cc._RF.pop()},{EventDef:void 0,GlobalVar:void 0}],GoddessOfDeath_Pop:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"73017CDm2BNn5bdMXTqTzjN","GoddessOfDeath_Pop"),cc.Class({extends:cc.Component,properties:{_showNode:null},onLoad:function(){},showFreeCount:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=a(regeneratorRuntime.mark(function n(r){var o,i,c,s,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_dialog_start_show),(o=cc.find("free_game_start",t.node)).active=!0,(i=o.getChildByName("ui")).scale=0,i.runAction(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.2,1))),cc.find("lblFreeCount",i).getComponent(cc.Label).string=(e||10).toString(),(c=i.getChildByName("btnStart")).getComponent(cc.Button).enabled=!1,n.next=11,t.delayTime(1);case 11:c.getComponent(cc.Button).enabled=!0,c.off("click"),s=t,l=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.getComponent(cc.Button).enabled=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_out),i.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.5,0))),s.showTransitionFreePage(),e.next=6,s.delayTime(1);case 6:o.active=!1,Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.free_bgm),r();case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(c,l),Global.btnClickEvent(c,a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.stopAllActions(),l();case 2:case"end":return e.stop()}},e)})),t);case 17:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},showFreeAgain:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=a(regeneratorRuntime.mark(function n(r){var a,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_dialog_start_show),(a=cc.find("free_game_again",t.node)).active=!0,(o=a.getChildByName("ui")).scale=0,o.runAction(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.2,1))),cc.find("lblFreeCount",o).getComponent(cc.Label).string=(e||10).toString(),n.next=9,t.delayTime(2);case 9:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_out),o.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.5,0))),n.next=13,t.delayTime(1);case 13:a.active=!1,r();case 15:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},showTransitionFreePage:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.transition_free),n=cc.find("freeGameLoading",e.node),e.playSpine(n,function(){n.active=!1});case 3:case"end":return t.stop()}},t)}))()},showLoadingPage:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.transition_bonus);var n=cc.find("subGameLoading",e.node);n.active=!0;var r=cc.find("spineNode",n);e.playSpine(r,function(){n.active=!1,t()})}));case 1:case"end":return t.stop()}},t)}))()},showSttlDialog:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,o,i,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=cc.find("free_game_win",e.node)).active=!0,(o=r.getChildByName("ui")).scale=0,o.getChildByName("lblWinCoin").getComponent(cc.Label).string="",(i=o.getChildByName("btnCollect")).getComponent(cc.Button).enabled=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_dialog_collect_show),t.next=10,e.playActions(o,[cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)]);case 10:Global.doRoallNumEff(o.getChildByName("lblWinCoin"),0,cc.vv.gameData._gameInfo.freeWinCoin||0,3,null,null,0,!0),i.getComponent(cc.Button).enabled=!0,i.off("click"),c=e,s=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.getComponent(cc.Button).enabled=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_out),o.getChildByName("lblWinCoin").getComponent(cc.Label).string=Global.FormatNumToComma(cc.vv.gameData._gameInfo.freeWinCoin||0),e.next=5,c.delayTime(.1);case 5:return r.active=!1,c.showTransitionFreePage(),e.next=9,c.delayTime(1);case 9:Global.SlotsSoundMgr.stopBgm(),n();case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(i,s),Global.btnClickEvent(i,a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.stopAllActions(),s();case 2:case"end":return e.stop()}},e)})),e);case 17:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showCollectCoinJackpotWin:function(e,t){var n=this;return a(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var r=a(regeneratorRuntime.mark(function r(a){var o,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return(o=cc.find("collect_coin_jackpot_win",n.node)).active=!0,(i=o.getChildByName("ui")).scale=0,cc.find("jackpot_logo",i).getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("dialog_jackpot").getSpriteFrame("theme141_p_j_type"+(5-t)),i.getChildByName("lblWinCoin").getComponent(cc.Label).string="",Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.win_jp_show),r.next=10,n.playActions(i,[cc.scaleTo(.2,1.3),cc.scaleTo(.08,1)]);case 10:return Global.doRoallNumEff(i.getChildByName("lblWinCoin"),0,e,3,null,null,0,!0),r.next=13,n.delayTime(5);case 13:return i.scale=1,Global.SlotsSoundMgr.playEffect("popup_out"),r.next=17,n.playActions(i,[cc.scaleTo(.08,1.3),cc.scaleTo(.2,0)]);case 17:o.active=!1,a();case 19:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},r)}))()},delayTime:function(e){var t=this;return new Promise(function(n,r){t.scheduleOnce(function(){n()},e)})},playSpine:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"animation",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e?(e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,n,r),r||e.getComponent(sp.Skeleton).setCompleteListener(function(){t&&t()})):t&&t()},playActions:function(e,t){return new Promise(function(n){t.push(cc.callFunc(function(){n()})),e.active=!0,e.runAction(cc.sequence(t))})}}),cc._RF.pop()},{}],GoddessOfDeath_SlotsMgr:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cc._RF.push(t,"a7aa4QycHZMVZxTeKzA2qUF","GoddessOfDeath_SlotsMgr"),cc.Class({extends:cc.Component,properties:{_slotsTemplate:null,_slotsCacheList:null,_slotsActiveList:null,_curSlotId:0,_collect_jackpot:0,_spine_role:0,_gameInfo:null},onLoad:function(){this._slotsCacheList=[],this._slotsActiveList=[],this._collect_jackpot=cc.find("collect_jackpot",this.node.parent),this._bonusBottom=cc.find("bonusBottom",this.node),this._bonusBottom.zIndex=200,this._bonusBottom.active=!1,Global.SlotsMgr=this,cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvNetMsgBonusGame,!1,this)},onDestroy:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvNetMsgBonusGame,!1,this)},init:function(e){this._slotsTemplate=e,this._slotsTemplate.getComponent(cc.Widget).updateAlignment()},start:function(){var e=this;this._slotsTemplate.active=!1,this.add1Slot(),this.setCurActiveSlot(0),this.scheduleOnce(function(){e._collect_jackpot.position=e.getCollectJackpotPos()},.03),this.showBottomInfo(!1),this.restoreByServerData()},onRcvNetMsgBonusGame:function(e){200===e.code&&(4==e.data.rtype&&(cc.vv.gameData.OnRcvNetSpine(e.data),this._gameInfo&&this._gameInfo.bonusGame&&this._gameInfo.bonusGame.scatterCnt>0&&this.showBottomInfo(!0)))},restoreByServerData:function(){var e=cc.vv.gameData.getDeskInfo();if(e.bonusGame){for(var t=e.bonusGame,n=1;n<t.currSlotIdx;n++){var r=this.add1Slot();r.node.getComponent(cc.Widget).enabled=!1,r.node.y=this._slotsActiveList[0].node.y+r.node.height*r.node.scaleY*n}this.setCurActiveSlot(t.currSlotIdx-1),this._collect_jackpot.y=this.getCollectJackpotPos().y,cc.vv.gameData.isEnterMapGames()||(this.startMoveSlots(),e.bonusGame=null),this._gameInfo&&this._gameInfo.bonusGame&&this._gameInfo.bonusGame.scatterCnt>0&&this.showBottomInfo(!0)}},setGameInfo:function(e){this._gameInfo=e},OnStartMove:function(){var e=cc.vv.gameData.getDeskInfo(),t=this._gameInfo?this._gameInfo.bonusGame:e.bonusGame;t&&(t.currSlotIdx+1===t.nextSlotIdx?(cc.vv.gameData.GetSlotsScript().SetStopTime(2),this.moveSlotUp()):t.currSlotIdx===t.nextSlotIdx+1?(cc.vv.gameData.GetSlotsScript().SetStopTime(2),this.moveSlotDown()):cc.vv.gameData.GetSlotsScript().SetStopTime(1))},OnStopMove:function(){this._gameInfo&&this._gameInfo.bonusGame&&(this.startMoveSlots(),cc.vv.gameData.getDeskInfo().bonusGame=null)},startMoveSlots:function(){var e=this,t=this._gameInfo?this._gameInfo.bonusGame:cc.vv.gameData.getDeskInfo().bonusGame;t.currSlotIdx+1===t.nextSlotIdx&&this.add1Slot(),cc.vv.gameData.GetSlotsScript().stopSymboleWinEff(),this.setCurActiveSlot(t.nextSlotIdx-1),cc.vv.gameData.GetSlotsScript().StartMove(),this.scheduleOnce(function(){e.reqBonusGame()},1)},reqBonusGame:function(){var e={c:MsgId.SLOT_SUBGAME_DATA,gameid:cc.vv.gameData.getGameId(),data:{rtype:4}};cc.vv.NetManager.send(e,!0)},moveSlotUp:function(){if(!(this._curSlotId<=0)){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.reel_up);var e=this._slotsActiveList[this._curSlotId],t=e.node.getChildByName("spineSlotUp");this.playSpine(t),e.node.getComponent(cc.Widget).enabled=!1;var n=this._slotsActiveList[this._curSlotId-1].node.position;e.node.position=n;var r=n.y+e.node.height*e.node.scaleY;cc.tween(e.node).to(.8,{y:r}).call(function(){t.active=!1}).start(),cc.tween(this._collect_jackpot).to(.8,{y:r+180}).start()}},moveSlotDown:function(){var e=this;Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.reel_down);var t=this._slotsActiveList[this._slotsActiveList.length-1];if(t){var n=this._slotsActiveList[this._slotsActiveList.length-2];if(n){var r=n.node.getChildByName("spineSlotDown");this.playSpine(r);cc.tween(t.node).to(.8,{y:n.node.y}).call(function(){r.active=!1,e.delete1Slot()}).start(),cc.tween(this._collect_jackpot).to(.8,{y:n.node.y+180}).start()}}},add1Slot:function(){var e=null;return(e=this._slotsCacheList.length>0?this._slotsCacheList.pop():this.createSlot()).node.zIndex=100-this._slotsActiveList.length,e.node.name="slots"+this._slotsActiveList.length,e.node.active=!0,this._slotsActiveList.push(e),e},createSlot:function(){var e=cc.instantiate(this._slotsTemplate);e.active=!0,e.parent=this.node;var t=cc.vv.gameData.getGameCfg();return e.getComponent(t.scripts.Slots)},delete1Slot:function(){var e=this._slotsActiveList.pop();e.node.active=!1,this._slotsCacheList.push(e)},setCurActiveSlot:function(e){if(!(e>=this._slotsActiveList.length)){this._curSlotId=e;var t,n=o(this._slotsActiveList);try{for(n.s();!(t=n.n()).done;){t.value.enabled=!1}}catch(e){n.e(e)}finally{n.f()}var r=this._slotsActiveList[this._curSlotId];r.enabled=!0,cc.vv.gameData.SetSlotsScript(r)}},getCurActiveSlotScript:function(){return this._slotsActiveList[this._curSlotId]},getCollectJackpotPos:function(){var e=this._slotsActiveList[this._slotsActiveList.length-1].node;return cc.v2(this._collect_jackpot.position.x,e.position.y+180)},showBottomInfo:function(e){if(e!=this._bonusBottom.active){var t=0;!this._bonusBottom.active&&e&&(t=3),this._bonusBottom.active=e,this._bonusBottom.y=this._slotsActiveList[0].node.y-120;var n=cc.find("spr_txt_scatter",this._bonusBottom);n.active=!0;var r=cc.find("spr_txt_freetimes",this._bonusBottom);r.active=!1,this._gameInfo&&this._gameInfo.bonusGame&&(0==t&&(t=3-(this._gameInfo.bonusGame.scatterCnt||0)),cc.find("spr_txt_scatter/lblScatterNum",this._bonusBottom).getComponent(cc.Label).string=t.toString(),t<=0&&(n.active=!1,r.active=!0))}},setBottomInfoScatterCnt:function(e){var t=3-e,n=cc.find("spr_txt_scatter",this._bonusBottom),r=cc.find("lblScatterNum",n),a=cc.find("spr_txt_freetimes",this._bonusBottom),o=cc.find("lblFreeTimes",a);if(t>0){n.active=!0,a.active=!1,this.scheduleOnce(function(){r.getComponent(cc.Label).string=t.toString()},.5);var i=cc.find("spineBomb",n);this.playSpine(i,"animation",!1,function(){i.active=!1})}else if(0==t){n.active=!0,a.active=!1;var c=cc.find("spine_switch",this._bonusBottom);this.playSpine(c,"animation",!1,function(){c.active=!1}),this.scheduleOnce(function(){n.active=!1,a.active=!0,o.getComponent(cc.Label).string="10"},.5)}else if(t<0){n.active=!1,a.active=!0,this.scheduleOnce(function(){o.getComponent(cc.Label).string=(10+2*-t).toString()},.5);var s=cc.find("spineBomb",a);this.playSpine(s,"animation",!1,function(){s.active=!1})}},getBottomRestScatterCnt:function(){var e=parseInt(cc.find("spr_txt_scatter/lblScatterNum",this._bonusBottom).getComponent(cc.Label).string||0);return this._gameInfo.bonusGame.scatterCnt<=3&&(e=3-this._gameInfo.bonusGame.scatterCnt,e=Math.max(e,0)),e},collectScatter:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var r,a,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.length<=0)){n.next=2;break}return n.abrupt("return");case 2:if(!(t.getBottomRestScatterCnt()<=0)){n.next=4;break}return n.abrupt("return");case 4:return t.showBottomInfo(!0),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_collect),r=cc.find("spr_scatter",t._bonusBottom),a=cc.find("scatter_pos",t._bonusBottom).getPosition(),o=[],e.forEach(function(e){var n=t._bonusBottom.convertToNodeSpaceAR(e),i=cc.instantiate(r);i.parent=t._bonusBottom,i.x=n.x,i.y=n.y,i.active=!0,o.push(new Promise(function(e){i.runAction(cc.sequence(cc.spawn(cc.moveTo(.5,a).easing(cc.easeSineInOut()),cc.scaleTo(.5,.3)),cc.callFunc(function(){e()}),cc.removeSelf()))}))}),n.next=12,Promise.all(o);case 12:t.setBottomInfoScatterCnt(t._gameInfo.bonusGame.scatterCnt);case 13:case"end":return n.stop()}},n)}))()},playSpine:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(a){e?(e.active=!0,AppLog.log("\u64ad\u653e\u8282\u70b9["+e.parent.name+"/"+e.name+"]\u7684spine\u52a8\u4f5c: "+t),e.getComponent(sp.Skeleton).setAnimation(0,t,n),n?a():e.getComponent(sp.Skeleton).setCompleteListener(function(){r&&r(),a()})):(r&&r(),a())})},playActions:function(e,t){return new Promise(function(n){t.push(cc.callFunc(function(){n()})),e.active=!0,e.runAction(cc.sequence(t))})},awaitTime:function(e){var t=this;return new Promise(function(n){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{}],GoddessOfDeath_Slots:[function(e,t,n){"use strict";function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){i(o,r,a,c,s,"next",e)}function s(e){i(o,r,a,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"44df09QUJNIyrP5AODQMFQW","GoddessOfDeath_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_popUIScript:null,_isCanStopSlot:!1,_isSpinEndEnterMap:!1},RegisterEvent:function(){Global.registerEvent(EventId.GOLD_TREASURE_ENTER_MAP,this.onRcvEvtEnterMap,this),Global.registerEvent(EventId.GOLD_TREASURE_EXIT_MAP,this.onRcvEvtExitMap,this)},onLoad:function(){this._super();for(var e=cc.find("Canvas/safe_node/collect_jackpot"),t=cc.find("pointList",e),n=1;n<=12;n++)cc.find("Point"+n,t).active=!1;var r=cc.find("PointTemplate",t);if(r.active=!1,!t.getChildByName("JackpotPoint1"))for(var a=1;a<=12;a++){var o=cc.instantiate(r);o.active=!0,o.parent=t,o.name="JackpotPoint"+a,o.position=cc.find("Point"+a,t).position}},Init:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._topScript=cc.vv.gameData.GetTopScript(),this._bottomScript=cc.vv.gameData.GetBottomScript(),this._cfg=cc.vv.gameData.getGameCfg(),this._col=this._cfg.col,this._row=this._cfg.row,this.createReels(this._col,this._row),this._bottomScript.ShowBtnsByState("idle"),this.RegisterEvent(),e&&this.ReconnectShow(),this._popUIScript=cc.find("Canvas/safe_node/node_pop_ui").addComponent("GoddessOfDeath_Pop")},ReconnectShow:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=cc.vv.gameData.GetFreeTime())?e.ShowGameview(!0,!1):e.ShowGameview(!1),cc.vv.gameData.mapInfo.state==Global.GOLD_TREASURE_MAP_STATE.COLLECT_ENERGY){t.next=9;break}return e._bottomScript.ShowBtnsByState("moveing_1"),e._isSpinEndEnterMap=!1,t.next=7,Global.GoddessOfDeathMap.enterMap();case 7:t.next=10;break;case 9:cc.vv.gameData.getDeskInfo().bonusGame||n&&(Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.free_bgm),e.CanDoNextRound());case 10:case"end":return t.stop()}},t)}))()},StartMove:function(){this._isCanStopSlot=!1,this._bStopRightnow=null,this._gameInfo=null,Global.SlotsSoundMgr.playNormalBgm(),this._topScript.StartMove(),cc.vv.gameData.ClearOneRoundData(),this.MoveReels(this._reels),Global.GoddessOfDeathCollectProgress&&Global.GoddessOfDeathCollectProgress.setBtnsClickEnable(!1),this._stopTime=this.GetStopTime(),this.removeAllCollectCoinsEff(),Global.SlotsMgr&&Global.SlotsMgr.OnStartMove()},SetSlotsResult:function(e){for(var t=e.length/this._col,n=[],r=0;r<e.length;r++){Math.floor(r/t);var a=r%this._col;if(this._cfg.symbol[e[r]]){var o={};o.sid=e[r],o.data=this.getCoinData(r+1),n[a]||(n[a]=[]),n[a].unshift(o)}}for(var i=0;i<this._reels.length;i++){var c=this._reels[i],s=n[i];c.SetResult(s)}},getCoinData:function(e){if(this._gameInfo.jackpot){this._gameInfo.jackpot.coinIdxs=this._gameInfo.jackpot.coinIdxs||[];var t,n=r(this._gameInfo.jackpot.coinIdxs);try{for(n.s();!(t=n.n()).done;){if(t.value==e)return{t:"coin",num:1}}}catch(e){n.e(e)}finally{n.f()}}return null},CanStopSlot:function(){return this._isCanStopSlot},onMsgSpine:function(e){if(this._gameInfo=e,this._gameInfo.jackpot&&this._gameInfo.jackpot.jackpotId&&Global.random0To1()>.5)this._isCanStopSlot=!1,this.playMoveShipBonusEff();else{this._isCanStopSlot=!0;var t=e.resultCards;this.SetSlotsResult(t),this.SetReelStateInfo(t)}Global.SlotsMgr&&Global.SlotsMgr.setGameInfo(this._gameInfo)},playMoveShipBonusEff:function(){var e=this;Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.transition_bonus);var t=cc.find("Canvas/safe_node/sishenhaila");t.getComponent(sp.Skeleton).setAnimation(0,"skill",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){e._isCanStopSlot=!0,e.SetSlotsResult(e._gameInfo.resultCards),e.SetReelStateInfo(e._gameInfo.resultCards),t.getComponent(sp.Skeleton).setCompleteListener(null),t.getComponent(sp.Skeleton).setAnimation(0,"idle",!0)})},stopSymboleWinEff:function(){for(var e=0;e<5;e++)for(var t=this._reels[e]._symbols,n=0;n<3;n++){var r=t[n];r.ShowKuang(!1),r.stopWinTweenAction(),r.setAnimationToTop(!1)}},showScatter:function(){var e=this;return new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._gameInfo||!e._gameInfo.bonusGame){t.next=6;break}if(r=[],e._reels.forEach(function(t){if(t.node.active)for(var n=0;n<e._row;n++){var a=t.GetSymbolByRow(n);a.GetShowId()==cc.vv.gameData.getGameCfg().scatterId&&r.push(a.node.parent.convertToWorldSpaceAR(a.node.position))}}),!(r.length>0&&Global.GoddessOfDeathCollectProgress)){t.next=6;break}return t.next=6,Global.SlotsMgr.collectScatter(r);case 6:n();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},showCollectEnegy:function(){var e=this;return new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=cc.vv.gameData.progressData)){t.next=11;break}if(a=[],e._reels.forEach(function(t){if(t.node.active)for(var n=0;n<e._row;n++){var r=t.GetSymbolByRow(n);r.GetShowId()==cc.vv.gameData.getGameCfg().collectId&&a.push(r.node.parent.convertToWorldSpaceAR(r.node.position))}}),!(a.length>0&&Global.GoddessOfDeathCollectProgress)){t.next=11;break}if(!(r.totalCnt/r.needCnt>=1)){t.next=10;break}return t.next=8,Global.GoddessOfDeathCollectProgress.collectEnergy(a,r.totalCnt/r.needCnt);case 8:t.next=11;break;case 10:Global.GoddessOfDeathCollectProgress.collectEnergy(a,r.totalCnt/r.needCnt);case 11:n();case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},removeAllCollectCoinsEff:function(){for(var e=cc.find("Canvas/safe_node/collect_jackpot"),t=cc.find("pointList",e),n=1;n<=12;n++){var r=cc.find("JackpotPoint"+n,t);r.getChildByName("theme141_collect_2_4").active=!1,r.getChildByName("jp_jinbi_chuxian_01").active=!1;var a=r.getChildByName("jp_jinbi_xuanhuan_02");a.getComponent(sp.Skeleton).clearTrack(0),a.active=!1;var o=r.getChildByName("jp_jinbi_xuanhuan_03");o.getComponent(sp.Skeleton).clearTrack(0),o.active=!1}for(var i=1;i<=4;i++)cc.find("jackpot"+i+"/jp_zi_xuanhuan",e).active=!1},showCollectCoin:function(){for(var e=cc.find("Canvas/safe_node/collect_jackpot"),t=this._gameInfo.jackpot&&this._gameInfo.jackpot.jackpotId,n=0,r=0;r<5;r++)for(var a=this._reels[r]._symbols,o=0;o<3;o++){a[o].isNeedCollectCoin()&&function(){n++;var r=cc.find("pointList/JackpotPoint"+n,e);a[o].PlayCollectCoinAction(r,function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.coin_show),r.getChildByName("theme141_collect_2_4").active=!0;var e=r.getChildByName("jp_jinbi_chuxian_01");if(e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),t){var n=r.getChildByName("jp_jinbi_xuanhuan_02");n.getComponent(sp.Skeleton).setAnimation(0,"animation",!0),n.active=!0;var a=r.getChildByName("jp_jinbi_xuanhuan_03");a.getComponent(sp.Skeleton).setAnimation(0,"animation",!0),a.active=!0}})}()}t&&(Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.jp_win),cc.find("jackpot"+this._gameInfo.jackpot.jackpotId+"/jp_zi_xuanhuan",e).active=!0);if(n>0)return!0},ShowScatterWinFree:function(){if(this._gameInfo){var e=[];if(this._gameInfo.freeResult&&this._gameInfo.freeResult.freeInfo)for(var t=this._gameInfo.freeResult.freeInfo.scatterIdx||[],n=0;n<t.length;n++){e[t[n]]=1}for(var r in e){var a=this.GetSymbolByIdx(Number(r));a&&a.playWinAnimation()}}},OnSpinEnd:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=r(e._reels);try{for(n.s();!(a=n.n()).done;)a.value.ShowAntiEffect(!1)}catch(e){n.e(e)}finally{n.f()}if(o=e.showCollectCoin(),!cc.vv.gameData.isOpenCollectProgress()){t.next=6;break}return t.next=6,e.showCollectEnegy();case 6:if(!o){t.next=9;break}return t.next=9,e.awaitTime(.5);case 9:if(e.ShowWinTrace(),e.showScatter(),!e._gameInfo.jackpot||!e._gameInfo.jackpot.jackpotId){t.next=17;break}return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=15,e.awaitTime(3);case 15:return t.next=17,e._popUIScript.showCollectCoinJackpotWin(e._gameInfo.jackpot.jackpotValue,e._gameInfo.jackpot.jackpotId);case 17:if(e.CheckFreeGameFinish()){t.next=20;break}return t.next=20,e.playBottomWin();case 20:if(!e.CheckTriggerMapSubGame()){t.next=32;break}return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=24,e.awaitTime(.5);case 24:return e._isSpinEndEnterMap=!0,t.next=27,Global.GoddessOfDeathMap.enterMap(!1,!0);case 27:if(cc.vv.gameData.isFreeGamesTime()&&Global.SlotsSoundMgr.playBgm(Global.SlotsSoundMgr.free_bgm),!Global.GoddessOfDeathMap.isTriggerSubGame()){t.next=31;break}return t.next=31,e.playBottomWin(e._bottomScript.getCurrentWin());case 31:cc.vv.gameData.isFreeGamesTime()&&e._bottomScript.SetWin(cc.vv.gameData.GetGameTotalFreeWin());case 32:if(!e.CheckEnterFreeGame()){t.next=52;break}return e._bottomScript.ShowBtnsByState("moveing_1"),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.bell),e.ShowScatterWinFree(),t.next=38,e.awaitTime(1);case 38:if(Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_dialog_start_show),e._gameInfo.freeCnt!=e._gameInfo.allFreeCnt){t.next=48;break}return t.next=42,e._popUIScript.showFreeCount(e._gameInfo.freeResult.freeInfo.freeCnt);case 42:return t.next=44,e.awaitTime(.5);case 44:e.ShowGameview(!0,!1),e.Backup(),t.next=50;break;case 48:return t.next=50,e._popUIScript.showFreeAgain(e._gameInfo.freeResult.freeInfo.freeCnt);case 50:t.next=62;break;case 52:if(!e.CheckFreeGameFinish()){t.next=62;break}return e._bottomScript.ShowBtnsByState("moveing_1"),e._bottomScript.SetWin(cc.vv.gameData.GetGameTotalFreeWin()),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_dialog_collect_show),t.next=58,e._popUIScript.showSttlDialog();case 58:return e.scheduleOnce(function(){e.ShowGameview(!1,!1),e._bottomScript.ShowFreeModel(!1),e.Resume()},.5),Global.GoddessOfDeathCollectProgress.setBtnsClickEnable(!0),t.next=62,e.playBottomWin(!0);case 62:if(cc.vv.gameData,i=cc.vv.gameData.GetFreeTime(),c=cc.vv.gameData.GetAutoModelTime(),Global.GoddessOfDeathCollectProgress&&0==i&&c<=0&&Global.GoddessOfDeathCollectProgress.setBtnsClickEnable(!0),!e._gameInfo||!e._gameInfo.bonusGame){t.next=86;break}if(!e._gameInfo.isEnd){t.next=82;break}if(e._bottomScript.ShowBtnsByState("stoped"),!(e._gameInfo.bonusGame.freeResult&&e._gameInfo.bonusGame.freeResult.freeInfo&&e._gameInfo.bonusGame.freeResult.freeInfo.freeCnt>0)){t.next=77;break}return e._bottomScript.ShowBtnsByState("moveing_1"),cc.vv.gameData.SetFreeTime(e._gameInfo.bonusGame.freeResult.freeInfo.freeCnt),cc.vv.gameData.SetTotalFree(e._gameInfo.bonusGame.freeResult.freeInfo.freeCnt),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.free_dialog_start_show),t.next=76,e._popUIScript.showFreeCount(cc.vv.gameData.GetTotalFree());case 76:e.scheduleOnce(function(){e.ShowGameview(!0,!1)},.5);case 77:Global.SlotsMgr.showBottomInfo(!1),e._gameInfo.bonusGame=null,e.CanDoNextRound(),t.next=84;break;case 82:e._bottomScript.ShowBtnsByState("moveing_1"),Global.SlotsMgr.OnStopMove();case 84:t.next=88;break;case 86:e._bottomScript.ShowBtnsByState("stoped"),e.CanDoNextRound();case 88:case"end":return t.stop()}},t)}))()},playBottomWin:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=c(regeneratorRuntime.mark(function n(r){var a,o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=cc.vv.gameData.GetGameWin(),o=a,i=!0,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(o=cc.vv.gameData.GetGameTotalFreeWin(),i=0==cc.vv.gameData.GetFreeTime()),cc.vv.gameData.isMultipleSlots()&&(o=cc.vv.gameData.getGameInfo().bonusGame.totalWinCoin,i=t._gameInfo.isEnd),e&&(a=cc.vv.gameData.GetGameTotalFreeWin(),o=a,i=!0),!(a>0)){n.next=11;break}return n.next=9,t.ShowBottomWin(a,o,i,function(){r()});case 9:n.next=12;break;case 11:r();case 12:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},awaitTime:function(e){var t=this;return new Promise(function(n){t.scheduleOnce(function(){n()},e)})},CheckSpecialReward:function(){return this.CheckEnterFreeGame()||this.CheckFreeGameFinish()||this.CheckTriggerMapSubGame()},CheckEnterFreeGame:function(){var e=this._gameInfo.freeResult.freeInfo;return e&&e.freeCnt>0},CheckFreeGameFinish:function(){return cc.vv.gameData.isFinishFreeGames()},CheckTriggerMapSubGame:function(){return cc.vv.gameData.isEnterMapGames()},ShowTranstion:function(e){var t=cc.find("Canvas/safe_node/translate_node");t.active=!0,t.getComponent(sp.Skeleton).setAnimation(0,"animation",!1);this.scheduleOnce(function(){e&&e()},.5)},ShowGameview:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._super(e),e&&t&&this.CanDoNextRound(),cc.find("reels_bg",this.node).active=!e,cc.find("reels_bg_free",this.node).active=e},onRcvEvtEnterMap:function(){this._bottomScript.ShowBtnsByState("moveing_1"),this._topScript.SetBackLobby(!1)},onRcvEvtExitMap:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=cc.vv.gameData.getSubGameWinCoin())>0)){t.next=4;break}return t.next=4,new Promise(function(t,r){cc.vv.gameData.AddCoin(n),cc.vv.gameData.setSubGameWinCoin(0),e.ShowBottomWin(n,n,!0,t)});case 4:e._isSpinEndEnterMap||(e.ShowGameview(cc.vv.gameData.isFreeGamesTime()),cc.vv.gameData.getDeskInfo().bonusGame?Global.SlotsMgr.startMoveSlots():e.CanDoNextRound()),e._isSpinEndEnterMap=!0,e._bottomScript.ShowBtnsByState("idle"),e._topScript.SetBackLobby(!0);case 8:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],GoddessOfDeath_Sound:[function(e,t,n){"use strict";cc._RF.push(t,"60d0avQnW9CaY+sgNtNT3hw","GoddessOfDeath_Sound"),cc.Class({extends:e("LMSlots_Sound"),properties:{soundPath:"games/GoddessOfDeath/",scatter_ant:"reel_notify",bell:"bell",btn_click:"btn_click",coin_fly:"coin_fly",coin_show:"coin_show",collect_full:"collect_full",lock:"lock",unlock:"unlock",fg_trigger:"fg_trigger",indicate:"indicate",jp_win:"jp_win",win_jp_show:"win_jp_show",m1_fly:"m1_fly",nudge:"nudge",reel_down:"reel_down",reel_notify:"reel_notify",reel_stop:"reel_stop",reel_up:"reel_up",scatter_stop:"symbol_scatter",wild_stop:"symbol_wild",common_click:"btn_click",transition_bonus:"transition_bonus",transition_free:"transition_free",free_bgm:"free_bgm",free_dialog_collect_show:"free_dialog_collect_show",free_dialog_start_show:"free_dialog_start_show",popup_out:"popup_out",free_collect:"collect",free_change:"change",box_open:"box_open",island_click:"box_open",map_bgm:"map_bgm",map_full:"map_full",map_wheel_click:"map_wheel_click",map_wheel_show:"map_wheel_show",map_wheel_spin:"map_wheel_spin",popup_in:"popup_in",reach:"reach",road:"road",ship_move1:"ship_move1",map_open:"map_in",map_close:"map_out",island_collect:"island_collect",extrapick:"extrapick",popup_map1:"popup_map1",popup_map2:"popup_map2",land1_break:"land1_break",land1_full:"land1_full",land1_show:"land1_show",land2_open:"land2_open",land3_dice:"land3_dice",land3_fly:"land3_fly",land3_out:"land3_out",land4_full:"land4_full",land4_spin:"land4_spin",land5_click:"land5_click",land6_end:"land6_end",land6_open:"land6_open"}}),cc._RF.pop()},{LMSlots_Sound:void 0}],GoddessOfDeath_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"0eb2bjcG5JPR52df/ecRsa0","GoddessOfDeath_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},StartMove:function(){this._super(),this._showCoinNode&&(this._showCoinNode.active=!1,this._showCoinNode=null)},StopMoveEnd:function(){this._super(),this.playCoinStopEff()},playCoinStopEff:function(){var e=cc.vv.gameData.getGameCfg();if(this._data&&"coin"==this._data.t){var t=e.symbol[100];if(t&&t.win_node){this._showCoinNode=cc.find(t.win_node,this.node),this._showCoinNode.active=!0;var n=t.stop_ani;if(n){var r=this._showCoinNode.getComponent(sp.Skeleton);r&&(r.setAnimation(0,n,!1),r.setCompleteListener(function(){r.setCompleteListener(null)})),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.coin_show)}}}},isNeedCollectCoin:function(){return this._data&&"coin"==this._data.t},PlayCollectCoinAction:function(e,t){var n=this;if(AppLog.warn(this._id,"PlayCollectCoinAction0"),this._showCoinNode&&this._showCoinNode.active){var r=cc.vv.gameData.getGameCfg(),a=cc.find("Canvas/safe_node"),o=cc.instantiate(this._showCoinNode);o.active=!1,o.parent=a;var i=a.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v2(0,0)));o.position=i,this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){n._showCoinNode&&(n._showCoinNode.active=!1,n._showCoinNode=null),o.active=!0;var c=r.symbol[100].fly_anim;if(c){var s=o.getComponent(sp.Skeleton);s&&s.setAnimation(0,c,!1)}Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.coin_fly);var l=a.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(-37,22)));cc.tween(o).bezierTo(.5,cc.v2(i.x,i.y),cc.v2(l.x,i.y),cc.v2(l.x,l.y),{scale:.3}).call(function(){t(),o.destroy()}).start()})))}},playWinAnimation:function(){this._showNode&&(this._showNode.active=!1);var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node){this._showNode&&(this._showNode.active=!1);var n=this.setAnimationToTop(!0),r=cc.find(t.symbol[e].win_node,n);r.active=!0;var a=t.symbol[e].win_ani;if((cc.vv.gameData.isFreeGamesTime()||cc.vv.gameData.isMultipleSlots())&&t.symbol[e].win_ani_free&&(a=t.symbol[e].win_ani_free),a&&""!=a.name){n.zIndex=a.zIndex-this._symbolIdx+10*this._reelIdx;var o=r.getComponent(sp.Skeleton);o&&o.setAnimation(0,a.name,!0)}}else this._showNode.active=!0,this.playWinTweenAction()},playWinTweenAction:function(){this._showNode.cleanup();var e=this._showNode.opacity;this._showNodeOrgOpacity=e,cc.tween(this._showNode).repeatForever(cc.tween().to(.35,{opacity:0}).to(.3,{opacity:e}).delay(.6)).start()}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}],GoddessOfDeath_subGameBase:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"c0f63ZKoqpAtaIXIXcc+cml","GoddessOfDeath_subGameBase"),cc.Class({extends:cc.Component,properties:{_soundPath:"games/GoddessOfDeath/",_subGameNodeName:"subGame____",_subGameNode:null,_spineNodeLoading:null,_node_start:null,_node_main:null,_node_win:null,machine:{default:null,visible:!1}},onLoad:function(){this._subGameNode=cc.find(this._subGameNodeName,this.node),this._spineNodeLoading=cc.find("spineNodeLoading",this._subGameNode),this._node_start=cc.find("node_start",this._subGameNode),this._node_main=cc.find("node_main",this._subGameNode),this._node_win=cc.find("node_win",this._subGameNode),this._subGameNode.active=!1,this._spineNodeLoading.active=!1,this._node_start.active=!1,this._node_main.active=!1,this._node_win.active=!1},enterGame:function(e){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},exitGame:function(){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},showStart:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._subGameNode.active=!0,e._node_start.active=!0,(r=cc.find("ui",e._node_start)).scale=0,(o=r.getChildByName("btnStart")).getComponent(cc.Button).enabled=!1,t.next=8,e.playActions(r,[cc.scaleTo(.35,1.4),cc.scaleTo(.15,1.2)]);case 8:o.getComponent(cc.Button).enabled=!0,i=e,c=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),o.getComponent(cc.Button).enabled=!1,e.next=4,i.playActions(r,[cc.scaleTo(.15,1.4),cc.scaleTo(.35,0)]);case 4:i._node_start.active=!1,n();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(o,c),Global.btnClickEvent(o,a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.stopAllActions(),c();case 2:case"end":return e.stop()}},e)})),e);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showMain:function(){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},showResult:function(){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},playFullScreen:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.indicate),t.setFullScreenVisible(!0),t.playSpine(t._spineNodeLoading,null,"skill"),n.next=5,t.awaitTime(e||1);case 5:t.setFullScreenVisible(!1);case 6:case"end":return n.stop()}},n)}))()},setFullScreenVisible:function(e){this._spineNodeLoading.active=e},setSubGameNodeVisible:function(e){this._subGameNode.active=e,e||(this._node_start.active=!1,this._node_main.active=!1,this._node_win.active=!1)},convertNumToShortStr:function(e){return Global.convertNumToShort(e,1e3,1,["","K","M","B","T","Q"])},rollToNumOfLabel:function(e,t){Global.doRoallNumEff(e,0,t,2,null,null,0,!0)},setLabel:function(e,t){e&&(e.getComponent(cc.Label).string=t)},playSpine:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"animation",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e?(e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,n,r),r||e.getComponent(sp.Skeleton).setCompleteListener(function(){t&&t()})):t&&t()},playActions:function(e,t){return new Promise(function(n){t.push(cc.callFunc(function(){n()})),e.active=!0,e.runAction(cc.sequence(t))})},awaitTime:function(e){var t=this;return new Promise(function(n){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{}],GoddessOfDeath_subGameBeke:[function(e,t,n){"use strict";function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){i(o,r,a,c,s,"next",e)}function s(e){i(o,r,a,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"923f2EZlZRCMJhDXhIkayrm","GoddessOfDeath_subGameBeke");var s=["death",16,36,60,180,600,"win_all","death"],l={0:7,16:1,36:2,60:3,180:4,600:5,"-1":6},u={0:7,16:"",36:2,60:3,180:4,600:5,"-1":6};cc.Class({extends:e("GoddessOfDeath_subGameBase"),properties:{_subGameNodeName:"subGameBeke",_lblStartPrize:null,_lblPickMult:null,_sprPickTips:null,_bekeLayerListNode:null,_pickLeftNum:5,_pickMultNum:0},onLoad:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e._super(),e._lblStartPrize=cc.find("nodePrizePool/theme163_game_c_2/lblStartPrize",e._node_main),e._lblPickMult=cc.find("nodePrizePool/theme163_game_c_3/lblPickMult",e._node_main),e._sprPickTips=cc.find("nodeList/theme163_game4_5",e._node_main),e._bekeLayerListNode=cc.find("nodeList/list",e._node_main),e.init();case 6:case"end":return t.stop()}},t)}))()},init:function(){this.setLabel(this._lblPickMult,this._pickMultNum?this._pickMultNum+"X":""),this.resetAllLayer()},restoreByData:function(){var e=cc.vv.gameData.mapInfo.gameInfo;for(var t in this._subGameNode.active=!0,this.setLabel(this._lblPickMult,e.mult+"X"),this._pickLeftNum=5-e.layerChoiceId.length,e.layerItemList){var n=this.getLayer(parseInt(t)+1);this.showLayerRestItems(n,e.layerChoiceId[t],e.layerItemList[t]),this.setItemGray(n.getChildByName("item"+e.layerChoiceId[t]),!1)}},enterGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=cc.vv.gameData.mapInfo.gameInfo,e._pickLeftNum=n.times||5,e._pickMultNum=n.mult,e.setLabel(e._lblStartPrize,Global.FormatNumToComma(n.startPrize)),e.init(),t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.mult<=0)){t.next=3;break}return t.next=3,e.showStart();case 3:return t.next=5,e.showMain();case 5:return t.next=7,e.showResult();case 7:return t.next=9,e.exitGame();case 9:r();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 6:case"end":return t.stop()}},t)}))()},exitGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.playFullScreen(2);case 2:e.setSubGameNodeVisible(!1),n();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showMain:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=cc.vv.gameData.mapInfo.gameInfo).mult<=0)){t.next=4;break}return t.next=4,e.playFullScreen(1.5);case 4:return e._node_start.active=!1,e._node_main.active=!0,r.mult>0&&e.restoreByData(),t.next=9,e.awaitTime(.2);case 9:return t.next=11,e.awaitOrOperate();case 11:return e.setPlayPickTipsAction(!1),t.next=14,e.awaitTime(1);case 14:n();case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},setPlayPickTipsAction:function(e){e?this.playSpine(cc.find("spine",this._sprPickTips),null,"animation",!0):this.playSpine(cc.find("spine",this._sprPickTips),null,"animation2",!1)},resetLayer:function(e){var t=parseInt(e.name.substr(5,1));e.getChildByName("spine_select").active=!1;for(var n=1;n<=5;n++){var r=e.getChildByName("item"+n);r.getComponent(cc.Button).enabled=!1,r.getComponent(cc.Sprite).enabled=!1,r.getChildByName("spine_highlight").active=!1,r.getChildByName("spine_mult").active=!1,r.getChildByName("spine_kaiping").active=!0,this.playSpine(r.getChildByName("spine_kaiping"),null,"animation"+t+"_3",!1),this.setItemGray(r,!0)}},resetAllLayer:function(){for(var e=1;e<=5;e++)this.resetLayer(this.getLayer(e))},setLayerEnable:function(e,t){var n=parseInt(e.name.substr(5,1));e.getChildByName("spine_select").active=t,t&&this.setLayerGray(e,!1);for(var r=1;r<=5;r++){var a=e.getChildByName("item"+r);a.getComponent(cc.Button).enabled=t,t&&(this.playSpine(a.getChildByName("spine_highlight"),null,"animation",!0),this.playSpine(a.getChildByName("spine_kaiping"),null,"animation"+n+"_2",!1))}},setLayerResult:function(e,t){for(var n=parseInt(e.name.substr(5,1)),r=1;r<=5;r++)r!=t&&(item.getChildByName("spine_highlight").active=!1,this.playSpine(item.getChildByName("spine_kaiping"),null,"animation"+n+"_3",!1))},setLayerGray:function(e,t,n){for(var r=1;r<=5;r++){var a=e.getChildByName("item"+r);r===n?this.setItemGray(a,!t):this.setItemGray(a,t)}},getLayer:function(e){return this._bekeLayerListNode.getChildByName("cell_"+e)},getLayerIdxEnable:function(){return 5-this._pickLeftNum+1},getLayerItemList:function(e){return e.layerItemList[e.layerId-1]},getMultIdByData:function(e){var t=e.layerChoiceId[e.layerId-1];return this.getLayerItemList(e)[t-1]},showLayerRestItems:function(e,t,n){var r=parseInt(e.name.substr(5,1));for(var a in n){var o=e.getChildByName("item"+(parseInt(a)+1)),i=u[n[a]];parseInt(a)+1===t?(o.getChildByName("spine_kaiping").active=!1,this.playSpine(o.getChildByName("spine_mult"),null,"animation"+i,!1)):(this.playSpine(o.getChildByName("spine_kaiping"),null,"animation"+r+"_2",!1),this.playSpine(o.getChildByName("spine_mult"),null,"animation"+i,!1))}},awaitOrOperate:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n,r){var a,o,i,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e.setPlayPickTipsAction(!0),e.setLayerEnable(e.getLayer(e.getLayerIdxEnable()),!0),a=1;a<=5;a++)for(o=e.getLayer(a),i=function(t){var a=o.getChildByName("item"+t);a.off("click"),Global.btnClickEvent(a,c(regeneratorRuntime.mark(function o(){var i,c,m,p,f,d;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.extrapick),o.next=3,cc.vv.gameData.reqSubGame(Global.GOLD_TREASURE_MAP_RTYPE.OPERATE_SUBGAME,t);case 3:if(200!==(i=o.sent).code){o.next=30;break}return e._pickLeftNum--,(c=i.data.mapInfo.gameInfo).multId=e.getMultIdByData(c),m=e.getLayer(e.getLayerIdxEnable()-1),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr["select"+c.layerId]),e.setLayerEnable(m,!1,c.layerChoiceId[c.layerId-1]),e.playSpine(a.getChildByName("spine_kaiping"),function(){a.getChildByName("spine_kaiping").active=!1},"animation"+c.layerId+"_1",!1),o.next=14,e.awaitTime(1.4);case 14:if(p=u[c.multId],e.playSpine(a.getChildByName("spine_mult"),null,"animation"+p,!1),!(c.multId>0)){o.next=23;break}if(f=0,6==c.multId)for(d=1;d<=5;d++)f+=s[d];else f=s[l[c.multId]];return o.next=21,e.playMultFlyEff(a,f);case 21:return o.next=23,e.awaitTime(1);case 23:return e.setLayerGray(m,!0,t),e.showLayerRestItems(m,t,e.getLayerItemList(c)),o.next=27,e.awaitTime(1);case 27:e._pickLeftNum>0&&c.multId>0?e.setLayerEnable(e.getLayer(e.getLayerIdxEnable()),!0):n(),o.next=32;break;case 30:AppLog.warn("\u8fd4\u56de\u6570\u636e\u9519\u8bef!"),r();case 32:case"end":return o.stop()}},o)})))},m=1;m<=5;m++)i(m);case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},playMultFlyEff:function(e,t){var n=this;return c(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var r=c(regeneratorRuntime.mark(function r(a){var o,i,c,s,l;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=n._node_main.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),i=cc.find("nodePrizePool/theme163_game_c_3",n._node_main),c=n._node_main.convertToNodeSpaceAR(i.parent.convertToWorldSpaceAR(i.position)),(s=cc.find("nodeFlyMultNum",n._node_main)).position=o,s.getComponent(cc.ParticleSystem).resetSystem(),r.next=8,n.playActions(s,[cc.moveTo(.3,c)]);case 8:return l=cc.find("nodePrizePool/spineNodeMult",n._node_main),n.playSpine(l),r.next=12,n.awaitTime(.2);case 12:n._pickMultNum+=t,n.setLabel(n._lblPickMult,n._pickMultNum?n._pickMultNum+"X":""),a();case 15:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},r)}))()},setItemGray:function(e,t){var n,a=t?cc.Color.GRAY:cc.Color.WHITE,o=r(e.children);try{for(o.s();!(n=o.n()).done;){n.value.color=a}}catch(e){o.e(e)}finally{o.f()}},showResult:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var r,a,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._node_win.active=!0,(r=e._node_win.getChildByName("ui")).scale=0,a=Global.FormatCommaNumToNum(e._lblStartPrize.getComponent(cc.Label).string),(o=r.getChildByName("btnCollect")).getComponent(cc.Button).enabled=!1,e.setLabel(r.getChildByName("lblWinCoinShow"),e._pickMultNum+" X "+e.convertNumToShortStr(a)+" = "+e.convertNumToShortStr(e._pickMultNum*a)),e.rollToNumOfLabel(r.getChildByName("lblWinCoin"),e._pickMultNum*a),cc.vv.gameData.setSubGameWinCoin(e._pickMultNum*a),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_map2),t.next=12,e.playActions(r,[cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)]);case 12:o.getComponent(cc.Button).enabled=!0,i=e,c=function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),o.getComponent(cc.Button).enabled=!1,r.getChildByName("lblWinCoin").stopAllActions(),i.setLabel(r.getChildByName("lblWinCoin"),i.convertNumToShortStr(i._pickMultNum*a)),i.playActions(r,[cc.scaleTo(.1,1.2),cc.scaleTo(.3,0)]),n()},cc.vv.gameData.checkAutoPlay(o,c),Global.btnClickEvent(o,function(){o.stopAllActions(),c()},e);case 17:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{GoddessOfDeath_subGameBase:"GoddessOfDeath_subGameBase"}],GoddessOfDeath_subGameCollectWheel:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"78fd4JNwD5K8IebkgixWIm7","GoddessOfDeath_subGameCollectWheel"),cc.Class({extends:cc.Component,properties:{_soundPath:"games/GoddessOfDeath/",_subGameNode:null,_node_main:null,_spineNodeLoading:null,_targetIdx:7},onLoad:function(){this._subGameNode=cc.find("/subGameCollectWheel",this.node),this._node_main=cc.find("node_main",this._subGameNode),this._spineNodeLoading=cc.find("spineNodeLoading",this._subGameNode),this.init()},init:function(){this._spineNodeLoading.active=!1,this._subGameNode.active=!1,this._node_main.active=!1,cc.find("wheel/spineEff1",this._node_main).active=!1,cc.find("wheel/spineEff2",this._node_main).active=!1,cc.find("wheel/spineEffWin",this._node_main).active=!1,cc.find("bottom",this._node_main).y=-700,cc.find("wheel",this._node_main).scale=0},enterGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._targetIdx=0,e.init(),t.next=4,e.showMain();case 4:return t.next=6,e.showResult();case 6:return t.next=8,e.exitGame();case 8:case"end":return t.stop()}},t)}))()},exitGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.awaitTime(1);case 2:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_out),t.next=5,e.hide();case 5:e._subGameNode.active=!1;case 6:case"end":return t.stop()}},t)}))()},showMain:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._subGameNode.active=!0,t.next=3,e.awaitTime(.5);case 3:return e._node_main.active=!0,cc.find("wheel/spineEff1",e._node_main).active=!0,cc.find("wheel/spineEff2",e._node_main).active=!0,cc.find("wheel/btn_spin",e._node_main).getComponent(cc.Button).enabled=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_out),t.next=11,e.show();case 11:return t.next=13,e.awaitOrOperate();case 13:n();case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},show:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=cc.find("bottom",e._node_main)).y=-700,cc.tween(n).to(.3,{y:0}).start(),(r=cc.find("wheel",e._node_main)).scale=0,cc.tween(r).to(.3,{scale:1.4}).to(.3,{scale:1}).start(),t.next=8,e.awaitTime(.6);case 8:case"end":return t.stop()}},t)}))()},hide:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=cc.find("bottom",e._node_main)).y=0,cc.tween(n).delay(.2).to(.3,{y:-700}).start(),(r=cc.find("wheel",e._node_main)).scale=1,cc.tween(r).to(.3,{scale:1.4}).to(.3,{scale:0}).start(),t.next=8,e.awaitTime(.6);case 8:case"end":return t.stop()}},t)}))()},awaitOrOperate:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(r=cc.find("wheel/btn_spin",e._node_main)).getComponent(cc.Button).enabled=!0,r.getComponent(cc.Button).interactable=!0,a=function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.map_wheel_click),r.getComponent(cc.Button).interactable=!1,n()},cc.vv.gameData.checkAutoPlay(r,a),Global.btnClickEvent(r,function(){r.stopAllActions(),a()});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showResult:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,a,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cc.find("wheel/spineEff1",e._node_main).active=!1,cc.find("wheel/spineEff2",e._node_main).active=!1,t.next=4,cc.vv.gameData.reqSubGame(Global.GOLD_TREASURE_MAP_RTYPE.COLLECT_WHEEL);case 4:if(200!==(r=t.sent).code){t.next=21;break}return Global.GoddessOfDeathCollectProgress.setCollectNum(r.data.needCoins),e._targetIdx=r.data.idx-1,a=cc.find("wheel/rorationWheel",e._node_main),o=45*e._targetIdx,i=o-a.angle,c=10,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.map_wheel_spin),t.next=15,e.playActions(a,[cc.rotateTo(.5*c,a.angle+360*c+i).easing(cc.easeSineInOut())]);case 15:Global.SlotsSoundMgr.stopEffectByName(Global.SlotsSoundMgr.map_wheel_spin),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.map_wheel_show),cc.find("wheel/spineEffWin",e._node_main).active=!0,n(),t.next=22;break;case 21:AppLog.err("\u8bf7\u6c42\u6570\u636e\u9519\u8bef");case 22:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},playSpine:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"animation",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e?(e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,n,r),r||e.getComponent(sp.Skeleton).setCompleteListener(function(){t&&t()})):t&&t()},playActions:function(e,t){return new Promise(function(n){t.push(cc.callFunc(function(){n()})),e.active=!0,e.runAction(cc.sequence(t))})},awaitTime:function(e){var t=this;return new Promise(function(n){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{}],GoddessOfDeath_subGameDice:[function(e,t,n){"use strict";function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){i(o,r,a,c,s,"next",e)}function s(e){i(o,r,a,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"45a1c+Ki9dDDburtJfIABIY","GoddessOfDeath_subGameDice"),cc.Class({extends:e("GoddessOfDeath_subGameBase"),properties:{_subGameNodeName:"subGameDice",_lblStartPrize:null,_lblPickMult:null,_sprPickTips:null,_winMultList:null,_restDiceList:null,_btnSpin:null,_spinDice:null,_spinFire:null,_spineBubble:null,_sprDice:null,_pickLeftNum:5},onLoad:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,r,a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e._super(),e._lblStartPrize=cc.find("nodePrizePool/theme163_game_c_2/lblStartPrize",e._node_main),e._lblPickMult=cc.find("nodePrizePool/theme163_game_c_3/lblPickMult",e._node_main),e._sprPickTips=cc.find("nodeDetail/spinTips",e._node_main),n=cc.find("nodeDetail",e._node_main),e._btnSpin=cc.find("btnSpin",n),e._spinDice=cc.find("btnSpin/spineDice",n),e._spinFire=cc.find("btnSpin/spineFire",n),e._spinFire.active=!1,e._spineBubble=cc.find("btnSpin/spineBubble",n),e._spineBubble.active=!1,e._winMultList=[],r=1;r<=6;r++)for(e._winMultList[r]=[],a=1;a<=4;a++)(o=cc.find("cell_"+r+"/winSpine"+a,n))&&(e._winMultList[r][a]=o);for(e._restDiceList=[],i=1;i<=5;i++)e._restDiceList[i]=cc.find("diceList/dice"+i,n);e.init();case 16:case"end":return t.stop()}},t)}))()},init:function(){this.setLabel(this._lblPickMult,"");var e,t=r(this._restDiceList);try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&(n.active=!0)}}catch(e){t.e(e)}finally{t.f()}this.resetWinResultPanel(),this._btnSpin.getComponent(cc.Button).enabled=!0},restoreByData:function(){var e=cc.vv.gameData.mapInfo.gameInfo;this._subGameNode.active=!0,this.setLabel(this._lblPickMult,e.mult+"X"),this._pickLeftNum=e.restCnt,this.refreshRestDice();e.currDices[e.currDices.length-1];this.playSpine(this._spinDice,null,"animation1_1",!1),this.refreshCurWinResultPanel(),this.setPlayPickTipsAction(!0)},enterGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=cc.vv.gameData.mapInfo.gameInfo,e._pickLeftNum=n.restCnt,e.setLabel(e._lblStartPrize,Global.FormatNumToComma(n.startPrize)),e.init(),t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.mult>0)){t.next=4;break}e.restoreByData(),t.next=6;break;case 4:return t.next=6,e.showStart();case 6:return t.next=8,e.showMain();case 8:return t.next=10,e.showResult();case 10:return t.next=12,e.exitGame();case 12:r();case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t)}))()},exitGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.playFullScreen(2);case 2:e.setSubGameNodeVisible(!1),n();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showMain:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(cc.vv.gameData.mapInfo.gameInfo.mult<=0)){t.next=4;break}return t.next=4,e.playFullScreen(1.5);case 4:return e._node_start.active=!1,e._node_main.active=!0,t.next=8,e.awaitTime(.2);case 8:return t.next=10,e.awaitOrOperate();case 10:return e.setPlayPickTipsAction(!1),t.next=13,e.awaitTime(1);case 13:n();case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},setPlayPickTipsAction:function(e){e?(this.playSpine(this._sprPickTips,null,"animation",!0),this.playSpine(this._spineBubble,null,"animation",!0)):(this.playSpine(this._sprPickTips,null,"animation2",!1),this._spineBubble.active=!1)},awaitOrOperate:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setPlayPickTipsAction(!0),e._btnSpin.getComponent(cc.Button).enabled=!0,e._btnSpin.off("click"),Global.btnClickEvent(e._btnSpin,c(regeneratorRuntime.mark(function t(){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setPlayPickTipsAction(!1),e._btnSpin.getComponent(cc.Button).enabled=!1,t.next=4,cc.vv.gameData.reqSubGame(Global.GOLD_TREASURE_MAP_RTYPE.OPERATE_SUBGAME);case 4:if(200!==(a=t.sent).code){t.next=31;break}return o=a.data.mapInfo.gameInfo,Global.random(1,6),o.currDices.length>=2&&o.currDices[o.currDices.length-2],i=o.currDices[o.currDices.length-1],e._pickLeftNum=o.restCnt,e.refreshRestDice(),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.land3_dice),e.playSpine(e._spinDice,function(){e.playSpine(e._spinDice,null,"animation1_1",!1)},"animation"+i,!1),t.next=16,e.awaitTime(1);case 16:return e.playSpine(e._spinFire,null,"animation",!1),t.next=19,e.awaitTime(1);case 19:return t.next=21,e.flyDicePointToResultPanel(i);case 21:if(!(e._pickLeftNum>0)){t.next=28;break}return t.next=24,e.awaitTime(1);case 24:e.setPlayPickTipsAction(!0),e._btnSpin.getComponent(cc.Button).enabled=!0,t.next=29;break;case 28:n();case 29:t.next=33;break;case 31:AppLog.warn("\u8fd4\u56de\u6570\u636e\u9519\u8bef!"),r();case 33:case"end":return t.stop()}},t)})));case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},refreshRestDice:function(){var e,t=r(this._restDiceList);try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&(n.active=!1)}}catch(e){t.e(e)}finally{t.f()}for(var a=1;a<=this._pickLeftNum;a++)this._restDiceList[a].active=!0},resetWinResultPanel:function(){for(var e=1;e<=6;e++){var t,n=r(this._winMultList[e]);try{for(n.s();!(t=n.n()).done;){var a=t.value;a&&(a.active=!1)}}catch(e){n.e(e)}finally{n.f()}}},refreshCurWinResultPanel:function(e){var t=this;this.resetWinResultPanel();var n=cc.vv.gameData.mapInfo.gameInfo,r=!1,a=null;for(var o in n.currDices){var i=n.currDices[o];for(var c in this._winMultList[i]){var s=this._winMultList[i][c];if(!s.active){s.active=!0,parseInt(o)==this._winMultList.length-1&&parseInt(c)==this._winMultList[i].length-1&&(r=!0),this.playSpine(s,null,r?"animation1":"animation2",!1),a=s,e==i&&parseInt(o)==n.currDices.length-1&&function(){var e=cc.find("spine",s);t.playSpine(e,function(){e.active=!1})}();break}}}return{isAddTimes:r,node:a}},flyDicePointToResultPanel:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=c(regeneratorRuntime.mark(function n(r){var a,o,i,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.land3_fly),n.next=3,t.playFlyDiceToPointEff(e);case 3:return n.next=5,t.awaitTime(.2);case 5:return a=t.refreshCurWinResultPanel(e),n.next=8,t.awaitTime(.5);case 8:if(a.isAddTimes){n.next=20;break}return o=cc.find("nodePrizePool/theme163_game_c_3",t._node_main),n.next=12,t.playFlyEffect(a.node,o);case 12:return i=cc.find("nodePrizePool/spineNodeMult",t._node_main),t.playSpine(i),n.next=16,t.awaitTime(.2);case 16:c=cc.vv.gameData.mapInfo.gameInfo.mult,t.setLabel(t._lblPickMult,c?c+"X":""),n.next=23;break;case 20:return n.next=22,t.playFlyEffect(a.node,cc.find("nodeDetail/diceList",t._node_main));case 22:t.refreshRestDice();case 23:return n.next=25,t.awaitTime(.2);case 25:r();case 26:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},playFlyDiceToPointEff:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n){var r=cc.find("nodeDetail/spineFlyToResult",t._node_main);t.playSpine(r,function(){r.active=!1,n()},"animation"+e,!1)}));case 1:case"end":return n.stop()}},n)}))()},playFlyEffect:function(e,t){var n=this;return c(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var r=c(regeneratorRuntime.mark(function r(a){var o,i,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=n._node_main.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),i=n._node_main.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position)),(c=cc.find("nodeFlyMultNum",n._node_main)).position=o,c.scale=1,c.getComponent(cc.ParticleSystem).resetSystem(),r.next=8,n.playActions(c,[cc.moveTo(.5,i),cc.scaleTo(.1,0)]);case 8:a();case 9:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},r)}))()},showResult:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var r,a,o,i,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._node_win.active=!0,(r=e._node_win.getChildByName("ui")).scale=0,a=Global.FormatCommaNumToNum(e._lblStartPrize.getComponent(cc.Label).string),o=cc.vv.gameData.mapInfo.gameInfo.mult,(i=r.getChildByName("btnCollect")).getComponent(cc.Button).enabled=!1,e.setLabel(r.getChildByName("lblWinCoinShow"),o+" X "+e.convertNumToShortStr(a)+" = "+e.convertNumToShortStr(o*a)),e.rollToNumOfLabel(r.getChildByName("lblWinCoin"),o*a),cc.vv.gameData.setSubGameWinCoin(o*a),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_map2),t.next=13,e.playActions(r,[cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)]);case 13:i.getComponent(cc.Button).enabled=!0,c=e,s=function(){i.getComponent(cc.Button).enabled=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),r.getChildByName("lblWinCoin").stopAllActions(),c.setLabel(r.getChildByName("lblWinCoin"),c.convertNumToShortStr(o*a)),c.playActions(r,[cc.scaleTo(.1,1.2),cc.scaleTo(.3,0)]),n()},cc.vv.gameData.checkAutoPlay(i,s),Global.btnClickEvent(i,function(){i.stopAllActions(),s()},e);case 18:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{GoddessOfDeath_subGameBase:"GoddessOfDeath_subGameBase"}],GoddessOfDeath_subGameGoldShip:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cc._RF.push(t,"acdcd/sAwxIDKcTlk9HzFtH","GoddessOfDeath_subGameGoldShip");var s=[30,60,90];cc.Class({extends:e("GoddessOfDeath_subGameBase"),properties:{_subGameNodeName:"subGameGoldShip",_lblStartPrize:null,_lblPickMult:null,_boxItems:null,_sprPickTips:null,_pickLeftNum:3,_pickMultNum:0},onLoad:function(){this._super(),this._lblStartPrize=cc.find("nodePrizePool/theme163_game_c_2/lblStartPrize",this._node_main),this._lblPickMult=cc.find("nodePrizePool/theme163_game_c_3/lblPickMult",this._node_main),this._sprPickTips=cc.find("theme163_game9_2/spineNode",this._node_main),this._boxItems=[];var e=cc.find("nodeBoxList",this._node_main).getChildByName("ItemNode");e.active=!1;for(var t=1;t<=16;t++){var n=cc.instantiate(e);n.active=!0,n.parent=e.parent,n.name="ItemNode"+t,this._boxItems.push(n)}this.init()},init:function(){this.setLabel(this._lblStartPrize,""),this.setLabel(this._lblPickMult,this._pickMultNum?this._pickMultNum+"X":"");var e,t=o(this._boxItems);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.getChildByName("treasurebox").active=!0,n.getChildByName("spine_treasurebox").active=!1,n.getChildByName("treasurebox_open").active=!1,n.getChildByName("sprPickMult").active=!1,n.getChildByName("sprPickMultDie").active=!1,this.setBoxGray(n,!1)}}catch(e){t.e(e)}finally{t.f()}},restoreByData:function(){var e=cc.vv.gameData.mapInfo.gameInfo;for(var t in this._subGameNode.active=!0,this.setLabel(this._lblPickMult,e.mult+"X"),e.choiceIds){var n=e.choiceIds[t],r=e.choiceItems[t],a=this._boxItems[n-1];a.getChildByName("treasurebox").active=!1,a.getChildByName("treasurebox_open").active=!0;var o=a.getChildByName("sprPickMult");o.active=!0,o.getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("game_treasure").getSpriteFrame("theme141_game9_num_"+r.mult)}},enterGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.init(),n=cc.vv.gameData.mapInfo.gameInfo,e._pickMultNum=n.mult,e.setLabel(e._lblStartPrize,Global.FormatNumToComma(n.startPrize)),t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e._pickMultNum>0)){t.next=4;break}e.restoreByData(),t.next=6;break;case 4:return t.next=6,e.showStart();case 6:return t.next=8,e.showMain();case 8:return t.next=10,e.showResult();case 10:return t.next=12,e.exitGame();case 12:n();case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t)}))()},exitGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.playFullScreen(2);case 2:e.setSubGameNodeVisible(!1),n();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showMain:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.playFullScreen(1.5);case 2:return e._node_start.active=!1,e._node_main.active=!0,t.next=6,e.awaitTime(1);case 6:return t.next=8,e.awaitOrOperate();case 8:e.setPlayPickTipsAction(!1),r=o(e._boxItems);try{for(r.s();!(a=r.n()).done;)i=a.value,e.setBoxGray(i,!i.getChildByName("treasurebox_open").active)}catch(e){r.e(e)}finally{r.f()}return t.next=13,e.awaitTime(2);case 13:n();case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},setPlayPickTipsAction:function(e){var t=this,n=function e(n){t.playSpine(n.getChildByName("spine_treasurebox"),function(){e(n)},Global.random0To1()>.6?"animation1":"animation3",!1)};if(e){this.playSpine(this._sprPickTips,null,"animation",!0);var r,a=o(this._boxItems);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.getChildByName("treasurebox_open").active||(i.getComponent(cc.Button).enabled=!0,n(i))}}catch(e){a.e(e)}finally{a.f()}}else{this.playSpine(this._sprPickTips,null,"animation2",!1);var c,s=o(this._boxItems);try{for(s.s();!(c=s.n()).done;){var l=c.value;l.getComponent(cc.Button).enabled=!1,this.playSpine(l.getChildByName("spine_treasurebox"),null,"animation4",!1)}}catch(e){s.e(e)}finally{s.f()}}},awaitOrOperate:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,r){var i,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setPlayPickTipsAction(!0),i=o(e._boxItems);try{for(s=function(){var t=c.value;t.off("click"),Global.btnClickEvent(t,a(regeneratorRuntime.mark(function a(){var o,i,c,s,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),e.setPlayPickTipsAction(!1),a.next=4,cc.vv.gameData.reqSubGame(Global.GOLD_TREASURE_MAP_RTYPE.OPERATE_SUBGAME,parseInt(t.name.substring(8,t.name.length)));case 4:if(200!==(o=a.sent).code){a.next=34;break}if(i=o.data.mapInfo.gameInfo,c=i.choiceItems,s=c[c.length-1],Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.land6_open),t.getChildByName("treasurebox").active=!1,e.playSpine(t.getChildByName("spine_treasurebox"),function(){t.getChildByName("spine_treasurebox").active=!1,t.getChildByName("treasurebox_open").active=!0},"animation2",!1),1!=s.type){a.next=20;break}return t.getChildByName("sprPickMult").active=!0,t.getChildByName("sprPickMult").getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("game_treasure").getSpriteFrame("theme141_game9_num_"+s.mult),t.getChildByName("sprPickMult").scale=0,a.next=18,e.playActions(t.getChildByName("sprPickMult"),[cc.scaleTo(.8,1)]);case 18:a.next=27;break;case 20:return l="d"+s.mult,2==s.type&&(l="jackpot"),t.getChildByName("sprPickMultDie").active=!0,t.getChildByName("sprPickMultDie").getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("game_treasure").getSpriteFrame("theme141_game9_num_"+l),t.getChildByName("sprPickMultDie").scale=0,a.next=27,e.playActions(t.getChildByName("sprPickMultDie"),[cc.scaleTo(.8,1)]);case 27:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.touzi_fly),a.next=30,e.playMultFlyEff(t,s.mult);case 30:Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.touzi_extra),0!=s.type?e.setPlayPickTipsAction(!0):(Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.land6_end),n()),a.next=36;break;case 34:AppLog.warn("\u8fd4\u56de\u6570\u636e\u9519\u8bef!"),r();case 36:case"end":return a.stop()}},a)})),e)},i.s();!(c=i.n()).done;)s()}catch(e){i.e(e)}finally{i.f()}case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},playMultFlyEff:function(e,t){var n=this;return a(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var r=a(regeneratorRuntime.mark(function r(a){var o,i,c,s,l;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.fly_mul),o=n._node_main.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),i=cc.find("nodePrizePool/theme163_game_c_3",n._node_main),c=n._node_main.convertToNodeSpaceAR(i.parent.convertToWorldSpaceAR(i.position)),(s=cc.find("nodeFlyMultNum",n._node_main)).position=o,s.scale=1,s.getComponent(cc.ParticleSystem).resetSystem(),r.next=10,n.playActions(s,[cc.moveTo(.5,c),cc.scaleTo(.1,0)]);case 10:return l=cc.find("nodePrizePool/spineNodeMult",n._node_main),n.playSpine(l),r.next=14,n.awaitTime(.2);case 14:n._pickMultNum+=t,n.setLabel(n._lblPickMult,n._pickMultNum?n._pickMultNum+"X":""),a();case 17:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},r)}))()},setBoxGray:function(e,t){t&&(Global.random0To1()>.6?(e.getChildByName("sprPickMultDie").active=!0,e.getChildByName("sprPickMultDie").getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("game_treasure").getSpriteFrame("theme141_game9_num_d"+s[Math.floor(100*Global.random0To1())%s.length])):(e.getChildByName("sprPickMult").active=!0,e.getChildByName("sprPickMult").getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("game_treasure").getSpriteFrame("theme141_game9_num_"+s[Math.floor(100*Global.random0To1())%s.length])),this.playSpine(e.getChildByName("spine_treasurebox"),null,"animation4",!1));var n,r=t?cc.Color.GRAY:cc.Color.WHITE,a=o(e.children);try{for(a.s();!(n=a.n()).done;){n.value.color=r}}catch(e){a.e(e)}finally{a.f()}},showResult:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,a,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._node_win.active=!0,(r=e._node_win.getChildByName("ui")).scale=0,a=Global.FormatCommaNumToNum(e._lblStartPrize.getComponent(cc.Label).string),(o=r.getChildByName("btnCollect")).getComponent(cc.Button).enabled=!1,e.setLabel(r.getChildByName("lblWinCoinShow"),e._pickMultNum+" X "+e.convertNumToShortStr(a)+" = "+e.convertNumToShortStr(e._pickMultNum*a)),e.rollToNumOfLabel(r.getChildByName("lblWinCoin"),e._pickMultNum*a),cc.vv.gameData.setSubGameWinCoin(e._pickMultNum*a),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_map2),t.next=12,e.playActions(r,[cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)]);case 12:o.getComponent(cc.Button).enabled=!0,i=e,c=function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),o.getComponent(cc.Button).enabled=!1,r.getChildByName("lblWinCoin").stopAllActions(),i.setLabel(r.getChildByName("lblWinCoin"),i.convertNumToShortStr(i._pickMultNum*a)),i.playActions(r,[cc.scaleTo(.1,1.2),cc.scaleTo(.3,0)]),n()},cc.vv.gameData.checkAutoPlay(o,c),Global.btnClickEvent(o,function(){o.stopAllActions(),c()},e);case 17:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{GoddessOfDeath_subGameBase:"GoddessOfDeath_subGameBase"}],GoddessOfDeath_subGameMultWheel:[function(e,t,n){"use strict";function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){i(o,r,a,c,s,"next",e)}function s(e){i(o,r,a,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"79b9dLvW61NZbWBn5lQLnXj","GoddessOfDeath_subGameMultWheel");var s=[[1,2,3,6,5,1,2,4,6,5],[4,3,1,5,6,4,3,2,5,6],[2,3,4,6,1,2,3,4,5,1]];cc.Class({extends:e("GoddessOfDeath_subGameBase"),properties:{_subGameNodeName:"subGameMultWheel",_lblStartPrize:null,_lblPickMult:null,_sprPickTips:null,_wheelList:null,_grayMaskList:null,_spineWheelWin:null,_winMultList:null,_spineMultWinList:null,_btnSpin:null},onLoad:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,r,a,o,i,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e._super(),e._lblStartPrize=cc.find("nodePrizePool/theme163_game_c_2/lblStartPrize",e._node_main),e._lblPickMult=cc.find("nodePrizePool/theme163_game_c_3/lblPickMult",e._node_main),e._sprPickTips=cc.find("spinTips",e._node_main),n=cc.find("wheelNode",e._node_main),e._btnSpin=cc.find("btnSpin",n),e._wheelList=[],e._grayMaskList=[],r=1;r<=3;r++)e._wheelList[r]=cc.find("rorationWheel"+r,n),e._grayMaskList[r]=cc.find("grayMask"+r,n);for(e._spineWheelWin=cc.find("spineWheelWin",n),e._winMultList=[],a=1;a<=6;a++)for(e._winMultList[a]=[],o=1;o<=3;o++)(i=cc.find("nodePrizePool/theme163_game6_2/win_"+a+"_"+o,e._node_main))&&(e._winMultList[a][o]=i);for(e._spineMultWinList=[],c=1;c<=6;c++)(s=cc.find("nodePrizePool/theme163_game6_2/spineWin"+c,e._node_main)).active=!1,e._spineMultWinList[c]=s;e.init();case 15:case"end":return t.stop()}},t)}))()},init:function(){this.setLabel(this._lblPickMult,""),this.setLabel(this._lblStartPrize,"");var e,t=r(this._wheelList);try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&(n.rotation=0)}}catch(e){t.e(e)}finally{t.f()}var a,o=r(this._grayMaskList);try{for(o.s();!(a=o.n()).done;){var i=a.value;i&&(i.active=!1)}}catch(e){o.e(e)}finally{o.f()}this._spineWheelWin.active=!1,this._btnSpin.getComponent(cc.Button).interactable=!0,this.resetWinResultPanel();for(var c=1;c<=6;c++)cc.find("nodePrizePool/theme163_game6_2/spineWin"+c,this._node_main).active=!1},restoreByData:function(){var e=cc.vv.gameData.mapInfo.gameInfo;this._subGameNode.active=!0;for(var t=e.finalColorComb[e.currStep-1],n=1;n<=t.length;n++)this._wheelList[n].rotation=-36*this.getWheelColorPos(n,t[n-1]);this.refreshCurWinResultPanel(),this.setPlayPickTipsAction(!0)},enterGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.init(),n=cc.vv.gameData.mapInfo.gameInfo,e.setLabel(e._lblStartPrize,Global.FormatNumToComma(n.startPrize)),t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.currStep>0)){t.next=4;break}e.restoreByData(),t.next=6;break;case 4:return t.next=6,e.showStart();case 6:return t.next=8,e.showMain();case 8:return t.next=10,e.showResult();case 10:return t.next=12,e.exitGame();case 12:r();case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}},t)}))()},exitGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.playFullScreen(2);case 2:e.setSubGameNodeVisible(!1),n();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showMain:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(cc.vv.gameData.mapInfo.gameInfo.currStep<=0)){t.next=4;break}return t.next=4,e.playFullScreen(1.5);case 4:return e._node_start.active=!1,e._node_main.active=!0,t.next=8,e.awaitTime(.2);case 8:return t.next=10,e.awaitOrOperate();case 10:return e.setPlayPickTipsAction(!1),t.next=13,e.awaitTime(1);case 13:n();case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},setPlayPickTipsAction:function(e){if(this._sprPickTips.stopAllActions(),this._sprPickTips.scale=1,e){this._sprPickTips.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,.8),cc.scaleTo(.2,1),cc.delayTime(1))));var t,n=r(this._grayMaskList);try{for(n.s();!(t=n.n()).done;){var a=t.value;a&&(a.active=!1)}}catch(e){n.e(e)}finally{n.f()}}},awaitOrOperate:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setPlayPickTipsAction(!0),e._btnSpin.getComponent(cc.Button).interactable=!0,e._btnSpin.off("click"),Global.btnClickEvent(e._btnSpin,c(regeneratorRuntime.mark(function t(){var a,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),e.setPlayPickTipsAction(!1),e._btnSpin.getComponent(cc.Button).interactable=!1,t.next=5,cc.vv.gameData.reqSubGame(Global.GOLD_TREASURE_MAP_RTYPE.OPERATE_SUBGAME);case 5:if(200!==(a=t.sent).code){t.next=18;break}return o=a.data.mapInfo.gameInfo,i=o.finalColorComb[o.currStep-1],t.next=11,e.rotateWheelToTarget(i);case 11:return t.next=13,e.awaitTime(7.5);case 13:return t.next=15,e.flyWinColorToResultPanel(i);case 15:o.mult<=0?(e.setPlayPickTipsAction(!0),e._btnSpin.getComponent(cc.Button).interactable=!0):(e.flyWinColorToMultPos(o.finalColorId),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.land4_full),c=["animation","animation2","animation2","animation3","animation3","animation3"],e.playSpine(e._spineMultWinList[o.finalColorId],null,c[o.finalColorId-1],!0),n()),t.next=20;break;case 18:AppLog.warn("\u8fd4\u56de\u6570\u636e\u9519\u8bef!"),r();case 20:case"end":return t.stop()}},t)})));case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},rotateWheelToTarget:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=c(regeneratorRuntime.mark(function n(r){var a,o,i,c,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.land4_spin),a=1;case 2:if(!(a<=3)){n.next=18;break}return(o=t._wheelList[a]).angle=0,i=-36*t.getWheelColorPos(a,e[a-1]),c=i-o.angle,s=6,n.next=10,t.playActions(o,[cc.rotateTo(.5*s,360*s-c).easing(cc.easeSineInOut())]);case 10:return t._grayMaskList[a].active=!0,t.playSpine(t._spineWheelWin,null,"animation"+a,!1),n.next=14,t.awaitTime(.5);case 14:r();case 15:a++,n.next=2;break;case 18:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},resetWinResultPanel:function(){for(var e=1;e<=6;e++)for(var t=1;t<=3;t++)this._winMultList[e][t].color=cc.Color.GRAY},refreshCurWinResultPanel:function(){this.resetWinResultPanel();for(var e=cc.vv.gameData.mapInfo.gameInfo,t=0;t<e.currStep;t++){var n,a=r(e.finalColorComb[t]);try{for(a.s();!(n=a.n()).done;)for(var o=n.value,i=1;i<=3;i++)if(this._winMultList[o][i].color.equals(cc.Color.GRAY)){this._winMultList[o][i].color=cc.Color.WHITE;break}}catch(e){a.e(e)}finally{a.f()}}},getWheelColorPos:function(e,t){for(var n=s[e-1],r=0;r<n.length;r++)if(n[r]==t)return r},getColorWinNode:function(e){for(var t=1;t<=3;t++){var n=this._winMultList[e][t];if(n.color.equals(cc.Color.GRAY))return n}},getColorCenterNode:function(e){return this._winMultList[e][2]},flyWinColorToResultPanel:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=c(regeneratorRuntime.mark(function n(r){var a,o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=1;case 1:if(!(a<=3)){n.next=10;break}return o=cc.find("wheelNode/wheelWinFrame/node"+a,t._node_main),i=t.getColorWinNode(e[a-1]),n.next=6,t.playFlyEffect(o,i,e[a-1]);case 6:i&&(i.color=cc.Color.WHITE);case 7:a++,n.next=1;break;case 10:r();case 11:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},flyWinColorToMultPos:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){var r,a,o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.getColorCenterNode(e),a=cc.find("nodePrizePool/theme163_game_c_3",t._node_main),n.next=4,t.playFlyEffect(r,a);case 4:return o=cc.find("nodePrizePool/spineNodeMult",t._node_main),t.playSpine(o),n.next=8,t.awaitTime(.2);case 8:i=cc.vv.gameData.mapInfo.gameInfo.mult,t.setLabel(t._lblPickMult,i?i+"X":"");case 10:case"end":return n.stop()}},n)}))()},playFlyEffect:function(e,t,n){var r=this;return c(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(){var a=c(regeneratorRuntime.mark(function a(o){var i,c,s,l,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t){a.next=10;break}return i=r._node_main.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),c=r._node_main.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position)),(s=cc.find("nodeFlyMultNum",r._node_main)).position=i,s.scale=1,s.getComponent(cc.ParticleSystem).resetSystem(),n&&(l=["animation","animation2","animation2","animation3","animation3","animation3"],u=s.getChildByName("shoujidianliang"),r.playSpine(u,function(){u.active=!1},l[1],!1)),a.next=10,r.playActions(s,[cc.moveTo(.5,c),cc.scaleTo(.1,0)]);case 10:o();case 11:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()));case 1:case"end":return a.stop()}},a)}))()},showResult:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var r,a,o,i,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._node_win.active=!0,(r=e._node_win.getChildByName("ui")).scale=0,a=Global.FormatCommaNumToNum(e._lblStartPrize.getComponent(cc.Label).string),o=cc.vv.gameData.mapInfo.gameInfo.mult,(i=r.getChildByName("btnCollect")).getComponent(cc.Button).enabled=!1,e.setLabel(r.getChildByName("lblWinCoinShow"),o+" X "+e.convertNumToShortStr(a)+" = "+e.convertNumToShortStr(o*a)),e.rollToNumOfLabel(r.getChildByName("lblWinCoin"),o*a),cc.vv.gameData.setSubGameWinCoin(o*a),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_map2),t.next=13,e.playActions(r,[cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)]);case 13:i.getComponent(cc.Button).enabled=!0,c=e,s=function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),i.getComponent(cc.Button).enabled=!1,r.getChildByName("lblWinCoin").stopAllActions(),c.setLabel(r.getChildByName("lblWinCoin"),c.convertNumToShortStr(o*a)),c.playActions(r,[cc.scaleTo(.1,1.2),cc.scaleTo(.3,0)]),n()},cc.vv.gameData.checkAutoPlay(i,s),Global.btnClickEvent(i,function(){i.stopAllActions(),s()},e);case 18:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{GoddessOfDeath_subGameBase:"GoddessOfDeath_subGameBase"}],GoddessOfDeath_subGameRenyu:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cc._RF.push(t,"fdd93HfYS9Ebo6CB8Haqp10","GoddessOfDeath_subGameRenyu");var s=[16,36,60,180,600];cc.Class({extends:e("GoddessOfDeath_subGameBase"),properties:{_subGameNodeName:"subGameRenyu",_lblStartPrize:null,_lblPickMult:null,_lblPickLeft:null,_goldCoinItems:null,_sprPickTips:null,_pickLeftNum:3,_pickMultNum:0},onLoad:function(){this._super(),this._lblStartPrize=cc.find("nodePrizePool/theme163_game_c_2/lblStartPrize",this._node_main),this._lblPickMult=cc.find("nodePrizePool/theme163_game_c_3/lblPickMult",this._node_main),this._lblPickLeft=cc.find("theme163_game5_5/lblPickLeft",this._node_main),this._sprPickTips=cc.find("theme163_game5_1",this._node_main),this._goldCoinItems=[];var e=cc.find("nodeRenyuGoldcoinList",this._node_main),t=e.getChildByName("ItemNode");t.active=!1;for(var n=1;n<=12;n++){var r=cc.instantiate(t);r.parent=e,r.name="ItemNode"+n,r.active=!0,this._goldCoinItems.push(r)}this.init()},init:function(){this.setLabel(this._lblStartPrize,""),this.setLabel(this._lblPickMult,this._pickMultNum?this._pickMultNum+"X":"");var e,t=o(this._goldCoinItems);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.getChildByName("spineRenyuGoldcoin").active=!0,n.getChildByName("sprPickMult").active=!1,n.getChildByName("sprAdd1Pick").active=!1,this.setGoldCoinGray(n,!1),this.playSpine(n.getChildByName("spineRenyuGoldcoin"),null,"animation3",!1)}}catch(e){t.e(e)}finally{t.f()}},restoreByData:function(){var e=cc.vv.gameData.mapInfo.gameInfo;for(var t in this._subGameNode.active=!0,this.setLabel(this._lblPickMult,e.mult+"X"),e.choiceIds){var n=e.choiceIds[t],r=e.choiceItems[t],a=this._goldCoinItems[n-1],o=a.getChildByName("sprPickMult");if(o.active=!0,o.getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("game_gun").getSpriteFrame("theme141_game5_cnt"+r.mult),r.cnt)o.scale=.75,a.getChildByName("sprAdd1Pick").active=!0;this.playSpine(a.getChildByName("spineRenyuGoldcoin"),null,"animation4",!1)}},enterGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.init(),n=cc.vv.gameData.mapInfo.gameInfo,e._pickLeftNum=n.restCnt,e._pickMultNum=n.mult,e.setLabel(e._lblStartPrize,Global.FormatNumToComma(n.startPrize)),t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e._pickMultNum<=0)){t.next=3;break}return t.next=3,e.showStart();case 3:return t.next=5,e.showMain();case 5:return t.next=7,e.showResult();case 7:return t.next=9,e.exitGame();case 9:n();case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 6:case"end":return t.stop()}},t)}))()},exitGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.playFullScreen(2);case 2:e.setSubGameNodeVisible(!1),n();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showMain:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e._pickMultNum<=0)){t.next=3;break}return t.next=3,e.playFullScreen(1.5);case 3:return e._node_start.active=!1,e._node_main.active=!0,e.setLabel(e._lblPickLeft,e._pickLeftNum),e._pickMultNum>0&&e.restoreByData(),t.next=9,e.awaitTime(1);case 9:return t.next=11,e.awaitOrOperate();case 11:e.setPlayPickTipsAction(!1),r=o(e._goldCoinItems);try{for(r.s();!(a=r.n()).done;)i=a.value,e.setGoldCoinGray(i,!i.getChildByName("sprPickMult").active)}catch(e){r.e(e)}finally{r.f()}return t.next=16,e.awaitTime(2);case 16:n();case 17:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},setPlayPickTipsAction:function(e){var t=this;if(e){this._sprPickTips.scale=1,this._sprPickTips.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,.9),cc.scaleTo(.2,1),cc.delayTime(2))));var n,r=o(this._goldCoinItems);try{var a=function(){var e=n.value;e.getChildByName("sprPickMult").active||(setTimeout(function(){e.getChildByName("sprPickMult").active||t.playSpine(e.getChildByName("spineRenyuGoldcoin"),null,"animation1",!0)},Global.random0To1()>=.5?500:1500),e.getComponent(cc.Button).enabled=!0)};for(r.s();!(n=r.n()).done;)a()}catch(e){r.e(e)}finally{r.f()}}else{this._sprPickTips.stopAllActions(),this._sprPickTips.scale=1;var i,c=o(this._goldCoinItems);try{for(c.s();!(i=c.n()).done;){var s=i.value;s.getChildByName("sprPickMult").active||this.playSpine(s.getChildByName("spineRenyuGoldcoin"),null,"animation3",!1),s.getComponent(cc.Button).enabled=!1}}catch(e){c.e(e)}finally{c.f()}}},awaitOrOperate:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,r){var i,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setPlayPickTipsAction(!0),i=o(e._goldCoinItems);try{for(s=function(){var t=c.value;t.off("click"),Global.btnClickEvent(t,a(regeneratorRuntime.mark(function a(){var o,i,c,s,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),e.setPlayPickTipsAction(!1),a.next=4,cc.vv.gameData.reqSubGame(Global.GOLD_TREASURE_MAP_RTYPE.OPERATE_SUBGAME,parseInt(t.name.substring(8,t.name.length)));case 4:if(200!==(o=a.sent).code){a.next=27;break}return i=o.data.mapInfo.gameInfo,c=i.choiceItems,s=c[c.length-1],e._pickLeftNum--,e.playSpine(t.getChildByName("spineRenyuGoldcoin"),function(){e.playSpine(t.getChildByName("spineRenyuGoldcoin"),null,"animation4",!1)},"animation2",!1),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.land5_click),e.setLabel(e._lblPickLeft,e._pickLeftNum),t.getChildByName("sprPickMult").active=!0,t.getChildByName("sprPickMult").getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("game_gun").getSpriteFrame("theme141_game5_cnt"+s.mult),l=s.cnt,e._pickLeftNum=i.restCnt,l&&(t.getChildByName("sprAdd1Pick").active=!0,e.playActions(t.getChildByName("sprAdd1Pick"),[cc.scaleTo(.5,1)])),a.next=20,e.playActions(t.getChildByName("sprPickMult"),[cc.scaleTo(.5,l?.75:1)]);case 20:return l&&e.playAddPickFlyEff(t),a.next=23,e.playMultFlyEff(t,s.mult);case 23:e.setLabel(e._lblPickLeft,e._pickLeftNum),e._pickLeftNum>0?e.setPlayPickTipsAction(!0):n(),a.next=29;break;case 27:AppLog.warn("\u8fd4\u56de\u6570\u636e\u9519\u8bef!"),r();case 29:case"end":return a.stop()}},a)})),e)},i.s();!(c=i.n()).done;)s()}catch(e){i.e(e)}finally{i.f()}case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},playMultFlyEff:function(e,t){var n=this;return a(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(){var r=a(regeneratorRuntime.mark(function r(a){var o,i,c,s,l;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=n._node_main.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),i=cc.find("nodePrizePool/theme163_game_c_3",n._node_main),c=n._node_main.convertToNodeSpaceAR(i.parent.convertToWorldSpaceAR(i.position)),(s=cc.find("nodeFlyMultNum",n._node_main)).position=o,s.scale=1,s.getComponent(cc.ParticleSystem).resetSystem(),r.next=9,n.playActions(s,[cc.moveTo(.3,c),cc.scaleTo(.1,0)]);case 9:return l=cc.find("nodePrizePool/spineNodeMult",n._node_main),n.playSpine(l),r.next=13,n.awaitTime(.2);case 13:n._pickMultNum+=t,n.setLabel(n._lblPickMult,n._pickMultNum?n._pickMultNum+"X":""),a();case 16:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()));case 1:case"end":return r.stop()}},r)}))()},playAddPickFlyEff:function(e){var t=this._node_main.convertToNodeSpaceAR(e.parent.convertToWorldSpaceAR(e.position)),n=this._node_main.convertToNodeSpaceAR(this._lblPickLeft.parent.convertToWorldSpaceAR(this._lblPickLeft.position)),r=cc.find("nodeFlyPickNum",this._node_main);r.position=t,r.scale=1,r.getComponent(cc.ParticleSystem).resetSystem(),this.playActions(r,[cc.moveTo(.5,n),cc.scaleTo(.1,0)])},setGoldCoinGray:function(e,t){if(t){this.playSpine(e.getChildByName("spineRenyuGoldcoin"),null,"animation3",!1);var n=Global.random0To1()>.7;e.getChildByName("sprPickMult").active=!0,e.getChildByName("sprPickMult").scale=n?.75:1,e.getChildByName("sprPickMult").getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("game_gun").getSpriteFrame("theme141_game5_cnt"+s[Math.floor(100*Global.random0To1())%s.length]),e.getChildByName("sprAdd1Pick").active=n}var r,a=t?cc.Color.GRAY:cc.Color.WHITE,i=o(e.children);try{for(i.s();!(r=i.n()).done;){r.value.color=a}}catch(e){i.e(e)}finally{i.f()}},showResult:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,a,o,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._node_win.active=!0,(r=e._node_win.getChildByName("ui")).scale=0,a=Global.FormatCommaNumToNum(e._lblStartPrize.getComponent(cc.Label).string),(o=r.getChildByName("btnCollect")).getComponent(cc.Button).enabled=!1,e.setLabel(r.getChildByName("lblWinCoinShow"),e._pickMultNum+" X "+e.convertNumToShortStr(a)+" = "+e.convertNumToShortStr(e._pickMultNum*a)),e.rollToNumOfLabel(r.getChildByName("lblWinCoin"),e._pickMultNum*a),cc.vv.gameData.setSubGameWinCoin(e._pickMultNum*a),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_map2),t.next=12,e.playActions(r,[cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)]);case 12:o.getComponent(cc.Button).enabled=!0,i=e,c=function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),o.getComponent(cc.Button).enabled=!1,r.getChildByName("lblWinCoin").stopAllActions(),i.setLabel(r.getChildByName("lblWinCoin"),i.convertNumToShortStr(i._pickMultNum*a)),i.playActions(r,[cc.scaleTo(.1,1.2),cc.scaleTo(.3,0)]),n()},cc.vv.gameData.checkAutoPlay(o,c),Global.btnClickEvent(o,function(){o.stopAllActions(),c()},e);case 17:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{GoddessOfDeath_subGameBase:"GoddessOfDeath_subGameBase"}],GoddessOfDeath_subGameYellowFish:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}cc._RF.push(t,"fdd1b20Xs1EwJbu+MMFpWcW","GoddessOfDeath_subGameYellowFish");var s=["3","1","4","2","5"];cc.Class({extends:e("GoddessOfDeath_subGameBase"),properties:{_subGameNodeName:"subGameYellowFish",_lblStartPrize:null,_sprPickTips:null,_stonesList:null,_winList:null,_chooseCount:0},onLoad:function(){this._super(),this._lblStartPrize=cc.find("nodePrizePool/theme163_game_c_2/lblStartPrize",this._node_main),this._sprPickTips=cc.find("nodeDetail/pickTips",this._node_main),this._stonesList=[],this._winList=[];for(var e=1;e<=5;e++)this._stonesList[e]=cc.find("nodeDetail/stone/stone"+e,this._node_main),this._winList[e]=cc.find("nodeDetail/win/win"+e,this._node_main);this.init()},init:function(){for(var e=1;e<=5;e++){this._winList[e].active=!1;var t=this._stonesList[e];t.getComponent(cc.Button).enabled=!0,t.getChildByName("sprStone").active=!0,t.getChildByName("spineBreakStone").active=!1;var n=t.getChildByName("spineGem");n.color=cc.Color.WHITE,n.active=!1}var r,a=o(cc.find("nodeDetail/mult",this._node_main).children);try{for(a.s();!(r=a.n()).done;){r.value.active=!1}}catch(e){a.e(e)}finally{a.f()}},restoreByData:function(){var e=this,t=cc.vv.gameData.mapInfo.gameInfo;this._subGameNode.active=!0,this._chooseCount=t.useCnt;var n=function(n){var r=parseInt(n)+1,a=t.gems[n],o=e._stonesList[r];o.getComponent(cc.Button).enabled=0==a,o.getChildByName("sprStone").active=0==a;var i=o.getChildByName("spineGem");0!=a&&e.scheduleOnce(function(){e.playSpine(i,null,"animation"+s[a-1],!0)},1),a>0&&(e._winList[a].active=!0)};for(var r in t.gems)n(r)},enterGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.init(),n=cc.vv.gameData.mapInfo.gameInfo,e._chooseCount=n.useCnt||0,e.setLabel(e._lblStartPrize,Global.FormatNumToComma(n.startPrize)),t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e._chooseCount){t.next=5;break}return t.next=3,e.showStart();case 3:t.next=6;break;case 5:e.restoreByData();case 6:return t.next=8,e.showMain();case 8:return t.next=10,e.showResult();case 10:return t.next=12,e.exitGame();case 12:n();case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 5:case"end":return t.stop()}},t)}))()},exitGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.playFullScreen(2);case 2:e.setSubGameNodeVisible(!1),n();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showMain:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(cc.vv.gameData.mapInfo.gameInfo.mult<=0)){t.next=4;break}return t.next=4,e.playFullScreen(1.5);case 4:return e._node_start.active=!1,e._node_main.active=!0,t.next=8,e.awaitTime(.2);case 8:return t.next=10,e.awaitOrOperate();case 10:return e.setPlayPickTipsAction(!1),t.next=13,e.awaitTime(1);case 13:n();case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},setPlayPickTipsAction:function(e){e?this.playSpine(this._sprPickTips,null,"animation",!0):this.playSpine(this._sprPickTips,null,"animation2",!0);var t=cc.vv.gameData.mapInfo.gameInfo;for(var n in t.gems){var r=parseInt(n)+1,a=t.gems[n];this._stonesList[r].getComponent(cc.Button).enabled=e&&0==a}},awaitOrOperate:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,r){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e.setPlayPickTipsAction(!0),o=function(t){var o=e._stonesList[t];o.off("click"),Global.btnClickEvent(o,a(regeneratorRuntime.mark(function a(){var i,c,l,u,m,p,f,d;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),e.setPlayPickTipsAction(!1),a.next=4,cc.vv.gameData.reqSubGame(Global.GOLD_TREASURE_MAP_RTYPE.OPERATE_SUBGAME,t);case 4:if(200!==(i=a.sent).code){a.next=35;break}return c=i.data.mapInfo.gameInfo,l=c.gems[t-1],o.getComponent(cc.Button).enabled=!1,Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.land1_break),o.getChildByName("sprStone").active=!1,u=o.getChildByName("spineBreakStone"),e.playSpine(u,function(){u.active=!1},"animation",!1),m=o.getChildByName("spineGem"),e.playSpine(m,null,"animation"+s[l-1],!0),a.next=18,e.awaitTime(.5);case 18:return e.playWin(l),a.next=21,e.awaitTime(.5);case 21:if(!(c.winCoin>0)){a.next=32;break}return Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.land1_full),cc.find("nodeDetail/mult/spineMult_"+c.mult,e._node_main).active=!0,a.next=26,e.awaitTime(.8);case 26:for(p=1;p<=5;p++)f=e._stonesList[p],(d=f.getChildByName("spineGem")).active||(f.getChildByName("sprStone").active=!1,f.getChildByName("spineBreakStone").active=!1,d.color=cc.Color.GRAY,e.playSpine(d,null,"animation"+s[c.gems[p-1]-1],!0));return a.next=29,e.awaitTime(1.5);case 29:n(),a.next=33;break;case 32:e.setPlayPickTipsAction(!0);case 33:a.next=37;break;case 35:AppLog.warn("\u8fd4\u56de\u6570\u636e\u9519\u8bef!"),r();case 37:case"end":return a.stop()}},a)})))},i=1;i<=5;i++)o(i);case 3:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},playWin:function(e){this._winList[e].active=!0;var t,n=o(this._winList[e].children);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.playSpine(r.getChildByName("spine_lizi"),null,"animation",!1)}}catch(e){n.e(e)}finally{n.f()}},showResult:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n){var r,a,o,i,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._node_win.active=!0,(r=e._node_win.getChildByName("ui")).scale=0,a=Global.FormatCommaNumToNum(e._lblStartPrize.getComponent(cc.Label).string),o=cc.vv.gameData.mapInfo.gameInfo.mult,(i=r.getChildByName("btnCollect")).getComponent(cc.Button).enabled=!1,e.setLabel(r.getChildByName("lblWinCoinShow"),o+" X "+e.convertNumToShortStr(a)+" = "+e.convertNumToShortStr(o*a)),e.rollToNumOfLabel(r.getChildByName("lblWinCoin"),o*a),cc.vv.gameData.setSubGameWinCoin(o*a),Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.popup_map2),t.next=13,e.playActions(r,[cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)]);case 13:i.getComponent(cc.Button).enabled=!0,c=e,s=function(){Global.SlotsSoundMgr.playEffect(Global.SlotsSoundMgr.common_click),i.getComponent(cc.Button).enabled=!1,r.getChildByName("lblWinCoin").stopAllActions(),c.setLabel(r.getChildByName("lblWinCoin"),c.convertNumToShortStr(o*a)),c.playActions(r,[cc.scaleTo(.1,1.2),cc.scaleTo(.3,0)]),n()},cc.vv.gameData.checkAutoPlay(i,s),Global.btnClickEvent(i,function(){i.stopAllActions(),s()},e);case 18:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{GoddessOfDeath_subGameBase:"GoddessOfDeath_subGameBase"}]},{},["GoddessOfDeath_Bottom","GoddessOfDeath_Cfg","GoddessOfDeath_GameData","GoddessOfDeath_Logic","GoddessOfDeath_Map","GoddessOfDeath_MapCollectProgress","GoddessOfDeath_Pop","GoddessOfDeath_Slots","GoddessOfDeath_SlotsMgr","GoddessOfDeath_Sound","GoddessOfDeath_Symbol","GoddessOfDeath_subGameBase","GoddessOfDeath_subGameBeke","GoddessOfDeath_subGameCollectWheel","GoddessOfDeath_subGameDice","GoddessOfDeath_subGameGoldShip","GoddessOfDeath_subGameMultWheel","GoddessOfDeath_subGameRenyu","GoddessOfDeath_subGameYellowFish"]);