window.__require=function e(t,n,a){function i(c,r){if(!n[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var p="function"==typeof __require&&__require;if(!r&&p)return p(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var m=n[c]={exports:{}};t[c][0].call(m.exports,function(e){return i(t[c][1][e]||e)},m,m.exports,e,t,n,a)}return n[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<a.length;c++)i(a[c]);return i}({Sphinx_Cfg:[function(e,t,n){"use strict";var a,i,o;function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"c88a4QKeZFLYIPwQzXFNgVd","Sphinx_Cfg");var r={symbol:(a={},c(a,1,{node:"s1",win_node:"w1",win_ani:{name:"animation",zIndex:300}}),c(a,2,{node:"s2",win_node:"w2",stop_ani:{name:"animation1",zIndex:300},idle_ani:{name:"animation2",zIndex:300},trigger_ani:{name:"animation3",zIndex:300}}),c(a,3,{node:"s3",win_node:"w3",stop_ani:{name:"animation1",zIndex:100},await_ani:{name:"animation2",zIndex:100},prep_node:"jinbizhuan",prep_ani:{name:"animation",zIndex:100}}),c(a,4,{node:"s4",win_node:"w4",win_ani:{name:"animation",zIndex:300},del_id:1}),c(a,5,{node:"s5",win_node:"w5",win_ani:{name:"animation",zIndex:300},del_id:2}),c(a,6,{node:"s6",win_node:"w6",win_ani:{name:"animation",zIndex:300},del_id:3}),c(a,7,{node:"s7",win_node:"w7",win_ani:{name:"animation",zIndex:300},del_id:4}),c(a,8,{node:"s8",win_node:"w8",win_ani:{name:"animation",zIndex:300},del_id:5}),c(a,9,{node:"s9",win_node:"w9",win_ani:{name:"animation",zIndex:300},del_id:6}),c(a,10,{node:"s10",win_node:"w10",win_ani:{name:"animation",zIndex:300},del_id:7}),c(a,11,{node:"s11",win_node:"w11",win_ani:{name:"animation",zIndex:300},del_id:8}),c(a,12,{node:"s12",win_node:"w12",win_ani:{name:"animation",zIndex:300},del_id:9}),c(a,13,{node:"s13",win_node:"w13",win_ani:{name:"animation",zIndex:300},del_id:10}),c(a,14,{node:"s14",win_node:"w14",win_ani:{name:"animation",zIndex:300},del_id:11}),c(a,15,{node:"s15",win_node:"w15",win_ani:{name:"animation",zIndex:300},del_id:12}),c(a,301,{node:"s301",win_node:"w301",stop_ani:{name:"animation1",zIndex:100},await_ani:{name:"animation2",zIndex:100},prep_node:"caibizhuan",prep_ani:{name:"animation",zIndex:100}}),a),bonus_symbol:{free:{node:"w_free",open_ani:{name:"animation%s",zIndex:100},trigger_ani:{name:"animation%s_2",zIndex:100},resume_ani:{name:"animation%s_2",zIndex:100}},jackpot:{node:"w_jp",open_ani:{name:"animation",zIndex:100},trigger_ani:{name:"animation_2",zIndex:100},resume_ani:{name:"animation_3",zIndex:100}},coin:{node:"w_coin",open_ani:{name:"animation",zIndex:100},show_ani:{name:"animation_2",zIndex:100},resume_ani:{name:"animation_3",zIndex:100}},megaCoin:{node:"w_m_coin",open_ani:{name:"animation",zIndex:100},show_ani:{name:"animation_2",zIndex:100},resume_ani:{name:"animation_3",zIndex:100}},superCoin:{node:"w_s_coin",open_ani:{name:"animation",zIndex:100},show_ani:{name:"animation_2",zIndex:100},resume_ani:{name:"animation_3",zIndex:100}},powerUp:{node:"w_power",open_ani:{name:"animation",zIndex:100},show_ani:{name:"animation_2",zIndex:100},trigger_ani:{name:"animation_2",zIndex:100},resume_ani:{name:"animation_3",zIndex:100}}},scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"Sphinx_Slots",Reels:"Sphinx_Reel",Symbols:"Sphinx_Symbol"},col:5,row:3,symbolPrefab:"LMSlots_Symbol",symbolSize:{height:128},cardmap:(i={},c(i,1,[13,8,8,4,7,7,14,2,6,6,10,4,5,4,2,5,4,11,10,2,4,11,11,11,4,8,7,7,2,5,4,14,12,12,5,5,12,4,4,9,9,15,6,9,15,6,5,12,12,7,8,15,8,4,4,7,4,4,11,9,6,6,7,10,13,5,13,10,6,6,10,4,4,9,5,14,15,8,14,14,13,13,7,5,5,6,6,15]),c(i,2,[7,5,5,10,4,4,11,11,2,4,9,5,4,6,2,13,13,6,6,1,14,14,9,2,6,6,1,4,4,1,4,2,5,6,15,15,15,12,12,12,4,4,5,10,7,11,11,7,7,8,14,14,7,7,14,15,15,8,9,1,8,5,8,9,9,4,1,6,10,10,10,4,4,6,7,13,7,4,8,8,4,5,12,12,13,13,6,5,5,4,5,6,11]),c(i,3,[1,11,11,8,8,1,13,2,5,5,14,14,6,7,12,12,2,9,9,15,6,14,14,14,7,2,1,10,7,12,4,2,6,5,5,13,13,8,7,7,12,8,8,15,15,1,15,15,7,10,10,4,11,5,5,6,6,4,4,5,5,7,7,4,13,13,12,5,10,10,4,4,8,9,1,6,11,11,4,5,6,4,9,6,4,6,4,4,9,6,4,4,4]),c(i,4,[12,12,5,5,1,9,9,13,13,2,7,1,6,6,10,5,2,6,6,8,5,4,10,10,10,2,8,11,11,7,7,9,9,8,8,2,1,4,4,14,14,4,4,15,15,15,10,6,6,5,5,1,12,12,12,13,5,15,15,13,13,7,14,7,1,4,6,6,8,11,4,4,7,7,11,4,14,14,6,9,4,4,7,6,4,11,8,5,4,4,5,4,5]),c(i,5,[7,9,4,13,13,15,15,2,13,13,13,6,14,14,14,8,7,2,1,4,4,6,7,7,10,10,10,2,6,8,14,12,12,5,5,2,4,6,11,11,6,6,7,9,8,8,11,11,11,7,4,6,6,10,5,5,1,4,1,4,4,7,8,5,1,7,15,15,6,6,1,12,12,5,5,9,4,4,12,5,4,4,9,5,9,5,15,4,4,10,8,14,4]),i),cardmapFree:(o={},c(o,1,[7,8,8,5,8,6,6,2,5,4,9,8,8,4,2,6,6,8,6,7,7,6,7,7,9,9,6,4,8,5,5,7,5,5,8,7,4,9,4,5,5,7,4,5,5,6,6,4,9,9,4,7,6,4,7,4,9,9,4,4]),c(o,2,[8,5,9,7,7,5,5,2,8,8,6,5,6,6,4,2,7,4,7,8,7,8,9,4,1,6,6,5,6,5,5,6,4,9,9,8,8,4,7,9,9,5,7,7,5,5,4,1,4,8,4,1,4,6,4,6,4,6,7,7,4,9,9,1]),c(o,3,[4,5,5,7,4,7,2,6,6,8,8,1,7,4,2,6,8,7,5,9,9,4,8,5,4,9,1,6,1,5,7,9,9,4,9,7,7,8,5,6,6,4,6,6,5,5,7,1,7,4,7,8,6,4,5,5,8,9,4,8,9,6,4,4]),c(o,4,[4,8,8,5,5,1,6,2,7,7,4,7,7,1,6,2,7,9,6,4,1,4,6,9,4,9,9,7,8,8,4,6,6,9,9,4,5,4,6,8,8,7,5,1,5,5,7,5,6,6,9,8,4,5,5,4,8,4,6,7,9,5,4,7]),c(o,5,[8,9,4,7,4,2,9,5,4,6,6,5,2,4,6,8,8,9,9,5,8,8,6,6,4,1,6,6,8,8,9,7,4,9,5,4,1,5,4,6,4,5,8,4,1,7,7,9,7,5,7,7,6,6,9,7,7,4,5,7,5,1,5,4]),o),kuang:"kuang",autoModelDelay:1,speed:3e3,reelStopInter:.2,auto_stop_time:1,bounceInfo:{distance:20,time:.1},helpItems:["games/Sphinx/prefab/help_node/LMSlots_Help_item1","games/Sphinx/prefab/help_node/LMSlots_Help_item2","games/Sphinx/prefab/help_node/LMSlots_Help_item3","games/Sphinx/prefab/help_node/LMSlots_Help_item4","games/Sphinx/prefab/help_node/LMSlots_Help_item5","games/Sphinx/prefab/help_node/LMSlots_Help_item6","games/Sphinx/prefab/help_node/LMSlots_Help_item7","games/Sphinx/prefab/help_node/LMSlots_Help_item8","games/Sphinx/prefab/help_node/LMSlots_Help_item9"],commEffect:{path:"games/Sphinx/",win1:["win1","win1end"],win2:["win2","win2end"]},AddAntiTime:1.5,normalBgm:"base_bgm",reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/Sphinx/",reelStopSound:"reel_stop",symbolStopSound:["scatter1","scatter2","scatter3","scatter4","scatter5"],antSound:["reel_active1","reel_active2","reel_active3"],antSpeed:2200,type:"free"},{id:[3,301],mini:1,counts:[1,1,1,1,1],path:"games/Sphinx/",reelStopSound:"reel_stop",symbolStopSound:["coin_land1","coin_land2","coin_land3","coin_land4","coin_land5"],antSpeed:2200,type:"bonus"}]};t.exports=r,cc._RF.pop()},{}],Sphinx_Collect:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var r=e[o](c),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function r(e){a(c,i,o,r,s,"next",e)}function s(e){a(c,i,o,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"46934bchWpL4qO7FGbEfZQ9","Sphinx_Collect"),cc.Class({extends:cc.Component,properties:{_itemList:[]},start:function(){},Init:function(){this._node_collect=cc.find("safe_node/slots/node_collect",this.node);for(var e=1;e<=10;e++){var t=cc.find("node_items/item"+e,this._node_collect);this._itemList.push(t)}this._spine_super=cc.find("spine_super",this._node_collect);var n=cc.find("btn_lock",this._node_collect);n.off("click"),Global.btnClickEvent(n,this.clickLockBtn,this),this._spine_lock=cc.find("btn_lock/spine_lock",this._node_collect),this._par_fly=cc.find("par_fly",this._node_collect),this._par_fly.active=!1,this._spr_tip=cc.find("safe_node/slots/spr_collect_tip",this.node),this._spr_tip.active=!1,this.initItems(),this.showLockSpin(),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onEventTotalbetUpdated,this)},initItems:function(){this._bonusTrail=cc.vv.gameData.getBonusTrail();var e=this._bonusTrail.count;e==this._bonusTrail.totalCount&&(e=0);for(var t=0;t<this._itemList.length;t++){cc.find("spr",this._itemList[t]).active=t<e;var n=cc.find("spine_dange",this._itemList[t]);n.active=t<e,n.active&&n.getComponent(sp.Skeleton).setAnimation(0,"animation1",!0)}var a=cc.find("spine_jl",this._itemList[9]);9===e?(a.active=!0,a.getComponent(sp.Skeleton).setAnimation(0,"animation",!0)):a.active=!1,this._spine_super.getComponent(sp.Skeleton).setAnimation(0,"animation1",!0)},playGainItemAnim:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=i(regeneratorRuntime.mark(function n(a,i){var o,c,r,s,p,m;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t._isLock){n.next=3;break}return a(),n.abrupt("return");case 3:for(t._bonusTrail=cc.vv.gameData.getBonusTrail(),o=t._bonusTrail.count,c=t._itemList[o-1],r=function(n){var a=cc.instantiate(t._par_fly);a.parent=t._node_collect;var i=e[n],o=t._node_collect.convertToNodeSpaceAR(i.node.convertToWorldSpaceAR(cc.v2(0,0))),r=t._node_collect.convertToNodeSpaceAR(c.convertToWorldSpaceAR(cc.v2(0,0)));a.position=o,a.active=!0,a.getComponent(cc.ParticleSystem).resetSystem(),cc.tween(a).to(.5,{position:r}).call(function(){a.destroy()}).start()},s=0;s<e.length;s++)r(s);return n.next=10,cc.vv.gameData.awaitTime(.5);case 10:if(p=cc.find("spr",c),m=cc.find("spine_dange",c),!(o<10)){n.next=19;break}p.active=!0,m.active=!0,m.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1),m.getComponent(sp.Skeleton).addAnimation(0,"animation1",!0),n.next=29;break;case 19:return cc.find("spine_jl",c).active=!1,p.active=!0,m.active=!0,m.getComponent(sp.Skeleton).setAnimation(0,"animation4",!1),m.getComponent(sp.Skeleton).addAnimation(0,"animation2",!0),n.next=26,cc.vv.gameData.awaitTime(.2);case 26:return t._spine_super.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),n.next=29,cc.vv.gameData.awaitTime(.8);case 29:a();case 30:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},showLockSpin:function(){cc.vv.gameData.GetBetIdx()<cc.vv.gameData.getNeedBet()?(this._isLock=!0,this._spine_lock.active=!0,this._spine_lock.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0)):(this._isLock=!1,this._spine_lock.active=!1)},clickLockBtn:function(){if(cc.vv.gameData.GetBottomScript().GetSpinBtnState()&&!(cc.vv.gameData.GetAutoModelTime()>0)&&!cc.vv.gameData.isFreeGame()&&!cc.vv.gameData.isSuperGame()&&!cc.vv.gameData.isBonusGame()&&this._isLock){var e=cc.vv.gameData.getNeedBet();e>cc.vv.gameData.GetBetMults().length||cc.vv.gameData.GetBottomScript().SetBetIdx(e)}},onEventTotalbetUpdated:function(){var e=cc.vv.gameData.GetBetIdx(),t=cc.vv.gameData.getNeedBet();e<t&&!this._isLock?(Global.SlotsSoundMgr.playEffect("sb_lock"),this._isLock=!0,this._spine_lock.active=!0,this._spine_lock.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),this._spine_lock.getComponent(sp.Skeleton).addAnimation(0,"animation2",!0),this.showTipSpr(!1)):e>=t&&this._isLock&&(Global.SlotsSoundMgr.playEffect("sb_unlock"),this._isLock=!1,this._spine_lock.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1),this.showTipSpr(!0))},showTipSpr:function(e){var t=this;this._spr_tip.stopAllActions(),e?(this._spr_tip.active=!0,this._spr_tip.setScale(0),cc.tween(this._spr_tip).to(.5,{scale:1},{easing:"backOut"}).delay(2).to(.5,{scale:0}).call(function(){t._spr_tip.active=!1}).start()):this._spr_tip.active&&cc.tween(this._spr_tip).to(this._spr_tip.scaleX/2,{scale:0}).call(function(){t._spr_tip.active=!1}).start()}}),cc._RF.pop()},{}],Sphinx_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"c64c7LntM1AULhgoM9sIuQ2","Sphinx_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{},start:function(){},init:function(e,t,n){this._bonusTrail=e.bonusTrail,this._bonusInfo=e.bonusInfo,this._jackpotGame=e.jackpotGame,this._freeWinCoin=e.freeWinCoin,this._super(e,t,n)},OnRcvNetSpine:function(e){200==e.code&&(this._bonusTrail=e.bonusTrail,this._bonusInfo=e.bonusInfo,this._jackpotGame=e.jackpotGame,this._freeWinCoin=e.freeWinCoin),this._super(e)},setPopupScript:function(e){this._popupScp=e},getPopupScript:function(){return this._popupScp},setCollectScript:function(e){this._collectScp=e},getCollectScript:function(){return this._collectScp},setPickScript:function(e){this._pickScp=e},getPickScript:function(){return this._pickScp},isSuperGame:function(){return this._isSuper},setIsSuper:function(e){this._isSuper=e},isFreeGame:function(){return this._isFree},setIsFree:function(e){this._isFree=e},isBonusGame:function(){return this._isBonus},setIsBonus:function(e){this._isBonus=e},getFreeWinCoin:function(){return this._freeWinCoin},setFreeWinCoin:function(e){this._freeWinCoin=e},getNeedBet:function(){return this._deskInfo.needBet},getBonusTrail:function(){return this._bonusTrail},getBonusInfo:function(){return this._bonusInfo},getJackpotGame:function(){return this._jackpotGame},setJackpotGame:function(e){this._jackpotGame=e}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],Sphinx_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"9992dCbnpFA4rcEf8LLapsP","Sphinx_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},InitCommComponent:function(){this._super();var e=this.node.addComponent("Sphinx_Popup");e.Init(),cc.vv.gameData.setPopupScript(e);var t=this.node.addComponent("Sphinx_Collect");t.Init(),cc.vv.gameData.setCollectScript(t);var n=this.node.addComponent("Sphinx_Pick");n.Init(),cc.vv.gameData.setPickScript(n)}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Sphinx_Pick:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var r=e[o](c),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function r(e){a(c,i,o,r,s,"next",e)}function s(e){a(c,i,o,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"b1c272kBtxHnI0mNGVxpSCT","Sphinx_Pick");var o=0;cc.Class({extends:cc.Component,properties:{_itemList:[],_winItemList:[],_choiceIdxs:[],_canClick:!1,_removeJpCnt:0},start:function(){},Init:function(){this._spr_bg_pick=cc.find("safe_node/spr_bg_pick",this.node),this._spr_bg_pick.active=!1,this._node_slotsAni=cc.find("safe_node/slots/top_ani",this.node),this._node_slotsReel=cc.find("safe_node/slots/reels",this.node),this._node_pick=cc.find("safe_node/node_pick",this.node),this._node_pick.active=!1,this._node_tit=cc.find("node_tit",this._node_pick),this._spine_db=cc.find("layout/spine_db",this._node_pick),this._spine_db.active=!1,this._node_items=cc.find("layout/node_items",this._node_pick);for(var e=1;e<=18;e++){var t=cc.find("item"+e,this._node_items);Global.btnClickEvent(t,this.onClickItem,this),this._itemList.push({node:t,type:o})}this._spr_mask=cc.find("layout/spr_mask",this._node_pick),this._spr_mask.active=!1,this._node_top=cc.find("layout/node_top",this._node_pick);for(var n=1;n<=18;n++){var a=cc.find("win"+n,this._node_top);a.active=!0;for(var i=0;i<a.childrenCount;i++)a.children[i].active=!1;this._winItemList.push(a)}this._par_fly_jp=cc.find("par_fly_jp",this._node_pick),this._par_fly_jp.active=!1},onEnable:function(){cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,this)},onDisable:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,!1,this)},initTit:function(){cc.find("spr_bonus",this._node_tit).active=!1,cc.find("spr_freegame",this._node_tit).active=!1,cc.find("spr_match",this._node_tit).active=!0},initAllItems:function(){for(var e=0;e<this._itemList.length;e++){var t=cc.find("pick",this._itemList[e].node),n=this._jackpotGame.choiceIdxs,a=this._jackpotGame.results,i=void 0;i=n&&n.includes(e+1)?a[n.indexOf(e+1)]:o;var c=this.getAnimNameByType(i);t.getComponent(sp.Skeleton).setAnimation(0,c,!1),this._itemList[e].type=i;var r=cc.find("w"+i,this._winItemList[e]);if(0===i);else if(i<6){r.active=!0,this.getSameTypeIdxs(i,this._curCnt-1).length>=2?r.getComponent(sp.Skeleton).setAnimation(0,"animation",!0):r.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0)}else r.active=!0,r.getComponent(sp.Skeleton).setAnimation(0,"animation1_1",!0)}},initWinItems:function(){for(var e=0;e<this._winItemList.length;e++)for(var t=this._winItemList[e],n=0;n<t.childrenCount;n++)t.children[n].active=!1},initAllJackpot:function(){var e=this._jackpotGame.choiceIdxs,t=this._jackpotGame.results;this._removeJpCnt=0;for(var n=0;n<e.length;n++)9===t[n]&&(this._removeJpCnt+=1,this.showJackpot(!1,this._removeJpCnt,!0))},playItemBlinkAnim:function(){for(var e=[],t=Global.random(4,7);e.length<t;){var n=Global.random(1,18);e.includes(n)||e.push(n)}for(var a=0;a<e.length;a++){var i=e[a]-1;this._itemList[i].type===o&&cc.find("pick",this._itemList[i].node).getComponent(sp.Skeleton).setAnimation(0,"animation1",!1)}},gainPickGame:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(a,i){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._jackpotGame=cc.vv.gameData.getJackpotGame(),cc.vv.gameData.GetSlotsScript().showTaSpr(!1),cc.vv.gameData.GetSlotsScript().removeAllFlyNode(!1),t._spr_bg_pick.active=!0,t._node_slotsAni.active=!1,t._node_slotsReel.active=!1,t._node_pick.active=!0,t._spr_mask.active=!1,t._curCnt=t._jackpotGame.choiceIdxs.length,t.initTit(),t.initWinItems(),t.initAllItems(),t.lockJackpot(t._jackpotGame.jackpotValues,t._jackpotGame.currMult),t.initAllJackpot(),!e){n.next=17;break}return n.next=17,cc.vv.gameData.awaitTime(1.5);case 17:if(Global.SlotsSoundMgr.playBgm("pick_bgm"),!(e&&t._jackpotGame.powerUpCnt>0)){n.next=21;break}return n.next=21,cc.vv.gameData.getPopupScript().playPowerUpAnim(t._jackpotGame.powerUpCnt);case 21:return t._node_items.stopAllActions(),t._node_items.runAction(cc.repeatForever(cc.sequence(cc.delayTime(3),cc.callFunc(function(){t.playItemBlinkAnim()})))),n.next=25,cc.vv.gameData.awaitTime(.5);case 25:t._canClick=!0,t._gatherInfo=!1,t._pickSuccess=a;case 28:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},endPickGame:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,a,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.awaitTime(1);case 2:return e._spine_db.active=!0,e._spine_db.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e._node_items.stopAllActions(),e.playWinResult(),(n=e.getPoolBLock(e._jackpotGame.jackpot.id-1))||e.playWinJpAnim(e._jackpotGame.jackpot.id,!0),t.next=10,cc.vv.gameData.awaitTime(2);case 10:if(a=e._jackpotGame.winCoin,!n){t.next=16;break}return t.next=14,cc.vv.gameData.getPopupScript().playEndPickAnim(a);case 14:t.next=19;break;case 16:return e.playWinJpAnim(e._jackpotGame.jackpot.id,!1),t.next=19,cc.vv.gameData.getPopupScript().playEndPickJpAnim(a,e._jackpotGame.jackpot.id);case 19:return cc.vv.gameData.getPopupScript().playQPMen(),t.next=22,cc.vv.gameData.awaitTime(2);case 22:return e._spr_bg_pick.active=!1,e._node_pick.active=!1,e._node_slotsAni.active=!0,e._node_slotsReel.active=!0,e.unlockJackpot(),cc.vv.gameData.GetSlotsScript().showTaSpr(!0),e._removeJpCnt=0,e.showJackpot(!0,5,!0),t.next=32,cc.vv.gameData.awaitTime(2);case 32:return i=a,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()?(i+=cc.vv.gameData.getFreeWinCoin(),cc.vv.gameData.setFreeWinCoin(i)):0===cc.vv.gameData.GetFreeTime()&&cc.vv.gameData.AddCoin(a),t.next=36,new Promise(function(e,t){cc.vv.gameData.GetSlotsScript().ShowBottomWin(a,i,!0,function(){e()})});case 36:e._pickSuccess&&(Global.SlotsSoundMgr.stopBgm(),o=cc.vv.gameData.isSuperGame()?"sb_bgm":"fg_bgm",Global.SlotsSoundMgr.playBgm(o),e._pickSuccess(),e._pickSuccess=null);case 37:case"end":return t.stop()}},t)}))()},onClickItem:function(e){var t=this,n=Number(e.node.name.substring("item".length));if(this._canClick&&this._itemList[n-1].type===o){var a=this._jackpotGame.results;this._curCnt>=a.length||(a[this._curCnt]>5&&(this._canClick=!1),this._choiceIdxs.includes(n)||this._jackpotGame.choiceIdxs.includes(n)||(this._curCnt+=1,this._choiceIdxs.push(n),this._itemList[n-1].type=a[this._curCnt-1],this._needAwait=a[this._curCnt-1]>5,cc.log("this._needAwait",this._needAwait),this.showItemResult(e.node,a[this._curCnt-1],this._curCnt),this._gatherInfo||cc.tween(e.node).call(function(){t._gatherInfo=!0}).delay(.5).call(function(){t._canClick=!1,t.sendMsg()}).start()))}},sendMsg:function(){var e={c:MsgId.SLOT_SUBGAME_DATA};e.gameid=cc.vv.gameData.getGameId(),e.data={rtype:1,choiceIdxs:this._choiceIdxs},cc.vv.NetManager.send(e,!0),this._rcvMsg=!1,this._choiceIdxs=[],this._canClick=!1},onRcvSubGameAction:function(e){if(200===e.code){this._rcvMsg=!0;var t=e.data;this._jackpotGame=t.jackpotGame,cc.vv.gameData.setJackpotGame(this._jackpotGame)}},showItemResult:function(e,t,n){var a=this;return i(regeneratorRuntime.mark(function i(){var o,c,r,s,p,m,l,_,u,f,d,v,h,g;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=cc.find("pick",e),c=a.getAnimNameByType(t),!(n===a._jackpotGame.results.length)){i.next=10;break}return o.getComponent(sp.Skeleton).setAnimation(0,"animation11",!1),o.getComponent(sp.Skeleton).addAnimation(0,c,!1),i.next=8,cc.vv.gameData.awaitTime(1);case 8:i.next=11;break;case 10:o.getComponent(sp.Skeleton).setAnimation(0,c,!1);case 11:return Global.SlotsSoundMgr.playEffect(t<6?"jp_appear":"boost_appear"),i.next=14,cc.vv.gameData.awaitTime(1);case 14:if(!(t<6)){i.next=22;break}for(r=a.getSameTypeIdxs(t,n),s="animation2",r.length>=2&&(s="animation"),p=a._jackpotGame.choiceIdxs,m=0;m<r.length;m++)l=p[r[m]],(_=cc.find("w"+t,a._winItemList[l-1])).active=!0,_.getComponent(sp.Skeleton).setAnimation(0,s,!0);i.next=66;break;case 22:if(!(t>=6)){i.next=66;break}return u=["MINI","MINOR","MAJOR","MAXI","GRAND"],f=a._node_pick.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0))),d=cc.find("Canvas/safe_node/LMSlots_PrizePool_1/prizePool_"+u[a._removeJpCnt]),v=a._node_pick.convertToNodeSpaceAR(d.convertToWorldSpaceAR(cc.v2(0,0))),a._par_fly_jp.active=!0,a._par_fly_jp.getComponent(cc.ParticleSystem).resetSystem(),a._par_fly_jp.position=f,cc.tween(a._par_fly_jp).to(.5,{position:v}).start(),i.next=33,cc.vv.gameData.awaitTime(.5);case 33:if(a._par_fly_jp.active=!1,a._spine_db.active=!0,a._spine_db.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),h=1,g=.1,6!=t){i.next=45;break}return Global.SlotsSoundMgr.playEffect("jp_boost"),a.increaseJackpot(a._jackpotGame.jackpotValues,h,g,a._jackpotGame.currMult),i.next=43,cc.vv.gameData.awaitTime((5-a._removeJpCnt)*g);case 43:i.next=65;break;case 45:if(7!=t){i.next=52;break}return Global.SlotsSoundMgr.playEffect("jp_boost"),a.increaseJackpot(a._jackpotGame.jackpotValues,h,g,a._jackpotGame.currMult),i.next=50,cc.vv.gameData.awaitTime((5-a._removeJpCnt)*g);case 50:i.next=65;break;case 52:if(8!=t){i.next=59;break}return Global.SlotsSoundMgr.playEffect("jp_boost"),a.increaseJackpot(a._jackpotGame.jackpotValues,h,g,a._jackpotGame.currMult),i.next=57,cc.vv.gameData.awaitTime((5-a._removeJpCnt)*g);case 57:i.next=65;break;case 59:if(9!=t){i.next=65;break}return Global.SlotsSoundMgr.playEffect("jp_remove"),a._removeJpCnt+=1,a.showJackpot(!1,a._removeJpCnt,!1),i.next=65,cc.vv.gameData.awaitTime(1);case 65:a._needAwait=!1;case 66:case"end":return i.stop()}},i)}))()},playWinResult:function(){var e=this._jackpotGame.jackpot,t=this._jackpotGame.results,n=this._jackpotGame.choiceIdxs;this._spr_mask.active=!0;for(var a=0;a<n.length;a++)t[a]!==e.id&&(cc.find("w"+t[a],this._winItemList[n[a]-1]).active=!1)},getSameTypeIdxs:function(e,t){for(var n=this._jackpotGame.results,a=[],i=0;i<t;i++)n[i]===e&&a.push(i);return cc.log(a),a},getAnimNameByType:function(e){switch(e){case 0:return"animation1_1";case 1:return"animation7";case 2:return"animation6";case 3:return"animation5";case 4:return"animation4";case 5:return"animation3";case 6:return"animation8";case 7:return"animation9";case 8:return"animation10";case 9:return"animation2"}},lockJackpot:function(e,t){cc.find("Canvas/safe_node/LMSlots_PrizePool_1").getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:0,pauseNum:e[0]*t},{prizeType:1,pauseNum:e[1]*t},{prizeType:2,pauseNum:e[2]*t},{prizeType:3,pauseNum:e[3]*t},{prizeType:4,pauseNum:e[4]*t}])},unlockJackpot:function(){cc.find("Canvas/safe_node/LMSlots_PrizePool_1").getComponent("LMSlots_PrizePool_Base").ResumePausePool()},increaseJackpot:function(e,t,n,a){cc.find("Canvas/safe_node/LMSlots_PrizePool_1").getComponent("LMSlots_PrizePool_Base").increaseJackpot([{prizeType:0,pauseNum:e[0]},{prizeType:1,pauseNum:e[1]},{prizeType:2,pauseNum:e[2]},{prizeType:3,pauseNum:e[3]},{prizeType:4,pauseNum:e[4]}],t,n,a)},showJackpot:function(e,t,n){var a=cc.find("Canvas/safe_node/LMSlots_PrizePool_1").getComponent("LMSlots_PrizePool_Base");if(n)for(var i=0;i<t;i++)a.showJackpot(e,i,n);else a.showJackpot(e,t-1,n)},playWinJpAnim:function(e,t){cc.find("Canvas/safe_node/LMSlots_PrizePool_1").getComponent("LMSlots_PrizePool_Base").playJp1Anim(e-1,t)},getPoolBLock:function(e){return cc.find("Canvas/safe_node/LMSlots_PrizePool_1").getComponent("LMSlots_PrizePool_Base").getPoolBLock(e)},update:function(e){!this._needAwait&&this._rcvMsg&&(this._needAwait=!0,this._rcvMsg=!1,cc.log(this._jackpotGame),this._jackpotGame.isEnd?this.endPickGame():(this._canClick=!0,this._gatherInfo=!1))}}),cc._RF.pop()},{}],Sphinx_Popup:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var r=e[o](c),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function r(e){a(c,i,o,r,s,"next",e)}function s(e){a(c,i,o,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"3f6d2J1B4xOD6XVpTbB6XgV","Sphinx_Popup"),cc.Class({extends:cc.Component,properties:{},start:function(){},Init:function(){this._node_popup=cc.find("safe_node/node_popup",this.node),this._node_popup.active=!1,this._node_tri_free=cc.find("node_tri_free",this._node_popup),this._node_end_free=cc.find("node_end_free",this._node_popup),this._node_del_free=cc.find("node_del_free",this._node_popup),this._node_tri_pick=cc.find("node_tri_pick",this._node_popup),this._node_end_pick=cc.find("node_end_pick",this._node_popup),this._node_end_pick_jp=cc.find("node_end_pick_jp",this._node_popup),this._node_power_up=cc.find("node_power_up",this._node_popup),this._node_tri_free.active=!1,this._node_end_free.active=!1,this._node_del_free.active=!1,this._node_tri_pick.active=!1,this._node_end_pick.active=!1,this._node_end_pick_jp.active=!1,this._node_power_up.active=!1,this._node_qp=cc.find("safe_node/node_qp",this.node),this._node_qp.active=!1,this._qp_jzt=cc.find("spine_jzt",this._node_qp),this._qp_men=cc.find("spine_men",this._node_qp),this._qp_jzt.active=!1,this._qp_men.active=!1},playTriFreeAnim:function(e,t,n,a){var o=this;return new Promise(function(){var c=i(regeneratorRuntime.mark(function c(r,s){var p,m,l,_,u,f,d,v,h;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return p="",m=0,n?t?(p="sb_start1",m=3):(p="fg_start1",m=0):t?(p="sb_extra",m=4):(p="fg_extra",m=1),Global.SlotsSoundMgr.playEffect(p),o._node_popup.active=!0,o._node_tri_free.active=!0,l=cc.find("spine_bg",o._node_tri_free),_=cc.find("lbl_cnt",o._node_tri_free),u=cc.find("spr_powerUp",o._node_tri_free),f=cc.find("btn_start",o._node_tri_free),_.getComponent(cc.Label).string=e,_.active=!1,u.active=!1,f.active=!1,l.getComponent(sp.Skeleton).setAnimation(0,cc.js.formatStr("animation%s_1",m),!1),l.getComponent(sp.Skeleton).addAnimation(0,cc.js.formatStr("animation%s_2",m),!0),c.next=18,cc.vv.gameData.awaitTime(.3);case 18:if(_.active=!0,_.setScale(0),cc.tween(_).to(.5,{scale:1},{easing:"backOut"}).start(),u.active=a>0,a>0){for(u.active=!0,d=1;d<=4;d++)cc.find("add"+d,u).active=d===a;u.setScale(0),cc.tween(u).to(.5,{scale:1},{easing:"backOut"}).start()}if(n){c.next=38;break}return c.next=26,cc.vv.gameData.awaitTime(1.5);case 26:return l.getComponent(sp.Skeleton).setAnimation(0,cc.js.formatStr("animation%s_3",m),!1),c.next=29,cc.vv.gameData.awaitTime(.3);case 29:return cc.tween(_).to(.5,{scale:0},{easing:"backIn"}).start(),u.active&&cc.tween(u).to(.5,{scale:0},{easing:"backIn"}).start(),c.next=33,cc.vv.gameData.awaitTime(.5);case 33:o._node_popup.active=!1,o._node_tri_free.active=!1,r(),c.next=51;break;case 38:return c.next=40,cc.vv.gameData.awaitTime(.3);case 40:return f.active=!0,f.setScale(0),cc.tween(f).to(.5,{scale:1},{easing:"backOut"}).start(),c.next=45,cc.vv.gameData.awaitTime(.5);case 45:v=o,h=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("click"),f.getComponent(cc.Button).interactable=!1,cc.tween(f).to(.5,{scale:0},{easing:"backIn"}).start(),l.getComponent(sp.Skeleton).setAnimation(0,cc.js.formatStr("animation%s_3",m),!1),e.next=6,cc.vv.gameData.awaitTime(.3);case 6:return cc.tween(_).to(.5,{scale:0},{easing:"backIn"}).start(),u.active&&cc.tween(u).to(.5,{scale:0},{easing:"backIn"}).start(),e.next=10,cc.vv.gameData.awaitTime(.5);case 10:v._node_popup.active=!1,v._node_tri_free.active=!1,r();case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(f,h),f.off("click"),f.getComponent(cc.Button).interactable=!0,f.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.stopAllActions(),h();case 2:case"end":return e.stop()}},e)})));case 51:case"end":return c.stop()}},c)}));return function(e,t){return c.apply(this,arguments)}}())},playDelSymFree:function(e,t){var n=this;return new Promise(function(){var a=i(regeneratorRuntime.mark(function a(i,o){var c,r,s,p,m,l,_,u,f,d,v,h,g,S,b,k,y,w,x;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(n._node_popup.active=!0,n._node_del_free.active=!0,c=cc.find("spine_bg",n._node_del_free),r=cc.find("node_syms",n._node_del_free),s=cc.find("node_syms/spine_bz",n._node_del_free),p=cc.find("spine_lbl",n._node_del_free),m=cc.find("spr_powerUp",n._node_del_free),l=cc.find("spr_add",m),_=cc.find("par",n._node_del_free),p.active=!1,m.active=t>0,u=cc.vv.gameData.GetAtlasByName("baseImg"),t>0&&(l.getComponent(cc.Sprite).spriteFrame=u.getSpriteFrame("dialog_"+t),m.setScale(0),cc.tween(m).to(.3,{scale:1},{easing:"backOut"}).start()),_.active=!1,c.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),c.getComponent(sp.Skeleton).addAnimation(0,"animation2",!0),r.active=!0,r.setScale(1),f=1;f<=12;f++)(d=cc.find("item_"+f,r)).active=!0,d.setScale(1),d.getComponent(sp.Skeleton).setAnimation(0,"animation"+f,!1),d.getComponent(sp.Skeleton).addAnimation(0,"animation"+f+"_1",!1);return a.next=21,cc.vv.gameData.awaitTime(1);case 21:e.sort(function(e,t){return t-e}),v=cc.vv.gameData.getGameCfg(),h=0;case 24:if(!(h<6)){a.next=39;break}return Global.SlotsSoundMgr.playEffect("symbol_remove"),g=v.symbol[e[h]].del_id,S=cc.find("item_"+g,r),s.active=!0,s.position=S.position,s.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),a.next=33,cc.vv.gameData.awaitTime(.3);case 33:return cc.tween(S).to(.3,{scale:0}).start(),a.next=36,cc.vv.gameData.awaitTime(.8);case 36:h++,a.next=24;break;case 39:return Global.SlotsSoundMgr.playEffect("power_appear"),p.active=!0,p.getComponent(sp.Skeleton).setAnimation(0,"animation7",!1),p.getComponent(sp.Skeleton).addAnimation(0,"animation8",!1),a.next=45,cc.vv.gameData.awaitTime(1.2);case 45:if(!(t>0)){a.next=83;break}return a.next=48,cc.vv.gameData.awaitTime(2);case 48:return Global.SlotsSoundMgr.playEffect("power_appear"),p.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1),p.getComponent(sp.Skeleton).addAnimation(0,"animation4",!1),a.next=53,cc.vv.gameData.awaitTime(2);case 53:b=6;case 54:if(!(b<e.length)){a.next=77;break}return Global.SlotsSoundMgr.playEffect("power_shoot"),k=v.symbol[e[b]].del_id,y=cc.find("item_"+k,r),s.active=!0,s.position=y.position,w=n._node_del_free.convertToNodeSpaceAR(l.convertToWorldSpaceAR(cc.v2(0,0))),x=n._node_del_free.convertToNodeSpaceAR(y.convertToWorldSpaceAR(cc.v2(0,0))),_.active=!0,_.getComponent(cc.ParticleSystem).resetSystem(),_.position=w,cc.tween(_).to(.3,{position:x}).start(),a.next=68,cc.vv.gameData.awaitTime(.3);case 68:return s.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),(t-=1)>0&&(l.getComponent(cc.Sprite).spriteFrame=u.getSpriteFrame("theme227_dialog_"+t)),a.next=73,cc.vv.gameData.awaitTime(.5);case 73:cc.tween(y).to(.3,{scale:0}).start();case 74:b++,a.next=54;break;case 77:return a.next=79,cc.vv.gameData.awaitTime(.3);case 79:return p.getComponent(sp.Skeleton).setAnimation(0,"animation6",!1),m.active&&cc.tween(m).to(.3,{scale:0},{easing:"backIn"}).start(),a.next=83,cc.vv.gameData.awaitTime(1);case 83:return cc.tween(r).to(.3,{scale:0},{easing:"backIn"}).start(),c.getComponent(sp.Skeleton).setAnimation(0,"animation5",!1),a.next=87,cc.vv.gameData.awaitTime(1);case 87:n._node_del_free.active=!1,n._node_popup.active=!1,i();case 90:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())},playEndFreeAnim:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(a,o){var c,r,s,p,m,l,_;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=2,r="fg_collect",cc.vv.gameData.isSuperGame()&&(c=5,r="sb_collect"),Global.SlotsSoundMgr.playEffect(r),t._node_popup.active=!0,t._node_end_free.active=!0,s=cc.find("spine_bg",t._node_end_free),p=cc.find("lbl_cnt",t._node_end_free),m=cc.find("btn_collect",t._node_end_free),p.active=!1,m.active=!1,s.getComponent(sp.Skeleton).setAnimation(0,cc.js.formatStr("animation%s_1",c),!1),s.getComponent(sp.Skeleton).addAnimation(0,cc.js.formatStr("animation%s_2",c),!0),n.next=15,cc.vv.gameData.awaitTime(.3);case 15:return p.active=!0,p.setScale(0),Global.doRoallNumEff(p,0,e,1.5,null,null,0,!0),cc.tween(p).to(.5,{scale:1},{easing:"backOut"}).start(),n.next=21,cc.vv.gameData.awaitTime(.3);case 21:return m.active=!0,m.setScale(0),cc.tween(m).to(.5,{scale:1},{easing:"backOut"}).start(),n.next=26,cc.vv.gameData.awaitTime(.5);case 26:l=t,_=function(){var t=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Global.SlotsSoundMgr.playEffect("click"),m.getComponent(cc.Button).interactable=!1,Global.FormatCommaNumToNum(p.getComponent(cc.Label).string)==e){t.next=7;break}return p.stopAllActions(),p.getComponent(cc.Label).string=Global.FormatNumToComma(e),t.next=7,cc.vv.gameData.awaitTime(.2);case 7:return Global.SlotsSoundMgr.playEffect("popup_out"),cc.tween(m).to(.5,{scale:0},{easing:"backIn"}).start(),s.getComponent(sp.Skeleton).setAnimation(0,cc.js.formatStr("animation%s_3",c),!1),t.next=12,cc.vv.gameData.awaitTime(.3);case 12:return cc.tween(p).to(.5,{scale:0},{easing:"backIn"}).start(),t.next=15,cc.vv.gameData.awaitTime(.5);case 15:l._node_popup.active=!1,l._node_end_free.active=!1,a();case 18:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(m,_),m.off("click"),m.getComponent(cc.Button).interactable=!0,m.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.stopAllActions(),_();case 2:case"end":return e.stop()}},e)})));case 32:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},playTriPickAnim:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Global.SlotsSoundMgr.playEffect("pick_start1"),e._node_popup.active=!0,e._node_tri_pick.active=!0,i=e,(o=cc.find("spine",e._node_tri_pick)).getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(){i._node_popup.active=!1,i._node_tri_pick.active=!1,n()});case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playEndPickAnim:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(a,o){var c,r,s,p,m;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect("pick_collect"),t._node_popup.active=!0,t._node_end_pick.active=!0,c=cc.find("spine_bg",t._node_end_pick),r=cc.find("lbl_cnt",t._node_end_pick),s=cc.find("btn_collect",t._node_end_pick),r.active=!1,s.active=!1,c.getComponent(sp.Skeleton).setAnimation(0,"animation2_1",!1),c.getComponent(sp.Skeleton).addAnimation(0,"animation2_2",!0),n.next=12,cc.vv.gameData.awaitTime(.3);case 12:return r.active=!0,r.setScale(0),Global.doRoallNumEff(r,0,e,1.5,null,null,0,!0),cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),n.next=18,cc.vv.gameData.awaitTime(.3);case 18:return s.active=!0,s.setScale(0),cc.tween(s).to(.5,{scale:1},{easing:"backOut"}).start(),n.next=23,cc.vv.gameData.awaitTime(.5);case 23:p=t,m=function(){var t=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Global.SlotsSoundMgr.playEffect("click"),s.getComponent(cc.Button).interactable=!1,Global.FormatCommaNumToNum(r.getComponent(cc.Label).string)==e){t.next=7;break}return r.stopAllActions(),r.getComponent(cc.Label).string=Global.FormatNumToComma(e),t.next=7,cc.vv.gameData.awaitTime(.2);case 7:return Global.SlotsSoundMgr.playEffect("popup_out"),cc.tween(s).to(.5,{scale:0},{easing:"backIn"}).start(),c.getComponent(sp.Skeleton).setAnimation(0,"animation2_3",!1),t.next=12,cc.vv.gameData.awaitTime(.3);case 12:return cc.tween(r).to(.5,{scale:0},{easing:"backIn"}).start(),t.next=15,cc.vv.gameData.awaitTime(.5);case 15:p._node_popup.active=!1,p._node_end_pick.active=!1,a();case 18:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(s,m),s.off("click"),s.getComponent(cc.Button).interactable=!0,s.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.stopAllActions(),m();case 2:case"end":return e.stop()}},e)})));case 29:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},playEndPickJpAnim:function(e,t){var n=this;return new Promise(function(){var a=i(regeneratorRuntime.mark(function a(o,c){var r,s,p,m,l,_;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=["dialog_mini","dialog_minor","dialog_major","dialog_maxi","dialog_grand"],Global.SlotsSoundMgr.playEffect(r[t-1]),n._node_popup.active=!0,n._node_end_pick_jp.active=!0,s=cc.find("spine_bg",n._node_end_pick_jp),p=cc.find("lbl_cnt",n._node_end_pick_jp),m=cc.find("btn_collect",n._node_end_pick_jp),p.active=!1,m.active=!1,s.getComponent(sp.Skeleton).setAnimation(0,cc.js.formatStr("animation%s_1",6-t),!1),s.getComponent(sp.Skeleton).addAnimation(0,cc.js.formatStr("animation%s_2",6-t),!0),a.next=13,cc.vv.gameData.awaitTime(.3);case 13:return p.active=!0,p.setScale(0),Global.doRoallNumEff(p,0,e,1.5,null,null,0,!0),cc.tween(p).to(.5,{scale:1},{easing:"backOut"}).start(),a.next=19,cc.vv.gameData.awaitTime(.3);case 19:return m.active=!0,m.setScale(0),cc.tween(m).to(.5,{scale:1},{easing:"backOut"}).start(),a.next=24,cc.vv.gameData.awaitTime(.5);case 24:l=n,_=function(){var n=i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Global.SlotsSoundMgr.playEffect("click"),m.getComponent(cc.Button).interactable=!1,Global.FormatCommaNumToNum(p.getComponent(cc.Label).string)==e){n.next=7;break}return p.stopAllActions(),p.getComponent(cc.Label).string=Global.FormatNumToComma(e),n.next=7,cc.vv.gameData.awaitTime(.2);case 7:return Global.SlotsSoundMgr.playEffect("popup_out"),cc.tween(m).to(.5,{scale:0},{easing:"backIn"}).start(),s.getComponent(sp.Skeleton).setAnimation(0,cc.js.formatStr("animation%s_3",6-t),!1),n.next=12,cc.vv.gameData.awaitTime(.3);case 12:return cc.tween(p).to(.5,{scale:0},{easing:"backIn"}).start(),n.next=15,cc.vv.gameData.awaitTime(.5);case 15:l._node_popup.active=!1,l._node_end_pick_jp.active=!1,o();case 18:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(m,_),m.off("click"),m.getComponent(cc.Button).interactable=!0,m.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.stopAllActions(),_();case 2:case"end":return e.stop()}},e)})));case 30:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())},playPowerUpAnim:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(a,i){var o,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t._node_popup.active=!0,t._node_power_up.active=!0,o=t,(c=cc.find("spine_bg",t._node_power_up)).getComponent(sp.Skeleton).setAnimation(0,"animation"+e,!1),c.getComponent(sp.Skeleton).setCompleteListener(function(){o._node_power_up.active=!1,o._node_popup.active=!1,a()}),n.next=8,cc.vv.gameData.awaitTime(.5);case 8:Global.SlotsSoundMgr.playEffect("popup_out");case 9:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},playQPJzt:function(){Global.SlotsSoundMgr.playEffect("transition1");var e=this;this._node_qp.active=!0,this._qp_jzt.active=!0,this._qp_jzt.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this._qp_jzt.getComponent(sp.Skeleton).setCompleteListener(function(){e._qp_jzt.active=!1,e._node_qp.active=!1})},playQPMen:function(){Global.SlotsSoundMgr.playEffect("transition2");var e=this;this._node_qp.active=!0,this._qp_men.active=!0,this._qp_men.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this._qp_men.getComponent(sp.Skeleton).setCompleteListener(function(){e._qp_men.active=!1,e._node_qp.active=!1})}}),cc._RF.pop()},{}],Sphinx_PrizePool:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var r=e[o](c),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function r(e){a(c,i,o,r,s,"next",e)}function s(e){a(c,i,o,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"a8fdffcoa5M1oxGdtKw9heA","Sphinx_PrizePool");var o=["MINI","MINOR","MAJOR","MAXI","GRAND"];cc.Class({extends:e("LMSlots_PrizePool_Base"),properties:{},InItPoolList:function(){this._super();for(var e=0;e<this._poolList.length;e++){var t=this._poolList[e].node;cc.find("jp1",t).active=!1,cc.find("jp2",t).active=!1,cc.find("jp3",t).active=!1,cc.find("jp4",t).active=!1,cc.find("jp_suo",t).active=!1,cc.find("tip",t).active=!1,cc.find("tip/spr_lock",t).active=!1,cc.find("tip/spr_unlock",t).active=!1}},ShowNodeLockByNode:function(e,t,n,a,i){var o=e,c=cc.find("jp_suo",o);if(o){this.showTipNode(t,a,i);var r=[5,4,3,2,1],s=["mini","minor","major","maxi","grand"];t?(i?c.active=!1:(Global.SlotsSoundMgr.playEffect("jp_lock"),c.active=!0,c.getComponent(sp.Skeleton).setAnimation(0,cc.js.formatStr("animation%s_%s",r[a],1),!1)),this.showNodeState(o,!0,s[a],r[a],[20,20,22,22,25][a]),this.playJp4Anim(!1,e)):(i?c.active=!1:(Global.SlotsSoundMgr.playEffect("jp_unlock"),c.active=!0,c.getComponent(sp.Skeleton).setAnimation(0,cc.js.formatStr("animation%s_%s",r[a],2),!1)),this.showNodeState(o,!1,s[a],r[a],25),this.playJp4Anim(!0,e,a))}},showTipNode:function(e,t,n){for(var a=0;a<o.length;a++){var i=cc.find(cc.js.formatStr("prizePool_%s/tip",o[a]),this.node);i.active=!0,n||t!==a?(cc.find("spr_lock",i).active=!1,cc.find("spr_unlock",i).active=!1,i.stopAllActions(),i.scale=0):e?(cc.find("spr_lock",i).active=!0,cc.find("spr_unlock",i).active=!1,i.scale=0,cc.tween(i).to(.5,{scale:1},{easing:"backOut"}).delay(.5).to(.5,{scale:0},{easing:"backIn"}).start()):(cc.find("spr_lock",i).active=!1,cc.find("spr_unlock",i).active=!0,i.scale=0,cc.tween(i).to(.5,{scale:1},{easing:"backOut"}).delay(.5).to(.5,{scale:0},{easing:"backIn"}).start())}},showNodeState:function(e,t,n,a,i){var o=cc.vv.gameData.GetAtlasByName("baseImg");t?(e.getComponent(cc.Sprite).spriteFrame=o.getSpriteFrame(cc.js.formatStr("jp_%s_1",n)),cc.find("lbl_num",e).getComponent(cc.Label).font=cc.vv.gameData.GetFontByName("theme227_base_jp0"),cc.find("lbl_num",e).position=cc.find("pos_jp0",e).position):(e.getComponent(cc.Sprite).spriteFrame=o.getSpriteFrame(cc.js.formatStr("jp_%s",n)),cc.find("lbl_num",e).getComponent(cc.Label).font=cc.vv.gameData.GetFontByName(cc.js.formatStr("theme227_base_jp%s",a)),cc.find("lbl_num",e).position=cc.v2(0,-14)),cc.find("lbl_num",e).getComponent(cc.Label).fontSize=i},increaseJackpot:function(e,t,n,a){var o=this;return i(regeneratorRuntime.mark(function i(){var c,r,s,p,m;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o._poolList=o.node.getComponentsInChildren("LMSlotMachine_PrizePool"),c=0;case 2:if(!(c<o._poolList.length)){i.next=22;break}if(!(r=o._poolList[c].node).active){i.next=19;break}s=o._poolList[c].getJackpotLabel(),p=o._poolList[c].GetPoolType(),m=0;case 8:if(!(m<e.length)){i.next=19;break}if(p!=e[m].prizeType){i.next=16;break}if(!s){i.next=15;break}return Global.doRoallNumEff(s,0,e[m].pauseNum*a,t,null,null,0,!0),o.playJp3Anim(r,m),i.next=15,cc.vv.gameData.awaitTime(n);case 15:return i.abrupt("break",19);case 16:m++,i.next=8;break;case 19:c++,i.next=2;break;case 22:case"end":return i.stop()}},i)}))()},playJp1Anim:function(e,t){var n=cc.find(cc.js.formatStr("prizePool_%s",o[e]),this.node),a=cc.find("jp1",n);if(a)if(t){a.active=!0;var i=cc.js.formatStr("animation%s",[5,4,3,2,1][e]);a.getComponent(sp.Skeleton).setAnimation(0,i,!0)}else a.active=!1},playJp2Anim:function(e,t){var n=cc.find("jp2",e);if(n){n.active=!0;var a=cc.js.formatStr("animation%s",[5,4,3,2,1][t]);n.getComponent(sp.Skeleton).setAnimation(0,a,!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){n.active=!1})}},playJp3Anim:function(e,t){var n=cc.find("jp3",e);if(n){n.active=!0;var a=cc.js.formatStr("animation%s",[5,4,3,2,1][t]);n.getComponent(sp.Skeleton).setAnimation(0,a,!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){n.active=!1})}},playJp4Anim:function(e,t,n){var a=cc.find("jp4",t);if(a)if(e){a.active=!0;var i=cc.js.formatStr("animation%s",[5,4,3,2,1][n]);a.getComponent(sp.Skeleton).setAnimation(0,i,!0)}else a.active=!1},showJackpot:function(e,t,n){var a=this;return i(regeneratorRuntime.mark(function i(){var c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(c=cc.find(cc.js.formatStr("prizePool_%s",o[t]),a.node))){i.next=7;break}if(n){i.next=6;break}return a.playJp2Anim(c,t),i.next=6,cc.vv.gameData.awaitTime(.5);case 6:c.active=e;case 7:case"end":return i.stop()}},i)}))()},getPoolBLock:function(e){return cc.find(cc.js.formatStr("prizePool_%s",o[e]),this.node).getComponent("LMSlotMachine_PrizePool").isLocked()}}),cc._RF.pop()},{LMSlots_PrizePool_Base:void 0}],Sphinx_Reel:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,c=!0,r=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){r=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(r)throw o}}}}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"271cdXZ1xBBcbLS+EfWbM8H","Sphinx_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},playReelStop:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++){var t,n=this._symbols[e],i=a(this._reelState);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.isStop&&o.id.includes(n.GetShowId())&&n.playStopAnimation()}}catch(e){i.e(e)}finally{i.f()}}if(this._cfg.reelStateInfo&&this._cfg.reelStateInfo[0]){var c,r="",s="",p=!1,m=a(this._reelState);try{for(m.s();!(c=m.n()).done;){var l=c.value;l.isStop?(s=l.symbolStopSound?l.symbolStopSound[l.stopIdx]:"",p=!0):r=l.reelStopSound?l.reelStopSound:""}}catch(e){m.e(e)}finally{m.f()}p&&(r=s);var _=this._cfg.reelStateInfo[0].path;_||(_=cc.vv.gameData.getGameDir()),cc.vv.AudioManager.playEff(_,r,!0)}},playAntiAnimation:function(){var e=!1;if(this._cfg.reelStateInfo&&this._cfg.reelStateInfo[0]){var t,n=a(this._reelState);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.isAnt&&i.antiNode){this.ShowAntiEffect(!0,i.antiNode);var o=i.path;o||(o=cc.vv.gameData.getGameDir()),cc.vv.AudioManager.playEff(o,i.antSound[i.antIdx],!0);var c=i.antSpeed;c&&(c*=this.GetTimeScale()),this._speed=c||this._speed,e=!0}}}catch(e){n.e(e)}finally{n.f()}}return e}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Sphinx_Slots:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,c=!0,r=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){r=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(r)throw o}}}}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e,t,n,a,i,o,c){try{var r=e[o](c),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,i)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function r(e){c(o,a,i,r,s,"next",e)}function s(e){c(o,a,i,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"3f3dbFNj4lHK4LFkV01edsL","Sphinx_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_canStop:!0,_leftTaList:[],_rightTaList:[],_triBonusSymbol:[],_triFreeSymbol:[]},Init:function(){this._spr_coins=cc.find("node_top/spr_coins",this.node),this._fly_coin=cc.find("fly_coin",this.node),this._fly_coin.active=!1,this._spr_mask=cc.find("spr_mask",this.node),this._spr_mask.active=!1,this._spine_jl2=cc.find("Canvas/safe_node/base_jl2"),this._spine_fanbei=cc.find("spine_fanbei",this.node),this._spine_jl1=cc.find("spine_jl1",this.node),this._spine_jl2.active=!1,this._spine_fanbei.active=!1,this._spine_jl1.active=!1,this._spr_ta_left=cc.find("node_top/spr_ta_left",this.node),this._spr_ta_right=cc.find("node_top/spr_ta_right",this.node),this._top_fly=cc.find("top_fly",this.node),this._super()},ReconnectShow:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._topScript.SetBackLobby(!1),e._bottomScript.ShowBtnsByState("moveing_1"),n=cc.vv.gameData.getBonusTrail(),cc.vv.gameData.GetTotalFree()>0?e.ShowGameview(!0,2===n.state):e.ShowGameview(!1,!1),!cc.vv.gameData.getJackpotGame()){t.next=7;break}return t.next=7,e.gainPickGame(!1);case 7:if(!(cc.vv.gameData.GetTotalFree()>0&&0==cc.vv.gameData.GetFreeTime())){t.next=10;break}return t.next=10,e.exitFreeGame();case 10:e._topScript.StopMove(),e._bottomScript.CanDoNextRound();case 12:case"end":return t.stop()}},t)}))()},StartMove:function(){this._super(),this._triBonusSymbol.splice(0,this._triBonusSymbol.length),this._triFreeSymbol.splice(0,this._triFreeSymbol.length),Global.SlotsSoundMgr.playNormalBgm()},SetReelStateInfo:function(e){var t=this;if(this._cfg.reelStateInfo){for(var n=[],i=0;i<e.length;i++){var o=e[i],c=i%this._col;n[c]||(n[c]=[]),n[c].push(o)}var r,s=a(this._cfg.reelStateInfo);try{var p=function(){var e=r.value,a=Global.copy(e);a.isStop=!1,a.isAnt=!1,a.stopIdx=0,a.antIdx=0;for(var i=0,o=0,c=a.mini,s=Global.copy(a.counts),p=0,m=!0,l=0;l<n.length;l++){var _=t._reels[l],u=n[l];a.isStop=!1,a.isAnt=!1,p>=c-1&&a.counts[l]>0&&m&&(a.isAnt=!0,a.antIdx=o,o+=1);var f=u.reduce(function(e,t){return a.id.includes(t)?e+1:e+0},0);p+=f,s.shift();var d=(s.length>0?s.reduce(function(e,t){return e+t}):0)+p;f>0&&d>=c&&m&&(a.isStop=!0,a.stopIdx=i,i+=1),a.continuous&&a.counts[l]>0&&0==f&&(m=!1),_.AddReelStateInfo(Global.copy(a))}};for(s.s();!(r=s.n()).done;)p()}catch(e){s.e(e)}finally{s.f()}}},OnReelSpinEnd:function(e){for(var t=0;t<this._row;t++){var n=this._reels[e].GetSymbolByRow(t);n&&(3==n.GetShowId()?n.playBonusBgGuangAnim(!0,"bonus"):301==n.GetShowId()&&n.playBonusBgGuangAnim(!0,"special"))}},OnSpinEnd:function(){this.onSpinEndAction()},onSpinEndAction:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._gameInfo.bonusInfo){t.next=3;break}return t.next=3,e.playBonusItemAnim();case 3:return e.ShowWinTrace(),n=cc.vv.gameData.GetGameWin(),a=n,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(a=cc.vv.gameData.getFreeWinCoin()),t.next=9,new Promise(function(t,i){e.ShowBottomWin(n,a,!0,function(){t()})});case 9:if(!e._gameInfo.jackpotGame){t.next=12;break}return t.next=12,e.gainPickGame(!0);case 12:if(!(e._gameInfo.freeResult&&e._gameInfo.freeResult.freeInfo&&e._gameInfo.freeResult.freeInfo.freeCnt>0)){t.next=15;break}return t.next=15,e.gainFreeGame(2===e._gameInfo.bonusTrail.state);case 15:if(!(e._gameInfo.allFreeCnt>0&&0==e._gameInfo.freeCnt)){t.next=18;break}return t.next=18,e.exitFreeGame();case 18:e.CanDoNextRound();case 19:case"end":return t.stop()}},t)}))()},gainPickGame:function(e){var t=this;return new Promise(function(){var n=r(regeneratorRuntime.mark(function n(a,i){var o,c,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=13;break}if(!(t._triBonusSymbol.length>0)){n.next=8;break}if(o=t._gameInfo.bonusInfo.idxs)for(c=0;c<o.length;c++)t.GetSymbolByIdx(o[c]).playBonusBgGuangAnim(!1);for(r=0;r<t._triBonusSymbol.length;r++)t._triBonusSymbol[r].symbol.playBonusTriAnim(t._triBonusSymbol[r].type);return Global.SlotsSoundMgr.playEffect("pick_trigger"),n.next=8,cc.vv.gameData.awaitTime(2);case 8:return n.next=10,cc.vv.gameData.getPopupScript().playTriPickAnim();case 10:return cc.vv.gameData.getPopupScript().playQPMen(),n.next=13,cc.vv.gameData.awaitTime(2);case 13:return n.next=15,cc.vv.gameData.getPickScript().gainPickGame(e);case 15:a();case 16:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},gainFreeGame:function(e){var t=this;return new Promise(function(){var n=r(regeneratorRuntime.mark(function n(a,i){var o,c,r,s,p,m,l,_,u,f,d,v,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Global.SlotsSoundMgr.playEffect("bell"),o=t._gameInfo.freeCnt===t._gameInfo.allFreeCnt,!((c=t._gameInfo.freeResult)&&c.freeInfo&&c.freeInfo.scatterIdx)){n.next=14;break}for(r=c.freeInfo.scatterIdx,s=[],p=0;p<r.length;p++)(m=t.GetSymbolByIdx(r[p]))&&(m.playTriggerAnimation(),s.push(m));if(!o){n.next=10;break}return n.next=10,cc.vv.gameData.getCollectScript().playGainItemAnim(s);case 10:return n.next=12,cc.vv.gameData.awaitTime(2);case 12:return n.next=14,cc.vv.gameData.getPopupScript().playTriFreeAnim(c.freeInfo.freeCnt,e,o);case 14:if(!(t._triFreeSymbol.length>0)){n.next=28;break}if(_=t._gameInfo.bonusInfo.idxs)for(u=0;u<_.length;u++)t.GetSymbolByIdx(_[u]).playBonusBgGuangAnim(!1);for(f=[],d=0;d<t._triFreeSymbol.length;d++)"free"==t._triFreeSymbol[d].type?(f.push(t._triFreeSymbol[d].symbol),t._triFreeSymbol[d].symbol.playBonusTriAnim(t._triFreeSymbol[d].type,c.freeInfo.freeCnt)):t._triFreeSymbol[d].symbol.playBonusTriAnim(t._triFreeSymbol[d].type);if(!o){n.next=22;break}return n.next=22,cc.vv.gameData.getCollectScript().playGainItemAnim(f);case 22:return n.next=24,cc.vv.gameData.awaitTime(2);case 24:return v=t._gameInfo.bonusInfo.freeInfo,l=v.powerUpCnt,n.next=28,cc.vv.gameData.getPopupScript().playTriFreeAnim(v.freeCnt,e,o,v.powerUpCnt);case 28:return o&&(t.Backup(),cc.vv.gameData.getPopupScript().playQPJzt()),t.removeAllFlyNode(!1),t.ShowGameview(!0,e),n.next=33,cc.vv.gameData.awaitTime(2);case 33:if(h=t._gameInfo.removeSymbols,!o){n.next=55;break}return n.next=37,cc.vv.gameData.getPopupScript().playDelSymFree(h,l||0);case 37:return t._canStop=!1,a(),n.next=41,cc.vv.gameData.awaitTime(.5);case 41:return Global.SlotsSoundMgr.playEffect("coin_fg"),t._spine_jl1.active=!0,t._spine_jl1.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),t._spr_mask.active=!0,n.next=47,cc.vv.gameData.awaitTime(2);case 47:return t._spine_jl1.active=!1,t._spr_mask.active=!1,Global.SlotsSoundMgr.playEffect("free_open"),n.next=52,cc.vv.gameData.awaitTime(2);case 52:t._canStop=!0,n.next=56;break;case 55:a();case 56:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},exitFreeGame:function(){var e=this;return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n,a){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=cc.vv.gameData.getFreeWinCoin(),t.next=3,cc.vv.gameData.getPopupScript().playEndFreeAnim(i);case 3:return cc.vv.gameData.getPopupScript().playQPJzt(),e.Resume(),e.ShowGameview(!1,!1),2===e._gameInfo.bonusTrail.state&&cc.vv.gameData.getCollectScript().initItems(),Global.SlotsSoundMgr.stopBgm(),t.next=10,cc.vv.gameData.awaitTime(2);case 10:return t.next=12,new Promise(function(t,n){e.ShowBottomWin(i,i,!0,function(){t()})});case 12:n();case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playBonusItemAnim:function(){var e=this;return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n,a){var i,o,c,r,s,p,m,l,_,u,f,d,v,h,g,S,b,k,y,w;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=e._gameInfo.bonusInfo.idxs,o=e._gameInfo.bonusInfo.items,c=e._gameInfo.bonusInfo.specailIdxs,r=e._gameInfo.bonusInfo.specailItems,(s=i.concat(c)).sort(function(e,t){return(e-1)%5-(t-1)%5}).sort(function(e,t){return e/5+(e-1)%5-(t/5+(t-1)%5)}),p=[],m=[],l=0;case 9:if(!(l<s.length)){t.next=38;break}if(_=s[l],u=void 0,u=i.includes(_)?o[i.indexOf(_)]:r[c.indexOf(_)],f=e.GetSymbolByIdx(_),!u.coin){t.next=25;break}return Global.SlotsSoundMgr.playEffect("coin_turn1"),d=Global.copy(u),cc.vv.gameData.isSuperGame()&&(d.coin=u.coin/5,m.push(_)),f.playAddCoinAnim(d),t.next=21,cc.vv.gameData.awaitTime(.5);case 21:return t.next=23,e.flyBonusSymbol(f.node);case 23:t.next=35;break;case 25:if(l!==_.length-1||0!==p.length){t.next=30;break}return t.next=28,e.playSpecialBonus(u,f);case 28:t.next=35;break;case 30:return Global.SlotsSoundMgr.playEffect("coin_active"),f.playBonusAwaitAnim(),u.jackpotBonus||u.freeCnt?p.unshift(_):p.push(_),t.next=35,cc.vv.gameData.awaitTime(.5);case 35:l++,t.next=9;break;case 38:v=0;case 39:if(!(v<p.length)){t.next=49;break}return h=p[v],g=void 0,g=i.includes(h)?o[i.indexOf(h)]:r[c.indexOf(h)],S=e.GetSymbolByIdx(h),t.next=46,e.playSpecialBonus(g,S);case 46:v++,t.next=39;break;case 49:if(!(cc.vv.gameData.isSuperGame()&&m.length>0)){t.next=57;break}return Global.SlotsSoundMgr.playEffect("coin_increase"),e.playBoostJlAnim(2),t.next=54,cc.vv.gameData.awaitTime(1);case 54:for(b=0;b<m.length;b++)k=m[b],y=void 0,y=i.includes(k)?o[i.indexOf(k)]:r[c.indexOf(k)],w=e.GetSymbolByIdx(k),y.coin&&w.playAddCoinAnim(y);return t.next=57,cc.vv.gameData.awaitTime(1);case 57:n();case 58:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playSpecialBonus:function(e,t){var n=this;return new Promise(function(){var a=r(regeneratorRuntime.mark(function a(i,o){var c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(Global.SlotsSoundMgr.playEffect("coin_turn2"),!e.jackpotBonus){a.next=10;break}return n._triBonusSymbol.push({symbol:t,type:"jackpot"}),t.playBonusWin("jackpot"),a.next=6,cc.vv.gameData.awaitTime(.6);case 6:return a.next=8,n.flyBonusToTa(t,!1,"animation_1");case 8:a.next=69;break;case 10:if(!e.freeCnt){a.next=20;break}return n._triFreeSymbol.push({symbol:t,type:"free"}),t.playBonusWin("free",e.freeCnt),a.next=15,cc.vv.gameData.awaitTime(1);case 15:return c=cc.js.formatStr("animation%s_1",e.freeCnt),a.next=18,n.flyBonusToTa(t,!0,c);case 18:a.next=69;break;case 20:if(!e.type){a.next=69;break}if(1!==e.type){a.next=34;break}return t.playBonusWin("coin"),a.next=25,cc.vv.gameData.awaitTime(1);case 25:return n.playBoostJlAnim(1),a.next=28,cc.vv.gameData.awaitTime(1);case 28:return a.next=30,n.bonusAddCoin(e.mult);case 30:return a.next=32,cc.vv.gameData.awaitTime(1);case 32:a.next=67;break;case 34:if(2!==e.type){a.next=47;break}return t.playBonusWin("megaCoin"),a.next=38,cc.vv.gameData.awaitTime(1);case 38:return n.playBoostJlAnim(1),a.next=41,cc.vv.gameData.awaitTime(1);case 41:return a.next=43,n.bonusAddCoin(e.mult);case 43:return a.next=45,cc.vv.gameData.awaitTime(1);case 45:a.next=67;break;case 47:if(3!==e.type){a.next=60;break}return t.playBonusWin("superCoin"),a.next=51,cc.vv.gameData.awaitTime(1);case 51:return n.playBoostJlAnim(1),a.next=54,cc.vv.gameData.awaitTime(1);case 54:return a.next=56,n.bonusAddCoin(e.mult);case 56:return a.next=58,cc.vv.gameData.awaitTime(1);case 58:a.next=67;break;case 60:if(4!==e.type){a.next=67;break}return n._triBonusSymbol.push({symbol:t,type:"powerUp"}),n._triFreeSymbol.push({symbol:t,type:"powerUp"}),t.playBonusWin("powerUp"),a.next=66,cc.vv.gameData.awaitTime(1);case 66:n.flyBonusToTa(t,!n._gameInfo.jackpotGame,"animation_1");case 67:return a.next=69,cc.vv.gameData.awaitTime(1);case 69:i();case 70:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())},playBoostJlAnim:function(e){var t="boost_man",n="animation2";2==e&&(t="super_man",n="animation1"),Global.SlotsSoundMgr.playEffect(t),this._spine_jl2.active=!0,this._spine_fanbei.active=!0;var a=this;this._spine_jl2.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this._spine_fanbei.getComponent(sp.Skeleton).setAnimation(0,n,!1),this._spine_fanbei.getComponent(sp.Skeleton).setCompleteListener(function(){a._spine_fanbei.active=!1})},flyBonusSymbol:function(e){var t=this;return new Promise(function(n,a){var i=cc.instantiate(t._fly_coin);i.parent=t._top_fly,i.active=!0;var o=t._top_fly.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0))),c=t._top_fly.convertToNodeSpaceAR(t._spr_coins.convertToWorldSpaceAR(cc.v2(0,0)));i.position=o,i.getComponent(sp.Skeleton).setAnimation(0,"animation_1",!1),cc.tween(i).to(.6,{position:c}).delay(.4).call(function(){i.destroy(),n()}).start()})},flyBonusToTa:function(e,t,n){var a=this;return new Promise(function(i,o){Global.SlotsSoundMgr.playEffect("feature_fly");var c,r=cc.instantiate(e.getShowNode());r.active=!0,r.parent=a._top_fly,c=t?cc.find(cc.js.formatStr("spr_%s",a._leftTaList.length+1),a._spr_ta_left):cc.find(cc.js.formatStr("spr_%s",a._rightTaList.length+1),a._spr_ta_right);var s=a._top_fly.convertToNodeSpaceAR(e.node.convertToWorldSpaceAR(cc.v2(0,0))),p=a._top_fly.convertToNodeSpaceAR(c.convertToWorldSpaceAR(cc.v2(0,0)));r.position=s,r.getComponent(sp.Skeleton).setAnimation(0,n,!1),cc.tween(r).to(.6,{position:p}).delay(.4).call(function(){t?a._leftTaList.push(r):a._rightTaList.push(r),i()}).start()})},bonusAddCoin:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var a,i,o,c,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(Global.SlotsSoundMgr.playEffect("coin_increase"),a=t._gameInfo.bonusInfo.idxs,i=t._gameInfo.bonusInfo.items,o=0;o<a.length;o++)c=a[o],(r=i[a.indexOf(c)]).coin&&t.GetSymbolByIdx(c).playAddCoinAnim(r,e);case 4:case"end":return n.stop()}},n)}))()},showTaSpr:function(e){for(var t=0;t<this._spr_ta_left.childrenCount;t++)this._spr_ta_left.children[t].active=e;for(var n=0;n<this._spr_ta_right.childrenCount;n++)this._spr_ta_right.children[n].active=e},removeAllFlyNode:function(){this._top_fly.removeAllChildren(),this._leftTaList.splice(0,this._leftTaList.length),this._rightTaList.splice(0,this._rightTaList.length)},ShowGameview:function(e,t){if(cc.vv.gameData.setIsSuper(t),t||cc.vv.gameData.setIsFree(e),cc.find("node_free_tit",this.node).active=e,e){var n=cc.vv.gameData.GetTotalFree(),a=cc.vv.gameData.GetFreeTime();this._bottomScript.ShowFreeModel(!0,n-a,n);var i=cc.vv.gameData.GetTotalFreeWin();this._bottomScript.SetWin(i);var o=t?"sb_bgm":"fg_bgm";Global.SlotsSoundMgr.playBgm(o),cc.find("node_free_tit/spr_free",this.node).active=!t,cc.find("node_free_tit/spr_super",this.node).active=t}else this._bottomScript.ShowFreeModel(!1);var c=cc.find("Canvas/safe_node/spr_bg_normal"),r=cc.find("Canvas/safe_node/spr_bg_free"),s=cc.find("Canvas/safe_node/spr_bg_super");r&&(c&&(c.active=!e),s.active=t,t||(r.active=e))},CanStopSlot:function(){return null!=this._gameInfo&&this._canStop}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Sphinx_Symbol:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var r=e[o](c),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function r(e){a(c,i,o,r,s,"next",e)}function s(e){a(c,i,o,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"ecb180k4kFC26u+dzceK4jY","Sphinx_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{_coinNum:0,_bonusType:"",_bonusFree:0},GetRandomCfg:function(){var e=cc.vv.gameData.getGameCfg();return(cc.vv.gameData.isFreeGame()||cc.vv.gameData.isSuperGame())&&e.cardmapFree?e.cardmapFree:e.cardmap},StartMove:function(){this._super(),this._coinNum=0,this._bonusType="",this._bonusFree=0,this.playBonusBgGuangAnim(!1),this._startMove=!0},StopMoveEnd:function(){this._super(),this._startMove=!1,this.playRunBgAnim(!1,!0)},ShowById:function(e,t){this._super(e,t),this.hideAllIcon(),this._startMove&&2==e?this.playRunBgAnim(!0):this.playRunBgAnim(!1)},hideAllIcon:function(){this.setCoin()},setCoin:function(e,t){var n=cc.find("lbl_coin",this.node);if(e){var a=null,i=cc.vv.gameData.GetTotalBet();a=e<.5*i?cc.vv.gameData.GetFontByName("theme227_base_coin3"):e<i?cc.vv.gameData.GetFontByName("theme227_base_coin2"):cc.vv.gameData.GetFontByName("theme227_base_coin1"),n.active=!0,n.getComponent(cc.Label).font=a,n.getComponent(cc.Label).string=Global.formatNumShort(e,0),t&&(n.setScale(0),cc.tween(n).to(.5,{scale:1}).start()),this._coinNum=e}else n.active=!1,n.getComponent(cc.Label).string="",this._coinNum=0},playAddCoinAnim:function(e,t){var n=this;return i(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n.setCoin(),n.playBonusWinCoin(e),a.next=4,cc.vv.gameData.awaitTime(.5);case 4:n._curNum=t?n._curNum+e.coin*t:e.coin,n.setCoin(n._curNum,!0);case 6:case"end":return a.stop()}},a)}))()},playRunBgAnim:function(e,t){var n=cc.find("w201",this.node),a=this._id;e&&2==a?(n.active=!0,n.opacity=255,n.stopAllActions(),n.getComponent(sp.Skeleton).setAnimation(0,"animation",!1)):t&&n.active?cc.tween(n).to(.2,{opacity:0}).call(function(){n.active=!1}).start():n.active=!1},playTriggerAnimation:function(){var e=!1,t=this._id,n=cc.vv.gameData.getGameCfg();if(n.symbol[t]&&n.symbol[t].win_node&&n.symbol[t].trigger_ani){this._state="trigger",this._showNode&&(this._showNode.active=!1);var a=this.setAnimationToTop(!0);a.active=!0;var i=cc.find(n.symbol[t].win_node,a);if(i.active=!0,""!=n.symbol[t].trigger_ani.name){a.zIndex=n.symbol[t].trigger_ani.zIndex-this._symbolIdx+10*this._reelIdx,e=!0;var o=i.getComponent(sp.Skeleton);o&&o.setAnimation(0,n.symbol[t].trigger_ani.name,!0)}}return e},playBonusBgGuangAnim:function(e,t){var n=cc.find("w_guang",this.node);if(n)if(e){n.active=!0;var a="";"bonus"==t?a="animation1":"special"==t&&(a="animation6"),n.getComponent(sp.Skeleton).setAnimation(0,a,!0)}else n.active=!1},playBonusAwaitAnim:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node&&t.symbol[e].await_ani&&(this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0,""!=t.symbol[e].await_ani.name)){this.node.zIndex=t.symbol[e].await_ani.zIndex-this._symbolIdx+10*this._reelIdx;var n=this._showNode.getComponent(sp.Skeleton);n&&n.setAnimation(0,t.symbol[e].await_ani.name,!0)}},playBonusWinCoin:function(e){var t=this;return i(regeneratorRuntime.mark(function e(){var n,a,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t._id,(a=cc.vv.gameData.getGameCfg()).symbol[n]&&a.symbol[n].prep_node&&a.symbol[n].prep_ani&&""!=a.symbol[n].prep_ani.name&&(t._showNode&&(t._showNode.active=!1),(i=cc.find(a.symbol[n].prep_node,t.node)).active=!0,i.getComponent(sp.Skeleton).setAnimation(0,a.symbol[n].prep_ani.name,!1),i.getComponent(sp.Skeleton).setCompleteListener(function(){i.active=!1}),t._showNode=cc.find("w_jinbi",t.node),t._showNode.active=!0,t._showNode.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),(o=cc.find("quan_zhuan",t.node)).active=!0,o.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(){o.active=!1}));case 3:case"end":return e.stop()}},e)}))()},playBonusWin:function(e,t,n){this._bonusType=e,this._bonusFree=t;var a,i=this._id,o=cc.vv.gameData.getGameCfg();if("free"==e&&o.bonus_symbol.free?a=o.bonus_symbol.free:"jackpot"==e&&o.bonus_symbol.jackpot?a=o.bonus_symbol.jackpot:"coin"==e&&o.bonus_symbol.coin?a=o.bonus_symbol.coin:"megaCoin"==e&&o.bonus_symbol.megaCoin?a=o.bonus_symbol.megaCoin:"superCoin"==e&&o.bonus_symbol.superCoin?a=o.bonus_symbol.superCoin:"powerUp"==e&&o.bonus_symbol.powerUp&&(a=o.bonus_symbol.powerUp),this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(a.node,this.node),this._showNode.active=!0,n){if(a&&a.node&&a.resume_ani&&""!=a.resume_ani.name){this.node.zIndex=a.open_ani.zIndex-this._symbolIdx+10*this._reelIdx;var c=this._showNode.getComponent(sp.Skeleton);c&&c.setAnimation(0,cc.js.formatStr(a.resume_ani.name,t),!1)}}else if(a&&a.node&&a.open_ani&&""!=a.open_ani.name){var r=cc.find(o.symbol[i].prep_node,this.node);r.active=!0,r.getComponent(sp.Skeleton).setAnimation(0,o.symbol[i].prep_ani.name,!1),r.getComponent(sp.Skeleton).setCompleteListener(function(){r.active=!1}),this.node.zIndex=a.open_ani.zIndex-this._symbolIdx+10*this._reelIdx;var s=this._showNode.getComponent(sp.Skeleton);if(s){var p=a.open_ani.name;if("free"==e&&(p=cc.js.formatStr(p,t)),s.setAnimation(0,p,!1),a.show_ani&&""!=a.show_ani.name){var m=a.show_ani.name;"free"==e&&(m=cc.js.formatStr(m,t)),s.addAnimation(0,m,!1)}}}},playBonusTriAnim:function(e,t){this._id;var n,a=cc.vv.gameData.getGameCfg();if("free"==e&&a.bonus_symbol.free?n=a.bonus_symbol.free:"jackpot"==e&&a.bonus_symbol.jackpot?n=a.bonus_symbol.jackpot:"powerUp"==e&&a.bonus_symbol.powerUp&&(n=a.bonus_symbol.powerUp),n&&n.node&&n.trigger_ani&&(this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(n.node,this.node),this._showNode.active=!0,""!=n.trigger_ani.name)){this.node.zIndex=n.trigger_ani.zIndex-this._symbolIdx+10*this._reelIdx;var i=this._showNode.getComponent(sp.Skeleton);if(i){var o=n.trigger_ani.name;"free"==e&&(o=cc.js.formatStr(o,t)),i.setAnimation(0,o,!0)}}},getShowNode:function(){return this._showNode},Backup:function(){var e={};return e.symbolIdx=this._symbolIdx,e.id=this._id,this._data&&(e.data=Global.copy(this._data)),e.isKuang=this._isKuang,e.state=this._state,e.coinNum=this._coinNum,e.bonusType=this._bonusType,e.bonusFree=this._bonusFree,e},Resume:function(e){if(this._super(e),e){var t=e.coinNum,n=e.bonusType,a=e.bonusFree;this.playBonusBgGuangAnim(!1),t>0?this.setCoin(t,!1):this.setCoin(),n&&this.playBonusWin(n,a,!0)}}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["Sphinx_Cfg","Sphinx_Collect","Sphinx_GameData","Sphinx_Logic","Sphinx_Pick","Sphinx_Popup","Sphinx_PrizePool","Sphinx_Reel","Sphinx_Slots","Sphinx_Symbol"]);