window.__require=function e(t,n,o){function i(s,r){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){return i(t[s][1][e]||e)},d,d.exports,e,t,n,o)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({Interstellar_BonusGame:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var s=e.apply(t,n);function r(e){o(s,i,a,r,c,"next",e)}function c(e){o(s,i,a,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"1581eLM4GpPK7e3L0STbIh8","Interstellar_BonusGame");var a=["mini","minor","major","maxi","grand"],s=[0,2,5,9,14];cc.Class({extends:cc.Component,properties:{_callBack:null,_data:null,panel:cc.Node,tipsNode:cc.Node,spine_win_board:sp.Skeleton,spine_footer:cc.Node,track_spine:cc.Node,jpNodes:[cc.Node],posArr:[cc.Node],_topAniNode:cc.Node,_topCollectAniNode:null,_grups:[],_hintList:[],_firstRoundGroup:0},onDestroy:function(){},onLoad:function(){this._topCollectAniNode=cc.find("Canvas/safe_node/top_node"),this._topCollectAniNode.zIndex=1e3,this._topAniNode=cc.find("top_ani",this.panel),this._initData(),this._initReels(),Global.AABB=this},_initData:function(){this._data={lastRoundReelsData:null,validReelLastIdx:0,respData:null}},_initReels:function(){for(var e=0;e<a.length;e++){var t=a[e],n=cc.find(t,this.panel).getComponent("Interstellar_BonusGrup");n.initData(this._topAniNode,this._onGrupChange.bind(this),s[e],e),this._grups.push(n)}},_onGrupChange:function(e){e===this._data.validReelLastIdx?this.spinEnd():this.getJackpotHint(e+2)&&this.playJpFlash(e+2);for(var t=SlotsFacade.dm.bonusData,n=0;n<t.jackpotList.length;n++){var o=t.jackpotList[n];o>e&&(this.playJpTitle(o,!0),this.showWinJackPot(o),this.playWinJackPotEffect(o))}},getJackpotHint:function(e){switch(e){case 1:for(var t=0;t<this._hintList.length;t++){if(this._hintList[t]<3)return!0}return!1;case 2:for(var n=0;n<this._hintList.length;n++){var o=this._hintList[n];if(o>2&&o<6)return!0}return!1;case 3:for(var i=0;i<this._hintList.length;i++){var a=this._hintList[i];if(a>5&&a<10)return!0}return!1;case 4:for(var s=0;s<this._hintList.length;s++){var r=this._hintList[s];if(r>9&&r<15)return!0}return!1;case 5:for(var c=0;c<this._hintList.length;c++){var l=this._hintList[c];if(l>14&&l<30)return!0}return!1}},showJiLi:function(e){switch(e){case 1:for(var t=0;t<this._hintList.length;t++){var n=this._hintList[t];n<3&&this._grups[e-1].showJL(n)}break;case 2:for(var o=0;o<this._hintList.length;o++){var i=this._hintList[o];i>2&&i<6&&this._grups[e-1].showJL(i)}break;case 3:for(var a=0;a<this._hintList.length;a++){var s=this._hintList[a];s>5&&s<10&&this._grups[e-1].showJL(s)}break;case 4:for(var r=0;r<this._hintList.length;r++){var c=this._hintList[r];c>9&&c<15&&this._grups[e-1].showJL(c)}break;case 5:for(var l=0;l<this._hintList.length;l++){var d=this._hintList[l];d>14&&d<30&&this._grups[e-1].showJL(d)}}},_initView:function(e){var t=SlotsFacade.dm.bonusData;this.showRestCnt(t.restCnt,!0);for(var n=0;n<this._grups.length;n++){this._grups[n].initView()}e=e||!1;for(var o=0;o<this.jpNodes.length;o++){var i=this.jpNodes[o];i.y=e?this.posArr[o].y:4==o?this.posArr[o].y:3==o?this.posArr[5].y:this.posArr[o].y-320;for(var a=0;a<2;a++){i.getChildByName("spineTitle"+(a+1)).getComponent(sp.Skeleton).setAnimation(0,"animation"+(5-o)+"_1",!1)}}if(e)for(var s=0;s<t.jackpotList.length;s++){var r=t.jackpotList[s];this.playJpTitle(r,!0)}else this.jpNodes[3].y=this.posArr[5].y},showRestCnt:function(e,t){var n=this.tipsNode.getChildByName("tips").getComponent("ImgSwitchCmp");3==e?n.setIndex(2):2==e?n.setIndex(2):1==e?n.setIndex(1):n.setIndex(0);var o=this.tipsNode.getChildByName("label");if(e>0){if(o.active=!0,o.getChildByName("count").getComponent("ImgSwitchCmp").setIndex(e-1),3==e&&!t){var i=o.getChildByName("spine").getComponent(sp.Skeleton);i.node.active=!0,i.setAnimation(0,"animation",!1),i.setCompleteListener(function(){i.setCompleteListener(null),i.node.active=!1})}}else o.active=!1},startMove:function(){this._firstRoundGroup=0;for(var e=0;e<this._grups.length;e++){this._grups[e].startMove()&&(this._data.validReelLastIdx=e,0===this._firstRoundGroup&&(this._firstRoundGroup=e+1))}},setSlotsResult:function(){for(var e=0;e<this._grups.length;e++){this._grups[e].setSlotsResult()}},spinEnd:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=SlotsFacade.dm.bonusData,e._data.lastRoundReelsData=n.items.concat(),e._hintList=n.hintList,e.showRestCnt(n.restCnt),t.next=6,SlotsFacade.delayTime(1);case 6:n.restCnt>0?e.run():e.startSettlement();case 7:case"end":return t.stop()}},t)}))()},startSettlement:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,i,a,s,r,c,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,o=e._data.respData,i=0;case 3:if(!(i<o.jackpotValues.length)){t.next=14;break}return a=o.jackpotValues[i],s=o.epicInfo.jackpotList[i],SlotsFacade.soundMgr.playEffect("dialog_trigger_JP"),t.next=9,SlotsFacade.popup.showWinJPGold(s,a);case 9:n+=a,SlotsFacade.bottomCmp.SetWin(n);case 11:i++,t.next=3;break;case 14:return t.next=16,SlotsFacade.delayTime(.5);case 16:r=cc.find("winBg/lbl_winNum_nor",SlotsFacade.bottomCmp.node).convertToWorldSpaceAR(cc.v2(0,0)),r=e._topCollectAniNode.convertToNodeSpaceAR(r),e.spine_footer.removeFromParent(),e.spine_footer.parent=e._topCollectAniNode,e.spine_footer.position=r,e.spine_footer.active=!1,c=0;case 23:if(!(c<o.epicInfo.items.length)){t.next=34;break}if(!((l=o.epicInfo.items[c])<1)){t.next=27;break}return t.abrupt("continue",31);case 27:return n+=l,e.flyTrackSpine(c,function(){SlotsFacade.bottomCmp.SetWin(n)}),t.next=31,SlotsFacade.delayTime(1);case 31:c++,t.next=23;break;case 34:return cc.vv.gameData.AddCoin(n),t.next=37,SlotsFacade.popup.showWinBonusGold(n);case 37:e.exitGame();case 38:case"end":return t.stop()}},t)}))()},flyTrackSpine:function(e,t){var n=this;SlotsFacade.soundMgr.playEffect("fly");var o=cc.find("winBg/lbl_winNum_nor",SlotsFacade.bottomCmp.node),i=o.convertToWorldSpaceAR(cc.v2(0,0));i=this._topCollectAniNode.convertToNodeSpaceAR(i);var a=this.getSymbolByIndex(e);a.playWinFlash();var s=a.node.convertToWorldSpaceAR(cc.v2(0,0));s=this._topCollectAniNode.convertToNodeSpaceAR(s);var r=cc.instantiate(this.track_spine);r.active=!0,r.parent=this._topCollectAniNode,r.x=s.x,r.y=s.y,r.angle=this.getAngle(a.node,o),r.scaleY=this.getDistance(a.node,o)/(r.height/2),r.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),r.getComponent(sp.Skeleton).timeScale=.7,r.getComponent(sp.Skeleton).setCompleteListener(function(){r.removeFromParent(),t&&t(),n.spine_footer.active=!0,n.spine_footer.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),n.spine_footer.getComponent(sp.Skeleton).setCompleteListener(function(){n.spine_footer.active=!1})})},getSymbolByIndex:function(e){for(var t=0,n=e+1,o=2;o<6;o++){if(!(n>o))break;n-=o,t++}return this._grups[t]._reels[n-1].GetSymbolByRow(0)},getAngle:function(e,t){var n=e.convertToWorldSpaceAR(cc.v2(0,0)),o=t.convertToWorldSpaceAR(cc.v2(0,0)),i=n.x-o.x,a=n.y-o.y,s=180*Math.atan(i/a)/Math.PI;return a<0&&(s=i<0?180+Math.abs(s):180-Math.abs(s)),-s},getDistance:function(e,t){var n=e.convertToWorldSpaceAR(cc.v2(0,0)),o=t.convertToWorldSpaceAR(cc.v2(0,0));return Math.abs(n.sub(o).mag())},playJpTitle:function(e,t){var n=this.jpNodes[e-1],o=n.getChildByName("spineTitle1");t?o.getComponent(sp.Skeleton).setAnimation(0,"animation"+(6-e),!0):o.getComponent(sp.Skeleton).setAnimation(0,"animation"+(6-e)+"_1",!1);var i=n.getChildByName("spineTitle2");t?i.getComponent(sp.Skeleton).setAnimation(0,"animation"+(6-e),!0):i.getComponent(sp.Skeleton).setAnimation(0,"animation"+(6-e)+"_1",!1)},playJpFlash:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,i,a,s,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.jpNodes[e-1],(i=cc.find("towin",o)).active=!0,(a=cc.find("light1",i)).active=!0,(s=cc.find("light2",i)).active=!0,(r=cc.find("end",i)).active=!1,a.active=!0,s.active=!0,s.getComponent(sp.Skeleton).setCompleteListener(function(){a.active=!1,s.active=!1,s.getComponent(sp.Skeleton).setCompleteListener(null)}),n.next=14,SlotsFacade.delayTime(.5);case 14:t.showJiLi(e),r.active=!0,r.getComponent(sp.Skeleton).setCompleteListener(function(){r.active=!1,r.getComponent(sp.Skeleton).setCompleteListener(null)});case 17:case"end":return n.stop()}},n)}))()},playWinJackPotEffect:function(e){var t=this.jpNodes[e-1],n=cc.find("winJackpot",t);n.active=!0;var o=n.getComponent(sp.Skeleton);o.setCompleteListener(function(){n.active=!1,o.setCompleteListener(null)})},showWinJackPot:function(e){cc.find("Canvas/safe_node/LMSlots_PrizePool_1/prizePool_"+a[e-1]+"/spine").active=!0},hideWinJackPot:function(){for(var e=0;e<5;e++){cc.find("Canvas/safe_node/LMSlots_PrizePool_1/prizePool_"+a[e]+"/spine").active=!1}},playJpWhiteFrame:function(e,t){var n=cc.find("panel/spine_win_board",this.node);n.getComponent(sp.Skeleton).setAnimation(0,"animation"+(6-e),!0),n.active=t},run:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=SlotsFacade.dm.bonusData,e.showRestCnt(n.restCnt-1),e.startMove(),SlotsFacade.dm.reqSubGame({rtype:2});case 4:case"end":return t.stop()}},t)}))()},onSpin:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,i,a,s,r,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t._data.respData=e.data,SlotsFacade.dm.bonusData=e.data.epicInfo,n.next=4,SlotsFacade.delayTime(1);case 4:for(t.setSlotsResult(),o=0,i=.2,SlotsFacade.dm.bonusData.items,a=0;a<t._grups.length;a++)for(s=t._grups[a],r=0;r<s._reels.length;r++)c=s._reels[r],-1==t._data.lastRoundReelsData[s._grupIndex+r]&&(c.StopMove(o),o+=i);t.showAddDelayTime(),t.getJackpotHint(t._firstRoundGroup)&&t.playJpFlash(t._firstRoundGroup);case 11:case"end":return n.stop()}},n)}))()},showAddDelayTime:function(){for(var e=1;e<6;e++)if(this.getJackpotHint(e))for(var t=e-1;t<this._grups.length;t++){this._grups[t].AddDelayTime(2)}},enterGame:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n._callBack=e,t){o.next=4;break}return o.next=4,new Promise(function(e){SlotsFacade.popup.showStartBonus(function(){e()})});case 4:if(Global.SlotsSoundMgr.playBgm("111xjs_Freesound"),n.panel.active=!0,SlotsFacade.mainPanel.charactor.active=!1,SlotsFacade.mainPanel.slots.active=!1,n._initData(),n._data.lastRoundReelsData=SlotsFacade.dm.bonusData.items.concat(),n._initView(t),!t){o.next=18;break}return n._hintList=SlotsFacade.dm.bonusData.hintList,o.next=15,SlotsFacade.delayTime(.5);case 15:n.run(),o.next=22;break;case 18:return n._hintList=[],o.next=21,n.playShowAni();case 21:n.run();case 22:case"end":return o.stop()}},o)}))()},playShowAni:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,i,a,s,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(SlotsFacade.soundMgr.playEffect("reel_raise"),n=0;n<3;n++)cc.tween(e.jpNodes[n]).to(.5,{y:e.posArr[n].y}).delay(.15).start();return t.next=4,SlotsFacade.delayTime(.7);case 4:return e.jpNodes[3].y=e.posArr[3].y,t.next=7,SlotsFacade.delayTime(.1);case 7:for(o=.15,i=0;i<e.jpNodes.length;i++)for(a=e.jpNodes[i],cc.tween(a).delay(o*i).call(function(){SlotsFacade.soundMgr.playEffect("map_close")}).to(.3,{scale:1.2}).to(.2,{scale:1}).start(),s=0;s<2;s++)(r=a.getChildByName("spineTitle"+(s+1))).getComponent(sp.Skeleton).setAnimation(0,"animation"+(5-i),!1),r.getComponent(sp.Skeleton).addAnimation(0,"animation"+(5-i)+"_1",!1);return t.next=11,SlotsFacade.delayTime(1);case 11:case"end":return t.stop()}},t)}))()},exitGame:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return SlotsFacade.mainPanel.showSceneTransition(1,i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(e){SlotsFacade.slots.ShowBottomWin(SlotsFacade.bottomCmp.getCurrentWin(),SlotsFacade.bottomCmp.getCurrentWin(),!0,e)});case 2:e._callBack&&e._callBack();case 3:case"end":return t.stop()}},t)}))),t.next=3,SlotsFacade.delayTime(.5);case 3:e.hideWinJackPot(),Global.SlotsSoundMgr.playNormalBgm(!0),e.panel.active=!1,SlotsFacade.mainPanel.charactor.active=!0,SlotsFacade.mainPanel.slots.active=!0;case 8:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{}],Interstellar_BonusGrup:[function(e,t,n){"use strict";cc._RF.push(t,"bcf70BmdiBLwoC962LPXCJq","Interstellar_BonusGrup"),cc.Class({extends:cc.Component,properties:{reelNodes:{default:[],type:cc.Node},_reels:[],_grupIndex:0,_grupCol:0,_endMoveIdx:0,_onGrupChange:null},onDestroy:function(){},onLoad:function(){},_getRandomSymbol:function(){var e=[1,2,4,5,6,7,8,9,10,11,12,13];return e[Global.random(1,e.length)-1]},initData:function(e,t,n,o){this._grupIndex=n,this._grupCol=o;for(var i=0;i<this.reelNodes.length;i++){var a=this.reelNodes[i];a.getChildByName("spine_tip").active=!1;var s=a.addComponent("Interstellar_BonusReel");s.Init(this._grupIndex+i,1,e),s.setHandler(this.onReelSpinEnd.bind(this)),this._reels.push(s)}this._onGrupChange=t},initView:function(){for(var e=SlotsFacade.dm.bonusData,t=0;t<this._reels.length;t++){var n=this._reels[t]._symbols[0];n.StartMove();var o=e.items[this._grupIndex+t];o>=0?n.showBonusSymol(SlotsFacade.dm.getGameCfg().bonusId,o):n.ShowById(this._getRandomSymbol())}},onReelSpinEnd:function(e){SlotsFacade.soundMgr.playEffect("stop");var t=e,n=SlotsFacade.dm.getGameCfg().bonusId,o=this._reels[t-this._grupIndex].GetSymbolByRow(0);o.GetShowId()==n&&o.playBonusSymbol(),this._endMoveIdx===e-this._grupIndex&&(this._onGrupChange&&this._onGrupChange(this._grupCol),this.hideJL())},setSlotsResult:function(){for(var e=SlotsFacade.dm.bonusData,t=0;t<this._reels.length;t++){var n=this._reels[t],o=e.items[this._grupIndex+t];-1==o?n.SetResult([{sid:this._getRandomSymbol(),data:0}]):n.SetResult([{sid:SlotsFacade.dm.getGameCfg().bonusId,data:o}])}},startMove:function(){for(var e=SlotsFacade.bonusGame._data.lastRoundReelsData,t=!1,n=0;n<this._reels.length;n++){var o=this._reels[n];-1==e[this._grupIndex+n]&&(o.StartMove(),t=!0,this._endMoveIdx=n)}return t},AddDelayTime:function(e){for(var t=0;t<this._reels.length;t++){var n=this._reels[t];n._bMoving&&n.AddDelayTime(e)}},showJL:function(e){var t=this._reels[e-this._grupIndex-1].node.getChildByName("spine_tip");t.active=!0,t.getComponent(sp.Skeleton).setAnimation(0,"animation1",!0)},hideJL:function(){for(var e=0;e<this._reels.length;e++){this._reels[e].node.getChildByName("spine_tip").active=!1}}}),cc._RF.pop()},{}],Interstellar_BonusReel:[function(e,t,n){"use strict";cc._RF.push(t,"e906dcv8ERD3o/CtT8PYRZ+","Interstellar_BonusReel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{handler:null,reelScale:1},onLoad:function(){this._super(),this.isLoaded=!0,this._nCount&&this.Init(this._reelIdx,this._nCount,this._topAniNode)},onDestroy:function(){this.handler=null},Init:function(e,t,n){this._reelIdx=e,this._nCount=t,this._symbols=[],this._topAniNode=n,this._cfg=cc.vv.gameData.getGameCfg(),this.isLoaded&&(this.LoadSymbols(),this.ShowAntiEffect(!1))},CreateOneSymbol:function(){this._super();var e=this._symbols[this._symbols.length-1];e.node.scale=this.reelScale,e.isEpic=!0,e._nodeScale=this.reelScale,e.showColor()},setHandler:function(e){this.handler=e},OnReelSpinEnd:function(){this.ShowAntiEffect(!1),this.notifyEvt(this._reelIdx)},notifyEvt:function(e){this.handler&&this.handler(e)}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Interstellar_Cfg:[function(e,t,n){"use strict";var o;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"48389i5rQxJBIvU41awPw4/","Interstellar_Cfg");var a={symbol:(o={},i(o,1,{node:"s1",win_node:"w1",win_ani:{name:"animation",zIndex:300}}),i(o,2,{node:"s2",win_node:"w2",win_ani:{name:"animation",zIndex:300}}),i(o,3,{node:"s3",win_node:"",win_ani:{name:"animation4",zIndex:300},stop_ani:{name:"animation4",zIndex:200}}),i(o,4,{node:"s4",win_node:"w4",win_ani:{name:"animation",zIndex:300}}),i(o,5,{node:"s5",win_node:"w5",win_ani:{name:"animation",zIndex:300}}),i(o,6,{node:"s6",win_node:"w6",win_ani:{name:"animation",zIndex:300}}),i(o,7,{node:"s7",win_node:"w7",win_ani:{name:"animation",zIndex:300}}),i(o,8,{node:"s8",win_node:"w8",win_ani:{name:"animation",zIndex:300}}),i(o,9,{node:"s9",win_node:"w9",win_ani:{name:"animation",zIndex:300}}),i(o,10,{node:"s10",win_node:"w10",win_ani:{name:"animation",zIndex:300}}),i(o,11,{node:"s11",win_node:"w11",win_ani:{name:"animation",zIndex:300}}),i(o,12,{node:"s12",win_node:"w12",win_ani:{name:"animation",zIndex:300}}),i(o,13,{node:"s13",win_node:"w13",win_ani:{name:"animation",zIndex:300}}),o),scatterId:2,bonusId:3,scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"Interstellar_Slots",Reels:"Interstellar_Reel",Symbols:"Interstellar_symbol"},col:20,row:4,symbolPrefab:"LMSlots_Symbol",symbolSize:{height:100},helpItems:["games/Interstellar/prefab/LMSlots_Help_item1","games/Interstellar/prefab/LMSlots_Help_item2","games/Interstellar/prefab/LMSlots_Help_item3","games/Interstellar/prefab/LMSlots_Help_item4"],randomSymbols:[1,2,3,4,5,6,7,8,9,10,11,12,13],kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,autoModelDelay:1,AddAntiTime:2,bounceInfo:{distance:20,time:.1},reelStateInfo:[{id:[2],mini:3,counts:[4,4,4,4,4],antiNode:"node_anti",path:"games/Interstellar/",reelStopSound:"stop",symbolStopSound:"bonus_land",antSound:"anticipation",antSpeed:2400}],normalBgm:"xjpzFX_looperman",commEffect:{path:"games/Interstellar/",win1:["win1"],win2:["win2"]},isWild:function(e){return 1==e},isEnergyId:function(e){return 2==e||3==e},mapCfg:{1:{id:1,type:1,iconSpineName:"animation1",dockerDir:-1},2:{id:2,type:2,iconSpineName:"animation2",dockerDir:-1},3:{id:3,type:1,iconSpineName:"animation1",dockerDir:1},4:{id:4,type:3,iconSpineName:"animation3",slot:{cnt:2,wilds:[1]},dockerDir:1},5:{id:5,type:1,iconSpineName:"animation1",dockerDir:1},6:{id:6,type:1,iconSpineName:"animation1",dockerDir:1},7:{id:7,type:2,iconSpineName:"animation2",dockerDir:1},8:{id:8,type:1,iconSpineName:"animation1",dockerDir:-1},9:{id:9,type:3,iconSpineName:"animation3",slot:{cnt:2,wilds:[3,5]},dockerDir:-1},10:{id:10,type:1,iconSpineName:"animation1",dockerDir:-1},11:{id:11,type:1,iconSpineName:"animation1",dockerDir:-1},12:{id:12,type:3,iconSpineName:"animation4",slot:{cnt:3,wilds:[3,4]},dockerDir:1},13:{id:13,type:1,iconSpineName:"animation1",dockerDir:1},14:{id:14,type:1,iconSpineName:"animation1",dockerDir:1},15:{id:15,type:2,iconSpineName:"animation2",dockerDir:-1},16:{id:16,type:1,iconSpineName:"animation1",dockerDir:-1},17:{id:17,type:1,iconSpineName:"animation1",dockerDir:-1},18:{id:18,type:3,iconSpineName:"animation5",slot:{cnt:4,wilds:[2,5]},dockerDir:1},19:{id:19,type:1,iconSpineName:"animation1",dockerDir:1},20:{id:20,type:2,iconSpineName:"animation2",dockerDir:1},21:{id:21,type:1,iconSpineName:"animation1",dockerDir:-1},22:{id:22,type:3,iconSpineName:"animation3",slot:{cnt:2,wilds:[1,3,5]},dockerDir:-1},23:{id:23,type:1,iconSpineName:"animation1",dockerDir:-1},24:{id:24,type:1,iconSpineName:"animation1",dockerDir:-1},25:{id:25,type:3,iconSpineName:"animation3",slot:{cnt:2,wilds:[1,5]},dockerDir:1},26:{id:26,type:1,iconSpineName:"animation1",dockerDir:1},27:{id:27,type:1,iconSpineName:"animation1",dockerDir:1},28:{id:28,type:2,iconSpineName:"animation2",dockerDir:-1},29:{id:29,type:1,iconSpineName:"animation1",dockerDir:-1},30:{id:30,type:1,iconSpineName:"animation1",dockerDir:-1},31:{id:31,type:3,iconSpineName:"animation5",slot:{cnt:4,wilds:[2,5]},dockerDir:1},32:{id:32,type:1,iconSpineName:"animation1",dockerDir:1},33:{id:33,type:2,iconSpineName:"animation2",dockerDir:1},34:{id:34,type:1,iconSpineName:"animation1",dockerDir:-1},35:{id:35,type:3,iconSpineName:"animation4",slot:{cnt:3,wilds:[1,3,5]},dockerDir:-1},36:{id:36,type:1,iconSpineName:"animation1",dockerDir:-1},37:{id:37,type:1,iconSpineName:"animation1",dockerDir:-1},38:{id:38,type:2,iconSpineName:"animation2",dockerDir:-1},39:{id:39,type:1,iconSpineName:"animation1",dockerDir:1},40:{id:40,type:3,iconSpineName:"animation4",slot:{cnt:3,wilds:[3,4]},dockerDir:1},41:{id:41,type:1,iconSpineName:"animation1",dockerDir:1},42:{id:42,type:2,iconSpineName:"animation2",dockerDir:1},43:{id:43,type:1,iconSpineName:"animation1",dockerDir:-1},44:{id:44,type:3,iconSpineName:"animation4",slot:{cnt:3,wilds:[2,4]},dockerDir:-1},45:{id:45,type:1,iconSpineName:"animation1",dockerDir:-1},46:{id:46,type:2,iconSpineName:"animation2",dockerDir:-1},47:{id:47,type:1,iconSpineName:"animation1",dockerDir:1},48:{id:48,type:3,iconSpineName:"animation5",slot:{cnt:4,wilds:[1]},dockerDir:1},49:{id:49,type:1,iconSpineName:"animation1",dockerDir:1},50:{id:50,type:1,iconSpineName:"animation1",dockerDir:1},51:{id:51,type:2,iconSpineName:"animation2",dockerDir:-1},52:{id:52,type:1,iconSpineName:"animation1",dockerDir:-1},53:{id:53,type:3,iconSpineName:"animation5",slot:{cnt:4,wilds:[2,4]},dockerDir:-1},54:{id:54,type:1,iconSpineName:"animation1",dockerDir:-1},55:{id:55,type:1,iconSpineName:"animation1",dockerDir:-1},56:{id:56,type:3,iconSpineName:"animation3",slot:{cnt:2,wilds:[1,2,3]},dockerDir:1},57:{id:57,type:1,iconSpineName:"animation1",dockerDir:1},58:{id:58,type:1,iconSpineName:"animation1",dockerDir:1},59:{id:59,type:1,iconSpineName:"animation1",dockerDir:-1},60:{id:60,type:2,iconSpineName:"animation2",dockerDir:-1},61:{id:61,type:1,iconSpineName:"animation1",dockerDir:-1},62:{id:62,type:3,iconSpineName:"animation4",slot:{cnt:3,wilds:[3,4]},dockerDir:1},63:{id:63,type:1,iconSpineName:"animation1",dockerDir:1},64:{id:64,type:2,iconSpineName:"animation2",dockerDir:1},65:{id:65,type:1,iconSpineName:"animation1",dockerDir:-1},66:{id:66,type:3,iconSpineName:"animation4",slot:{cnt:3,wilds:[1,2,3]},dockerDir:-1},67:{id:67,type:1,iconSpineName:"animation1",dockerDir:-1},68:{id:68,type:1,iconSpineName:"animation1",dockerDir:-1},69:{id:69,type:3,iconSpineName:"animation3",slot:{cnt:2,wilds:[2,5]},dockerDir:1},70:{id:70,type:1,iconSpineName:"animation1",dockerDir:1},71:{id:71,type:1,iconSpineName:"animation1",dockerDir:1},72:{id:72,type:2,iconSpineName:"animation2",dockerDir:-1},73:{id:73,type:1,iconSpineName:"animation1",dockerDir:-1},74:{id:74,type:1,iconSpineName:"animation1",dockerDir:-1},75:{id:75,type:3,iconSpineName:"animation4",slot:{cnt:3,wilds:[3,5]},dockerDir:1},76:{id:76,type:1,iconSpineName:"animation1",dockerDir:1},77:{id:77,type:2,iconSpineName:"animation2",dockerDir:1},78:{id:78,type:1,iconSpineName:"animation1",dockerDir:-1},79:{id:79,type:3,iconSpineName:"animation4",slot:{cnt:3,wilds:[2,4]},dockerDir:-1},80:{id:80,type:1,iconSpineName:"animation1",dockerDir:-1},81:{id:81,type:1,iconSpineName:"animation1",dockerDir:-1},82:{id:82,type:2,iconSpineName:"animation2",dockerDir:-1},83:{id:83,type:1,iconSpineName:"animation1",dockerDir:1},84:{id:84,type:3,iconSpineName:"animation5",slot:{cnt:4,wilds:[1,5]},dockerDir:1},85:{id:85,type:1,iconSpineName:"animation1",dockerDir:1},86:{id:86,type:2,iconSpineName:"animation2",dockerDir:1},87:{id:87,type:1,iconSpineName:"animation1",dockerDir:-1},88:{id:88,type:3,iconSpineName:"animation4",slot:{cnt:3,wilds:[1,2,3]},dockerDir:-1},89:{id:89,type:1,iconSpineName:"animation1",dockerDir:-1},90:{id:90,type:2,iconSpineName:"animation2",dockerDir:-1},91:{id:91,type:1,iconSpineName:"animation1",dockerDir:1},92:{id:92,type:3,iconSpineName:"animation5",slot:{cnt:4,wilds:[3,4]},dockerDir:1},93:{id:93,type:1,iconSpineName:"animation1",dockerDir:1},94:{id:94,type:1,iconSpineName:"animation1",dockerDir:1},95:{id:95,type:1,iconSpineName:"animation1",dockerDir:-1},96:{id:96,type:2,iconSpineName:"animation2",dockerDir:-1},97:{id:97,type:1,iconSpineName:"animation1",dockerDir:-1},98:{id:98,type:1,iconSpineName:"animation1",dockerDir:-1},99:{id:99,type:1,iconSpineName:"animation1",dockerDir:1},100:{id:100,type:3,iconSpineName:"animation5",slot:{cnt:4,wilds:[2,3,4,5]},dockerDir:1}}};t.exports=a,cc._RF.pop()},{}],Interstellar_CollectProgress:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var s=e.apply(t,n);function r(e){o(s,i,a,r,c,"next",e)}function c(e){o(s,i,a,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"6b057cSw7tGcrvxygJHhwql","Interstellar_CollectProgress"),cc.Class({extends:cc.Component,properties:{icon_energy:cc.Node,btn_enter:cc.Node,progressBar:cc.Node,spine_collect_lock:sp.Skeleton,spine_full:sp.Skeleton,collect_track_particle:cc.Node,_isOpen:!1},onLoad:function(){this._initListener()},start:function(){var e=this;this.scheduleOnce(function(){e._init()})},_initListener:function(){var e=this;Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,function(){e.showCollect(!1)},this),this.btn_enter.on(cc.Node.EventType.TOUCH_END,this._onEnterHandler.bind(this),this),this.progressBar.on(cc.Node.EventType.TOUCH_END,function(){e._isOpen||e._openCollect()},this)},_init:function(){this.setProgress(SlotsFacade.dm.getCollectPercent()),this.updateTailSpine(),this.showCollect(!0)},_onEnterHandler:function(){SlotsFacade.dm.hasFree()||SlotsFacade.bottomCmp.GetSpinBtnState()&&(SlotsFacade.soundMgr.playEffect("btn_click"),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),SlotsFacade.map.enterMap(!0,function(){SlotsFacade.bottomCmp.ShowBtnsByState("idle")}))},updateTailSpine:function(){var e=SlotsFacade.dm.energyData.nextId,t=SlotsFacade.dm.getGameCfg().mapCfg[e.toString()];if(t){var n=this.btn_enter.getChildByName("spine").getComponent(sp.Skeleton),o=t.iconSpineName;n.setAnimation(0,o,!0)}else console.log("#Err#collectProgress#updateTailSpine",e)},_openCollect:function(){if(!this._isOpen&&!SlotsFacade.dm.hasFree()&&SlotsFacade.bottomCmp.GetSpinBtnState()){var e=SlotsFacade.dm.GetBetMults(),t=SlotsFacade.dm.getDeskInfo().needBet;if(!(t>e.length)){SlotsFacade.dm.SetBetIdx(t),SlotsFacade.bottomCmp.ShowBetCoin();var n=cc.vv.gameData.GetTotalBet();Global.dispatchEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,n)}}},collectEnergy:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){var i,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return SlotsFacade.soundMgr.playEffect("map_collect"),i=n.icon_energy.getPosition(),a=[],e.forEach(function(e){var t=n.node.convertToNodeSpaceAR(e),o=cc.instantiate(n.collect_track_particle);o.parent=n.node,o.x=t.x,o.y=t.y,o.active=!0,o.getComponent(cc.ParticleSystem).resetSystem(),a.push(new Promise(function(e){cc.tween(o).to(.5,{x:i.x,y:i.y}).call(function(){o.removeFromParent(),e()}).start()}))}),o.next=6,Promise.all(a);case 6:n._playHeadSpine(),n.setProgress(t,!0);case 8:case"end":return o.stop()}},o)}))()},_playHeadSpine:function(){this.icon_energy.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"animation",!1)},showCollect:function(e){var t=SlotsFacade.dm.canCollect();t?this._isOpen||(this.spine_collect_lock.node.active=!0,SlotsFacade.soundMgr.playEffect("collect_unlock"),this.spine_collect_lock.setAnimation(0,"animation2",!1)):e?(this.spine_collect_lock.node.active=!0,this.spine_collect_lock.setAnimation(0,"animation1",!1)):this._isOpen&&(this.spine_collect_lock.node.active=!0,SlotsFacade.soundMgr.playEffect("collect_lock"),this.spine_collect_lock.setAnimation(0,"animation1",!1)),this._isOpen=t},playCollectComplete:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.spine_full.node.active=!0,SlotsFacade.soundMgr.playEffect("map_full"),t.next=4,new Promise(function(t){e.spine_full.setAnimation(0,"animation3",!1),e.spine_full.setCompleteListener(function(){e.spine_full.setCompleteListener(null),t()})});case 4:case"end":return t.stop()}},t)}))()},setProgress:function(e,t){var n=this.progressBar.width,o=e*n-n,i=this.progressBar.getChildByName("bar"),a=cc.find("spine",i);a.active=!0,a.getComponent(sp.Skeleton).setCompleteListener(function(){a.active=!1,a.getComponent(sp.Skeleton).setCompleteListener(null)}),t?cc.tween(i).to(.5,{x:o}).start():i.x=o},setEnterEnable:function(e){this.btn_enter.getComponent(cc.Button).enabled=e}}),cc._RF.pop()},{}],Interstellar_FlowCtrl:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var s=e.apply(t,n);function r(e){o(s,i,a,r,c,"next",e)}function c(e){o(s,i,a,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"25756LhsjxBoLN8ZKCIHUlU","Interstellar_FlowCtrl"),cc.Class({extends:cc.Component,enterRoom:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=cc.vv.gameData.GetTotalFree(),(o=cc.vv.gameData.GetFreeTime())>0&&(SlotsFacade.bottomCmp.ShowFreeModel(!0,n-o,n),SlotsFacade.bottomCmp.node.getChildByName("totalBetBg").active=!1,i=cc.vv.gameData.GetTotalFreeWin(),SlotsFacade.bottomCmp.SetWin(i),SlotsFacade.mainPanel.showBg(2),SlotsFacade.soundMgr.playFreeBgm()),1!=SlotsFacade.dm.energyData.state){t.next=6;break}return t.next=6,e.enterCollectGame();case 6:if(!SlotsFacade.dm.bonusData){t.next=9;break}return t.next=9,e.enterBonusGame(!0);case 9:SlotsFacade.slots.CanDoNextRound();case 10:case"end":return t.stop()}},t)}))()},spinEnd:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collectEnergy();case 2:return SlotsFacade.slots.ShowWinTrace(),n=cc.vv.gameData.GetGameWin(),o=n,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(o=cc.vv.gameData.GetGameTotalFreeWin()),t.next=8,new Promise(function(e){SlotsFacade.slots.ShowBottomWin(n,o,!0,e)});case 8:return t.next=10,SlotsFacade.delayTime(.5);case 10:return t.next=12,e.enterCollectGame();case 12:return t.next=14,e.enterBonusGame();case 14:if(!SlotsFacade.dm.isTriggerFree()){t.next=27;break}return t.next=17,SlotsFacade.popup.showWinFreeCnt(SlotsFacade.dm.triggerFreeCnt(),SlotsFacade.dm.isFistTriggerFree());case 17:if(!SlotsFacade.dm.isFistTriggerFree()){t.next=22;break}return SlotsFacade.mainPanel.showSceneTransition(2),t.next=21,SlotsFacade.delayTime(.8);case 21:e.enterFreeGame();case 22:return t.next=24,SlotsFacade.delayTime(1);case 24:SlotsFacade.slots.CanDoNextRound(),t.next=47;break;case 27:if(!cc.vv.gameData.hasFree()){t.next=31;break}SlotsFacade.slots.CanDoNextRound(),t.next=47;break;case 31:if(!cc.vv.gameData.isLastEndFree()){t.next=45;break}return SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),t.next=35,SlotsFacade.popup.showWinFreeGold(SlotsFacade.dm.getFreeWinCoin());case 35:return SlotsFacade.mainPanel.showSceneTransition(2),t.next=38,SlotsFacade.delayTime(.5);case 38:return e.enterNormalGame(),t.next=41,SlotsFacade.delayTime(.5);case 41:SlotsFacade.bottomCmp.ShowBtnsByState("idle"),SlotsFacade.slots.CanDoNextRound(),t.next=47;break;case 45:SlotsFacade.collectProgress.setEnterEnable(!0),SlotsFacade.slots.CanDoNextRound();case 47:case"end":return t.stop()}},t)}))()},enterFreeGame:function(){return i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return SlotsFacade.topCmp.SetBackLobby(!1),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),SlotsFacade.mainPanel.showBg(2),SlotsFacade.soundMgr.playFreeBgm(),SlotsFacade.slots.changeSlots(),SlotsFacade.bottomCmp.node.getChildByName("totalBetBg").active=!1,e.next=8,SlotsFacade.delayTime(3.5);case 8:case"end":return e.stop()}},e)}))()},enterNormalGame:function(){SlotsFacade.collectProgress.setEnterEnable(!0),SlotsFacade.bottomCmp.ShowFreeModel(!1),SlotsFacade.mainPanel.showBg(0),Global.SlotsSoundMgr.playNormalBgm(),SlotsFacade.slots.clearFreeSymbols(),SlotsFacade.slots.changeSlots(),SlotsFacade.bottomCmp.node.getChildByName("totalBetBg").active=!0},collectEnergy:function(){return i(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=SlotsFacade.dm.energyData.progressData)||!t.currCnt){e.next=7;break}return n=SlotsFacade.slots.getSymbolsByServerIds(SlotsFacade.dm.getCollectSymbolIndexs()),o=[],n.forEach(function(e){o.push(e.node.convertToWorldSpaceAR(cc.v2(0,0)))}),e.next=7,SlotsFacade.collectProgress.collectEnergy(o,SlotsFacade.dm.getCollectPercent());case 7:case"end":return e.stop()}},e)}))()},enterCollectGame:function(){return i(regeneratorRuntime.mark(function e(){var t,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(1==(t=SlotsFacade.dm.energyData).state||2==t.state&&SlotsFacade.dm.isFistTriggerFree())){e.next=15;break}return SlotsFacade.topCmp.SetBackLobby(!1),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),e.next=6,SlotsFacade.collectProgress.playCollectComplete();case 6:return e.next=8,new Promise(function(e){SlotsFacade.collectProgress.setProgress(0),SlotsFacade.collectProgress.updateTailSpine(0),SlotsFacade.map.enterMap(!1,e)});case 8:if(!(n=e.sent).winCoin){e.next=15;break}return o=n.winCoin,i=cc.vv.gameData.GetBottomScript().getCurrentWin(),i+=n.winCoin,e.next=15,new Promise(function(e){SlotsFacade.slots.ShowBottomWin(o,i,!0,e)});case 15:case"end":return e.stop()}},e)}))()},enterBonusGame:function(e){return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(SlotsFacade.dm.bonusData){t.next=2;break}return t.abrupt("return");case 2:if(SlotsFacade.topCmp.SetBackLobby(!1),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),e){t.next=7;break}return t.next=7,SlotsFacade.slots.playScatter(SlotsFacade.dm.getBonusIndexs());case 7:return t.next=9,new Promise(function(t){SlotsFacade.bonusGame.enterGame(t,e)});case 9:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{}],Interstellar_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"ecce3Vwi/5AjbK/84HgIxBM","Interstellar_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{energyData:null,bonusData:null},init:function(e,t,n){this._super(e,t,n),this.energyData=this._deskInfo.mapInfo,this.bonusData=this._deskInfo.epicInfo},RegisterMsg:function(){this._super(),cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onResp,this)},UnregisterMsg:function(){this._super(),cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onResp,!1,this)},OnRcvNetSpine:function(e){this._super(e),200==e.code&&(this.energyData=e.mapInfo,this.bonusData=e.epicInfo)},SetSubGameData:function(e){this._subGame=e},GetSubGameData:function(){return this._subGame},getSpinData:function(){return this._gameInfo},processResultCards:function(e){for(var t=e.concat(),n=this.getGameCfg(),o={1:2001,101:2101,102:2102},i=0;i<e.length;i++){var a=e[i];if(n.isWild(a)){var s=Math.floor(i/5),r=!1,c=!1;r=0!=s&&n.isWild(e[i-5]),c=7!=s&&n.isWild(e[i+5]),0==s?c&&(t[i]=o[a]):r&&(t[i]=o[a])}}return t},getSlotsCnt:function(){return 2==this.energyData.state?this.getGameCfg().mapCfg[this.energyData.currId.toString()].slot.cnt:1},getAdventureInSpace:function(){return this._gameInfo?this._gameInfo.AdventureInSpace:this._deskInfo.AdventureInSpace},hasFree:function(){return this.GetFreeTime()>0},isTriggerFree:function(){return this.triggerFreeCnt()>0},triggerFreeCnt:function(){var e=this._gameInfo.freeResult;return e&&e.triFreeCnt&&e.freeInfo&&e.freeInfo.freeCnt?e.freeInfo.freeCnt:0},isFistTriggerFree:function(){return this.hasFree()&&this.GetFreeTime()==this.GetTotalFree()},isLastEndFree:function(){return 0==this.GetFreeTime()&&this.GetTotalFree()>0},getFreeWinCoin:function(){return this._gameInfo.freeWinCoin},getScatterIndexs:function(){return this.triggerFreeCnt()>0?this._gameInfo.freeResult.freeInfo.scatterIdx.concat():[]},getBonusIndexs:function(){if(!this.bonusData)return[];for(var e=[],t=this.getGameCfg().scatterId,n=this.getSpinData().resultCards,o=0;o<n.length;o++){n[o]==t&&e.push(o+1)}return e},getMinCollectBet:function(){},getCollectPercent:function(){if(!this.energyData||!this.energyData.progressData)return 0;var e=this.energyData.progressData.totalCnt/this.energyData.progressData.needCnt;return e=Math.min(1,e),e=Math.max(0,e)},getCollectSymbolIndexs:function(){var e=this,t=this._gameInfo.resultCards;if(!t||t.length<1)return[];var n=[];return t.forEach(function(t,o){e.getGameCfg().isEnergyId(t)&&n.push(o+1)}),n},canCollect:function(){return this.GetBetIdx()>=this.getDeskInfo().needBet},reqSubGame:function(e){var t={c:MsgId.SLOT_SUBGAME_DATA,gameid:this._gameId,data:e};cc.vv.NetManager.send(t,!0)},onResp:function(e){console.log("reqSubGame-resp:",e),2===e.data.rtype?SlotsFacade.bonusGame.onSpin(e):SlotsFacade.map._mapWheel.onSpinWheel(e)},getColCards:function(e){for(var t=this._gameInfo.resultCards,n=[],o=0;o<4;o++)n.push(t[e+5*o]);return n}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],Interstellar_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"4968fUJMqdLiIBK9rnqsfTw","Interstellar_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},onLoad:function(){var e=this;window.SlotsFacade=this,this.dm=cc.vv.gameData,this.mainPanel=cc.find("safe_node",this.node).addComponent("Interstellar_MainPanel"),this.soundMgr=this.addComponent("Interstellar_Sound"),this.InitCommComponent(),this.flowCtrl=this.addComponent("Interstellar_FlowCtrl"),this.popup=this.mainPanel.popup_node.addComponent("Interstellar_Popup"),this.collectProgress=this.mainPanel.collect_progress.getComponent("Interstellar_CollectProgress"),this.map=this.mainPanel.map_game_node.addComponent("Interstellar_Map"),this.bonusGame=this.mainPanel.bonus_game_node.getComponent("Interstellar_BonusGame"),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,function(){e.collectProgress.showCollect()},this),this.topCmp=cc.vv.gameData.GetTopScript(),this.bottomCmp=cc.vv.gameData.GetBottomScript(),this.slots=cc.vv.gameData.GetSlotsScript()},onDestroy:function(){window.SlotsFacade=null,this.dm=null},delayTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Interstellar_MainPanel:[function(e,t,n){"use strict";cc._RF.push(t,"b684cRsRzNH3KDRb8d2xT8W","Interstellar_MainPanel"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.bg=this.node.getChildByName("bg"),this.slots=this.node.getChildByName("slots"),this.charactor=this.node.getChildByName("xingjichuanyue"),this.popup_node=this.node.getChildByName("popup_node"),this.collect_progress=this.slots.getChildByName("collect_progress"),this.map_game_node=this.node.getChildByName("map_game_node"),this.bonus_game_node=this.node.getChildByName("bonus_game_node"),this.transition_node=this.node.getChildByName("transition_node"),this.jpNode=this.node.getChildByName("LMSlots_PrizePool_1"),this.top_node=this.node.getChildByName("top_node"),this.showBg(0)},showBg:function(e){e||(e=0),this.bg.getComponent("ImgSwitchCmp").setIndex(e),this.charactor.active=0==e,this.jpNode.active=2!=e,this.collect_progress.active=0==e},showSceneTransition:function(e,t){var n=this.transition_node.getChildByName("spine_"+e).getComponent(sp.Skeleton);n.node.active=!0,1==e?(SlotsFacade.soundMgr.playEffect("bonus1"),n.setAnimation(0,"skill",!1)):2==e&&(SlotsFacade.soundMgr.playEffect("map1"),n.setAnimation(0,"animation1",!1)),n.setCompleteListener(function(){n.setCompleteListener(null),n.node.active=!1,t&&t()})}}),cc._RF.pop()},{}],Interstellar_MapWheel:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var s=e.apply(t,n);function r(e){o(s,i,a,r,c,"next",e)}function c(e){o(s,i,a,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"bb11en3ptlFkb5E8JG58rWo","Interstellar_MapWheel"),cc.Class({extends:cc.Component,properties:{roundCount:10,_data:null,_callBack:null,wheel:cc.Node,bg:cc.Node,board:cc.Node,btn_spin:cc.Node,spine_btn_spin:sp.Skeleton,spine_fire:sp.Skeleton,spine_win:sp.Skeleton,spine_wheel_bg:sp.Skeleton,label_start_prize:cc.Label,spine_down:sp.Skeleton,spine_icon_arrow:sp.Skeleton,switchUis:[cc.Node]},_getRotation:function(e){var t=360*-this.roundCount;return t+=[0,-300,-240,-180,-120,-60][e]},onLoad:function(){this._initListener()},_initListener:function(){this.btn_spin.on("click",this._onStartWheelHandler.bind(this),this)},_onStartWheelHandler:function(){this.btn_spin.getComponent(cc.Button).interactable=!1,SlotsFacade.soundMgr.playEffect("spin_button"),SlotsFacade.dm.reqSubGame({rtype:1})},onSpinWheel:function(e){e.data&&(this._data.freeCnt=e.data.freeCnt,this._data.winCoin=e.data.winCoin,this._data.idx=e.data.idx),this._startWheel()},_reset:function(){this.board.angle=0,this.bg.active=!1,this.wheel.active=!1,this.wheel.y=this.wheel.height/2,this.spine_btn_spin.node.active=!1,this.spine_wheel_bg.node.active=!1,this.spine_win.node.active=!1,this.spine_fire.active=!1,this.spine_icon_arrow.node.active=!1,this.label_start_prize.string="",this._data={wheel_type:0,freeCnt:0,winCoin:0,idx:0}},_startWheel:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.spine_btn_spin.node.active=!1,e.spine_fire.node.active=!0,e.spine_wheel_bg.node.active=!0,SlotsFacade.soundMgr.playEffect("wheel_act"),t.next=6,new Promise(function(t){cc.tween(e.board).to(4,{angle:e._getRotation(e._data.idx-1)},{easing:"quartInOut"}).call(function(){e.spine_icon_arrow.node.active=!0,e._data.winCoin,SlotsFacade.soundMgr.playEffect("wheel_collect"),t()}).start()});case 6:return e.spine_fire.node.active=!1,e.spine_wheel_bg.node.active=!1,e.spine_win.node.active=!0,t.next=11,SlotsFacade.delayTime(2);case 11:e._completeWheel();case 12:case"end":return t.stop()}},t)}))()},_completeWheel:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Global.SlotsSoundMgr.stopBgm(),!e._data.winCoin){t.next=6;break}return SlotsFacade.soundMgr.playEffect("jp_collect_popup"),n=SlotsFacade.dm.getGameCfg().mapCfg[SlotsFacade.dm.energyData.currId.toString()],t.next=6,SlotsFacade.popup.showWinWheelGold(e._data.winCoin,n.type);case 6:return t.next=8,e.close();case 8:e._callBack&&e._callBack({freeCnt:e._data.freeCnt,winCoin:e._data.winCoin});case 9:case"end":return t.stop()}},t)}))()},_fresh:function(){var e=this,t=SlotsFacade.dm.getGameCfg().mapCfg[SlotsFacade.dm.energyData.currId.toString()];this._data.wheel_type=t.type,this.switchUis.forEach(function(t){t.getComponent("ImgSwitchCmp").setIndex(e._data.wheel_type-1)}),this.label_start_prize.string=Global.FormatNumToComma(SlotsFacade.dm.energyData.startPrice)},open:function(e){var t=this;this._callBack=e,this.node.active=!0,this._reset(),this.btn_spin.getComponent(cc.Button).interactable=!0,this._fresh(),this.bg.active=!0,this.bg.opacity=1,this.bg.runAction(cc.fadeTo(1,200)),this.wheel.active=!0,this.spine_down.node.active=!0,this.spine_down.setAnimation(0,"animation"+this._data.wheel_type),cc.tween(this.wheel).to(.5,{y:0},{easing:"backOut"}).call(function(){t.spine_down.node.active=!1,SlotsFacade.soundMgr.playBgm("wheel_bgm"),cc.vv.gameData.checkAutoPlay(t.btn_spin,t._onStartWheelHandler.bind(t))}).start(),SlotsFacade.soundMgr.playEffect("wheel_show"),this.spine_btn_spin.node.active=!0,this.spine_btn_spin.setAnimation(0,"animation",!0)},close:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return SlotsFacade.soundMgr.playEffect("wheel_disappear"),t.abrupt("return",new Promise(function(t){cc.tween(e.bg).to(.5,{opacity:0}).call(function(){e.bg.active=!1}).start(),cc.tween(e.wheel).to(.5,{y:e.wheel.height/2},{easing:"backIn"}).call(function(){e.wheel.active=!1,e.node.active=!1,Global.SlotsSoundMgr.playUnLoopBgm("bg_bgm"),t()}).start()}));case 2:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{}],Interstellar_Map:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var s=e.apply(t,n);function r(e){o(s,i,a,r,c,"next",e)}function c(e){o(s,i,a,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"3e467J0SW5MP7JO40u+PJpY","Interstellar_Map");cc.Class({extends:cc.Component,properties:{callBack:null,_mapWheel:null,map_game_node:null,bg:null,btn_close:null,scrollView:null,map_flag:null,mapItems:[],_wheelResp:null},onLoad:function(){this._initView(),this._initListener()},_initView:function(){this.map_game_node=this.node,this._mapWheel=this.map_game_node.getChildByName("map_wheel_node").getComponent("Interstellar_MapWheel"),this.bg=this.map_game_node.getChildByName("bg"),this.btn_close=this.map_game_node.getChildByName("btn_close").getComponent(cc.Button),this.scrollView=this.map_game_node.getChildByName("scrollview").getComponent(cc.ScrollView),this.map_flag=this.scrollView.content.getChildByName("map_flag"),this.mapItems=[];for(var e=SlotsFacade.dm.getGameCfg().mapCfg,t=1;t<=100;t++){var n=this.scrollView.content.getChildByName("item_"+t);n.id=t;var o=e[t.toString()],i="";1==o.type?i="animation1_1":2==o.type&&(i="animation2_1"),i&&n.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,i,!1),3==o.type?cc.find("step/label",n).getComponent(cc.Label).string=t:n.getChildByName("label_step").getComponent(cc.Label).string=t,this.mapItems.push(n)}this._reset()},_initListener:function(){this.btn_close.node.on("click",this._onBtnCloseHandler.bind(this),this)},_showCloseBtn:function(){var e=this;return new Promise(function(t){e.btn_close.node.active=!0,e.btn_close.node.scale=0,e.btn_close.interactable=!0,e.btn_close.node.getChildByName("spine").active=!0,cc.tween(e.btn_close.node).to(.3,{scale:1},{easing:"backOut"}).call(function(){cc.vv.gameData.checkAutoPlay(e.btn_close.node,e._onBtnCloseHandler.bind(e)),t()}).start()})},_onBtnCloseHandler:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.btn_close.interactable=!1,e.btn_close.node.getChildByName("spine").active=!1,e.btn_close.node.stopAllActions(),cc.tween(e.btn_close.node).to(.3,{scale:0},{easing:"backIn"}).call(function(){e.exitMap(e._wheelResp)}).start();case 4:case"end":return t.stop()}},t)}))()},exitMap:function(e){var t=this;SlotsFacade.soundMgr.playEffect("map_close");var n=this.scrollView.node;cc.tween(n).to(.3,{y:n.height},{easing:"cubicOut"}).call(function(){t._reset(),t.callBack&&(t.callBack(e),t.callBack=null)}).start()},enterMap:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){var i,a,s,r,c,l;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return SlotsFacade.soundMgr.playEffect("map_show"),n.callBack=t,n._wheelResp=null,n.map_game_node.active=!0,n.bg.active=!0,i=SlotsFacade.dm.energyData,a=i.currId,!e&&i.state>0&&(a-=1),n._freshMap(a),a>0?(s=n.mapItems[a-1],n.scrollView.scrollToOffset(cc.v2(0,Math.abs(s.y)-n.scrollView.node.height/2))):n.scrollView.scrollToBottom(),o.next=12,n._scrollViewShow();case 12:if(!e){o.next=16;break}n._showCloseBtn(),o.next=33;break;case 16:return o.next=18,n._moveMapFlag(i.currId);case 18:if(r=SlotsFacade.dm.getGameCfg().mapCfg,!((c=r[i.currId]).type<3)){o.next=32;break}return o.next=23,new Promise(function(e){n._mapWheel.open(function(t){e(t)})});case 23:if(!(l=o.sent).freeCnt){o.next=28;break}return o.next=27,n._addHouseFreeCnt(i.currId);case 27:SlotsFacade.dm.energyData.nextSpinCount+=1;case 28:n._wheelResp={winCoin:l.winCoin},n._showCloseBtn(),o.next=33;break;case 32:n.exitMap({freeCnt:c.freeCnt});case 33:case"end":return o.stop()}},o)}))()},_addHouseFreeCnt:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("add"),n.abrupt("return",new Promise(function(n){var o=t._findNextHouse(e);if(o){o.getChildByName("icon_free_cnt").getComponent("ImgSwitchCmp").setIndex(SlotsFacade.dm.energyData.nextSpinCount+1-5);var i=cc.find("icon_free_cnt/spine_free_count_change",o).getComponent(sp.Skeleton);i.node.active=!0,i.setAnimation(0,"animation",!1),i.setCompleteListener(function(){i.setCompleteListener(null),n()})}else n()}));case 2:case"end":return n.stop()}},n)}))()},_findNextHouse:function(e){for(var t=SlotsFacade.dm.getGameCfg().mapCfg,n=e+1;n<=100;n++){if(3==t[n].type)return this.mapItems[n-1]}return null},_moveMapFlag:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=SlotsFacade.dm.getGameCfg().mapCfg[e.toString()],i=t.mapItems[e-1],n.next=4,new Promise(function(e){var n=i.getChildByName("pos");cc.tween(t.map_flag).to(1,{x:i.x+n.x,y:i.y+n.y}).call(function(){t.map_flag.scaleX=o.dockerDir||1,e()}).start()});case 4:return n.next=6,new Promise(function(e){var t="";1==o.type?(t="animation1",SlotsFacade.soundMgr.playEffect("move")):2==o.type?(t="animation2",SlotsFacade.soundMgr.playEffect("move")):3==o.type&&(t="animation"+(o.slot.cnt-1),SlotsFacade.soundMgr.playEffect("move2"));var n=i.getChildByName("spine").getComponent(sp.Skeleton);n.node.active=!0,n.setAnimation(0,t,!1),n.setCompleteListener(function(){n.setCompleteListener(null),3==o.type&&(n.node.active=!1),e()})});case 6:case"end":return n.stop()}},n)}))()},_freshMap:function(e){for(var t=1;t<=e;t++)this._markItemCmp(t);if(e>0){var n=this.mapItems[e-1],o=n.getChildByName("pos");this.map_flag.x=n.x+o.x,this.map_flag.y=n.y+o.y;var i=SlotsFacade.dm.getGameCfg().mapCfg[e.toString()];this.map_flag.scaleX=i.dockerDir||1,(n=this._findNextHouse(e)).getChildByName("icon_free_cnt").getComponent("ImgSwitchCmp").setIndex(SlotsFacade.dm.energyData.nextSpinCount-5)}},_markItemCmp:function(e){var t=SlotsFacade.dm.getGameCfg().mapCfg[e.toString()],n=this.mapItems[e-1],o=(new cc.Color).fromHEX("#898989");if(n.color=o,3==t.type?(n.getChildByName("step").color=o,cc.find("step/label",n).color=o):n.getChildByName("label_step").color=o,3==t.type)n.getChildByName("icon_free_cnt").active=!1;else{var i=n.getChildByName("spine").getComponent(sp.Skeleton);i.node.color=o,i.node.active=!0}},_scrollViewShow:function(){var e=this;return new Promise(function(t){var n=e.scrollView.node;n.active=!0,cc.tween(n).to(.5,{y:0},{easing:"backOut"}).call(function(){t()}).start()})},_reset:function(){this.bg.active=!1,this.scrollView.node.active=!1,this.scrollView.node.y=this.scrollView.node.height/2,this.btn_close.node.active=!1,this.map_game_node.active=!1}});cc._RF.pop()},{}],Interstellar_Popup:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var s=e.apply(t,n);function r(e){o(s,i,a,r,c,"next",e)}function c(e){o(s,i,a,r,c,"throw",e)}r(void 0)})}}cc._RF.push(t,"aab9cgv0+NDaKAp7Yl5a6uo","Interstellar_Popup"),cc.Class({extends:cc.Component,properties:{bg:cc.Node,bg_dark:cc.Node},onLoad:function(){this.bg=this.node.getChildByName("bg"),this.bg_dark=this.node.getChildByName("bg_dark")},showBg:function(e){this.bg.active=e},showBgDark:function(e){this.bg_dark.active=e},showWinWheelGold:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){var i,a,s,r,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=t||1,i={1:{preAni:"animation1",idle:"animation1_1"},2:{preAni:"animation2",idle:"animation2_1"}},SlotsFacade.soundMgr.playEffect("wheel_collect"),n.showBg(!0),(a=n.node.getChildByName("panel_win_wheel_coin")).active=!0,a.scale=1,(s=a.getChildByName("label")).active=!1,(r=a.getChildByName("btn_ok")).scale=0,r.active=!1,(c=a.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,i[t].preAni,!1),c.addAnimation(0,i[t].idle,!0),cc.tween(a).delay(.5).call(function(){s.active=!0,s.getComponent("LabelRollCmp").startRoll(0,e),r.active=!0,cc.tween(r).to(.4,{scale:1},{easing:"backOut"}).start()}).start(),o.next=18,SlotsFacade.delayTime(.9);case 18:return o.next=20,new Promise(function(e){var t=function t(){r.stopAllActions(),r.off(cc.Node.EventType.TOUCH_END,t),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){n.showBg(!1),a.active=!1,SlotsFacade.soundMgr.stopEffectByName("wheel_collect"),e()}).start()};cc.vv.gameData.checkAutoPlay(r,t),r.on(cc.Node.EventType.TOUCH_END,t)});case 20:case"end":return o.stop()}},o)}))()},showWinFreeGold:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,i,a,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.stopBgm(),SlotsFacade.soundMgr.playEffect("dialog_fg_collect"),t.showBg(!0),(o=t.node.getChildByName("panel_win_free_coin")).active=!0,o.scale=1,(i=o.getChildByName("label")).active=!1,(a=o.getChildByName("btn_ok")).scale=0,a.active=!1,(s=o.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,"animation2",!1),s.addAnimation(0,"animation1_2",!0),cc.tween(o).delay(.5).call(function(){i.active=!0,i.getComponent("LabelRollCmp").startRoll(0,e),a.active=!0,cc.tween(a).to(.4,{scale:1},{easing:"backOut"}).start()}).start(),n.next=17,SlotsFacade.delayTime(.9);case 17:return n.next=19,new Promise(function(e){var n=function n(){a.stopAllActions(),a.off(cc.Node.EventType.TOUCH_END,n),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.showBg(!1),o.active=!1,SlotsFacade.soundMgr.playEffect("popup_out"),e()}).start()};cc.vv.gameData.checkAutoPlay(a,n),a.on(cc.Node.EventType.TOUCH_END,n)});case 19:case"end":return n.stop()}},n)}))()},showWinFreeCnt:function(e,t){var n=this;return i(regeneratorRuntime.mark(function t(){var o,i,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.stopBgm(),SlotsFacade.soundMgr.playEffect("dialog_fg_start"),n.showBg(!0),(o=n.node.getChildByName("panel_win_free_cnt")).active=!0,o.scale=1,(i=o.getChildByName("label")).active=!1,(a=o.getChildByName("btn_ok")).scale=0,a.active=!1,(s=o.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,"animation1",!1),s.addAnimation(0,"animation1_1",!0),cc.tween(o).delay(.5).call(function(){i.active=!0,i.getComponent(cc.Label).string=e.toString(),a.active=!0,cc.tween(a).to(.4,{scale:1},{easing:"backOut"}).start()}).start(),t.next=17,SlotsFacade.delayTime(.9);case 17:return t.next=19,new Promise(function(e){var t=function t(){a.stopAllActions(),a.off(cc.Node.EventType.TOUCH_END,t),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){n.showBg(!1),o.active=!1,SlotsFacade.soundMgr.playEffect("popup_out"),e()}).start()};cc.vv.gameData.checkAutoPlay(a,t),a.on(cc.Node.EventType.TOUCH_END,t)});case 19:case"end":return t.stop()}},t)}))()},showWinJPGold:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){var i,a,s,r,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i={1:{preAni:"animation5",idle:"animation5_1"},2:{preAni:"animation4",idle:"animation4_1"},3:{preAni:"animation3",idle:"animation3_1"},4:{preAni:"animation1",idle:"animation1_1"},5:{preAni:"animation2",idle:"animation2_1"}},SlotsFacade.soundMgr.playEffect("jp_shows"),n.showBgDark(!0),(a=n.node.getChildByName("panel_win_jp_coin")).active=!0,a.scale=1,(s=a.getChildByName("label")).active=!1,(r=a.getChildByName("btn_ok")).scale=0,r.active=!1,(c=a.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,i[e].preAni,!1),c.addAnimation(0,i[e].idle,!0),cc.tween(a).delay(.5).call(function(){s.active=!0,s.getComponent("LabelRollCmp").startRoll(0,t),r.active=!0,cc.tween(r).to(.4,{scale:1},{easing:"backOut"}).start()}).start(),o.next=17,SlotsFacade.delayTime(.9);case 17:return o.next=19,new Promise(function(e){var t=function t(){r.stopAllActions(),r.off(cc.Node.EventType.TOUCH_END,t),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){n.showBgDark(!1),a.active=!1,SlotsFacade.soundMgr.playEffect("popup_out"),e()}).start()};cc.vv.gameData.checkAutoPlay(r,t),r.on(cc.Node.EventType.TOUCH_END,t)});case 19:case"end":return o.stop()}},o)}))()},showWinBonusGold:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,i,a,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.stopBgm(),SlotsFacade.soundMgr.playEffect("dialog_respin_end"),t.showBg(!0),(o=t.node.getChildByName("panel_win_bonus_coin")).active=!0,o.scale=1,(i=o.getChildByName("label")).active=!1,(a=o.getChildByName("btn_ok")).scale=0,a.active=!1,(s=o.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,"animation1",!1),s.addAnimation(0,"animation1_1",!0),cc.tween(o).delay(.5).call(function(){i.active=!0,i.getComponent("LabelRollCmp").startRoll(0,e),a.active=!0,cc.tween(a).to(.4,{scale:1},{easing:"backOut"}).start()}).start(),n.next=17,SlotsFacade.delayTime(.9);case 17:return n.next=19,new Promise(function(e){var n=function n(){a.stopAllActions(),a.off(cc.Node.EventType.TOUCH_END,n),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.showBg(!1),o.active=!1,SlotsFacade.soundMgr.playEffect("popup_out"),e()}).start()};cc.vv.gameData.checkAutoPlay(a,n),a.on(cc.Node.EventType.TOUCH_END,n)});case 19:case"end":return n.stop()}},n)}))()},showStartBonus:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Global.SlotsSoundMgr.stopBgm(),SlotsFacade.soundMgr.playEffect("dialog_trigger_respin"),t.showBgDark(!0),(o=t.node.getChildByName("panel_bonus_start")).active=!0,o.scale=1,(i=o.getChildByName("btn_ok")).active=!1,(a=o.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,"animation1",!1),a.addAnimation(0,"animation2",!0),a.setCompleteListener(function(){i.active=!0;var n=function n(){i.stopAllActions(),i.off(cc.Node.EventType.TOUCH_END,n),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.showBgDark(!1),o.active=!1,SlotsFacade.soundMgr.playEffect("popup_out"),e&&e()}).start()};cc.vv.gameData.checkAutoPlay(i,n),i.on(cc.Node.EventType.TOUCH_END,n),a.setCompleteListener(null)});case 12:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{}],Interstellar_PrizePool:[function(e,t,n){"use strict";cc._RF.push(t,"24272txYjtOIq8QKaz/Abv1","Interstellar_PrizePool");var o={0:{nodeName:"prizePool_mini",lockAni:"animation2",lockedAni:"animation1",unlockAni:"animation3_5",iconIndex:0,weight:0},1:{nodeName:"prizePool_minor",lockAni:"animation2",lockedAni:"animation1",unlockAni:"animation3_4",iconIndex:1,weight:1},2:{nodeName:"prizePool_major",lockAni:"animation2",lockedAni:"animation1",unlockAni:"animation3_3",iconIndex:2,weight:2},3:{nodeName:"prizePool_grand",lockAni:"animation2",lockedAni:"animation1",unlockAni:"animation3_1",iconIndex:3,weight:4},4:{nodeName:"prizePool_maxi",lockAni:"animation2",lockedAni:"animation1",unlockAni:"animation3_2",iconIndex:4,weight:3}};cc.Class({extends:e("LMSlots_PrizePool_Base"),properties:{},start:function(){var e=this;this._super(),this.scheduleOnce(function(){e.node.y>cc.winSize.height/2-74&&(e.node.y=cc.winSize.height/2-30)},0)},ShowNodeLockByNode:function(e,t,n,o,i){var a={poolIdx:o,val:t};this.processTips(a)},processTips:function(e){this.showJackPotTips(e.poolIdx,e.val);var t=o[e.poolIdx+""],n=t.nodeName;if(n){var i=cc.find("Canvas/safe_node").getComponentInChildren("LMSlotMachine_PrizePool");if(i){var a=cc.find(n,i.node.parent);if(a){var s=a.getChildByName("jp_lock");if(s){var r=s.getChildByName("spine").getComponent(sp.Skeleton);e.val?(a.isLock=!0,SlotsFacade.soundMgr.stopEffectByName("jp_lock"),SlotsFacade.soundMgr.playEffect("jp_lock"),r.node.active=!0,r.setAnimation(0,t.lockAni,!1),r.addAnimation(0,t.lockedAni,!1),r.setCompleteListener(function(){r.setCompleteListener(null)}),this.scheduleOnce(function(){a.getChildByName("bg").color=cc.Color.GRAY,a.getChildByName("title").color=cc.Color.GRAY,a.getChildByName("lbl_num").color=cc.Color.GRAY},.4)):(a.isLock=!1,SlotsFacade.soundMgr.stopEffectByName("jp_unlock"),SlotsFacade.soundMgr.playEffect("jp_unlock"),r.node.active=!0,r.setAnimation(0,t.unlockAni,!1),r.setCompleteListener(function(){r.setCompleteListener(null)}),this.scheduleOnce(function(){a.getChildByName("bg").color=cc.Color.WHITE,a.getChildByName("title").color=cc.Color.WHITE,a.getChildByName("lbl_num").color=cc.Color.WHITE},.4))}}}}},showJackPotTips:function(e,t){var n=o[e+""].weight;if(t){if(this._nowJpLockWeight<n)return;this._nowJpLockWeight=n}else{if(this._nowJpUnlockWeight>n)return;this._nowJpUnlockWeight=n}var i=o[e+""],a=i.nodeName,s=cc.find("Canvas/safe_node").getComponentInChildren("LMSlotMachine_PrizePool"),r=cc.find(a,s.node.parent);if(r){var c=r.parent.getChildByName("tips_to_unclok");c.stopAllActions(),c.active=!1,c.getChildByName("icon").getComponent("ImgSwitchCmp").setIndex(i.iconIndex),c.x=r.x,c.y=r.y;var l=r.parent.getChildByName("tips_uncloked");l.stopAllActions(),l.active=!1,l.getChildByName("icon").getComponent("ImgSwitchCmp").setIndex(i.iconIndex),l.x=r.x,l.y=r.y,t?(this._nowJpUnlockWeight=this._nowJpLockWeight-1,c.scale=0,c.active=!0,cc.tween(c).to(.4,{scale:1},{easing:"backOut"}).delay(2).to(.2,{scale:0}).call(function(){c.active=!1}).start()):(this._nowJpLockWeight=this._nowJpUnlockWeight+1,l.scale=0,l.active=!0,cc.tween(l).to(.4,{scale:1},{easing:"backOut"}).delay(2).to(.2,{scale:0}).call(function(){l.active=!1}).start())}}}),cc._RF.pop()},{LMSlots_PrizePool_Base:void 0}],Interstellar_Reel:[function(e,t,n){"use strict";cc._RF.push(t,"3c37490jzFIgIOek+fHKmFf","Interstellar_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{wildMask:cc.Node},onLoad:function(){this._super(),this.wildMask=this.node.getChildByName("wild_mask")},showWildMask:function(e){this.wildMask&&(this.wildMask.active=e)}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Interstellar_Slots:[function(e,t,n){"use strict";function o(e,t,n,o,i,a,s){try{var r=e[a](s),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(o,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var s=e.apply(t,n);function r(e){o(s,i,a,r,c,"next",e)}function c(e){o(s,i,a,r,c,"throw",e)}r(void 0)})}}function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=s(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,a=!0,r=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){r=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(r)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"5ce47B5JONAwaU6k9ozvXle","Interstellar_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{MaxSlotsCnt:4,_slotsCnt:1,_unitSlotColCnt:5,_nowJpLockWeight:0,_nowJpUnlockWeight:0},Init:function(){this._super(),this.changeSlots()},StartMove:function(){this._bStopRightnow=null,this._gameInfo=null,this._topScript.StartMove(),cc.vv.gameData.ClearOneRoundData(),this.MoveReels(this.getCurReels()),this._stopTime=this.GetStopTime(),0==SlotsFacade.dm.GetTotalFree()&&Global.SlotsSoundMgr.playNormalBgm(),SlotsFacade.collectProgress.setEnterEnable(!1)},onMsgSpine:function(e){this._gameInfo=e,this.SetSlotsResult(e),1==this._slotsCnt&&this.SetReelStateInfo(e.resultCards)},OnReelSpinEnd:function(e){for(var t=this._reels[e],n=0;n<this._row;n++){var o=t._symbols[n];this._bStopRightnow?o.playBonusRightNow():o.playBonusSymbol()}},GetSymbolByIdx:function(e){var t=this._unitSlotColCnt*this._slotsCnt,n=(e-1)%t,o=this._row-Math.floor((e-1)/t)-1;return this._reels[n].GetSymbolByRow(o)},SetSlotsResult:function(e){var t=e.resultCards;if(e.freeGameSlots&&e.freeGameSlots.length>0){t=[];for(var n=0;n<this._row;n++){var o,i=a(e.freeGameSlots);try{for(i.s();!(o=i.n()).done;)for(var s=o.value,r=0;r<this._unitSlotColCnt;r++)t.push(s.cards[n*this._unitSlotColCnt+r])}catch(e){i.e(e)}finally{i.f()}}}var c=[],l=this.getCurrReelCnt(),d=SlotsFacade.dm.getSpinData().bonusCoinIdxs||[];d=d.concat();var p=SlotsFacade.dm.getSpinData().bonusCoins||[];p=p.concat();for(var m=0;m<t.length;m++){Math.floor(m/l);var u=m%l;if(this._cfg.symbol[t[m]]){var h={};h.sid=t[m],d.length&&d[0]==m+1&&(h.data=p[0],d.shift(),p.shift()),c[u]||(c[u]=[]),c[u].unshift(h)}}for(var f=0;f<5*this._slotsCnt;f++){var g=this._reels[f],_=c[f];g.SetResult(_)}},SetReelStateInfo:function(e){for(var t=this,n=[],o=0;o<e.length;o++){var i=e[o],s=o%this._unitSlotColCnt;n[s]||(n[s]=[]),n[s].push(i)}var r,c=a(this._cfg.reelStateInfo);try{var l=function(){var e=r.value,o=Global.copy(e);o.isStop=!1,o.isAnt=!1;for(var i=o.mini,a=Global.copy(o.counts),s=0,c=0;c<n.length;c++){var l=t._reels[c],d=n[c];o.isStop=!1,o.isAnt=!1,s>=i-1&&o.counts[c]>0&&(o.isAnt=!0);var p=d.reduce(function(e,t){return o.id.includes(t)?e+1:e+0},0);s+=p,a.shift();var m=(a.length>0?a.reduce(function(e,t){return e+t}):0)+s;p>0&&m>=i&&(o.isStop=!0),l.AddReelStateInfo(Global.copy(o))}};for(c.s();!(r=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}},hasScatter:function(e){for(var t=cc.vv.gameData.getGameCfg().scatterId,n=this._reels[e]._symbols,o=0;o<3;o++)if(n[o].GetShowId()==t)return!0;return!1},OnSpinEnd:function(){SlotsFacade.flowCtrl.spinEnd()},ReconnectShow:function(){this.scheduleOnce(function(){SlotsFacade.flowCtrl.enterRoom()})},playScatter:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("bell"),e.forEach(function(e){var n=t.GetSymbolByIdx(e);n.setAnimationToTop(!1),n.playWinAnimation()}),n.next=4,SlotsFacade.delayTime(1.5);case 4:case"end":return n.stop()}},n)}))()},getSymbolsByServerIds:function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.GetSymbolByIdx(e))}),n},getCurReels:function(){return this._reels.slice(0,this.getCurrReelCnt())},getCurrReelCnt:function(){return this._slotsCnt*this._unitSlotColCnt},showSlots:function(){for(var e=1;e<=this.MaxSlotsCnt;e++)cc.find("reels_bg"+e,this.node).active=e<=this._slotsCnt;for(var t=this.getCurrReelCnt(),n=0;n<this._col;n++)this._reels[n].node.active=n<t;this._slotsCnt<=2?this.node.scale=1:3==this._slotsCnt?this.node.scale=.8:4==this._slotsCnt&&(this.node.scale=.65)},showSlotsWildMask:function(){if(this._slotsCnt>1)for(var e=SlotsFacade.dm.getGameCfg().mapCfg[SlotsFacade.dm.energyData.currId+""].slot.wilds,t=0;t<this._reels.length;t++){var n=t%5+1;this._reels[t].showWildMask(e.includes(n))}else for(var o=0;o<this._unitSlotColCnt;o++)this._reels[o].showWildMask(!1)},changeSlots:function(){this._slotsCnt=SlotsFacade.dm.getSlotsCnt(),this.showSlotsWildMask(),this.showSlots()},ShowWinTrace:function(){var e=[],t=SlotsFacade.dm.getSpinData().freeGameSlots;if(t&&t.length>0)for(var n in t)for(var o=t[n].zjLuXian,i=0;i<o.length;i++)for(var a=o[i],s=0;s<a.indexs.length;s++){var r=a.indexs[s],c=(r-1)%5;e[5*Math.floor((r-1)/5)*this._slotsCnt+5*n+c+1]=1}else for(var l=SlotsFacade.dm.getSpinData(),d=0;d<l.zjLuXian.length;d++)for(var p=l.zjLuXian[d],m=0;m<p.indexs.length;m++)e[p.indexs[m]]=1;for(var u in e){var h=this.GetSymbolByIdx(Number(u));h&&(h.playWinAnimation(),h.ShowKuang())}},clearFreeSymbols:function(){for(var e=5;e<this._reels.length;e++)for(var t=this._reels[e]._symbols,n=0;n<t.length;n++)t[n].StartMove()},update:function(e){if(this._slotsCnt>1)this._super(e);else if(this._stopTime>0&&(this._stopTime=this._stopTime-e,this._stopTime<=0))if(this._gameInfo){this._bottomScript.ShowBtnsByState("moveing_2");for(var t=0,n=this._cfg.reelStopInter,o=0;o<this._reels.length;o++){this._reels[o].StopMove(t),t+=n;var i=SlotsFacade.dm.getColCards(o);(i.includes(this._cfg.scatterId)||i.includes(this._cfg.bonusId))&&(t+=1)}}else this._stopTime=e}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Interstellar_Sound:[function(e,t,n){"use strict";cc._RF.push(t,"25c3bONnGVCO5CX9mTGueFW","Interstellar_Sound"),cc.Class({extends:cc.Component,properties:{_soundPath:"games/Interstellar/",_isPlayBgm:!1},playEffect:function(e,t){return cc.vv.AudioManager.playEff(this._soundPath,e,!0,t)},stopEffectByName:function(e){cc.vv.AudioManager.stopEffectByName(e)},stopEffect:function(){cc.vv.AudioManager.stopAudio()},playBgm:function(e){e?(Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm(e)):Global.SlotsSoundMgr.playNormalBgm()},playFreeBgm:function(){this.playBgm("IconAudioInterplanetary")}}),cc._RF.pop()},{}],Interstellar_symbol:[function(e,t,n){"use strict";cc._RF.push(t,"ce14fdrZiJNKqI+lNq/yece","Interstellar_symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{isEpic:!1,_nodeScale:1},StartMove:function(){this._super(),this._data=0,this.showCoin()},ShowById:function(e,t){this._super(e,t),this.showColor()},showCoin:function(){if(this._data>0){var e=this._data,t=cc.find("label_coin",this.node);t.active=e>0,e>0&&(t.getComponent(cc.Label).string=Global.formatNumShort(e))}else{cc.find("label_coin",this.node).active=!1}},showColor:function(){this.isEpic&&this._showNode&&(this.GetShowId()==cc.vv.gameData.getGameCfg().bonusId?this._showNode.color=(new cc.Color).fromHEX("#FFFFFF"):this._showNode.color=(new cc.Color).fromHEX("#3E3E3E"))},ShowRandomSymbol:function(){var e=cc.vv.gameData.getGameCfg(),t=Global.random(1,e.randomSymbols.length),n=e.randomSymbols[t-1],o=0;n==e.bonusId&&(o=Global.random(0,10)*SlotsFacade.dm.GetTotalBet()),this.ShowById(n,o)},showBonusSymol:function(e,t){this._id=e,this._data=t,this._state="normal";var n=SlotsFacade.dm.getGameCfg();this._showNode&&(this._showNode.active=!1);var o=this.setAnimationToTop(!0);o.active=!0;var i=cc.find("bonus",o);i.active=!0;o.zIndex=500-this._symbolIdx+10*this._reelIdx;var a=i.getChildByName("content_node");if(a.active=!0,e==n.scatterId)a.getChildByName("epick_icon").active=!0;else if(this._data>0){var s=a.getChildByName("label");s.active=!0,s.getComponent(cc.Label).string=Global.formatNumShort(this._data)}this.showColor()},playBonusSymbol:function(){var e=this,t=this._id,n=SlotsFacade.dm.getGameCfg();if(!(t!=n.scatterId&&t!=n.bonusId||t==n.bonusId&&this._data<1)){this._showNode&&(this._showNode.active=!1);var o=this.setAnimationToTop(!0);o.active=!0;var i=cc.find("bonus",o);i.active=!0;o.zIndex=500-this._symbolIdx+10*this._reelIdx,SlotsFacade.soundMgr.playEffect("symbol_bonus");var a=i.getChildByName("effect").getComponent(sp.Skeleton);a.node.active=!0,a.setAnimation(0,"animation1",!1),a.addAnimation(0,"animation2",!0);var s=i.getChildByName("reel_ani");s.active=!0,s.getComponent(cc.Animation).play("symbol_reel_ani");var r=i.getChildByName("content_node");if(r.active=!0,r.scale=.6,t==n.scatterId)r.getChildByName("epick_icon").active=!0;else{var c=r.getChildByName("label");c.active=!0,c.getComponent(cc.Label).string=Global.formatNumShort(this._data)}cc.tween(r).to(.3,{scale:1.3}).to(.1,{scale:1}).call(function(){s.active=!1,e.isEpic?a.node.active=!1:t==n.scatterId?a.node.active=!1:a.setAnimation(0,"animation4",!0)}).start()}},playBonusRightNow:function(){var e=this,t=this._id,n=SlotsFacade.dm.getGameCfg();if(!(t!=n.scatterId&&t!=n.bonusId||t==n.bonusId&&this._data<1)){this._showNode&&(this._showNode.active=!1),this._showNode&&(this._showNode.active=!1);var o=this.setAnimationToTop(!0);o.active=!0;var i=cc.find("bonus",o);i.active=!0;o.zIndex=500-this._symbolIdx+10*this._reelIdx,SlotsFacade.soundMgr.playEffect("symbol_bonus");var a=i.getChildByName("effect").getComponent(sp.Skeleton);a.node.active=!0,a.setAnimation(0,"animation1",!1),a.addAnimation(0,"animation2",!0);var s=i.getChildByName("content_node");if(s.active=!0,s.scale=0,t==n.scatterId)s.getChildByName("epick_icon").active=!0;else{var r=s.getChildByName("label");r.active=!0,r.getComponent(cc.Label).string=Global.formatNumShort(this._data)}cc.tween(s).to(.3,{scale:1},{easing:"backOut"}).call(function(){e.isEpic?a.node.active=!1:t==n.scatterId?a.node.active=!1:a.setAnimation(0,"animation4",!0)}).start(),cc.tween(i).to(.15,{scale:1.2}).to(.25,{scale:1}).call(function(){}).start()}},playWinFlash:function(){var e=this._id,t=SlotsFacade.dm.getGameCfg();if(!(e!=t.scatterId&&e!=t.bonusId||e==t.bonusId&&this._data<1)){this._showNode&&(this._showNode.active=!1);var n=this.setAnimationToTop(!0);n.active=!0;var o=cc.find("bonus",n);o.active=!0;var i=cc.find("spine_flash",o);i.active=!0,i.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),i.getComponent(sp.Skeleton).setCompleteListener(function(){i.getComponent(sp.Skeleton).setCompleteListener(null),i.active=!1})}}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["Interstellar_BonusGame","Interstellar_BonusGrup","Interstellar_BonusReel","Interstellar_Cfg","Interstellar_CollectProgress","Interstellar_FlowCtrl","Interstellar_GameData","Interstellar_Logic","Interstellar_MainPanel","Interstellar_Map","Interstellar_MapWheel","Interstellar_Popup","Interstellar_PrizePool","Interstellar_Reel","Interstellar_Slots","Interstellar_Sound","Interstellar_symbol"]);