window.__require=function e(t,n,a){function o(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return o(t[r][1][e]||e)},u,u.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<a.length;r++)o(a[r]);return o}({FantasyChocolateFactory_BubbuleGame:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t,n,a,o,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,c,"next",e)}function c(e){r(i,a,o,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"a7a443t92JHQo/QZj91hkKF","FantasyChocolateFactory_BubbuleGame");var c={1:{spine:"bubbleNormal",stopAni:"animation03",appearAni:"animation06",moveAni:["animation01","animation02"],candyMagicAni:"animation3"},2:{spine:"bubbleNormal",stopAni:"animation09",appearAni:"animation10",moveAni:["animation07","animation08"],candyMagicAni:"animation1",hasCandySpread:!0},3:{spine:"bubbleMinor",stopAni:"animation03",appearAni:"animation06",moveAni:["animation01","animation02"],winAni:"animation11",candyMagicAni:"animation3"},4:{spine:"bubbleMinor",stopAni:"animation09",appearAni:"animation10",moveAni:["animation07","animation08"],winAni:"animation12",candyMagicAni:"animation1",hasCandySpread:!0},5:{spine:"bubbleMajor",stopAni:"animation03",appearAni:"animation06",moveAni:["animation01","animation02"],winAni:"animation11",candyMagicAni:"animation3"},6:{spine:"bubbleMajor",stopAni:"animation09",appearAni:"animation10",moveAni:["animation07","animation08"],winAni:"animation12",candyMagicAni:"animation1",hasCandySpread:!0},7:{spine:"bubbleGrand",stopAni:"animation03",appearAni:"animation06",moveAni:["animation01","animation02"],winAni:"animation11",candyMagicAni:"animation3"},8:{spine:"bubbleGrand",stopAni:"animation09",appearAni:"animation10",moveAni:["animation07","animation08"],winAni:"animation12",candyMagicAni:"animation1",hasCandySpread:!0}};cc.Class({extends:cc.Component,properties:{bubble_machine_node:cc.Node,spine_machine:sp.Skeleton,spine_machine_buble:sp.Skeleton,spine_big_bubble_effect:sp.Skeleton,bubble_node:cc.Node,bubbleNormal:cc.Node,bubbleMinor:cc.Node,bubbleMajor:cc.Node,bubbleGrand:cc.Node,candy_magic:cc.Node,_isOpen:!1,_bubbleItems:[],_bubbleStartPos:null},onLoad:function(){this._bubbleItems=[];var e=cc.v2(this.spine_machine_buble.node.x,this.spine_machine_buble.node.y);e=this.bubble_machine_node.convertToWorldSpaceAR(e),this._bubbleStartPos=this.bubble_node.convertToNodeSpaceAR(e)},start:function(){this._initListener(),this.showBubbleMachine(!0),this.resetBubble()},_initListener:function(){var e=this;Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,function(){e.showBubbleMachine(),e.resetBubble(!0)},this),this.bubble_machine_node.on(cc.Node.EventType.TOUCH_END,function(){e._isOpen||e._openBubble()},this)},_openBubble:function(){if(!this._isOpen&&!SlotsFacade.dm.hasFree()&&SlotsFacade.bottomCmp.GetSpinBtnState()){var e=SlotsFacade.dm.GetBetMults(),t=SlotsFacade.dm.getDeskInfo().needBet;if(!(t>e.length)){SlotsFacade.dm.SetBetIdx(t),SlotsFacade.bottomCmp.ShowBetCoin();var n=cc.vv.gameData.GetTotalBet();Global.dispatchEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,n)}}},showBubbleMachine:function(e){var t=this,n=SlotsFacade.dm.canBubble();e?n?(this.spine_machine_buble.node.active=!0,this.spine_machine.setAnimation(0,"animation1",!0)):(this.spine_machine_buble.node.active=!1,this.spine_machine.setAnimation(0,"animation3",!1)):n?this._isOpen||(SlotsFacade.soundMgr.playEffect("bubbleMachine_open"),this.spine_machine.setAnimation(0,"animation4",!1),this.spine_machine.setCompleteListener(function(){t.spine_machine.setCompleteListener(null),t.spine_machine.setAnimation(0,"animation1",!0),t.spine_machine_buble.node.active=!0})):(this.spine_machine_buble.node.active=!1,this._isOpen&&(SlotsFacade.soundMgr.playEffect("bubbleMachine_close"),this.spine_machine.setAnimation(0,"animation2",!1))),this._isOpen=n},getABubblePos:function(e){for(var t=e.currIdxs,n=[],a=0;a<t.length;a++){var o=SlotsFacade.slots.getIdxGlobalPos(t[a]);o=this.bubbleNormal.convertToNodeSpaceAR(o),n.push(o)}return 1==n.length?n[0]:2==n.length?t[0]<=5?cc.v2((n[0].x+n[1].x)/2,n[0].y+SlotsFacade.dm.getGameCfg().symbolSize.height/2):cc.v2((n[0].x+n[1].x)/2,n[0].y-SlotsFacade.dm.getGameCfg().symbolSize.height/2):4==n.length?cc.v2((n[0].x+n[3].x)/2,(n[0].y+n[3].y)/2):void console.log("Error#getABubblePos#",e)},createABubble:function(e,t){var n=c[e.type+""],a=cc.instantiate(this[n.spine]);return a.active=!0,a.info={id:e.id,type:e.type},t&&(a.parent=t,a.getComponent(sp.Skeleton).setAnimation(0,n.stopAni,!1)),a},clearBubble:function(){this._bubbleItems.forEach(function(e){e.removeFromParent(!0)}),this._bubbleItems=[]},resetBubble:function(){this.clearBubble();var e=SlotsFacade.dm.getCurrBubbleInfo();if(e)for(var t=0;t<e.length;t++){var n=e[t],a=this.createABubble(n,this.bubble_node),o=this.getABubblePos(n);a.x=o.x,a.y=o.y,this._bubbleItems.push(a)}},bubbleItemsIncludeId:function(e){for(var t=0;t<this._bubbleItems.length;t++)if(this._bubbleItems[t].info.id==e)return!0;return!1},addBubbleOnOpenBubbleMachine:function(e){var t=this;return s(regeneratorRuntime.mark(function n(){var a,o,i,r,s,l,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=SlotsFacade.dm.getGameCfg().symbolSize.height,o=0,i=0;case 3:if(!(i<e.length)){n.next=26;break}if(!((r=e[i]).prevIdxs&&r.prevIdxs.length>0)){n.next=7;break}return n.abrupt("continue",23);case 7:if(!t.bubbleItemsIncludeId(r.id)){n.next=9;break}return n.abrupt("continue",23);case 9:o++,[2,4,6,8].includes(r.type)&&(t.spine_big_bubble_effect.node.active=!0,t.spine_big_bubble_effect.setAnimation(0,"animation",!1),t.spine_big_bubble_effect.setCompleteListener(function(){t.spine_big_bubble_effect.setCompleteListener(null),t.spine_big_bubble_effect.node.active=!1})),(s=t.createABubble(r)).active=!0,s.x=t._bubbleStartPos.x,s.y=t._bubbleStartPos.y,s.parent=t.bubble_node,(l=t.getABubblePos(r)).y-=a,u=c[r.type+""],s.getComponent(sp.Skeleton).setAnimation(0,u.appearAni,!1),cc.tween(s).delay(.5).to(1.5,{x:l.x,y:l.y},{easing:"cubicIn"}).start(),t._bubbleItems.push(s);case 23:i++,n.next=3;break;case 26:if(!o){n.next=30;break}return SlotsFacade.soundMgr.playEffect("bubble_create"+(o>3?3:o)),n.next=30,SlotsFacade.delayTime(2.2);case 30:case"end":return n.stop()}},n)}))()},addBubbleOnCloseBubbleMachine:function(e){var t=this;return s(regeneratorRuntime.mark(function n(){var a,o,i,r,s,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=SlotsFacade.dm.getGameCfg().symbolSize.height,0,o=0;case 3:if(!(o<e.length)){n.next=24;break}if(!((i=e[o]).prevIdxs&&i.prevIdxs.length>0)){n.next=7;break}return n.abrupt("continue",21);case 7:if(!t.bubbleItemsIncludeId(i.id)){n.next=9;break}return n.abrupt("continue",21);case 9:0,(r=t.getABubblePos(i)).y-=a,(s=t.createABubble(i)).active=!0,s.x=r.x,s.y=r.y,s.parent=t.bubble_node,l=c[i.type+""],s.getComponent(sp.Skeleton).setAnimation(0,l.stopAni,!1),t._bubbleItems.push(s);case 21:o++,n.next=3;break;case 24:case"end":return n.stop()}},n)}))()},addBubble:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=SlotsFacade.dm.getCurrBubbleInfo())&&!(n.length<1)){t.next=3;break}return t.abrupt("return");case 3:if(!SlotsFacade.dm.canBubble()){t.next=8;break}return t.next=6,e.addBubbleOnOpenBubbleMachine(n);case 6:t.next=10;break;case 8:return t.next=10,e.addBubbleOnCloseBubbleMachine(n);case 10:case"end":return t.stop()}},t)}))()},moveBubble:function(){var e=this,t={};SlotsFacade.dm.getCurrBubbleInfo().forEach(function(e){t[e.id]=e});for(var n=SlotsFacade.dm.getGameCfg().symbolSize.height,a=function(a){var i=e._bubbleItems[a],r=t[i.info.id],s=c[i.info.type+""],l=i.getComponent(sp.Skeleton);if(l.setAnimation(0,s.moveAni[Math.floor(Math.random()*s.moveAni.length)],!0),r){var u=e.getABubblePos(r);cc.tween(i).to(1.2,{x:u.x,y:u.y}).call(function(){l.setAnimation(0,s.stopAni,!1)}).start()}else e._bubbleItems.splice(a,1),a--,cc.tween(i).to(.8,{y:i.y+1.5*n}).to(.5,{opacity:0}).call(function(){i.removeFromParent(!0)}).start();o=a},o=0;o<this._bubbleItems.length;o++)a(o)},showBubbleEndPos:function(){var e=SlotsFacade.dm.getCurrBubbleInfo();if(e){var t={};e.forEach(function(e){t[e.id]=e});for(var n=0;n<this._bubbleItems.length;n++){var a=this._bubbleItems[n],o=t[a.info.id];if(o){var i=this.getABubblePos(o);a.x=i.x,a.y=i.y}}}},getBubbleItemById:function(e){for(var t=0;t<this._bubbleItems.length;t++){var n=this._bubbleItems[t];if(n.info.id==e)return n}return null},showJackPort:function(e){var t=this;return s(regeneratorRuntime.mark(function n(){var a,o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("bubble_jp_animation"),a=t.getBubbleItemById(e.id),o=c[a.info.type+""],(i=a.getComponent(sp.Skeleton)).setAnimation(0,o.winAni,!1),n.next=7,new Promise(function(e){i.setCompleteListener(function(){i.setCompleteListener(null),e()})});case 7:return n.next=9,SlotsFacade.popup.showWinJPCoin(e.jackpotId,e.jackpotValue);case 9:case"end":return n.stop()}},n)}))()},showCandyMagic:function(e){var t=this;return s(regeneratorRuntime.mark(function n(){var a,o,i,r,s,l,u,d,m,b,p,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("bubble_transform"),(a=t.getBubbleItemById(e.id)).active=!1,o=c[a.info.type+""],(i=cc.instantiate(t.candy_magic)).active=!0,i.x=a.x,i.y=a.y,i.parent=t.bubble_node,r=i.getChildByName("spine_spread"),o.hasCandySpread&&(r.active=!0,r.getComponent(sp.Skeleton).setAnimation(0,"animation",!1)),(s=i.getChildByName("spine_candy").getComponent(sp.Skeleton)).setAnimation(0,o.candyMagicAni,!1),n.next=15,new Promise(function(e){s.setCompleteListener(function(){s.setCompleteListener(null),i.removeFromParent(!0),a.active=!0,a.getComponent(sp.Skeleton).setAnimation(0,o.stopAni,!1),e()})});case 15:l=e.currIdxs,u=e.wildIdxs,d=[],m=0;case 19:if(!(m<u.length)){n.next=32;break}if(b=u[m],!l.includes(b)){n.next=23;break}return n.abrupt("continue",29);case 23:(p=t.createABubble({id:0,type:1},t.bubble_node)).x=a.x,p.y=a.y,d.push(p),h=t.getABubblePos({currIdxs:[b]}),cc.tween(p).to(.5,{x:h.x,y:h.y}).start();case 29:m++,n.next=19;break;case 32:return n.next=34,SlotsFacade.delayTime(.6);case 34:d.forEach(function(e){e.removeFromParent(!0)});case 35:case"end":return n.stop()}},n)}))()},showBubbleEffect:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,a,o,i,r,s,c,l,u,d,m,b,p,h,f,_,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=SlotsFacade.dm.getSpinData().bubbleEffects)&&!(n.length<1)){t.next=3;break}return t.abrupt("return");case 3:a=0;case 4:if(!(a<n.length)){t.next=12;break}if(!(o=n[a]).jackpotId){t.next=9;break}return t.next=9,e.showJackPort(o);case 9:a++,t.next=4;break;case 12:for(i=[],r=0;r<n.length;r++)(s=n[r]).isDivide>0&&i.push(e.showCandyMagic(s));if(!i.length){t.next=17;break}return t.next=17,Promise.all(i);case 17:for(c=!1,e.showBubbleNode(!1),l=[],u=0;u<n.length;u++)d=n[u],l=(l=l.concat(d.currIdxs)).concat(d.wildIdxs),!c&&d.isDivide&&(c=!0);for(m=[],l.forEach(function(e){m.includes(e)||m.push(e)}),b=SlotsFacade.slots.getSymbolsByServerIds(m),p=0;p<b.length;p++)b[p].changeToWild();if(SlotsFacade.soundMgr.playEffect("bubble_wild"),!c){t.next=41;break}return t.next=29,SlotsFacade.delayTime(.3);case 29:if(h=cc.vv.gameData.GetTotalBet(),f=SlotsFacade.dm.GetGameWin()/h,console.log(f),!(f>=10)){t.next=41;break}return SlotsFacade.soundMgr.playEffect("fg_bell"),_=1,g=5,Global.shakeNode(SlotsFacade.mainPanel.bg,g,_),Global.shakeNode(SlotsFacade.mainPanel.jpNode,g,_),Global.shakeNode(SlotsFacade.mainPanel.slots,g,_),t.next=41,SlotsFacade.delayTime(_+.2);case 41:case"end":return t.stop()}},t)}))()},showBubbleNode:function(e){if(this.bubble_node.active=e,e&&this._bubbleItems){var t,n=a(this._bubbleItems);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o.info){var i=c[o.info.type.toString()];o.getComponent(sp.Skeleton).setAnimation(0,i.stopAni,!1)}}}catch(e){n.e(e)}finally{n.f()}}}}),cc._RF.pop()},{}],FantasyChocolateFactory_Cfg:[function(e,t,n){"use strict";var a;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"a0c41dwunNLAJolgLTK0mVr","FantasyChocolateFactory_Cfg");var i={symbol:(a={},o(a,1,{node:"s1",win_node:"w1",win_ani:{name:"animation05",zIndex:300}}),o(a,2,{node:"s2",win_node:"w2",win_ani:{name:"animation2",zIndex:300},stop_ani:{name:"animation1",zIndex:200},trigger_ani:{name:"animation2",zIndex:200}}),o(a,3,{node:"s3",win_node:"w3",win_ani:{name:"animation2",zIndex:300}}),o(a,4,{node:"s4",win_node:"w4",win_ani:{name:"animation",zIndex:300}}),o(a,5,{node:"s5",win_node:"w5",win_ani:{name:"animation",zIndex:300}}),o(a,6,{node:"s6",win_node:"w6",win_ani:{name:"animation",zIndex:300}}),o(a,7,{node:"s7",win_node:"w7",win_ani:{name:"animation",zIndex:300}}),o(a,8,{node:"s8",win_node:"w8",win_ani:{name:"animation",zIndex:300}}),o(a,9,{node:"s9",win_node:"w9",win_ani:{name:"animation",zIndex:300}}),o(a,10,{node:"s10",win_node:"w10",win_ani:{name:"animation",zIndex:300}}),o(a,11,{node:"s11",win_node:"w11",win_ani:{name:"animation",zIndex:300}}),a),scatterId:2,bonusId:3,wildId:1,scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"FantasyChocolateFactory_Slots",Reels:"FantasyChocolateFactory_Reel",Symbols:"FantasyChocolateFactory_symbol"},col:5,row:6,symbolPrefab:"LMSlots_Symbol",symbolSize:{height:85},helpItems:["games/FantasyChocolateFactory/prefab/LMSlots_Help_item1","games/FantasyChocolateFactory/prefab/LMSlots_Help_item2","games/FantasyChocolateFactory/prefab/LMSlots_Help_item3"],randomSymbols:[3,4,5,6,7,8,9,10,11],kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,autoModelDelay:1,AddAntiTime:1.5,bounceInfo:{distance:20,time:.1},normalBgm:"bgbgm",commEffect:{path:"games/FantasyChocolateFactory/",win1:["win1","win1end"],win2:["win2","win2end"]},reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/FantasyChocolateFactory/",reelStopSound:"reel_stop",symbolStopSound:"scatterSmart_stop_1",antSound:"anticipation",antSpeed:2400}],isWild:function(e){return 1==e}};t.exports=i,cc._RF.pop()},{}],FantasyChocolateFactory_FlowCtrl:[function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function s(e){a(r,o,i,s,c,"next",e)}function c(e){a(r,o,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"a37faaOmmFKqKfkifvY7TGU","FantasyChocolateFactory_FlowCtrl"),cc.Class({extends:cc.Component,enterRoom:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=cc.vv.gameData.GetTotalFree(),(a=cc.vv.gameData.GetFreeTime())>0&&(SlotsFacade.bottomCmp.ShowFreeModel(!0,n-a,n),o=cc.vv.gameData.GetTotalFreeWin(),SlotsFacade.bottomCmp.SetWin(o),e.enterFreeGame()),!SlotsFacade.dm.bonusData){t.next=6;break}return t.next=6,e.enterBonusGame(!0);case 6:SlotsFacade.slots.CanDoNextRound();case 7:case"end":return t.stop()}},t)}))()},onSpinMsg:function(e){return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,SlotsFacade.bubbleGame.addBubble();case 2:SlotsFacade.slots._gameInfo=e,SlotsFacade.slots.SetSlotsResult(e.resultCards),SlotsFacade.slots.SetReelStateInfo(e.resultCards);case 5:case"end":return t.stop()}},t)}))()},spinEnd:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),SlotsFacade.bubbleGame.showBubbleEndPos(),t.next=4,SlotsFacade.bubbleGame.showBubbleEffect();case 4:return SlotsFacade.slots.ShowWinTrace(),n=cc.vv.gameData.GetGameWin(),a=n,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(a=cc.vv.gameData.GetGameTotalFreeWin()),t.next=10,new Promise(function(e){SlotsFacade.slots.ShowBottomWin(n,a,!0,e)});case 10:return t.next=12,e.enterBonusGame();case 12:if(!SlotsFacade.dm.isTriggerFree()){t.next=21;break}return SlotsFacade.slots.Backup(),t.next=16,SlotsFacade.popup.showWinFreeCnt(SlotsFacade.dm.triggerFreeCnt());case 16:return t.next=18,SlotsFacade.delayTime(1);case 18:SlotsFacade.slots.CanDoNextRound(),t.next=41;break;case 21:if(!cc.vv.gameData.hasFree()){t.next=25;break}SlotsFacade.slots.CanDoNextRound(),t.next=41;break;case 25:if(!cc.vv.gameData.isLastEndFree()){t.next=40;break}return t.next=28,SlotsFacade.popup.showWinFreeCoin(SlotsFacade.dm.getFreeWinCoin());case 28:return SlotsFacade.mainPanel.showSceneTransition(),t.next=31,SlotsFacade.delayTime(2);case 31:return SlotsFacade.slots.Resume(),e.enterNormalGame(),t.next=35,SlotsFacade.delayTime(.8);case 35:return t.next=37,new Promise(function(e){var t=cc.vv.gameData.GetGameTotalFreeWin();SlotsFacade.slots.ShowBottomWin(t,t,!0,e)});case 37:SlotsFacade.slots.CanDoNextRound(),t.next=41;break;case 40:SlotsFacade.slots.CanDoNextRound();case 41:case"end":return t.stop()}},t)}))()},enterFreeGame:function(){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return SlotsFacade.mainPanel.showBg(1),SlotsFacade.soundMgr.playFreeBgm(),e.next=4,SlotsFacade.delayTime(.5);case 4:case"end":return e.stop()}},e)}))()},enterNormalGame:function(){SlotsFacade.bottomCmp.ShowFreeModel(!1),SlotsFacade.mainPanel.showBg(0),Global.SlotsSoundMgr.stopBgm(),SlotsFacade.soundMgr.playBgm()},enterBonusGame:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(SlotsFacade.dm.bonusData){n.next=2;break}return n.abrupt("return");case 2:if(SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),e){n.next=7;break}return n.next=6,SlotsFacade.slots.playScatter(SlotsFacade.dm.getBonusIndexs());case 6:SlotsFacade.slots.Backup();case 7:return n.next=9,new Promise(function(t){SlotsFacade.pickGame.enter(t,e)});case 9:return n.next=11,t.enterFreeGame();case 11:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{}],FantasyChocolateFactory_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"01f1dUDL3BFPIwS2YIcloPZ","FantasyChocolateFactory_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{bonusData:null,bubbleHistory:[]},init:function(e,t,n){this.bonusData=e.pickBonus,this.bubbleHistory=e.history.bubbleInfo||[],this._super(e,t,n)},OnRcvNetSpine:function(e){200==e.code&&(this.bonusData=e.pickBonus,this.bubbleHistory[this.GetBetIdx()-1]=e.bubbleInfo||[]),this._super(e)},SetSubGameData:function(e){this._subGame=e},GetSubGameData:function(){return this._subGame},getSpinData:function(){return this._gameInfo},hasFree:function(){return this.GetFreeTime()>0},isTriggerFree:function(){return this.triggerFreeCnt()>0},triggerFreeCnt:function(){var e=this._gameInfo.freeResult;return e&&e.triFreeCnt&&e.freeInfo&&e.freeInfo.freeCnt?e.freeInfo.freeCnt:0},isFistTriggerFree:function(){return this.hasFree()&&this.GetFreeTime()==this.GetTotalFree()},isLastEndFree:function(){return 0==this.GetFreeTime()&&this.GetTotalFree()>0},getFreeWinCoin:function(){return this._gameInfo.freeWinCoin},getScatterIndexs:function(){return this.triggerFreeCnt()>0?this._gameInfo.freeResult.freeInfo.scatterIdx.concat():[]},getBonusIndexs:function(){if(!this.bonusData)return[];for(var e=[],t=this.getGameCfg().scatterId,n=this.getSpinData().resultCards,a=0;a<n.length;a++){n[a]==t&&e.push(a+1)}return e},canBubble:function(){return this.GetBetIdx()>=this.getDeskInfo().needBet},getCurrBubbleInfo:function(){return this.bubbleHistory[this.GetBetIdx()-1]}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],FantasyChocolateFactory_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"9f79f79UeJFhY4ylc34dXGz","FantasyChocolateFactory_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},onLoad:function(){this.InitCommComponent(),window.SlotsFacade=this,this.dm=cc.vv.gameData,this.mainPanel=cc.find("safe_node",this.node).addComponent("FantasyChocolateFactory_MainPanel"),this.flowCtrl=this.addComponent("FantasyChocolateFactory_FlowCtrl"),this.soundMgr=this.addComponent("FantasyChocolateFactory_Sound"),this.popup=this.mainPanel.popup_node.addComponent("FantasyChocolateFactory_Popup"),this.pickGame=this.mainPanel.pick_game_node.getComponent("FantasyChocolateFactory_PickGame"),this.bubbleGame=this.mainPanel.bubble_game_node.getComponent("FantasyChocolateFactory_BubbuleGame"),this.topCmp=cc.vv.gameData.GetTopScript(),this.bottomCmp=cc.vv.gameData.GetBottomScript(),this.slots=cc.vv.gameData.GetSlotsScript()},onDestroy:function(){window.SlotsFacade=null,this.dm=null},delayTime:function(e){var t=this;return new Promise(function(n,a){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],FantasyChocolateFactory_MainPanel:[function(e,t,n){"use strict";cc._RF.push(t,"b1216n6hFRDSpxxvk9+Lq5V","FantasyChocolateFactory_MainPanel"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.bg=this.node.getChildByName("bg"),this.slots=this.node.getChildByName("slots"),this.bubble_machine_node=this.slots.getChildByName("bubble_machine_node"),this.popup_node=this.node.getChildByName("popup_node"),this.pick_game_node=this.node.getChildByName("pick_game_node"),this.bubble_game_node=this.slots.getChildByName("bubble_game_node"),this.transition_node=this.node.getChildByName("transition_node"),this.jpNode=this.node.getChildByName("LMSlots_PrizePool_1"),this.top_node=this.node.getChildByName("top_node"),this.showBg(0)},showBg:function(e){e||(e=0),this.bg.getComponent("ImgSwitchCmp").setIndex(e)},showSceneTransition:function(e){SlotsFacade.soundMgr.playEffect("transition");var t=this.transition_node.getChildByName("spine_1").getComponent(sp.Skeleton);t.node.active=!0,t.setAnimation(0,"animation",!1),t.setCompleteListener(function(){t.setCompleteListener(null),t.node.active=!1,e&&e()})}}),cc._RF.pop()},{}],FantasyChocolateFactory_PickGame:[function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function s(e){a(r,o,i,s,c,"next",e)}function c(e){a(r,o,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"2be06bwaq5ELIJ21tmOd5LY","FantasyChocolateFactory_PickGame");var i=160,r=160,s=200,c=1.8;cc.Class({extends:cc.Component,properties:{panel:cc.Node,free_cnt_count:cc.Node,pick_cnt_count:cc.Node,template_item_add_free:cc.Node,template_item_add_cnt:cc.Node,bubble_item:cc.Node,bubble_panel:cc.Node,cnt_ani_panel:cc.Node,_callBack:null,_data:null,_bubbleItems:null},start:function(){this.reset(),cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onMsg,this)},onDestroy:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onMsg,!1,this)},sendMsg:function(){var e={c:MsgId.SLOT_SUBGAME_DATA};e.gameid=cc.vv.gameData._gameId,e.data={rtype:1},cc.vv.NetManager.send(e)},onMsg:function(e){if(200==e.code&&1==e.data.rtype){var t=e.data.freeInfo,n=SlotsFacade.dm.getDeskInfo();n.restFreeCount+=t.freeCnt,n.allFreeCount+=t.freeCnt,this.showResult(t.freeCnt)}},showResult:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,SlotsFacade.popup.showWinFreeCnt(e);case 2:a=SlotsFacade.dm.getDeskInfo(),SlotsFacade.bottomCmp.ShowFreeModel(!0,a.allFreeCount-a.restFreeCount,a.allFreeCount),t.exit();case 5:case"end":return n.stop()}},n)}))()},reset:function(){this.bubble_panel.removeAllChildren(!0),this.cnt_ani_panel.removeAllChildren(!0),this._data={freeCnt:0,pickedCnt:0,pickTotalCnt:0,state:0,restCdTime:0,serverPickData:null},this._bubbleItems=[];var e=SlotsFacade.dm.bonusData;e&&(this._data.serverPickData=Global.copy(e),this._data.pickTotalCnt=this._data.serverPickData.initPick),this.free_cnt_count.getChildByName("label").getComponent(cc.Label).string=this._data.freeCnt,this.pick_cnt_count.getChildByName("label").getComponent(cc.Label).string="PICK  ".concat(this._data.pickedCnt,"  OF  ").concat(this._data.pickTotalCnt)},_addFreeCnt:function(e){this._data.freeCnt+=e,this.free_cnt_count.getChildByName("label").getComponent(cc.Label).string=this._data.freeCnt+"";var t=this.free_cnt_count.getChildByName("spine").getComponent(sp.Skeleton);t.node.active=!0,t.clearTracks(),t.setAnimation(0,"animation",!1),t.setCompleteListener(function(){t.setCompleteListener(null),t.node.active=!1})},_addPickCnt:function(e){this._data.pickTotalCnt+=e,this.pick_cnt_count.getChildByName("label").getComponent(cc.Label).string="PICK  ".concat(this._data.pickedCnt,"  OF  ").concat(this._data.pickTotalCnt);var t=this.pick_cnt_count.getChildByName("spine").getComponent(sp.Skeleton);t.node.active=!0,t.clearTracks(),t.setAnimation(0,"animation",!1),t.setCompleteListener(function(){t.setCompleteListener(null),t.node.active=!1})},enter:function(e,t){var n=this;return o(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n._callBack=e,n.reset(),t){a.next=6;break}return SlotsFacade.mainPanel.showSceneTransition(),a.next=6,SlotsFacade.delayTime(2);case 6:return SlotsFacade.soundMgr.playBgm("ngbgm"),n.panel.active=!0,n.panel.opacity=255,a.next=11,SlotsFacade.popup.showStartPick();case 11:n._data.state=1;case 12:case"end":return a.stop()}},a)}))()},generateBubble:function(){this._data.restCdTime=c;for(var e=this.bubble_panel.width,t=2*r,n=this.bubble_panel.width/4,a=n-i,o=t-r,s=0;s<4;s++){var l=cc.instantiate(this.bubble_item);l.active=!0,l.isAlive=!0,l.parent=this.bubble_panel,l.x=-e/2+s*n+i/2+Math.random()*a,l.y=r/2-t+Math.random()*o,l.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"animation0"+[1,2][Math.floor(2*Math.random())],!0),l.on(cc.Node.EventType.TOUCH_START,this.touchBubbleHandler.bind(this),this),this._bubbleItems.push(l)}},touchBubbleHandler:function(e){if(1==this._data.state&&!(this._data.serverPickData.finalResult.length<1)){var t=e.target;if(t.isAlive){t.isAlive=!1,SlotsFacade.soundMgr.playEffect("bubble_click"),this._data.pickedCnt++,this.pick_cnt_count.getChildByName("label").getComponent(cc.Label).string="PICK  ".concat(this._data.pickedCnt,"  OF  ").concat(this._data.pickTotalCnt);for(var n=0;n<this._bubbleItems.length;n++)if(t==this._bubbleItems[n]){this._bubbleItems.splice(n,1);break}var a=t.getChildByName("spine").getComponent(sp.Skeleton);a.setAnimation(0,"animation03",!1),a.setCompleteListener(function(){a.node.removeFromParent(!0)});var o=this._data.serverPickData.finalResult.shift(),i=cc.v2(t.x,t.y),r=[this.free_cnt_count,this.pick_cnt_count][o.type-1].convertToWorldSpaceAR(cc.v2(0,0));r=this.cnt_ani_panel.convertToNodeSpaceAR(r),this.processReward(o,i,r)}}},processReward:function(e,t,n){var a=this,o=cc.instantiate([this.template_item_add_free,this.template_item_add_cnt][e.type-1]);o.getChildByName("label").getComponent(cc.Label).string="+"+e.cnt,o.active=!0,o.parent=this.cnt_ani_panel,o.x=t.x,o.y=t.y,cc.tween(o).to(.5,{x:n.x,y:n.y}).call(function(){o.removeFromParent(),1==e.type?a._addFreeCnt(e.cnt):a._addPickCnt(e.cnt),o.removeFromParent(!0),a._data.serverPickData.finalResult.length<1&&a.pickComplete()}).start()},pickComplete:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(2!=e._data.state){t.next=2;break}return t.abrupt("return");case 2:return e._data.state=2,e.clearBubble(),t.next=6,SlotsFacade.delayTime(1);case 6:e.sendMsg();case 7:case"end":return t.stop()}},t)}))()},destroyABubble:function(e){e&&e.parent&&(e.off(cc.Node.EventType.TOUCH_START,this.touchBubbleHandler.bind(this),this),e.removeFromParent(!0))},clearBubble:function(){var e=this;this._bubbleItems.forEach(function(t){e.destroyABubble(t)})},exit:function(){var e=this;cc.tween(this.panel).to(.5,{opacity:0}).call(function(){e.panel.active=!1,e._callBack&&e._callBack()}).start()},update:function(e){if(this._data&&1==this._data.state){this._data.restCdTime-=e,this._data.restCdTime<=0&&this.generateBubble();for(var t=s*e,n=0;n<this._bubbleItems.length;n++){var a=this._bubbleItems[n];a.y>this.bubble_panel.height+r?(this._bubbleItems.splice(n,1),a.removeFromParent(!0),n--):a.y+=t}}}}),cc._RF.pop()},{}],FantasyChocolateFactory_Popup:[function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function s(e){a(r,o,i,s,c,"next",e)}function c(e){a(r,o,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"95ca7mDRTFERqdo0IHeWvTW","FantasyChocolateFactory_Popup"),cc.Class({extends:cc.Component,properties:{bg:cc.Node},onLoad:function(){this.bg=this.node.getChildByName("bg")},showBg:function(e){this.bg.active=e},showWinFreeCoin:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("free_dialog_collect_show"),t.showBg(!0),(a=t.node.getChildByName("panel_win_free_coin")).active=!0,a.scale=0,a.getChildByName("label").getComponent("LabelRollCmp").startRoll(0,Math.floor(e/1e3)),cc.tween(a).to(.5,{scale:1},{easing:"backOut"}).start(),n.next=10,SlotsFacade.delayTime(.5);case 10:return n.next=12,new Promise(function(e){var n=a.getChildByName("btn_ok"),o=function o(){SlotsFacade.soundMgr.playEffect("free_dialog_collect_click"),n.stopAllActions(),n.off(cc.Node.EventType.TOUCH_END,o),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.showBg(!1),a.active=!1,e()}).start()};cc.vv.gameData.checkAutoPlay(n,o),n.on(cc.Node.EventType.TOUCH_END,o)});case 12:case"end":return n.stop()}},n)}))()},showWinFreeCnt:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("frame_pickCollect"),t.showBg(!0),(a=t.node.getChildByName("panel_win_free_cnt")).active=!0,a.scale=0,a.getChildByName("label").getComponent(cc.Label).string=e+"",cc.tween(a).to(.5,{scale:1},{easing:"backOut"}).start(),n.next=9,SlotsFacade.delayTime(.5);case 9:return n.next=11,new Promise(function(e){cc.tween(a).delay(2).call(function(){SlotsFacade.soundMgr.playEffect("frame_out")}).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.showBg(!1),a.active=!1,SlotsFacade.soundMgr.playEffect("popup_out"),e()}).start()});case 11:case"end":return n.stop()}},n)}))()},showWinJPCoin:function(e,t){var n=this;return o(regeneratorRuntime.mark(function a(){var o,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return SlotsFacade.soundMgr.playEffect("popup_jp_window"),n.showBg(!0),(o=n.node.getChildByName("panel_win_jp_coin")).active=!0,o.scale=0,i={1:0,2:0,3:1,4:2},o.getChildByName("jp_type_label").getComponent("ImgSwitchCmp").setIndex(i[e+""]),o.getChildByName("label").getComponent("LabelRollCmp").startRoll(0,t),cc.tween(o).to(.5,{scale:1},{easing:"backOut"}).start(),a.next=12,SlotsFacade.delayTime(.5);case 12:return a.next=14,new Promise(function(e){var t=o.getChildByName("btn_ok"),a=function a(){t.stopAllActions(),t.off(cc.Node.EventType.TOUCH_END,a),SlotsFacade.soundMgr.playEffect("frame_out"),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){n.showBg(!1),o.active=!1,e()}).start()};cc.vv.gameData.checkAutoPlay(t,a),t.on(cc.Node.EventType.TOUCH_END,a)});case 14:case"end":return a.stop()}},a)}))()},showStartPick:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.showBg(!0),(n=e.node.getChildByName("panel_bonus_start")).active=!0,n.scale=0,cc.tween(n).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=7,SlotsFacade.delayTime(.5);case 7:return t.next=9,new Promise(function(t){var a=n.getChildByName("btn_ok"),o=function o(){SlotsFacade.soundMgr.playEffect("frame_out"),a.stopAllActions(),a.off(cc.Node.EventType.TOUCH_END,o),cc.tween(n).to(.5,{scale:0},{easing:"backIn"}).call(function(){e.showBg(!1),n.active=!1,SlotsFacade.soundMgr.playEffect("popup_out"),t()}).start()};cc.vv.gameData.checkAutoPlay(a,o),a.on(cc.Node.EventType.TOUCH_END,o)});case 9:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{}],FantasyChocolateFactory_Reel:[function(e,t,n){"use strict";cc._RF.push(t,"e1ecdjeiCRHrYJQ9ssRUKhT","FantasyChocolateFactory_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],FantasyChocolateFactory_Slots:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t,n,a,o,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(a,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,c,"next",e)}function c(e){r(i,a,o,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"3d60fdWrbRD07fBkB8fcSQt","FantasyChocolateFactory_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{},StartMove:function(){this._super(),0==SlotsFacade.dm.GetTotalFree()&&SlotsFacade.soundMgr.playBgm(),SlotsFacade.bubbleGame.showBubbleNode(!0)},onMsgSpine:function(e){SlotsFacade.flowCtrl.onSpinMsg(e)},OnSpinEnd:function(){SlotsFacade.flowCtrl.spinEnd()},ReconnectShow:function(){this.scheduleOnce(function(){SlotsFacade.flowCtrl.enterRoom()})},playScatter:function(e){var t=this;return s(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("fg_bell"),e.forEach(function(e){t.GetSymbolByIdx(e).playTriggerAnimation()}),n.next=4,SlotsFacade.delayTime(1.5);case 4:case"end":return n.stop()}},n)}))()},getSymbolsByServerIds:function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.GetSymbolByIdx(e))}),n},showAllSymbolsToNormal:function(){this._reels.forEach(function(e){e._symbols.forEach(function(e){e.ShowKuang(!1),e.ShowNormal()})})},getIdxGlobalPos:function(e){var t=(e-1)%this._col,n=this._row-Math.floor((e-1)/this._col)-1,a=this._reels[t],o=a.GetSymbolPosByRow(n);return a.node.getChildByName("mask").convertToWorldSpaceAR(o)},update:function(e){if(this._stopTime>0&&(this._stopTime=this._stopTime-e,this._stopTime<=0))if(this._gameInfo){SlotsFacade.bubbleGame.moveBubble(),this._bottomScript.ShowBtnsByState("moveing_2");for(var t=0;t<this._reels.length;t++){var n=this._reels[t],a=this.GetReelStopInter(t);n.StopMove(a)}}else this._stopTime=e},SetReelStateInfo:function(e){var t=this;if(this._cfg.reelStateInfo){for(var n=[],o=0;o<e.length;o++){var i=e[o],r=o%this._col;n[r]||(n[r]=[]),n[r].push(i)}var s,c=a(this._cfg.reelStateInfo);try{var l=function(){var e=s.value,a=Global.copy(e);a.isStop=!1,a.isAnt=!1;for(var o=a.mini,i=Global.copy(a.counts),r=0,c=0;c<n.length;c++){var l=t._reels[c],u=n[c];a.isStop=!1,a.isAnt=!1,r>=o-1&&a.counts[c]>0&&(a.isAnt=!0);var d=u.reduce(function(e,t){return a.id.includes(t)?e+1:e+0},0);r+=d,i.shift();var m=(i.length>0?i.reduce(function(e,t){return e+t}):0)+r;d>0&&m>=o&&(a.isStop=!0,a.symbolStopSound="scatterSmart_stop_"+r),l.AddReelStateInfo(Global.copy(a))}};for(c.s();!(s=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}}}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],FantasyChocolateFactory_Sound:[function(e,t,n){"use strict";cc._RF.push(t,"88f2eZFbiRFSJGNfetbjN6O","FantasyChocolateFactory_Sound"),cc.Class({extends:cc.Component,properties:{_soundPath:"games/FantasyChocolateFactory/",_isPlayBgm:!1},playEffect:function(e,t){return cc.vv.AudioManager.playEff(this._soundPath,e,!0,t)},stopEffectByName:function(e){cc.vv.AudioManager.stopEffectByName(e)},stopEffect:function(){cc.vv.AudioManager.stopAudio()},playBgm:function(e){e?Global.SlotsSoundMgr.playBgm(e):Global.SlotsSoundMgr.playNormalBgm()},playFreeBgm:function(){this.playBgm("fgbgm")}}),cc._RF.pop()},{}],FantasyChocolateFactory_symbol:[function(e,t,n){"use strict";cc._RF.push(t,"e2863FYN0lHF7ajOhmJUHix","FantasyChocolateFactory_symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{isEpic:!1},changeToWild:function(){var e=SlotsFacade.dm.getGameCfg().wildId;this.ShowById(e),this.playWinAnimation()},playTriggerAnimation:function(){var e=!1,t=this._id,n=cc.vv.gameData.getGameCfg();if(n.symbol[t]&&n.symbol[t].win_node&&n.symbol[t].trigger_ani){this._state="trigger",this._showNode&&(this._showNode.active=!1);var a=this.setAnimationToTop(!0);a.active=!0;var o=cc.find(n.symbol[t].win_node,a);if(o.active=!0,""!=n.symbol[t].trigger_ani.name){a.zIndex=n.symbol[t].trigger_ani.zIndex-this._symbolIdx+10*this._reelIdx,e=!0;var i=o.getComponent(sp.Skeleton);i&&i.setAnimation(0,n.symbol[t].trigger_ani.name,!0)}}return e}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["FantasyChocolateFactory_BubbuleGame","FantasyChocolateFactory_Cfg","FantasyChocolateFactory_FlowCtrl","FantasyChocolateFactory_GameData","FantasyChocolateFactory_Logic","FantasyChocolateFactory_MainPanel","FantasyChocolateFactory_PickGame","FantasyChocolateFactory_Popup","FantasyChocolateFactory_Reel","FantasyChocolateFactory_Slots","FantasyChocolateFactory_Sound","FantasyChocolateFactory_symbol"]);