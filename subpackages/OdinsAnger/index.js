window.__require=function e(n,t,o){function a(i,r){if(!t[i]){if(!n[i]){var s=i.split("/");if(s=s[s.length-1],!n[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var u=t[i]={exports:{}};n[i][0].call(u.exports,function(e){return a(n[i][1][e]||e)},u,u.exports,e,n,t,o)}return t[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<o.length;i++)a(o[i]);return a}({OdinsAnger_Cfg:[function(e,n,t){"use strict";var o;function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}cc._RF.push(n,"bb6838hafdJF4yZ4VIk46gE","OdinsAnger_Cfg");var c={symbol:(o={},a(o,1,{node:"symbol_1",win_node:"animation_1",win_ani:{name:"animation",zIndex:300}}),a(o,2,{node:"symbol_2",win_node:"animation_2",win_ani:{name:"animation1",zIndex:300}}),a(o,3,{node:"symbol_3",win_node:"animation_3",win_ani:{name:"animation1",zIndex:300}}),a(o,4,{node:"symbol_4",win_node:"animation_4",win_ani:{name:"animation2",zIndex:300},stop_ani:{name:"animation1",zIndex:100}}),a(o,5,{node:"symbol_5"}),a(o,6,{node:"symbol_6",win_node:"animation_6",win_ani:{name:"animation",zIndex:300}}),a(o,7,{node:"symbol_7"}),a(o,8,{node:"symbol_8"}),a(o,9,{node:"symbol_9"}),a(o,10,{node:"symbol_10"}),a(o,11,{node:"symbol_11"}),a(o,12,{node:"symbol_12"}),a(o,13,{node:"symbol_13"}),a(o,14,{node:"symbol_14"}),a(o,15,{node:"symbol_15"}),a(o,16,{node:"symbol_16"}),o),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"OdinsAnger_Slots",Reels:"OdinsAnger_Reel",Symbols:"OdinsAnger_Symbol"},col:5,row:4,symbolPrefab:"symbol",symbolSize:{width:125,height:102},randomSymbols:[1,6,7,8,9,10,11,12,13,14,15,16],wildIds:[2,3],scatterId:4,kuang:"",speed:2e3,reelStopInter:.2,auto_stop_time:1,bounce:!0,helpItems:["games/OdinsAnger/prefab/help_item_1","games/OdinsAnger/prefab/help_item_2","games/OdinsAnger/prefab/help_item_3","games/OdinsAnger/prefab/help_item_4"],commEffect:{path:"games/OdinsAnger/",win1:["win1","win1end"],win2:["win2","win2end"]},bounceInfo:{distance:20,time:.1},AddAntiTime:1.9,reelStateInfo:[{id:[4],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/OdinsAnger/",reelStopSound:"reel_stop",symbolStopSound:"scatterSmart_stop_",antSound:"anticipation",antSpeed:2e3}],normalBgm:"base_bgm"};n.exports=c,cc._RF.pop()},{}],OdinsAnger_Logic:[function(e,n,t){"use strict";cc._RF.push(n,"e937dceyqdE2oi7ydi8tcBV","OdinsAnger_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{_lockBonus:!1},onLoad:function(){this._super(),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onUpdateBet,this);var e=cc.vv.gameData.getDeskInfo();this._lockBonus=e.needBet>e.currmult,cc.vv.gameData.GetSlotsScript().setWheelScript(cc.find("safe_node/wheel",this.node).getComponent("OdinsAnger_Wheel"))},onUpdateBet:function(){var e=this,n=cc.vv.gameData.getDeskInfo(),t=cc.find("safe_node/slots/collect_node/bonus_node/lock",this.node).getComponent(sp.Skeleton);n.needBet<=cc.vv.gameData.GetBetIdx()&&this._lockBonus?(this._playLockTipsAnimation(!1),cc.vv.AudioManager.playEff("games/OdinsAnger/","unlock",!0),this._lockBonus=!1,t.clearTracks(),t.setToSetupPose(),t.setAnimation(0,"animation1",!1),t.setCompleteListener(function(n){"animation1"===(n.animation?n.animation.name:"")&&(cc.find("safe_node/slots/collect_node/bonus_node/lock",e.node).active=!1)})):n.needBet>cc.vv.gameData.GetBetIdx()&&!this._lockBonus&&(this._playLockTipsAnimation(!0),cc.vv.AudioManager.playEff("games/OdinsAnger/","lock",!0),this._lockBonus=!0,cc.find("safe_node/slots/collect_node/bonus_node/lock",this.node).active=!0,t.clearTracks(),t.setToSetupPose(),t.setAnimation(0,"animation2",!1))},_playLockTipsAnimation:function(e){var n=cc.find("safe_node/slots/img_lock",this.node),t=cc.find("safe_node/slots/img_unlock",this.node);n.cleanup(),t.cleanup(),n.active=e,t.active=!e,n.y=-261,t.y=-261;var o=e?n:t;cc.tween(o).call(function(){cc.vv.AudioManager.playEff("games/OdinsAnger/","text_in",!0)}).by(.3,{y:91}).delay(1).call(function(){cc.vv.AudioManager.playEff("games/OdinsAnger/","text_out",!0)}).by(.3,{y:-91}).start()}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],OdinsAnger_Reel:[function(e,n,t){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c,i=!0,r=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){r=!0,c=e},f:function(){try{i||null==o.return||o.return()}finally{if(r)throw c}}}}function a(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}cc._RF.push(n,"c8f32LYsB9Ph7/pjbcnfmZG","OdinsAnger_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},OnReelSpinEnd:function(){this._super()},playReelStop:function(){for(var e=0;e<this._originResult.length;e++){var n,t=this._symbols[e],a=o(this._reelState);try{for(a.s();!(n=a.n()).done;){var c=n.value;c.isStop&&c.id.includes(t.GetShowId())&&t.playStopAnimation()}}catch(e){a.e(e)}finally{a.f()}}if(this._cfg.reelStateInfo&&this._cfg.reelStateInfo[0]){var i,r="",s="",l=!1,u=o(this._reelState);try{for(u.s();!(i=u.n()).done;){var d=i.value;d.isStop?(s=d.symbolStopSound?d.symbolStopSound+(this._reelIdx+1):"",l=!0):r=d.reelStopSound?d.reelStopSound:""}}catch(e){u.e(e)}finally{u.f()}l&&(r=s),cc.vv.AudioManager.playEff(this._cfg.reelStateInfo[0].path,r,!0)}}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],OdinsAnger_Slots:[function(e,n,t){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c,i=!0,r=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){r=!0,c=e},f:function(){try{i||null==o.return||o.return()}finally{if(r)throw c}}}}function a(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function i(e,n,t,o,a,c,i){try{var r=e[c](i),s=r.value}catch(e){return void t(e)}r.done?n(s):Promise.resolve(s).then(o,a)}function r(e){return function(){var n=this,t=arguments;return new Promise(function(o,a){var c=e.apply(n,t);function r(e){i(c,o,a,r,s,"next",e)}function s(e){i(c,o,a,r,s,"throw",e)}r(void 0)})}}cc._RF.push(n,"953be8xrIxMsL/rji9s0Ue0","OdinsAnger_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_wheel_script:null,_curFreeLevel:0,_isFreeGame:!1,_wheelWin:0},Init:function(){var e=this;this._super();var n=cc.find("collect_node/bonus_node",this.node),t=cc.vv.gameData.getDeskInfo();n.on(cc.Node.EventType.TOUCH_END,function(){t.needBet>t.currmult&&"idle"===cc.vv.gameData.GetSlotState()&&e._bottomScript.SetBetIdx(t.needBet)});var o=cc.find("lock",n).getComponent(sp.Skeleton);t.needBet<=t.currmult?(cc.find("lock",n).active=!1,cc.vv.AudioManager.playEff("games/OdinsAnger/","unlock",!0),o.clearTracks(),o.setToSetupPose(),o.setAnimation(0,"animation1",!1),o.setCompleteListener(function(e){"animation1"===(e.animation?e.animation.name:"")&&(cc.find("lock",n).active=!1)})):(cc.find("lock",n).active=!0,cc.vv.AudioManager.playEff("games/OdinsAnger/","lock",!0),o.clearTracks(),o.setToSetupPose(),o.setAnimation(0,"animation2",!1));var a=cc.find("collect_node/small_wheel/mask/wheel",this.node);cc.tween(a).repeatForever(cc.tween().by(4,{angle:-360})).start(),this.ReconnectShowWheel(t.collectGame)},StartMove:function(){this._gameInfo&&this._gameInfo.nextCollectGame&&this.updateCollectProgress(this._gameInfo.nextCollectGame,!1),this._super(),this.setWheelWin(0),Global.SlotsSoundMgr.playNormalBgm()},ReconnectShow:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e._super();case 1:case"end":return n.stop()}},n)}))()},ReconnectShowWheel:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e&&3===e.state&&cc.vv.gameData.GetBottomScript().ShowBtnsByState("moveing_1"),t.next=3,n.updateCollectProgress(e,!1);case 3:cc.vv.gameData.GetBottomScript().ShowBtnsByState("idle");case 4:case"end":return t.stop()}},t)}))()},onMsgSpine:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n._super(e),n._gameInfo.mammothGame&&!n._isFreeGame&&(n.SetStopTime(3),n.triggerRandomGame());case 2:case"end":return t.stop()}},t)}))()},CheckEnterFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetFreeTime()===cc.vv.gameData.GetTotalFree()},CheckExtraFreeGame:function(){return!!(this._gameInfo.freeResult&&this._gameInfo.freeResult.freeInfo&&this._gameInfo.freeResult.freeInfo.freeCnt>0)},CheckExitFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&0===cc.vv.gameData.GetFreeTime()},ShowWinTrace:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=r(regeneratorRuntime.mark(function n(t){var o,a,c,i,r,s,l,u,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(o=[],a=0;a<e._gameInfo.zjLuXian.length;a++)for(c=e._gameInfo.zjLuXian[a],i=0;i<c.indexs.length;i++)o[c.indexs[i]]=1;if(!(cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime())){n.next=9;break}for(s in r=!1,o)(l=e.GetSymbolByIdx(Number(s)))&&-1!==e._cfg.wildIds.indexOf(l.GetShowId())&&(r=!0,l.playWinAnimation());if(!r){n.next=9;break}return cc.vv.AudioManager.playEff("games/OdinsAnger/","wild_multiplier",!0),n.next=9,e.awaitTime(1.5);case 9:for(u in o)(d=e.GetSymbolByIdx(Number(u)))&&(cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()&&-1!==e._cfg.wildIds.indexOf(d.GetShowId())||d.playWinAnimation(),d.ShowKuang());t();case 11:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},OnSpinEnd:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e._gameInfo.freeCollect){n.next=7;break}return n.next=3,e.triggerCollectInFree();case 3:return n.next=5,e.ShowWinTrace();case 5:n.next=14;break;case 7:if(e.ShowWinTrace(),!e._gameInfo.wheelGame){n.next=13;break}return n.next=11,e.triggerCollect();case 11:n.next=14;break;case 13:e.triggerCollect();case 14:t=cc.vv.gameData.GetGameWin(),o=cc.vv.gameData.GetGameWin(),e._gameInfo.wheelGame&&(t+=e._wheelWin,o+=e._wheelWin),cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()&&(o=cc.vv.gameData.GetGameTotalFreeWin()),e.ShowBottomWin(t,o,!0,r(regeneratorRuntime.mark(function n(){var t,o,a,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.CheckEnterFreeGame())e.triggerFreeGame();else if(e.CheckExtraFreeGame())e.triggerExtraFreeGame();else if(e.CheckExitFreeGame())e.triggerExitFreeGame();else{if(cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime())for(t=e._gameInfo.freeCollect,o=t.cfg,a=0;a<o.length;a++)o[a].total-t.num<=0&&(0,c=cc.find("free_collect_node/node_"+(a+1),e.node),cc.find("collect",c).active&&function(){var e=cc.find("sz_qh_02",c);e.active=!0,e.getComponent(sp.Skeleton).setToSetupPose(),e.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){e.active=!1}),cc.vv.AudioManager.playEff("games/OdinsAnger/","golden_change",!0),cc.find("collect",c).active=!1,cc.find("full",c).active=!0}());e.CanDoNextRound()}case 1:case"end":return n.stop()}},n)})));case 19:case"end":return n.stop()}},n)}))()},triggerCollect:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t,o,a,c,i,r,s,l,u,d,m,f,p,g,_,v;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(3===(t=e._gameInfo.collectGame).state&&e._bottomScript.ShowBtnsByState("unstoped"),o=.8,0===t.state){n.next=35;break}for(a=!1,c=cc.find("collect_node/icon_bg/spine_7",e.node).convertToWorldSpaceAR(cc.v2(0,0)),c=e.node.parent.convertToNodeSpaceAR(c),i=0;i<e._gameInfo.resultCards.length;i++)(r=e._gameInfo.resultCards[i])===t.card&&(a=!0,(s=cc.instantiate(cc.find("spine_collect_symbol_fly",e.node.parent))).active=!0,s.parent=e.node.parent,l=e.GetSymbolByIdx(i+1),u=l.node.convertToWorldSpaceAR(cc.v2(0,0)),u=e.node.parent.convertToNodeSpaceAR(u),s.position=u,d="animation"+(r-4),(m=s.getComponent(sp.Skeleton)).setToSetupPose(),m.setAnimation(0,d,!1),(f=cc.instantiate(cc.find("particle_tuowei",e.node.parent))).parent=s,f.active=!0,cc.tween(s).delay(.4).to(o-.4,{position:c}).removeSelf().start());if(!a){n.next=33;break}return cc.vv.AudioManager.playEff("games/OdinsAnger/","symbol_fly",!0),n.next=12,e.awaitTime(o);case 12:return cc.vv.AudioManager.playEff("games/OdinsAnger/","symbol_receive",!0),(p=cc.instantiate(cc.find("particle_tuowei",e.node.parent))).parent=e.node.parent,p.active=!0,p.position=c,cc.tween(p).delay(.5).removeSelf().start(),g=cc.find("collect_node/icon_bg/spine_"+t.card,e.node),_="animation",6===t.card&&(_="animation1"),g.getComponent(sp.Skeleton).setToSetupPose(),g.getComponent(sp.Skeleton).setAnimation(0,_,!1),(v=cc.find("collect_node/progress/node/spine_collect",e.node).getComponent(sp.Skeleton)).node.active=!0,v.node.parent.scaleX=t.cnum/t.total,v.setToSetupPose(),v.setAnimation(0,"animation",!1),v.setCompleteListener(function(){v.node.active=!1}),n.next=31,e.updateCollectProgress(t,!0);case 31:n.next=35;break;case 33:return n.next=35,e.updateCollectProgress(t,!1);case 35:case"end":return n.stop()}},n)}))()},triggerCollectInFree:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t,o,a,c,i,r,s,l,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(4!==(t=e._gameInfo.freeCollect).level){n.next=3;break}return n.abrupt("return");case 3:if(t.idxs){n.next=5;break}return n.abrupt("return");case 5:for(o=!1,a=cc.find("free_collect_node/node_"+(t.level+1)+"/collect/num",e.node).convertToWorldSpaceAR(cc.v2(0,0)),c=cc.find("free_collect_node/node_"+(t.level+1)+"/collect/sz_qh_01",e.node),e._curFreeLevel!==t.level&&(a=cc.find("free_collect_node/node_"+t.level+"/collect/num",e.node).convertToWorldSpaceAR(cc.v2(0,0)),c=cc.find("free_collect_node/node_"+t.level+"/collect/sz_qh_01",e.node)),e._curFreeLevel=t.level,a=e.node.parent.convertToNodeSpaceAR(a),i=function(n){var c=t.idxs[n];o=!0;var i=cc.instantiate(cc.find("spine_collect_symbol_fly",e.node.parent));i.active=!0,i.parent=e.node.parent;var r=e.GetSymbolByIdx(c),s=r.node.convertToWorldSpaceAR(cc.v2(0,0));s=e.node.parent.convertToNodeSpaceAR(s),i.position=s;var l=i.getComponent(sp.Skeleton);l.setToSetupPose(),l.setAnimation(0,"animation1",!1),cc.tween(i).delay(.4).to(.4,{position:a}).removeSelf().start();var u=cc.instantiate(cc.find("spine_collect_symbol_fly",e.node.parent));u.active=!0,u.parent=e.node.parent,u.position=s;var d=u.getComponent(sp.Skeleton);d.setToSetupPose(),d.setAnimation(0,"animation2_1",!1),d.setCompleteListener(function(){r.ShowById(6),u.removeFromParent()})},r=0;r<t.idxs.length;r++)i(r);if(!o){n.next=23;break}return cc.vv.AudioManager.playEff("games/OdinsAnger/","golden_on_reel",!0),n.next=17,e.awaitTime(.8);case 17:for(c.active=!0,c.getComponent(sp.Skeleton).setToSetupPose(),c.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),c.getComponent(sp.Skeleton).setCompleteListener(function(){c.active=!1}),s=t.cfg,l=0;l<s.length;l++)(u=s[l].total-t.num)<0&&(u=0),cc.find("free_collect_node/node_"+(l+1)+"/collect/num",e.node).getComponent(cc.Label).string=u;case 23:case"end":return n.stop()}},n)}))()},triggerFreeGame:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(e._bottomScript.ShowBtnsByState("moveing_1"),e._curFreeLevel=0,t=0;t<e._gameInfo.resultCards.length;t++)e._gameInfo.resultCards[t]===e._cfg.scatterId&&e.GetSymbolByIdx(t+1).playWinAnimation();return cc.vv.AudioManager.playEff("games/OdinsAnger/","fg_bell",!0),n.next=6,e.awaitTime(2);case 6:return n.next=8,e.popFreeDialog(!1);case 8:return e.cutScenesElephant(),n.next=11,e.awaitTime(1.7);case 11:return e.Backup(),e.ShowGameview(!0),n.next=15,e.awaitTime(2);case 15:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("free_bgm"),e.CanDoNextRound();case 18:case"end":return n.stop()}},n)}))()},triggerExtraFreeGame:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(e._bottomScript.ShowBtnsByState("moveing_1"),t=0;t<e._gameInfo.resultCards.length;t++)e._gameInfo.resultCards[t]===e._cfg.scatterId&&e.GetSymbolByIdx(t+1).playWinAnimation();return cc.vv.AudioManager.playEff("games/OdinsAnger/","fg_bell",!0),n.next=5,e.awaitTime(2);case 5:return n.next=7,e.popFreeDialog(!0);case 7:e.CanDoNextRound();case 8:case"end":return n.stop()}},n)}))()},triggerExitFreeGame:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),n.next=3,e.awaitTime(1);case 3:return n.next=5,e.popFreeResultDialog();case 5:return e.cutScenesElephant(),n.next=8,e.awaitTime(1.7);case 8:e.Resume(),e.ShowGameview(!1),e.ShowBottomWin(cc.vv.gameData.GetGameTotalFreeWin(),cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e.CanDoNextRound()});case 11:case"end":return n.stop()}},n)}))()},cutScenesElephant:function(){var e=cc.find("character",this.node.parent);e.active&&(e.active=!1),cc.vv.AudioManager.playEff("games/OdinsAnger/","transition",!0);var n=cc.find("QP_01",this.node.parent);n.active=!0,n.getComponent(sp.Skeleton).setToSetupPose(),n.getComponent(sp.Skeleton).setAnimation(0,"skill",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){n.active=!1})},ShowGameview:function(e){if(this._super(e),this._isFreeGame=e,cc.find("collect_node",this.node).active=!e,cc.find("free_collect_node",this.node).active=e,cc.find("character",this.node.parent).active=!e,e){for(var n=this._gameInfo&&this._gameInfo.freeCollect?this._gameInfo.freeCollect:cc.vv.gameData.getDeskInfo().freeGameData.collect,t=n.cfg,o=0;o<t.length;o++)cc.find("free_collect_node/node_"+(o+1)+"/collect/num",this.node).getComponent(cc.Label).string=t[o].total-n.num;for(var a=1;a<5;a++)cc.find("free_collect_node/node_"+a+"/collect",this.node).active=a>n.level,cc.find("free_collect_node/node_"+a+"/full",this.node).active=a<=n.level}},shake:function(){var e,n=o(this.node.parent.children);try{for(n.s();!(e=n.n()).done;){var t=e.value;if("LMSlots_Top"!==t.name&&"LMSlots_Bottom"!==t.name&&"character"!==t.name&&t.active){var a=cc.shake(3,15,15);t.runAction(a)}}}catch(e){n.e(e)}finally{n.f()}},triggerRandomGame:function(){cc.vv.AudioManager.playEff("games/OdinsAnger/","stimulate",!0);var e=cc.find("character",this.node.parent);e.getComponent(sp.Skeleton).setAnimation(0,"skill2",!1),e.getComponent(sp.Skeleton).addAnimation(0,"idle",!0),this.shake()},popFreeDialog:function(e){var n=this;return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(o){var a,c,i,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=cc.find("free_dialog",n.node.parent)).active=!0,(c=cc.find("free_dialog_bg",a)).opacity=0,c.runAction(cc.fadeTo(.2,200)),i=cc.find("common_enter_node",a),e&&(i=cc.find("extra_node",a)),i.active=!0,i.scale=0,Global.SlotsSoundMgr.stopBgm(),cc.vv.AudioManager.playEff("games/OdinsAnger/","popup_trigger",!0),i.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),!e){t.next=21;break}return cc.find("times",i).getComponent(cc.Label).string=n._gameInfo.freeResult.freeInfo.freeCnt,t.next=16,n.awaitTime(2);case 16:cc.vv.AudioManager.playEff("games/OdinsAnger/","popup_out",!0),i.runAction(cc.sequence(cc.scaleTo(.5,0),cc.callFunc(function(){i.active=!1,a.active=!1,o()}))),c.runAction(cc.fadeOut(.2)),t.next=29;break;case 21:return r=cc.find("btn",i),cc.find("times",i).getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),t.next=25,n.awaitTime(.5);case 25:s=function(){r.off(cc.Node.EventType.TOUCH_END),cc.vv.AudioManager.playEff("games/OdinsAnger/","popup_out",!0),i.runAction(cc.sequence(cc.scaleTo(.5,0),cc.callFunc(function(){i.active=!1,a.active=!1,o()}))),c.runAction(cc.fadeOut(.2))},cc.vv.gameData.checkAutoPlay(i,s),r.off(cc.Node.EventType.TOUCH_END),r.on(cc.Node.EventType.TOUCH_END,function(){r.stopAllActions(),cc.vv.AudioManager.playEff("games/OdinsAnger/","free_dialog_collect_click",!0),s()});case 29:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},popFreeResultDialog:function(){var e=this;return new Promise(function(){var n=r(regeneratorRuntime.mark(function n(t){var o,a,c,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.stopBgm(),cc.vv.AudioManager.playEff("games/OdinsAnger/","free_dialog_collect_show",!0),(o=cc.find("free_dialog",e.node.parent)).active=!0,(a=cc.find("free_dialog_bg",o)).opacity=0,a.runAction(cc.fadeTo(.2,200)),(c=cc.find("result_node",o)).active=!0,c.scale=0,c.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),Global.doRoallNumEff(cc.find("coin",c),0,cc.vv.gameData.GetGameTotalFreeWin(),3,null,null,0,!0),n.next=14,e.awaitTime(.5);case 14:i=function(){cc.find("btn_collect",c).off("click");var e=0;Global.FormatCommaNumToNum(cc.find("coin",c).getComponent(cc.Label).string)!=cc.vv.gameData.GetGameTotalFreeWin()&&(cc.find("coin",c).stopAllActions(),cc.find("coin",c).getComponent(cc.Label).string=Global.FormatNumToComma(cc.vv.gameData.GetGameTotalFreeWin()),e=.3),cc.vv.AudioManager.playEff("games/OdinsAnger/","popup_out",!0),c.runAction(cc.sequence(cc.delayTime(e),cc.scaleTo(.5,0),cc.callFunc(function(){c.active=!1,o.active=!1,t()}))),a.runAction(cc.fadeOut(.2))},cc.vv.gameData.checkAutoPlay(c,i),cc.find("btn_collect",c).off("click"),cc.find("btn_collect",c).on("click",function(){c.stopAllActions(),cc.vv.AudioManager.playEff("games/OdinsAnger/","free_dialog_collect_click",!0),i()});case 18:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())},updateCollectProgress:function(e,n){var t=this;return r(regeneratorRuntime.mark(function o(){var a,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(cc.find("collect_node/counter",t.node).active=2!==e.state,cc.find("collect_node/spin_counter",t.node).active=2!==e.state,cc.find("collect_node/tips_failed",t.node).active=2===e.state,cc.find("collect_node/progress/spine_full",t.node).active=3===e.state,cc.find("collect_node/small_wheel/spine_full",t.node).active=3===e.state,a=cc.find("collect_node/progress/mask/bar",t.node),2!==e.state){o.next=11;break}cc.vv.AudioManager.playEff("games/OdinsAnger/","voice_mammoth",!0),a.position=cc.v2(0,0),o.next=34;break;case 11:if(3!==e.state){o.next=27;break}return cc.vv.AudioManager.playEff("games/OdinsAnger/","collect_full",!0),cc.find("collect_node/counter/num",t.node).getComponent(cc.Label).string="COLLECT  0",n?cc.tween(a).to(.5,{position:cc.v2(a.width*(e.cnum/e.total),0)}).start():a.position=cc.v2(a.width*(e.cnum/e.total),0),cc.find("collect_node/spin_counter/num",t.node).getComponent(cc.Label).string="IN  "+(e.spin-e.snum)+"  SPIN",o.next=20,t.awaitTime(2);case 20:return cc.vv.AudioManager.playEff("games/OdinsAnger/","fg_bell",!0),o.next=23,t.awaitTime(1);case 23:return o.next=25,t._wheel_script.startWheel(t._gameInfo?t._gameInfo.wheelGame:cc.vv.gameData.getDeskInfo().wheelGame);case 25:o.next=34;break;case 27:for(c=6;c<11;c++)cc.find("collect_node/icon_bg/spine_"+c,t.node).active=!1;cc.find("collect_node/icon_bg/spine_"+e.card,t.node).active=!0,cc.find("collect_node/counter/num",t.node).getComponent(cc.Label).string="COLLECT  "+(e.total-e.cnum),n?cc.tween(a).to(.5,{position:cc.v2(a.width*(e.cnum/e.total),0)}).start():a.position=cc.v2(a.width*(e.cnum/e.total),0),cc.find("collect_node/spin_counter/num",t.node).getComponent(cc.Label).string="IN  "+(e.spin-e.snum)+"  SPIN";case 34:case"end":return o.stop()}},o)}))()},setWheelScript:function(e){this._wheel_script=e},setWheelWin:function(e){this._wheelWin=e},awaitTime:function(e){var n=this;return new Promise(function(t,o){n.scheduleOnce(function(){t()},e)})},GetTimeScale:function(){return this._timeScaleVal||1.5}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],OdinsAnger_Symbol:[function(e,n,t){"use strict";cc._RF.push(n,"9644cDL6qNOvbEcd8srfFvH","OdinsAnger_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},playWinAnimation:function(){this._showNode&&(this._showNode.active=!1);var e=this._id,n=cc.vv.gameData.getGameCfg();if(n.symbol[e]&&n.symbol[e].win_node){this._state="win",this._showNode&&(this._showNode.active=!1);var t=this.setAnimationToTop(!0);t.active=!0;var o=cc.find(n.symbol[e].win_node,t);if(o.active=!0,n.symbol[e].win_ani&&""!==n.symbol[e].win_ani.name){t.zIndex=n.symbol[e].win_ani.zIndex-this._symbolIdx+10*this._reelIdx;var a=o.getComponent(sp.Skeleton);a&&(2===e||3===e?(a.setAnimation(0,n.symbol[e].win_ani.name,!1),a.setCompleteListener(function(t){(t.animation?t.animation.name:"")===n.symbol[e].win_ani.name&&(a.clearTracks(),a.setAnimation(0,"animation",!0))})):a.setAnimation(0,n.symbol[e].win_ani.name,!0))}}else this._showNode.active=!0,this.playWinTweenAction()},playWinTweenAction:function(){this._showNode.cleanup(),this._showNodeOrgScale=this._showNode.scale,cc.tween(this._showNode).repeatForever(cc.tween().to(.35,{opacity:0}).to(.35,{opacity:255}).delay(1)).start()}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}],OdinsAnger_Wheel:[function(e,n,t){"use strict";function o(e,n,t,o,a,c,i){try{var r=e[c](i),s=r.value}catch(e){return void t(e)}r.done?n(s):Promise.resolve(s).then(o,a)}function a(e){return function(){var n=this,t=arguments;return new Promise(function(a,c){var i=e.apply(n,t);function r(e){o(i,a,c,r,s,"next",e)}function s(e){o(i,a,c,r,s,"throw",e)}r(void 0)})}}cc._RF.push(n,"8a257pDjcJMXIkdy6DMx/rT","OdinsAnger_Wheel"),cc.Class({extends:cc.Component,properties:{black_bg:cc.Node,wheel_node:cc.Node,wheel:cc.Node,spine_win:sp.Skeleton,spine_idle:sp.Skeleton,spine_click:sp.Skeleton,result_node:cc.Node,winCoin:cc.Label,btn_collect:cc.Button,_successCallback:null},onLoad:function(){cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubgameData,this)},startWheel:function(e){var n=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){cc.find("LMSlots_PrizePool_1",n.node.parent).getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:1,pauseNum:e.poolList[1]},{prizeType:2,pauseNum:e.poolList[2]},{prizeType:3,pauseNum:e.poolList[3]}]),n._successCallback=t,n.node.active=!0,n.black_bg.opacity=0,Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("bonus_bgm"),cc.tween(n.black_bg).to(.5,{opacity:200}).start();for(var o=e.cfg,a=0;a<o.length;a++){var c=o[a];if("MULT"===c.rtype){var i=cc.find("index_"+(a+1),n.wheel);i&&(i.getComponent(cc.Label).string=Global.formatNumShort(c.num,0))}}n.wheel_node.active=!0,n.wheel_node.y=-cc.winSize.height,n.wheel.rotation=0,n.spine_win.node.active=!1,n.spine_idle.clearTracks(),n.spine_idle.setToSetupPose(),n.spine_idle.setAnimation(0,"animation1",!0),n.spine_click.node.active=!1;var r=n;cc.tween(n.wheel_node).delay(.2).call(function(){cc.vv.AudioManager.playEff("games/OdinsAnger/","wheel_out",!0)}).by(.3,{y:cc.winSize.height}).call(function(){var e=function(){r.spine_idle.node.off(cc.Node.EventType.TOUCH_END);var e={c:MsgId.SLOT_SUBGAME_DATA};e.gameid=cc.vv.gameData.getGameId(),e.data={},e.data.rtype=1,cc.vv.NetManager.send(e,!0)};cc.vv.gameData.checkAutoPlay(r.spine_idle.node,e),n.spine_idle.node.off(cc.Node.EventType.TOUCH_END),n.spine_idle.node.on(cc.Node.EventType.TOUCH_END,function(){r.spine_idle.node.stopAllActions(),cc.vv.AudioManager.playEff("games/OdinsAnger/","wheel_click_spinbtn",!0),e()})}).start(),n.result_node.active=!1}));case 1:case"end":return t.stop()}},t)}))()},onRcvSubgameData:function(e){var n=this;return a(regeneratorRuntime.mark(function t(){var o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.spine_click.node.active=!0,n.spine_click.setToSetupPose(),n.spine_click.setAnimation(0,"animation",!1),n.spine_click.setCompleteListener(function(){n.spine_click.node.active=!1}),cc.tween(n.spine_idle).delay(.5).call(function(){n.spine_idle.clearTracks(),n.spine_idle.setToSetupPose(),n.spine_idle.setAnimation(0,"animation2",!0)}).start(),t.next=7,n._rotateWheel(e.data.idx-1);case 7:return n.spine_win.node.active=!0,n.spine_win.setToSetupPose(),n.spine_win.setAnimation(0,"animation",!0),cc.vv.AudioManager.playEff("games/OdinsAnger/","wheel_celebration",!0),t.next=13,n.awaitTime(3);case 13:return n.spine_win.active=!1,Global.SlotsSoundMgr.stopBgm(),cc.vv.AudioManager.playEff("games/OdinsAnger/","free_dialog_collect_show",!0),n.result_node.active=!0,n.result_node.scale=0,cc.tween(n.result_node).to(.4,{scale:1},{easing:"backOut"}).start(),Global.doRoallNumEff(n.winCoin.node,0,e.data.winCoin,3,null,null,0,!0),o=n,c=function(){return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o.btn_collect.node.off("click"),cc.vv.AudioManager.playEff("games/OdinsAnger/","popup_out",!0),o.winCoin.node.stopAllActions(),!(Global.FormatCommaNumToNum(o.winCoin.string)<e.data.winCoin)){n.next=7;break}return o.winCoin.string=Global.FormatNumToComma(e.data.winCoin),n.next=7,o.awaitTime(.2);case 7:cc.tween(o.result_node).to(.4,{scale:0},{easing:"backIn"}).start(),cc.tween(o.wheel_node).delay(.2).by(.4,{y:-cc.winSize.height}).start(),cc.tween(o.black_bg).delay(.2).to(.4,{opacity:0}).start(),cc.tween(o.node).delay(.3).call(function(){cc.vv.gameData.GetSlotsScript().updateCollectProgress(e.data.nextCollectGame,!1)}).delay(.3).call(function(){cc.vv.gameData.AddCoin(e.data.winCoin),cc.vv.gameData.GetSlotsScript().setWheelWin(e.data.winCoin),o._successCallback&&(o._successCallback(),o._successCallback=null,Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),o.node.active=!1,cc.find("LMSlots_PrizePool_1",o.node.parent).getComponent("LMSlots_PrizePool_Base").ResumePausePool())}).start();case 11:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())},t.next=24,cc.vv.gameData.checkAutoPlay(n.btn_collect.node,c);case 24:n.btn_collect.node.off("click"),n.btn_collect.node.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.btn_collect.node.stopAllActions(),e.next=3,c();case 3:case"end":return e.stop()}},e)})));case 26:case"end":return t.stop()}},t)}))()},_rotateWheel:function(e){var n=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){var o=40*e-2160;cc.log(o),cc.vv.AudioManager.playEff("games/OdinsAnger/","wheel_spin",!0);var a=cc.rotateBy(6,o).easing(cc.easeSineInOut());n.wheel.runAction(cc.sequence(a,cc.callFunc(function(){cc.vv.AudioManager.playEff("games/OdinsAnger/","wheel_end",!0),t()})))}));case 1:case"end":return t.stop()}},t)}))()},onDestroy:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubgameData,!1,this)},awaitTime:function(e){var n=this;return new Promise(function(t,o){n.scheduleOnce(function(){t()},e)})}}),cc._RF.pop()},{}]},{},["OdinsAnger_Cfg","OdinsAnger_Logic","OdinsAnger_Reel","OdinsAnger_Slots","OdinsAnger_Symbol","OdinsAnger_Wheel"]);