window.__require=function e(t,n,a){function i(o,r){if(!n[o]){if(!t[o]){var s=o.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!r&&u)return u(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+o+"'")}o=s}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){return i(t[o][1][e]||e)},l,l.exports,e,t,n,a)}return n[o].exports}for(var c="function"==typeof __require&&__require,o=0;o<a.length;o++)i(a[o]);return i}({Hestia_Cfg:[function(e,t,n){"use strict";var a;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"acdadzEDONLObavw1rti+qY","Hestia_Cfg");var c={symbol:(a={},i(a,1,{node:"s1",win_node:"w1",win_ani:{name:"actionframe",zIndex:300}}),i(a,2,{node:"s2",win_node:"w2",stop_ani:{name:"buling",zIndex:100},trigger_ani:{name:"actionframe",zIndex:300}}),i(a,3,{node:"s3",win_node:"w3",win_ani:{name:"actionframe",zIndex:300}}),i(a,4,{node:"s4",win_node:"w4",win_ani:{name:"actionframe",zIndex:300}}),i(a,5,{node:"s5",win_node:"w5",win_ani:{name:"actionframe",zIndex:300}}),i(a,6,{node:"s6",win_node:"w6",win_ani:{name:"actionframe",zIndex:300}}),i(a,7,{node:"s7",win_node:"w7",win_ani:{name:"actionframe",zIndex:300}}),i(a,8,{node:"s8",win_node:""}),i(a,9,{node:"s9",win_node:""}),i(a,10,{node:"s10",win_node:""}),i(a,11,{node:"s11",win_node:""}),i(a,12,{node:"s12",win_node:""}),i(a,13,{node:"s13",win_node:""}),i(a,101,{node:"s101",win_node:"w101",win_ani:{name:"actionframe",zIndex:300}}),i(a,102,{node:"s102",win_node:"w102",win_ani:{name:"actionframe",zIndex:300}}),i(a,103,{node:"s103",win_node:"w103",win_ani:{name:"actionframe",zIndex:300}}),i(a,104,{node:"s104",win_node:"w104",win_ani:{name:"actionframe",zIndex:300}}),i(a,105,{node:"s105",win_node:"w105",win_ani:{name:"actionframe",zIndex:300}}),i(a,106,{node:"s106",win_node:"w106",win_ani:{name:"actionframe",zIndex:300}}),a),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"Hestia_Slots",Reels:"Hestia_Reel",Symbols:"Hestia_Symbol"},col:5,row:5,symbolPrefab:"LMSlots_Symbol",symbolSize:{height:110},randomSymbols:[1,4,5,6,7,8,9,10,11,12,13],kuang:"kuang",speed:3e3,autoModelDelay:.5,reelStopInter:.2,auto_stop_time:1,bounceInfo:{distance:30,time:.2},normalBgm:"music_Dragons_basegame",helpItems:["games/Hestia/prefab/help_node/LMSlots_Help_item1","games/Hestia/prefab/help_node/LMSlots_Help_item2","games/Hestia/prefab/help_node/LMSlots_Help_item3","games/Hestia/prefab/help_node/LMSlots_Help_item4","games/Hestia/prefab/help_node/LMSlots_Help_item5","games/Hestia/prefab/help_node/LMSlots_Help_item6"],commEffect:{path:"games/Hestia/",win1:["sound_Dragons_last_win1",""],win2:["sound_Dragons_last_win2",""]},AddAntiTime:1.8,reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/Hestia/",reelStopSound:"sound_Dragons_reel_stop",symbolStopSound:["sound_Dragons_scatter1","sound_Dragons_scatter2","sound_Dragons_scatter3","sound_Dragons_scatter4","sound_Dragons_scatter5"],antSound:"",antSpeed:2e3,continuous:!0}]};t.exports=c,cc._RF.pop()},{}],Hestia_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"c86c8csqxtLtJCT9sjoFktO","Hestia_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{},start:function(){},RegisterMsg:function(){this._super(),cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,this)},UnregisterMsg:function(){this._super(),cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,!1,this)},init:function(e,t,n){cc.log(e),this._freeGameInfo=e.freeGameInfo,this._freeWinCoin=e.freeWinCoin,this._super(e,t,n)},OnRcvNetSpine:function(e){if(cc.log(e),200==e.code){this._freeGameInfo=e.freeGameInfo,this._freeWinCoin=e.freeWinCoin;for(var t=0;t<e.resultCards.length;t++)20==e.resultCards[t]&&(e.resultCards[t]=this._cfg.randomSymbols[Global.random(1,this._cfg.randomSymbols.length)-1])}this._super(e)},setPopupScript:function(e){this._popScp=e},getPopupScript:function(){return this._popScp},setWheelScript:function(e){this._wheelScp=e},getWheelScript:function(){return this._wheelScp},setPickScript:function(e){this._pickScp=e},getPickScript:function(){return this._pickScp},getFreeGameInfo:function(){return this._freeGameInfo},setFreeGameInfo:function(e){this._freeGameInfo=e},getFreeWinCoin:function(){return this._freeWinCoin},setFreeWinCoin:function(e){this._freeWinCoin=e},reqSubGame:function(e){var t=this;return new Promise(function(n){var a={c:MsgId.SLOT_SUBGAME_DATA,gameid:t._gameId,data:e};cc.vv.NetManager.send(a,!0),t._subCallBack=n})},onRcvSubGameAction:function(e){this._subCallBack&&(this._subCallBack(e),this._subCallBack=null)}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],Hestia_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"16478Pywj9F8bGSiSR46Q2c","Hestia_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},InitCommComponent:function(){this._super();var e=this.node.addComponent("Hestia_Popup");e.Init(),cc.vv.gameData.setPopupScript(e);var t=this.node.addComponent("Hestia_Wheel");t.Init(),cc.vv.gameData.setWheelScript(t);var n=this.node.addComponent("Hestia_Pick");n.Init(),cc.vv.gameData.setPickScript(n)}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Hestia_Pick:[function(e,t,n){"use strict";function a(e,t,n,a,i,c,o){try{var r=e[c](o),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,c){var o=e.apply(t,n);function r(e){a(o,i,c,r,s,"next",e)}function s(e){a(o,i,c,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"e954aiScQ9EpKEc8S0/7AYc","Hestia_Pick");var c=[20,15,10,8,5];cc.Class({extends:cc.Component,properties:{_itemList:[]},start:function(){},Init:function(){var e=this;this._node_pick=cc.find("safe_node/node_pick",this.node),this._node_pick.active=!1;for(var t=function(t){var n=cc.find("layout/item"+t,e._node_pick);n.off("click"),n.on("click",function(){e.clickItem(t)}),e._itemList[t]=n},n=1;n<=6;n++)t(n);this._spr_guang=cc.find("layout/spr_guang",this._node_pick),this._spr_guang.active=!1},enterPick:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(a,i){var o,r,s,u,l,_,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Global.SlotsSoundMgr.playBgm("music_Dragons_chooseBg"),t._node_pick.active=!0,t.recoverAllNode(),t._freeGameInfo=cc.vv.gameData.getFreeGameInfo(),o=t._freeGameInfo.extraFreeCnt,!e){n.next=31;break}for(r=0;r<c.length;r++)cc.find("freeCnt",t._itemList[r+1]).getComponent(cc.Label).string=c[r];if(!o){n.next=29;break}return cc.vv.gameData.GetSlotsScript().moveExtraFreeNode(),n.next=11,cc.vv.gameData.awaitTime(1);case 11:s=0;case 12:if(!(s<c.length)){n.next=26;break}return Global.SlotsSoundMgr.playEffect("sound_Dragons_extra_add"),(u=cc.find("add",t._itemList[s+1])).active=!0,u.getComponent(cc.Animation).play("pick_add"),cc.vv.gameData.GetSlotsScript().playExtraFreeAddAnim(),n.next=20,cc.vv.gameData.awaitTime(.3);case 20:return cc.find("freeCnt",t._itemList[s+1]).getComponent(cc.Label).string=c[s]+o,n.next=23,cc.vv.gameData.awaitTime(.3);case 23:s++,n.next=12;break;case 26:return n.next=28,cc.vv.gameData.awaitTime(.5);case 28:cc.vv.gameData.GetSlotsScript().showExtraFreeNode(!1);case 29:n.next=32;break;case 31:for(l=0;l<c.length;l++)cc.find("freeCnt",t._itemList[l+1]).getComponent(cc.Label).string=o?c[l]+o:c[l];case 32:t.playAwaitKuangAnim(!0),t._canClick=!0,_=t._itemList[t._itemList.length-1],f=t,cc.vv.gameData.checkAutoPlay(_,function(){f.clickItem(f._itemList.length-1)}),t._pickSuccess=a;case 38:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},recoverAllNode:function(){for(var e=1;e<this._itemList.length;e++)this._itemList[e].zIndex=e,this._itemList[e].setScale(1),cc.find("win",this._itemList[e]).active=!1,cc.find("add",this._itemList[e])&&(cc.find("add",this._itemList[e]).active=!1);this._spr_guang.zIndex=this._itemList.length+1,cc.find("mask/zi2",this._itemList[6]).y=0,cc.find("mask/zi3",this._itemList[6]).y=0,cc.find("mask/gundong",this._itemList[6]).children.forEach(function(e){e.active=!1})},clickItem:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var a,i,c,o,r,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._canClick){n.next=2;break}return n.abrupt("return");case 2:return t._canClick=!1,t._itemList[t._itemList.length-1].stopAllActions(),t.playAwaitKuangAnim(!1),a={rtype:2,choiceId:e},n.next=8,cc.vv.gameData.reqSubGame(a);case 8:if(i=n.sent,cc.log(i),200!==i.code||i.spcode||2!=i.data.rtype){n.next=43;break}if(t._freeGameInfo=i.data.freeGameInfo,cc.vv.gameData.setFreeGameInfo(t._freeGameInfo),6!=e){n.next=30;break}return c=cc.find("mask/zi2",t._itemList[6]),o=cc.find("mask/zi3",t._itemList[6]),cc.tween(c).to(.3,{y:-130},{easing:"backIn"}).start(),cc.tween(o).to(.3,{y:-130},{easing:"backIn"}).start(),n.next=20,cc.vv.gameData.awaitTime(.3);case 20:return r=cc.find("mask/gundong",t._itemList[6]),cc.find("freeCnt",r).getComponent(cc.Label).string=t._freeGameInfo.config.freeCnt,cc.find("mult1",r).getComponent(cc.Label).string="x"+t._freeGameInfo.config.mults[0],cc.find("mult2",r).getComponent(cc.Label).string="x"+t._freeGameInfo.config.mults[1],cc.find("mult3",r).getComponent(cc.Label).string="x"+t._freeGameInfo.config.mults[2],r.getComponent(cc.Animation).play("pick_gd"),n.next=28,new Promise(function(e){r.getComponent(cc.Animation).off("stop"),r.getComponent(cc.Animation).on("stop",function(){e()})});case 28:return n.next=30,cc.vv.gameData.awaitTime(.5);case 30:return Global.SlotsSoundMgr.playEffect("sound_Dragons_choose"),cc.find("win",t._itemList[e]).active=!0,t._itemList[e].zIndex=20,cc.tween(t._itemList[e]).to(.2,{scale:1.1}).start(),n.next=36,cc.vv.gameData.awaitTime(1);case 36:s=t._freeGameInfo.config.extraFreeCnt?extraFreeCnt+t._freeGameInfo.config.freeCnt:t._freeGameInfo.config.freeCnt,cc.vv.gameData.SetTotalFree(s),cc.vv.gameData.SetFreeTime(s),cc.vv.gameData.setFreeWinCoin(t._freeGameInfo.winCoin),t._node_pick.active=!1,Global.SlotsSoundMgr.stopBgm(),t._pickSuccess&&(t._pickSuccess(),t._pickSuccess=null);case 43:case"end":return n.stop()}},n)}))()},playAwaitKuangAnim:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e?(t._spr_guang.active=!0,t._playKuang=!0,t._delayTime=0,t._curPlayId=1):(t._playKuang=!1,t._delayTime=0,t._curPlayId=1,t._spr_guang.active=!1);case 1:case"end":return n.stop()}},n)}))()},update:function(e){this._playKuang&&(this._delayTime+=e,this._delayTime>1&&(this._delayTime=0,this._spr_guang.position=this._itemList[this._curPlayId].position,this._curPlayId=this._itemList.length==this._curPlayId+1?1:this._curPlayId+1))}}),cc._RF.pop()},{}],Hestia_Popup:[function(e,t,n){"use strict";function a(e,t,n,a,i,c,o){try{var r=e[c](o),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,c){var o=e.apply(t,n);function r(e){a(o,i,c,r,s,"next",e)}function s(e){a(o,i,c,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"e8441DZDZBDzZY3673550et","Hestia_Popup"),cc.Class({extends:cc.Component,properties:{},start:function(){},Init:function(){this._node_popup=cc.find("safe_node/node_popup",this.node),this._node_popup.active=!1,this._node_tri_free=cc.find("node_tri_free",this._node_popup),this._node_end_free=cc.find("node_end_free",this._node_popup),this._node_tri_free.active=!1,this._node_end_free.active=!1,this._node_qp=cc.find("safe_node/node_qp",this.node),this._node_qp.active=!1,this._guochang1=cc.find("guochang1",this._node_qp),this._guochang2=cc.find("guochang2",this._node_qp),this._guochang1.active=!1,this._guochang2.active=!1},playPanelAnim:function(e,t){return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(a,i){var c,o,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(c=t.childrenCount,o=function(n){var a=t.children[n],i=a.scale;e?(a.active=!0,a.setScale(0),cc.tween(a).delay(.1*n).to(.5,{scale:i},{easing:"backOut"}).start()):cc.tween(a).delay(.1*(c-n)).to(.5,{scale:0},{easing:"backIn"}).call(function(){a.active=!1,a.setScale(i)}).start()},r=0;r<c;r++)o(r);return n.next=5,cc.vv.gameData.awaitTime(.1*c+.5);case 5:a();case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},triFreeAnim:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var c,o,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("sound_Dragons_tip"),e._node_popup.active=!0,e._node_tri_free.active=!0,c=cc.vv.gameData.getFreeGameInfo(),cc.find("freeCnt/lbl",e._node_tri_free).getComponent(cc.Label).string=c.config.freeCnt,cc.find("wild/spr",e._node_tri_free).getComponent("ImgSwitchCmp").setIndex(c.config.card-101),cc.find("mult/mult1",e._node_tri_free).getComponent(cc.Label).string="x"+c.config.mults[0],cc.find("mult/mult2",e._node_tri_free).getComponent(cc.Label).string="x"+c.config.mults[1],cc.find("mult/mult3",e._node_tri_free).getComponent(cc.Label).string="x"+c.config.mults[2],(o=cc.find("btn",e._node_tri_free)).off("click"),o.getComponent(cc.Button).interactable=!0,t.next=14,e.playPanelAnim(!0,e._node_tri_free);case 14:r=e,s=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.getComponent(cc.Button).interactable=!1,e.next=3,r.playPanelAnim(!1,r._node_tri_free);case 3:r._node_popup.active=!1,r._node_tri_free.active=!1,n();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(o,s),o.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.stopAllActions(),s();case 2:case"end":return e.stop()}},e)})));case 18:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},endFreeAnim:function(e,t){var n=this;return new Promise(function(){var a=i(regeneratorRuntime.mark(function a(c,o){var r,s,u;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n._node_popup.active=!0,n._node_end_free.active=!0,cc.find("win/lbl",n._node_end_free).getComponent(cc.Label).string=Global.FormatNumToComma(e),cc.find("freeCnt/lbl",n._node_end_free).getComponent(cc.Label).string=t,(r=cc.find("btn",n._node_end_free)).off("click"),r.getComponent(cc.Button).interactable=!0,a.next=9,n.playPanelAnim(!0,n._node_end_free);case 9:s=n,u=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.getComponent(cc.Button).interactable=!1,e.next=3,s.playPanelAnim(!1,s._node_end_free);case 3:s._node_popup.active=!1,s._node_end_free.active=!1,c();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(r,u),r.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.stopAllActions(),u();case 2:case"end":return e.stop()}},e)})));case 13:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())},playGuochangAnim1:function(){var e=this;Global.SlotsSoundMgr.playEffect("sound_Dragons_guochang1"),this._node_qp.active=!0,this._guochang1.active=!0,this._guochang1.getComponent(sp.Skeleton).setAnimation(0,"Dragons_guochang1",!1),this._guochang1.getComponent(sp.Skeleton).setCompleteListener(function(){e._guochang1.getComponent(sp.Skeleton).setCompleteListener(null),e._node_qp.active=!1,e._guochang1.active=!1})},playGuochangAnim2:function(){var e=this;Global.SlotsSoundMgr.playEffect("sound_Dragons_guochang1"),this._node_qp.active=!0,this._guochang2.active=!0,this._guochang2.getComponent(sp.Skeleton).setAnimation(0,"Dragons_guochang",!1),this._guochang2.getComponent(sp.Skeleton).setCompleteListener(function(){e._guochang2.getComponent(sp.Skeleton).setCompleteListener(null),e._node_qp.active=!1,e._guochang2.active=!1})}}),cc._RF.pop()},{}],Hestia_Reel:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c,o=!0,r=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){r=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw c}}}}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"280e5O65OVO25Qx3P5eoUYC","Hestia_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},start:function(){},playReelStop:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++){var t,n=this._symbols[e],i=a(this._reelState);try{for(i.s();!(t=i.n()).done;){var c=t.value;c.isStop&&c.id.includes(n.GetShowId())&&n.playStopAnimation()}}catch(e){i.e(e)}finally{i.f()}}if(this._cfg.reelStateInfo&&this._cfg.reelStateInfo[0]){var o,r="",s="",u=!1,l=a(this._reelState);try{for(l.s();!(o=l.n()).done;){var _=o.value;_.isStop?(s=_.symbolStopSound?_.symbolStopSound[_.stopIdx]:"",u=!0):r=_.reelStopSound?_.reelStopSound:""}}catch(e){l.e(e)}finally{l.f()}u&&(r=s);var f=this._cfg.reelStateInfo[0].path;f||(f=cc.vv.gameData.getGameDir()),cc.vv.AudioManager.playEff(f,r,!0)}}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Hestia_Slots:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c,o=!0,r=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){r=!0,c=e},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw c}}}}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function o(e,t,n,a,i,c,o){try{var r=e[c](o),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,i)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var c=e.apply(t,n);function r(e){o(c,a,i,r,s,"next",e)}function s(e){o(c,a,i,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"48c15IrkgdMEKdI9hPoatDJ","Hestia_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{},start:function(){},ReconnectShow:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._topScript.SetBackLobby(!1),e._bottomScript.ShowBtnsByState("moveing_1"),Global.SlotsSoundMgr.playEffect("sound_Dragons_enter"),!(n=cc.vv.gameData.getFreeGameInfo())){t.next=23;break}if(1!=n.state){t.next=15;break}return t.next=8,cc.vv.gameData.getWheelScript().enterWheel();case 8:return cc.vv.gameData.getPopupScript().playGuochangAnim2(),t.next=11,cc.vv.gameData.awaitTime(.5);case 11:return t.next=13,cc.vv.gameData.getPickScript().enterPick(!0);case 13:return t.next=15,e.triFreeGame();case 15:if(2!=n.state){t.next=20;break}return t.next=18,cc.vv.gameData.getPickScript().enterPick(!1);case 18:return t.next=20,e.triFreeGame();case 20:3==n.state&&e.ShowGameview(!0),t.next=24;break;case 23:e.ShowGameview(!1);case 24:e._topScript.StopMove(),e._bottomScript.CanDoNextRound();case 26:case"end":return t.stop()}},t)}))()},StartMove:function(){this._super(),Global.SlotsSoundMgr.playNormalBgm(),this._isFreeGame&&this.hideFreeWildMult()},SetReelStateInfo:function(e){var t=this;if(this._cfg.reelStateInfo){for(var n=[],i=0;i<e.length;i++){var c=e[i],o=i%this._col;n[o]||(n[o]=[]),n[o].push(c)}var r,s=a(this._cfg.reelStateInfo);try{var u=function(){var e=r.value,a=Global.copy(e);a.isStop=!1,a.isAnt=!1,a.stopIdx=0;for(var i=0,c=a.mini,o=Global.copy(a.counts),s=0,u=!0,l=0;l<n.length;l++){var _=t._reels[l],f=n[l];a.isStop=!1,a.isAnt=!1,s>=c-1&&a.counts[l]>0&&u&&(a.isAnt=!0);var p=f.reduce(function(e,t){return a.id.includes(t)?e+1:e+0},0);s+=p,o.shift();var m=(o.length>0?o.reduce(function(e,t){return e+t}):0)+s;p>0&&m>=c&&u&&(a.isStop=!0,a.stopIdx=i,i+=1),a.continuous&&a.counts[l]>0&&0==p&&(u=!1),_.AddReelStateInfo(Global.copy(a))}};for(s.s();!(r=s.n()).done;)u()}catch(e){s.e(e)}finally{s.f()}}},OnSpinEnd:function(){this.onSpinEndAction()},onSpinEndAction:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,a,i,c,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._isFreeGame||!e._gameInfo.wildMult){t.next=4;break}return e.playFreeWildMult(e._gameInfo.wildMult),t.next=4,cc.vv.gameData.awaitTime(.5);case 4:return e.ShowWinTrace(),n=cc.vv.gameData.GetGameWin(),a=n,i=!0,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(a=cc.vv.gameData.getFreeWinCoin(),i=!1),t.next=11,new Promise(function(t,c){e.ShowBottomWin(n,a,i,t)});case 11:if(!(c=e._gameInfo.freeGameInfo)){t.next=30;break}if(1!=c.state){t.next=30;break}for(o=0;o<c.scatterIdxs.length;o++)e.GetSymbolByIdx(c.scatterIdxs[o]).playTriggerAnimation();return Global.SlotsSoundMgr.playEffect("sound_Dragons_scatter_start"),t.next=18,cc.vv.gameData.awaitTime(2);case 18:return cc.vv.gameData.getPopupScript().playGuochangAnim1(),t.next=21,cc.vv.gameData.awaitTime(.5);case 21:return t.next=23,cc.vv.gameData.getWheelScript().enterWheel();case 23:return cc.vv.gameData.getPopupScript().playGuochangAnim2(),t.next=26,cc.vv.gameData.awaitTime(.5);case 26:return t.next=28,cc.vv.gameData.getPickScript().enterPick(!0);case 28:return t.next=30,e.triFreeGame();case 30:if(!(0==e._gameInfo.freeCnt&&e._gameInfo.allFreeCnt>0)){t.next=35;break}return Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playEffect("sound_Dragons_freespin_over"),t.next=35,e.endFreeGame();case 35:e.CanDoNextRound();case 36:case"end":return t.stop()}},t)}))()},triFreeGame:function(){var e=this;return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.getPopupScript().triFreeAnim();case 2:e.Backup(),e.ShowGameview(!0),n();case 5:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},endFreeGame:function(){var e=this;return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n,a){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=cc.vv.gameData.getFreeWinCoin(),t.next=3,cc.vv.gameData.getPopupScript().endFreeAnim(i,e._gameInfo.allFreeCnt);case 3:return cc.vv.gameData.getPopupScript().playGuochangAnim1(),t.next=6,cc.vv.gameData.awaitTime(.5);case 6:return e.Resume(),e.ShowGameview(!1),t.next=10,cc.vv.gameData.awaitTime(1);case 10:return t.next=12,new Promise(function(e){cc.vv.gameData.GetSlotsScript().ShowBottomWin(i,i,!0,function(){e()})});case 12:n();case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},ShowWinTrace:function(){for(var e=[],t=0;t<this._gameInfo.zjLuXian.length;t++)for(var n=this._gameInfo.zjLuXian[t],a=0;a<n.indexs.length;a++)e[n.indexs[a]]=1;if(this._gameInfo.scatterZJLuXian&&this._gameInfo.scatterZJLuXian.indexs)for(var i=0;i<this._gameInfo.scatterZJLuXian.indexs.length;i++){e[this._gameInfo.scatterZJLuXian.indexs[i]]=1}for(var c in e){var o=this.GetSymbolByIdx(Number(c));o&&(o.playWinAnimation(),2!=o.GetShowId()&&o.ShowKuang())}},ShowGameview:function(e){if(e){var t=cc.vv.gameData.GetTotalFree(),n=cc.vv.gameData.GetFreeTime();this._bottomScript.ShowFreeModel(!0,t-n,t);var a=cc.vv.gameData.getFreeWinCoin();this._bottomScript.SetWin(a)}else this._bottomScript.ShowFreeModel(!1);var i=cc.find("Canvas/safe_node/spr_bg_normal"),c=cc.find("Canvas/safe_node/spr_bg_free");if(c&&(i&&(i.active=!e),c.active=e),this._isFreeGame=e,e){Global.SlotsSoundMgr.playBgm("music_Dragons_freespinbg");var o=cc.vv.gameData.getFreeGameInfo().config.card;cc.find("Canvas/safe_node/spr_bg_free").getComponent("ImgSwitchCmp").setIndex(o-101)}cc.find("Canvas/safe_node/Dragons_longtou").active=!e,cc.find("Canvas/safe_node/Dragons_longzhu").active=e,cc.find("Canvas/safe_node/Dragons_longzhu/lbl").active=!1,cc.find("reels_bg",this.node).children.forEach(function(t){t.getComponent("ImgSwitchCmp")&&t.getComponent("ImgSwitchCmp").setIndex(e?1:0)})},playFreeWildMult:function(e){Global.SlotsSoundMgr.playEffect("sound_Dragons_ball_multi");var t=cc.find("Canvas/safe_node/Dragons_longzhu"),n=cc.find("lbl",t);e>0?(n.active=!0,n.getComponent(cc.Label).string="X"+e,n.setScale(0),cc.tween(n).to(.5,{scale:1},{easing:"backOut"}).repeatForever(cc.tween().to(.5,{scale:1.2}).to(.3,{scale:1})).start()):n.active=!1,t.getComponent(sp.Skeleton).setAnimation(0,"actionframe",!1),t.getComponent(sp.Skeleton).addAnimation(0,"idle",!0)},hideFreeWildMult:function(){var e=cc.find("Canvas/safe_node/Dragons_longzhu/lbl");e.active&&(e.stopAllActions(),cc.tween(e).to(.3,{scale:2,opacity:0}).call(function(){e.active=!1,e.opacity=255}).start())},showExtraFreeNode:function(e,t){var n=cc.find("Canvas/safe_node/node_extrafree");if(e){Global.SlotsSoundMgr.playEffect("sound_Dragons_extra_tip_show"),n.active=!0,n.position=cc.v2(0,0),n.setScale(1),cc.find("cnt",n).getComponent(cc.Label).string=t,n.setScale(0),cc.tween(n).to(.5,{scale:1},{easing:"backOut"}).start();var a=cc.find("light",n);a.opacity=0,cc.tween(a).to(.5,{opacity:255}).delay(.3).to(.2,{opacity:0}).start()}else n.active=!1},moveExtraFreeNode:function(){Global.SlotsSoundMgr.playEffect("sound_Dragons_extra_tip_move");var e=cc.find("Canvas/safe_node/node_extrafree");cc.tween(e).to(.5,{scale:.8,position:cc.v2(e.x+100,e.y+100)}).start()},playExtraFreeAddAnim:function(){var e=cc.find("Canvas/safe_node/node_extrafree"),t=e.scale;cc.tween(e).to(.3,{scale:1.2*t}).to(.2,{scale:t}).start()}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Hestia_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"08ec3NkDDZDp5whI7X5y4yd","Hestia_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},start:function(){}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}],Hestia_Wheel:[function(e,t,n){"use strict";function a(e,t,n,a,i,c,o){try{var r=e[c](o),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,c){var o=e.apply(t,n);function r(e){a(o,i,c,r,s,"next",e)}function s(e){a(o,i,c,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"5928183X4ZKrZWnio2/ypRi","Hestia_Wheel"),cc.Class({extends:cc.Component,properties:{},start:function(){},Init:function(){this._node_wheel=cc.find("safe_node/node_wheel",this.node),this._node_wheel.active=!1,this._wheel_1=cc.find("wheel_1",this._node_wheel),this._wheel_2=cc.find("wheel_2",this._node_wheel),this._spr_shade=cc.find("shade",this._node_wheel),this._win_jp=cc.find("wheel_2/win_jp",this._node_wheel),Global.btnClickEvent(cc.find("btn",this._wheel_1),this.clickSpin,this),this._spr_spin=cc.find("spin",this._wheel_1),this._spr_spin.active=!1,this._start_line=cc.find("start_line",this._wheel_1),this._start_line.active=!0},enterWheel:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Global.SlotsSoundMgr.playBgm("music_Dragons_wheel"),e._freeGameInfo=cc.vv.gameData.getFreeGameInfo(),e._node_wheel.active=!0,e.recoverAllNode(),e._freeGameInfo.winCoin&&cc.vv.gameData.GetBottomScript().SetWin(e._freeGameInfo.winCoin),e.playAwaitSpinAnim(!0),e._canClick=!0,cc.vv.gameData.checkAutoPlay(cc.find("btn",e._wheel_1),e.clickSpin.bind(e)),e._wheelSuccess=n;case 9:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},recoverAllNode:function(){cc.find("pan",this._wheel_1).angle=0,cc.find("pan",this._wheel_2).angle=0,cc.find("win",this._wheel_1).stopAllActions(),cc.find("win",this._wheel_1).active=!1,cc.find("win",this._wheel_2).stopAllActions(),cc.find("win",this._wheel_2).active=!1,cc.find("mult",this._wheel_2).active=!1,this._spr_shade.active=!1,this._win_jp.active=!1},clickSpin:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,a,i,c,o,r,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._canClick){t.next=2;break}return t.abrupt("return");case 2:return cc.find("btn",e._wheel_1).stopAllActions(),Global.SlotsSoundMgr.playEffect("sound_Dragons_wheel_click"),e._canClick=!1,e.playAwaitSpinAnim(!1),n={rtype:1},t.next=9,cc.vv.gameData.reqSubGame(n);case 9:if(a=t.sent,cc.log(a),200!==a.code||a.spcode||1!=a.data.rtype){t.next=87;break}return t.next=14,e.playStartSpinAnim();case 14:return e._freeGameInfo=a.data.freeGameInfo,cc.vv.gameData.setFreeGameInfo(e._freeGameInfo),i=a.data.result,c=i.item,t.next=20,e.moveWheel(e._wheel_1,c.id);case 20:if(!c.jackpot){t.next=75;break}return e._win_jp.active=!0,cc.find("tit1/jp",e._win_jp).getComponent("ImgSwitchCmp").setIndex(c.jackpot.id-1),cc.find("tit1",e._win_jp).active=!0,cc.find("tit1/bonusWheel",e._win_jp).active=!!i.bonusItem,cc.find("tit2",e._win_jp).active=!1,Global.SlotsSoundMgr.playEffect("sound_Dragons_jackpot_jump"),Global.doRoallNumEff(cc.find("lbl",e._win_jp),0,c.jackpot.value,1.5,function(){Global.SlotsSoundMgr.stopEffectByName("sound_Dragons_jackpot_jump"),Global.SlotsSoundMgr.playEffect("sound_Dragons_jackpot_over")},null,0,!0),e._win_jp.setScale(0),cc.tween(e._win_jp).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=32,cc.vv.gameData.awaitTime(2);case 32:if(cc.find("win",e._wheel_1).stopAllActions(),cc.find("win",e._wheel_1).active=!1,!i.bonusItem){t.next=65;break}return e._spr_shade.active=!0,o=e._wheel_2.position,r=e._wheel_2.scale,Global.SlotsSoundMgr.playEffect("sound_Dragons_wheel_up"),cc.tween(e._wheel_2).to(.5,{position:cc.v2(0,-80),scale:.8}).start(),t.next=42,cc.vv.gameData.awaitTime(1.5);case 42:return t.next=44,e.moveWheel(e._wheel_2,i.bonusItem.id);case 44:return(s=cc.find("mult",e._wheel_2)).active=!0,u=[2,3,5,8,10],s.getComponent("ImgSwitchCmp").setIndex(u.indexOf(i.bonusItem.mult)),s.setScale(0),cc.tween(s).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("tit2/jp",e._win_jp).getComponent("ImgSwitchCmp").setIndex(c.jackpot.id-1),cc.find("tit2/lbl",e._win_jp).getComponent(cc.Label).string="x"+i.bonusItem.mult,cc.find("tit1",e._win_jp).active=!1,cc.find("tit2",e._win_jp).active=!0,Global.doRoallNumEff(cc.find("lbl",e._win_jp),c.jackpot.value,c.jackpot.value*i.bonusItem.mult,1,null,null,0,!0),t.next=57,cc.vv.gameData.awaitTime(1);case 57:return cc.find("win",e._wheel_2).stopAllActions(),cc.find("win",e._wheel_2).active=!1,Global.SlotsSoundMgr.playEffect("sound_Dragons_wheel_down"),cc.tween(e._wheel_2).to(.5,{position:o,scale:r}).start(),e._spr_shade.active=!1,t.next=64,cc.vv.gameData.awaitTime(.5);case 64:s.active=!1;case 65:return cc.tween(e._win_jp).to(.5,{scale:0},{easing:"backIn"}).start(),cc.vv.gameData.GetBottomScript().SetWin(e._freeGameInfo.winCoin),t.next=69,cc.vv.gameData.awaitTime(.5);case 69:return e.playAwaitSpinAnim(!0),e._canClick=!0,cc.vv.gameData.checkAutoPlay(cc.find("btn",e._wheel_1),e.clickSpin.bind(e)),t.abrupt("return");case 75:if(!(c.extraFreeCnt>0)){t.next=81;break}return cc.vv.gameData.GetSlotsScript().showExtraFreeNode(!0,c.extraFreeCnt),t.next=79,cc.vv.gameData.awaitTime(.5);case 79:t.next=82;break;case 81:c.freeGame;case 82:return Global.SlotsSoundMgr.stopBgm(),e._wheelSuccess&&e._wheelSuccess(),t.next=86,cc.vv.gameData.awaitTime(.5);case 86:e._node_wheel.active=!1;case 87:case"end":return t.stop()}},t)}))()},moveWheel:function(e,t){return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(a,i){var c,o,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=cc.find("pan",e),o=360/16*(t-1)+360*4+c.angle%360,Global.SlotsSoundMgr.playEffect("sound_Dragons_wheel_zhuan"),cc.tween(c).by(7,{angle:-o},{easing:"quadInOut"}).start(),n.next=9,cc.vv.gameData.awaitTime(7);case 9:return Global.SlotsSoundMgr.playEffect("sound_Dragons_wheel_win"),(r=cc.find("win",e)).active=!0,r.opacity=0,cc.tween(r).repeatForever(cc.tween().to(.3,{opacity:255}).delay(.2).to(.3,{opacity:0})).start(),n.next=16,cc.vv.gameData.awaitTime(1);case 16:a();case 17:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},playAwaitSpinAnim:function(e){e?(this._spr_spin.active=!0,cc.tween(this._spr_spin).repeatForever(cc.tween().to(.5,{scale:1.3}).to(.5,{scale:1})).start()):(this._spr_spin.active=!1,this._spr_spin.setScale(1))},playStartSpinAnim:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e._start_line.active=!0,i=1;i<=16;i++)cc.find("node_line"+i,e._start_line).getComponent(cc.Animation).play("wheel_line");(c=cc.find("idleguang",e._start_line)).active=!1,cc.find("node_line1",e._start_line).getComponent(cc.Animation).off("stop"),cc.find("node_line1",e._start_line).getComponent(cc.Animation).on("stop",function(){c.active=!0,cc.tween(c).delay(.5).call(function(){c.active=!1,n()}).start()});case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())}}),cc._RF.pop()},{}]},{},["Hestia_Cfg","Hestia_GameData","Hestia_Logic","Hestia_Pick","Hestia_Popup","Hestia_Reel","Hestia_Slots","Hestia_Symbol","Hestia_Wheel"]);