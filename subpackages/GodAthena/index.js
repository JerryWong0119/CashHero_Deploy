window.__require=function e(t,n,a){function o(r,c){if(!n[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var m=n[r]={exports:{}};t[r][0].call(m.exports,function(e){return o(t[r][1][e]||e)},m,m.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<a.length;r++)o(a[r]);return o}({Athena_Cfg:[function(e,t,n){"use strict";var a;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"27c8azNJZBMp6qs78LkAhyr","Athena_Cfg");var i={symbol:(a={},o(a,1,{node:"symbol_1",win_node:"animation_1",win_ani:{name:"animation",zIndex:300}}),o(a,2,{node:"symbol_2",win_node:"animation_2",stop_ani:{name:"animation",zIndex:100},win_ani:{name:"animation1",zIndex:500}}),o(a,3,{node:"symbol_3",win_node:"animation_3",win_ani:{name:"animation",zIndex:300}}),o(a,4,{node:"symbol_4",win_node:"animation_4",win_ani:{name:"animation",zIndex:300}}),o(a,5,{node:"symbol_5",win_node:"animation_5",win_ani:{name:"animation",zIndex:300}}),o(a,6,{node:"symbol_6",win_node:"animation_6",win_ani:{name:"animation",zIndex:300}}),o(a,7,{node:"symbol_7"}),o(a,8,{node:"symbol_8"}),o(a,9,{node:"symbol_9"}),o(a,10,{node:"symbol_10"}),o(a,11,{node:"symbol_11"}),o(a,12,{node:"symbol_12"}),o(a,13,{node:"symbol_13",win_node:"animation_13",stop_ani:{name:"animation1",zIndex:100},win_ani:{name:"animation",zIndex:300}}),o(a,14,{node:"symbol_14",win_node:"animation_14",stop_ani:{name:"animation1",zIndex:100},win_ani:{name:"animation",zIndex:300}}),o(a,101,{node:"symbol_101",win_node:"animation_101",stop_ani:{name:"animation3_1",zIndex:100},win_ani:{name:"animation3",zIndex:300}}),o(a,102,{node:"symbol_102",win_node:"animation_102",stop_ani:{name:"animation4_1",zIndex:100},win_ani:{name:"animation4",zIndex:300}}),o(a,103,{node:"symbol_103",win_node:"animation_103",win_ani:{name:"animation2",zIndex:300}}),a),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"Athena_Slots",Reels:"Athena_Reel",Symbols:"Athena_Symbol"},col:5,row:3,symbolPrefab:"symbol",symbolSize:{width:130,height:120},randomSymbols:[1,3,4,5,6,8,9,10,11,7,12,13,14],wildId:1,scatterId:2,redDiamondId:13,blueDiamondId:14,extraOneSpinId:101,extraTwoSpinId:102,kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,bounceInfo:{distance:30,time:.1},AddAntiTime:1.5,reelStateInfo:[{id:[2],mini:3,counts:[1,0,1,0,1],antiNode:"node_anti",path:"games/GodAthena/",reelStopSound:"reel_stop",symbolStopSound:"symbol_scatter",antSound:"reel_notify1",antSpeed:2e3},{id:[13],mini:5,counts:[2,2,2,2,2],antiNode:"pink_anti",path:"games/GodAthena/",reelStopSound:"reel_stop",symbolStopSound:"symbol_bonus1",antSound:"reel_notify1",antSpeed:2e3,continuous:!0}],helpItems:["games/GodAthena/prefab/help_item_1","games/GodAthena/prefab/help_item_2","games/GodAthena/prefab/help_item_3","games/GodAthena/prefab/help_item_4","games/GodAthena/prefab/help_item_5","games/GodAthena/prefab/help_item_6","games/GodAthena/prefab/help_item_7","games/GodAthena/prefab/help_item_8"],commEffect:{path:"games/GodAthena/",win1:["win1","win1end"],win2:["win2","win2end"]},normalBgm:"ngbgm"};t.exports=i,cc._RF.pop()},{}],Athena_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"6bef8kf275FBrhOcCoWcIrH","Athena_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{_pickBonusData:null,_lockBonus:!1},onLoad:function(){this._super();var e=cc.find("safe_node/freegame_pickBonus",this.node).getComponent("Athena_PickBonusGame");cc.vv.gameData.GetSlotsScript().setPickBonusGameScript(e);var t=cc.find("safe_node/freegame_selectShield",this.node).getComponent("Athena_ShieldGame");cc.vv.gameData.GetSlotsScript().setShieldGameScript(t),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onUpdateBet,this);var n=cc.vv.gameData.getDeskInfo();this._lockBonus=n.needBet>n.currmult},onUpdateBet:function(){var e=this,t=cc.vv.gameData.getDeskInfo(),n=cc.find("safe_node/slots/reels_frame/common_node/bonus_node/jiesuo",this.node).getComponent(sp.Skeleton);t.needBet<=cc.vv.gameData.GetBetIdx()&&this._lockBonus?(this._lockBonus=!1,cc.vv.AudioManager.playEff("games/GodAthena/","unlock",!0),n.clearTracks(),n.setToSetupPose(),n.setAnimation(0,"animation2",!1),n.setCompleteListener(function(t){"animation2"===(t.animation?t.animation.name:"")&&(cc.find("safe_node/slots/reels_frame/common_node/bonus_node/jiesuo",e.node).active=!1)})):t.needBet>cc.vv.gameData.GetBetIdx()&&!this._lockBonus&&(this._lockBonus=!0,cc.vv.AudioManager.playEff("games/GodAthena/","lock",!0),cc.find("safe_node/slots/reels_frame/common_node/bonus_node/jiesuo",this.node).active=!0,n.clearTracks(),n.setToSetupPose(),n.setAnimation(0,"animation",!1))}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Athena_PickBonusGame:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"a0eb4bER99FwrQhIf9FnbnZ","Athena_PickBonusGame");var s=1,u=2,m=3,l=4;cc.Class({extends:cc.Component,properties:{remainTimes:cc.Node,_winCoin:0,_canSelect:!0,_betCoin:0,_successCallback:null,_curRateItemIndex:0,_restCnt:0,_haveOpenReward:[]},enterGame:function(e,t){cc.vv.AudioManager.playBgm("games/GodAthena/","jp_celebration",!0),this.node.active=!0,this._haveOpenReward=[],this._restCnt=e.restCnt,this._successCallback=t,this.regiserClickEvent(),this.reset();for(var n=0;n<e.choiceIdxs.length;n++){var a=e.choiceIdxs[n],o=cc.find("knife_"+a,this.node);o&&this._showRewardByType(o,e.choiceItems[n])}this._updateRemainTimes()},exitGame:function(){this.node.active=!1},_updateRemainTimes:function(){this.remainTimes.getComponent(cc.Label).string=this._restCnt},onChooseKnife:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){var o,i,r,d,f,p,h,_,g,v,y,S,w,A,k,b,x,C,T,G,B,R,I,N,D,M,E,P,F,z;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=e.choiceId,t._haveOpenReward.push(o),t._restCnt=e.knifeGame.restCnt,(i=t.node.getChildByName("knife_"+o)).getChildByName("bishouxunhuan").active=!1,r=i.getChildByName("bishoudianji"),d=r.getComponent(sp.Skeleton),r.active=!0,d.clearTracks(),d.setToSetupPose(),d.setAnimation(0,"animation",!1),d.setCompleteListener(function(){r.active=!1}),n.t0=e.item.type,n.next=n.t0===s?15:n.t0===u?54:n.t0===m?75:n.t0===l?98:125;break;case 15:return f=i.getChildByName("pick1_fazhen"),p=f.getComponent(sp.Skeleton),f.active=!0,p.clearTracks(),p.setToSetupPose(),p.setAnimation(0,"animation",!0),t._showRewardByType(i,e.item),n.next=24,t.awaitTime(1);case 24:if(0===t._curRateItemIndex){n.next=40;break}return h=cc.find("knife_"+t._curRateItemIndex,t.node),_=h.convertToWorldSpaceAR(cc.v2(0,0)),_=t.node.parent.convertToNodeSpaceAR(_),g=i.convertToWorldSpaceAR(cc.v2(0,0)),g=t.node.parent.convertToNodeSpaceAR(g),t._generateParticle(_,g),cc.vv.AudioManager.playEff("games/GodAthena/","fly2",!0),n.next=34,t.awaitTime(.5);case 34:return cc.find("txt_rewardGold",i).getComponent(cc.Label).string=Global.formatNumShort(e.item.coin*e.knifeGame.mult),p.clearTracks(),p.setToSetupPose(),p.setAnimation(0,"animation2",!0),n.next=40,t.awaitTime(.5);case 40:return p.clearTracks(),p.setToSetupPose(),p.setAnimation(0,"animation3",!0),i.getChildByName("txt_rewardGold").color=cc.Color.GRAY,cc.vv.AudioManager.playEff("games/GodAthena/","fly1",!0),t.playWinLine(i,o),n.next=48,t.awaitTime(.2);case 48:return cc.vv.gameData.GetBottomScript().SetWin(e.knifeGame.winCoin),n.next=51,t.awaitTime(.8);case 51:return t._canSelect=!0,t.setAutoPlay(),n.abrupt("break",125);case 54:return v=i.getChildByName("pick1_fazhen"),y=v.getComponent(sp.Skeleton),v.active=!0,y.clearTracks(),y.setToSetupPose(),y.setAnimation(0,"animation",!0),t._showRewardByType(i,e.item),n.next=63,t.awaitTime(1);case 63:return S=i.convertToWorldSpaceAR(cc.v2(0,0)),S=t.node.parent.convertToNodeSpaceAR(S),w=t.remainTimes.convertToWorldSpaceAR(cc.v2(0,0)),w=t.node.parent.convertToNodeSpaceAR(w),t._generateParticle(S,w),cc.vv.AudioManager.playEff("games/GodAthena/","fly3",!0),n.next=71,t.awaitTime(.5);case 71:return t._updateRemainTimes(),t._canSelect=!0,t.setAutoPlay(),n.abrupt("break",125);case 75:return A=i.getChildByName("pick1_fazhen"),k=A.getComponent(sp.Skeleton),A.active=!0,k.clearTracks(),k.setToSetupPose(),k.setAnimation(0,"animation",!0),t._showRewardByType(i,e.item),n.next=84,t.awaitTime(1);case 84:return e.knifeGame.mult!==e.item.cnt&&0!==t._curRateItemIndex&&(b=cc.find("knife_"+t._curRateItemIndex,t.node),cc.find("icon_ratePick",b).color=cc.Color.GRAY,cc.find("icon_ratePick/New Sprite",b).color=cc.Color.GRAY),t._curRateItemIndex=e.choiceId,x=i.convertToWorldSpaceAR(cc.v2(0,0)),x=t.node.parent.convertToNodeSpaceAR(x),C=t.remainTimes.convertToWorldSpaceAR(cc.v2(0,0)),C=t.node.parent.convertToNodeSpaceAR(C),t._generateParticle(x,C),cc.vv.AudioManager.playEff("games/GodAthena/","fly3",!0),n.next=94,t.awaitTime(.5);case 94:return t._updateRemainTimes(),t._canSelect=!0,t.setAutoPlay(),n.abrupt("break",125);case 98:return(T=cc.find("renwutouxiang",i)).active=!0,(G=T.getComponent(sp.Skeleton)).clearTracks(),G.setToSetupPose(),G.setAnimation(0,"animation",!1),G.setCompleteListener(function(e){"animation"===(e.animation?e.animation.name:"")&&(G.clearTracks(),G.setToSetupPose(),G.setAnimation(0,"animation2",!0))}),n.next=107,t.awaitTime(2);case 107:return B=cc.find("node_wheel",t.node).getComponent("Athena_Wheel"),n.next=110,B.enterWheel(e);case 110:return cc.find("coin",T).active=!0,cc.find("coin",T).getComponent(cc.Label).string=Global.formatNumShort(B.getWinCoin()),n.next=114,t.awaitTime(.5);case 114:return cc.find("coin",T).color=cc.Color.GRAY,cc.vv.AudioManager.playEff("games/GodAthena/","fly3",!0),t.playWinLine(i,o),n.next=119,t.awaitTime(.2);case 119:return cc.vv.gameData.GetBottomScript().SetWin(e.knifeGame.winCoin),n.next=122,t.awaitTime(.8);case 122:return t._canSelect=!0,t.setAutoPlay(),n.abrupt("break",125);case 125:if(!e.knifeGame.otherIdxs){n.next=144;break}for(t._canSelect=!1,R=0;R<e.knifeGame.otherIdxs.length;R++){I=e.knifeGame.otherIdxs[R],(N=cc.find("knife_"+I,t.node)).color=cc.Color.GRAY,D=a(N.children);try{for(D.s();!(M=D.n()).done;)M.value.color=cc.Color.GRAY}catch(e){D.e(e)}finally{D.f()}t._showRewardByType(N,e.knifeGame.otherItems[R])}return n.next=130,t.awaitTime(1);case 130:Global.SlotsSoundMgr.stopBgm(),cc.vv.AudioManager.playEff("games/GodAthena/","pick1_end",!0),(E=cc.find("node_win",t.node)).active=!0,(P=cc.find("bg",E)).scale=0,P.runAction(cc.scaleTo(.7,1).easing(cc.easeBackOut())),t._winCoin=e.knifeGame.winCoin,Global.doRoallNumEff(cc.find("total_win",P),0,e.knifeGame.winCoin,3,null,null,0,!0),(F=cc.find("btn_collect",P)).off("click"),z=function(){var n=c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return F.off("click"),cc.vv.gameData.AddCoin(e.knifeGame.winCoin),P.runAction(cc.scaleTo(.7,0).easing(cc.easeBackIn())),n.next=5,t.awaitTime(.7);case 5:E.active=!1,t._successCallback();case 7:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(F,z),F.on("click",c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F.stopAllActions(),e.next=3,z();case 3:case"end":return e.stop()}},e)})));case 144:case"end":return n.stop()}},n)}))()},playWinLine:function(e,t){return c(regeneratorRuntime.mark(function n(){var a,o,i,r,c,s,u,m,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=cc.find("Canvas/safe_node/footerlianxian"),o=cc.find("Canvas/safe_node/footerjieshou"),i=cc.vv.gameData.GetBottomScript().getWinLabelNor(),r=[765,605,448,240],c=a.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0))),s=a.parent.convertToNodeSpaceAR(i.convertToWorldSpaceAR(cc.v2(0,0))),u=cc.v2(s.x,s.y).sub(cc.v2(c.x,c.y)),m=u.mag(),l=u.signAngle(cc.v2(-1,0)),a.active=!0,a.position=c,a.angle=-l*cc.macro.DEG+90,a.scale=m/r[Math.ceil(t/4)-1],a.getComponent(sp.Skeleton).setAnimation(0,"animation"+Math.ceil(t/4),!1),a.getComponent(sp.Skeleton).setCompleteListener(function(){a.getComponent(sp.Skeleton).setCompleteListener(),a.active=!1}),o.active=!0,o.position=s,o.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(){o.getComponent(sp.Skeleton).setCompleteListener(),o.active=!1});case 19:case"end":return n.stop()}},n)}))()},getWinCoin:function(){return this._winCoin},_generateParticle:function(e,t){var n=cc.instantiate(cc.find("beishulizi",this.node.parent));n.parent=this.node.parent,n.position=e,n.active=!0,n.runAction(cc.sequence(cc.moveTo(.5,t),cc.removeSelf()))},_showRewardByType:function(e,t){var n=cc.vv.gameData.GetAtlasByName("pick1");switch(t.type){case s:e.getChildByName("txt_rewardGold").active=!0,e.getChildByName("txt_rewardGold").getComponent(cc.Label).string=Global.formatNumShort(t.coin);break;case u:e.getChildByName("icon_reward").active=!0,e.getChildByName("icon_reward").getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("theme173_pick1_pick"+t.cnt);break;case m:e.getChildByName("icon_ratePick").active=!0,e.getChildByName("icon_ratePick").getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("theme173_pick1_multi"+t.cnt);break;case l:e.getChildByName("icon_reward").active=!0,cc.find("icon_reward/head",e).active=!0}},setAutoPlay:function(){for(var e=[],t=1;t<16;t++)-1==this._haveOpenReward.indexOf(t)&&e.push(t);var n=Global.random(0,e.length-1),a=this;cc.vv.gameData.checkAutoPlay(this.node.getChildByName("knife_"+e[n]),function(){a.onClickItem(e[n])})},onClickItem:function(e){for(var t=1;t<16;t++){this.node.getChildByName("knife_"+t).stopAllActions()}if(this._canSelect&&-1===this._haveOpenReward.indexOf(e)){cc.vv.AudioManager.playEff("games/GodAthena/","pickone",!0),this._canSelect=!1;var n={c:MsgId.SLOT_SUBGAME_DATA};n.uid=Global.playerData.uid,n.gameid=cc.vv.gameData._gameId,n.data={},n.data.rtype=2,n.data.choiceId=e,cc.vv.NetManager.send(n),this._restCnt--,this._updateRemainTimes()}},regiserClickEvent:function(){for(var e=this,t=function(t){var n=e.node.getChildByName("knife_"+t);n.off(cc.Node.EventType.TOUCH_END),n.on(cc.Node.EventType.TOUCH_END,function(){e.onClickItem(t)})},n=1;n<16;n++)t(n)},reset:function(){for(var e=this,t=function(t){var n=e.node.getChildByName("knife_"+t);n.color=cc.Color.WHITE;var o,i=a(n.children);try{for(i.s();!(o=i.n()).done;){o.value.color=cc.Color.WHITE}}catch(e){i.e(e)}finally{i.f()}n.getChildByName("bishouxunhuan").active=!0;var r=n.getChildByName("bishouxunhuan").getComponent(sp.Skeleton);r.clearTracks(),r.setToSetupPose(),r.setAnimation(0,"animation",!1),r.setCompleteListener(function(){var e=c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("animation"!==(t.animation?t.animation.name:"")){e.next=7;break}return e.next=4,cc.vv.gameData.awaitTime(10*Math.random());case 4:r.clearTracks(),r.setToSetupPose(),r.setAnimation(0,"animation",!1);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.getChildByName("bishoudianji").active=!1,n.getChildByName("pick_zhuanpanlizi").active=!1,n.getChildByName("pick1_fazhen").active=!1,n.getChildByName("txt_rewardGold").active=!1,n.getChildByName("icon_reward").active=!1,cc.find("icon_reward/head",n)&&(cc.find("icon_reward/head",n).active=!1),n.getChildByName("icon_ratePick").active=!1,n.getChildByName("renwutouxiang").active=!1,cc.find("renwutouxiang/coin",n).active=!1},n=1;n<16;n++)t(n);this.node.getChildByName("node_win").active=!1,this._canSelect=!0,this.setAutoPlay(),this._curRateItemIndex=0},awaitTime:function(e){var t=this;return new Promise(function(n,a){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{}],Athena_Reel:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"a1b1fSdV4lOl6hp3C2kNNtX","Athena_Reel");cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},StartMove:function(){this._super(),this.StartRecycleSymbol(),this._symbols.length>this._cfg.row+1&&cc.vv.AudioManager.playEff("games/GodAthena/","reel_down",!0)},resetReel:function(){var e=cc.vv.gameData.getGameCfg();if(this._symbols.length>e.row+1){var t=-(this._symbols.length-(e.row+1));this.AddCount(t,.1)}},clearLastSymbol:function(){var e=this._symbols[this._symbols.length-1];e&&(e.setAnimationToTop(!1),e.ShowKuang(!1))},playAddCountEffect:function(){var e=cc.find("shengqipantuowei",this.node);e.active=!0;var t=e.getComponent(sp.Skeleton);t.clearTracks(),t.setToSetupPose(),t.setAnimation(0,"animation1_1",!1),t.setCompleteListener(function(){e.active=!1})},ShowAntiEffect:function(e,t){if(!1===e){if(this._cfg.reelStateInfo){var n,o=a(this._cfg.reelStateInfo);try{for(o.s();!(n=o.n()).done;){var i=n.value,r=cc.find("mask/"+i.antiNode,this.node);if("pink_anti"===i.antiNode){r=cc.find(i.antiNode,this.node);for(var c=3;c<7;c++)(r=cc.find("pink_"+c,this.node))&&r.active&&(r.active=!1);this._stopRightNow&&cc.vv.AudioManager.stopEffectByName(i.antSound)}else r&&r.active&&(r.active=!1,this._stopRightNow&&cc.vv.AudioManager.stopEffectByName(i.antSound))}}catch(e){o.e(e)}finally{o.f()}}}else if("pink_anti"===t){cc.find("pink_"+this._nCount,this.node).active=e}else{var s=cc.find("mask/"+t,this.node);s?s.active=e:cc.log("\u672a\u627e\u5230\u52a0\u901f\u8282\u70b9\uff1amask/node_anti")}},GetResizeHeightObjs:function(){var e=[],t=cc.find("mask",this.node);t&&e.push(t);var n=cc.find("reels_bg/reel_bg"+(this._reelIdx+1),this.node.parent.parent);if(n&&e.push(n),cc.find("reels_frame/common_node",this.node.parent.parent).active){if(2===this._reelIdx)for(var a=1;a<7;a++){var o=cc.find("reels_frame/common_node/line_"+a,this.node.parent.parent);o&&e.push(o)}}else if(cc.find("reels_frame/expand_free_node",this.node.parent.parent).active){var i=cc.find("reels_frame/expand_free_node/line_"+(2*this._reelIdx+1),this.node.parent.parent);i&&e.push(i);var r=cc.find("reels_frame/expand_free_node/line_"+(2*this._reelIdx+2),this.node.parent.parent);r&&e.push(r)}return e},GetResizeMoveingObjs:function(){var e=[];if(cc.find("reels_frame/common_node",this.node.parent.parent).active){if(2===this._reelIdx){var t=cc.find("reels_frame/common_node/bonus_node",this.node.parent.parent);t&&e.push(t);var n=cc.find("reels_frame/common_node/reel_frame",this.node.parent.parent);n&&e.push(n);var a=cc.find("shengqipantuowei",this.node.parent.parent);a&&e.push(a);var o=cc.find("reels_frame/common_node/left_top",this.node.parent.parent);o&&e.push(o);var i=cc.find("reels_frame/common_node/right_top",this.node.parent.parent);i&&e.push(i)}}else if(cc.find("reels_frame/expand_free_node",this.node.parent.parent).active){var r=cc.find("reels_frame/expand_free_node/reel_top_"+(this._reelIdx+1),this.node.parent.parent);if(r&&e.push(r),0===this._reelIdx){var c=cc.find("reels_frame/expand_free_node/left_top",this.node.parent.parent);c&&e.push(c)}if(4===this._reelIdx){var s=cc.find("reels_frame/expand_free_node/right_top",this.node.parent.parent);s&&e.push(s)}var u=cc.find("shengqipantuowei",this.node);u&&e.push(u)}var m=cc.find("mask/anti_bg",this.node);m&&e.push(m);var l=cc.find("mask/node_anti",this.node);return l&&e.push(l),e},setReelByResult:function(){if(this._result)for(var e=0;e<this._result.length;e++){this._symbols[e].ShowById(this._result[e].sid,this._result[e].data)}},getSymbols:function(){return this._symbols},setScatterBgVisible:function(e){var t=cc.find("mask/anti_bg",this.node);t&&(t.active=e)},isHaveScatter:function(){for(var e=0;e<this._cfg.row;e++){var t=this._symbols[e];if(t&&t.GetShowId()===this._cfg.scatterId)return!0}return!1}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Athena_ShieldGame:[function(e,t,n){"use strict";function a(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function c(e){a(r,o,i,c,s,"next",e)}function s(e){a(r,o,i,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"b0f552N8gpLs4vGeClNzfaU","Athena_ShieldGame");var i=1,r=2,c=3,s=4,u=5;cc.Class({extends:cc.Component,properties:{_winCoin:0,_canSelect:!0,_successCallback:null,_resultData:null},enterGame:function(){var e=this;return new Promise(function(t){e.node.active=!0,e._successCallback=t,e._resultData=null,cc.vv.AudioManager.playBgm("games/GodAthena/","free_game_music_advanced",!0),e.reset(),e.regiserClickEvent()})},exitGame:function(){this.node.active=!1,this._successCallback=null},onChooseShield:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a,m,l,d,f,p,h,_,g,v,y,S,w;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(t._resultData=e,a=cc.find("shield_"+e.choiceId,t.node),m=1;m<6;m++)(l=t.node.getChildByName("shield_"+m)).stopAllActions(),l.getChildByName("dunxunhuan").getComponent(sp.Skeleton).setToSetupPose(),l.getChildByName("dunxunhuan").getComponent(sp.Skeleton).clearTracks(),l.getChildByName("dunxunhuan").getComponent(sp.Skeleton).setAnimation(0,"animation2",!0);return a.getChildByName("dunxunhuan").active=!1,cc.vv.AudioManager.playEff("games/GodAthena/","show3",!0),(d=cc.find("fandunpai",a)).active=!0,(f=d.getComponent(sp.Skeleton)).clearTracks(),f.setToSetupPose(),f.setAnimation(0,"animation",!1),f.setCompleteListener(function(){d.active=!1}),(p=cc.find("fanhutou",a)).active=!0,(h=p.getComponent(sp.Skeleton)).clearTracks(),h.setToSetupPose(),h.setAnimation(0,"animation",!1),h.setCompleteListener(function(e){"animation"===(e.animation?e.animation.name:"")&&(h.clearTracks(),h.setToSetupPose(),h.setAnimation(0,"animation2",!0))}),n.next=21,t.awaitTime(1);case 21:return t._showRewardByType(a,e.items[e.choiceId-1]),n.next=24,t.awaitTime(2);case 24:for(cc.vv.AudioManager.playEff("games/GodAthena/","pick2_end",!0),_=1;_<6;_++)_!==e.choiceId&&((g=t.node.getChildByName("shield_"+_)).getChildByName("dunxunhuan").color=cc.Color.GRAY,t._showRewardByType(g,e.items[_-1]));return n.next=28,t.awaitTime(2);case 28:Global.SlotsSoundMgr.stopBgm(),n.t0=e.items[e.choiceId-1].type,n.next=n.t0===i?32:n.t0===r?32:n.t0===u?32:n.t0===s?34:n.t0===c?48:50;break;case 32:return t._successCallback(),n.abrupt("break",50);case 34:return cc.vv.AudioManager.playEff("games/GodAthena/","free2_dialog_collect_show",!0),(v=cc.find("node_win",t.node)).active=!0,(y=cc.find("bg",v)).scale=0,y.runAction(cc.scaleTo(.7,1).easing(cc.easeBackOut())),Global.doRoallNumEff(cc.find("total_win",y),0,e.winCoin,3,null,null,0,!0),cc.vv.gameData.AddCoin(e.winCoin),(S=cc.find("btn_collect",y)).off("click"),w=function(){var e=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.off("click"),y.runAction(cc.scaleTo(.7,0).easing(cc.easeBackIn())),e.next=4,t.awaitTime(.7);case 4:v.active=!1,t._successCallback(),t.exitGame();case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(S,w),S.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.stopAllActions(),e.next=3,w();case 3:case"end":return e.stop()}},e)}))),n.abrupt("break",50);case 48:return t._successCallback(),n.abrupt("break",50);case 50:case"end":return n.stop()}},n)}))()},getResultData:function(){return this._resultData},_showRewardByType:function(e,t){var n=cc.vv.gameData.GetAtlasByName("tuji");switch(t.type){case i:e.getChildByName("result").active=!0,e.getChildByName("num").active=!1,e.getChildByName("result").getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("theme173_pick2_r3");break;case r:e.getChildByName("result").active=!0,e.getChildByName("num").active=!1,e.getChildByName("result").getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("theme173_pick2_r5");break;case c:e.getChildByName("result").active=!0,e.getChildByName("num").active=!1,e.getChildByName("result").getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("theme173_pick2_r2n");break;case s:e.getChildByName("result").active=!1,e.getChildByName("num").active=!0,e.getChildByName("num").getComponent(cc.Label).string=Global.formatNumShort(t.mult*cc.vv.gameData.GetTotalBet(),0);break;case u:e.getChildByName("result").active=!0,e.getChildByName("num").active=!1,e.getChildByName("result").getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("theme173_pick2_r4n")}var a=cc.scaleTo(.5,1);switch(t.type){case i:case r:case c:case u:e.getChildByName("result").scale=0,e.getChildByName("result").runAction(a);break;case s:e.getChildByName("num").scale=0,e.getChildByName("num").runAction(a)}},setAutoPlay:function(){for(var e=[],t=1;t<6;t++)e.push(t);var n=Global.random(0,e.length-1),a=this;cc.vv.gameData.checkAutoPlay(this.node.getChildByName("shield_"+e[n]),function(){a.onClickItem(e[n])})},onClickItem:function(e){for(var t=1;t<6;t++){this.node.getChildByName("shield_"+t).stopAllActions()}if(this._canSelect){cc.vv.AudioManager.playEff("games/GodAthena/","choose",!0),this._canSelect=!1;var n={c:MsgId.SLOT_SUBGAME_DATA};n.uid=Global.playerData.uid,n.gameid=cc.vv.gameData._gameId,n.data={},n.data.rtype=3,n.data.choiceId=e,cc.vv.NetManager.send(n)}},regiserClickEvent:function(){for(var e=this,t=function(t){var n=e.node.getChildByName("shield_"+t);n.off(cc.Node.EventType.TOUCH_END),n.on(cc.Node.EventType.TOUCH_END,function(){e.onClickItem(t)})},n=1;n<6;n++)t(n)},reset:function(){for(var e=this,t=function(t){var n=e.node.getChildByName("shield_"+t);n.getChildByName("fandunpai").active=!1,n.getChildByName("fanhutou").active=!1,n.getChildByName("result").active=!1,n.getChildByName("num").active=!1;var a=n.getChildByName("dunxunhuan"),i=a.getComponent(sp.Skeleton);a.active=!0,a.color=cc.Color.WHITE,i.clearTracks(),i.setToSetupPose(),i.setAnimation(0,"animation",!1),i.setCompleteListener(function(){var e=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("animation"!==(t.animation?t.animation.name:"")){e.next=7;break}return e.next=4,cc.vv.gameData.awaitTime(10*Math.random());case 4:i.clearTracks(),i.setToSetupPose(),i.setAnimation(0,"animation",!1);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},n=1;n<6;n++)t(n);this._canSelect=!0,this.setAutoPlay()},awaitTime:function(e){var t=this;return new Promise(function(n,a){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{}],Athena_Slots:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"01f2ew9aDdLHq1cXfQ1gFN7","Athena_Slots");var s=1,u=2,m=3,l=4,d=5,f=2,p=3,h=4,_=1,g=2,v=3,y=1,S=2,w=3,A=4,k=5;cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_curBonusCount:0,_prizePoolNameByJackpotId:[],_redDiamondNumByJackpotId:[],_wheelCurIndex:0,_wheelResultRate:0,_freeGameType:0,_haveChooseScatter:!1,_pickBonusGameScript:null,_shieldGameScript:null},onLoad:function(){this._super(),cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameData,this)},Init:function(){var e=this;this._super(),this._prizePoolNameByJackpotId=["prizePool_Mini","prizePool_Minor","prizePool_Major","prizePool_Grand","prizePool_Mega"],this._redDiamondNumByJackpotId=[5,6,7,10,8];var t=cc.vv.gameData.getDeskInfo();cc.find("reels_frame/common_node/bonus_node",this.node).on(cc.Node.EventType.TOUCH_END,function(){t.needBet>t.currmult&&"idle"===cc.vv.gameData.GetSlotState()&&e._bottomScript.SetBetIdx(t.needBet)});var n=cc.find("reels_frame/common_node/bonus_node/jiesuo",this.node),a=n.getComponent(sp.Skeleton);cc.find("reels_frame/common_node/bonus_node/jiesuo",this.node).active=!0,t.needBet<=t.currmult?(cc.vv.AudioManager.playEff("games/GodAthena/","unlock",!0),a.clearTracks(),a.setToSetupPose(),a.setAnimation(0,"animation2",!1),a.setCompleteListener(function(e){"animation2"===(e.animation?e.animation.name:"")&&(n.active=!1)})):(cc.vv.AudioManager.playEff("games/GodAthena/","lock",!0),a.clearTracks(),a.setToSetupPose(),a.setAnimation(0,"animation",!1)),this._curBonusCount=t.bonusTrail.count;for(var o=0;o<t.bonusTrail.count;o++){var i=cc.find("reels_frame/common_node/bonus_node/icon_"+(o+1),this.node);i&&(i.active=!0)}cc.find("nvshen",this.node.parent).getComponent(sp.Skeleton).setAnimation(0,"idle",!0)},StartMove:function(){this._super(),cc.find("LMSlots_PrizePool_1/putongjpkuang",this.node.parent).active=!1;for(var e=3;e<7;e++){cc.find("pink_"+e,this.node).active=!1}this._freeGameType===h&&(this._bottomScript.ShowFreeModel(!1),cc.find("pink_3",this.node).active=!0),Global.SlotsSoundMgr.playNormalBgm()},ReconnectShow:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,o,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=cc.vv.gameData.getDeskInfo()).scatterChoice){t.next=9;break}e._bottomScript.ShowBtnsByState("moveing_1"),e.SetSlotsResult(n.scatterChoice.cards),o=a(e._reels);try{for(o.s();!(i=o.n()).done;)i.value.setReelByResult()}catch(e){o.e(e)}finally{o.f()}e._triggerSelectScatter(n.scatterChoice.scatterIdxs),t.next=33;break;case 9:if(!n.knifeGame){t.next=23;break}return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=13,e._triggerPickBonusGame(n.knifeGame);case 13:return e.cutSceneQuanZhang(),t.next=16,e.awaitTime(1);case 16:return e._pickBonusGameScript.exitGame(),e._haveChooseScatter=!1,t.next=20,e.awaitTime(.5);case 20:e.ShowBottomWin(e._pickBonusGameScript.getWinCoin(),e._pickBonusGameScript.getWinCoin(),!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e.CanDoNextRound()}),t.next=33;break;case 23:if(!n.shieldBonus){t.next=31;break}return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=27,e._shieldGameScript.enterGame();case 27:(r=e._shieldGameScript.getResultData()).items[r.choiceId-1].type===y||r.items[r.choiceId-1].type===k||r.items[r.choiceId-1].type===S?e._popupScatterChoiceDialog(r):r.items[r.choiceId-1].type!==A&&r.items[r.choiceId-1].type!==w||e.ShowBottomWin(r.winCoin,r.winCoin,!0,function(){e.CanDoNextRound()}),t.next=33;break;case 31:cc.vv.gameData.GetFreeTime()>0?(e._freeGameType=n.freeGameType,cc.find("reels_frame/common_node",e.node).active=!1,cc.find("reels_frame/expand_free_node",e.node).active=!0,e.CanDoNextRound(),e.ShowGameview(!0,!0)):e.ShowGameview(!1,!0);case 33:case"end":return t.stop()}},t)}))()},onMsgSpine:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._super(e),!t._gameInfo.randGame){n.next=17;break}n.t0=t._gameInfo.randGame.type,n.next=n.t0===s?5:n.t0===u?7:n.t0===m?9:n.t0===l?15:17;break;case 5:return t._triggerExpandingReels(),n.abrupt("break",17);case 7:return t._triggerRandomWild(),n.abrupt("break",17);case 9:return t.SetStopTime(3.5),t._playQuanzhangzhongjiang(),n.next=13,t.awaitTime(1);case 13:return t._playRandomGameAnimation(m),n.abrupt("break",17);case 15:return t._triggerAthenaRespin(),n.abrupt("break",17);case 17:t._freeGameType===f&&t._triggerExpandFreeGames();case 18:case"end":return n.stop()}},n)}))()},_triggerExpandFreeGames:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.SetStopTime(5),t.next=3,e.awaitTime(1);case 3:n=0;case 4:if(!(n<3)){t.next=15;break}for(a=!1,o=0;o<5;o++)i=e._gameInfo.resultCards[5*n+o],e._cfg.symbol[i]&&(a=!0,(r=e._reels[o]).AddCount(1,.5),r.playAddCountEffect());if(!a){t.next=12;break}return cc.vv.AudioManager.playEff("games/GodAthena/","reel_up",!0),e._playShengqipanhuoAnimation(),t.next=12,e.awaitTime(1);case 12:n++,t.next=4;break;case 15:case"end":return t.stop()}},t)}))()},getFreeGameType:function(){return this._freeGameType},ShowWinTrace:function(){this._super()},CheckExitFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&0===cc.vv.gameData.GetFreeTime()},_triggerExpandingReels:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,o,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._gameInfo.randGame.info.row,e.SetStopTime(3+n+.5),e._playQuanzhangzhongjiang(),t.next=5,e.awaitTime(1);case 5:return e._playRandomGameAnimation(s),t.next=8,e.awaitTime(2);case 8:o=0;case 9:if(!(o<n)){t.next=20;break}i=a(e._reels);try{for(i.s();!(r=i.n()).done;)r.value.AddCount(1)}catch(e){i.e(e)}finally{i.f()}return cc.vv.AudioManager.playEff("games/GodAthena/","reel_up",!0),e._playShengqipanhuoAnimation(),e._playShengqipantuoweiAnimation(),t.next=17,e.awaitTime(1);case 17:o++,t.next=9;break;case 20:case"end":return t.stop()}},t)}))()},_triggerRandomWild:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o,i,r,c,s,m,l,d,f,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.SetStopTime(7.5),e._playQuanzhangzhongjiang(),t.next=4,e.awaitTime(1);case 4:return e._playRandomGameAnimation(u),t.next=7,e.awaitTime(3);case 7:return n=cc.find("gezi",e.node.parent),(a=n.getComponent(sp.Skeleton)).clearTracks(),a.setToSetupPose(),a.setAnimation(0,"animation2",!1),cc.vv.AudioManager.playEff("games/GodAthena/","dove_fly2",!0),(o=cc.find("random_wild_node",e.node)).active=!0,(i=cc.find("black_bg",o)).active=!0,t.next=19,e.awaitTime(1.5);case 19:for(cc.vv.AudioManager.playEff("games/GodAthena/","wild_show",!0),r=e._gameInfo.randGame.info.wildIdxs,c=0;c<r.length;c++)s=r[c],(m=cc.instantiate(cc.find("wild_spine",e.node.parent))).parent=cc.find("random_wild_node/wild_parent",e.node),m.active=!0,m.y=350,l=0,l=s%5==1?-240:115*(s%6-1)-230+10,m.x=l,m.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),d=(s-1)%e._col,f=6-Math.floor((s-1)/e._col)-1,p=cc.v2((d-2)*e._cfg.symbolSize.width,(f-1)*e._cfg.symbolSize.height),m.runAction(cc.sequence(cc.delayTime(.1*c),cc.moveTo(1.5,p)));return t.next=24,e.awaitTime(2.5);case 24:i.active=!1;case 25:case"end":return t.stop()}},t)}))()},_triggerWheelBonusGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var a,o,i,r,c,s,u,m,l,d,f,p,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=cc.find("Canvas/safe_node/nvshen"),(o=cc.find("wheel_node",e.node)).active=!0,e._wheelResultRate=0,i=cc.find("gezi",e.node.parent),cc.vv.AudioManager.playEff("games/GodAthena/","dove_fly1",!0),i.getComponent(sp.Skeleton).setToSetupPose(),i.getComponent(sp.Skeleton).clearTracks(),i.getComponent(sp.Skeleton).setAnimation(0,"animation4",!1),a.runAction(cc.moveBy(1,0,-310),cc.callFunc(function(){a.active=!1})),o.runAction(cc.moveBy(1,0,310)),cc.vv.AudioManager.playEff("games/GodAthena/","wheel2_up",!0),r=cc.find("wheel_result",e.node),c=r.getChildByName("beishulizi").getComponent(sp.Skeleton),s=cc.find("wheel_node/zhuanpanzhongjiang",e.node),u=0;case 16:if(!(u<e._gameInfo.randGame.info.items.length)){t.next=57;break}return m=e._gameInfo.randGame.info.items[u],t.next=20,e.awaitTime(2);case 20:return t.next=22,e._rotateWheel(m.id-1);case 22:return cc.vv.AudioManager.playEff("games/GodAthena/","word_show",!0),s.getComponent(sp.Skeleton).setCompleteListener(function(){s.active=!1}),s.active=!0,s.getComponent(sp.Skeleton).setToSetupPose(),s.getComponent(sp.Skeleton).clearTracks(),s.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),t.next=30,e.awaitTime(2);case 30:if((l=cc.instantiate(cc.find("beishulizi",e.node.parent))).parent=e.node.parent,l.active=!0,l.position=e.node.parent.convertToNodeSpaceAR(s.convertToWorldSpaceAR(cc.v2(0,0))),d=e.node.parent.convertToNodeSpaceAR(cc.find("wheel_result/num",e.node).convertToWorldSpaceAR(cc.v2(0,0))),l.runAction(cc.sequence(cc.moveTo(.5,d),cc.removeSelf())),r.active){t.next=50;break}return r.active=!0,r.opacity=0,cc.tween(r).to(.5,{opacity:255}).start(),r.getChildByName("icon").opacity=0,t.next=43,cc.vv.gameData.awaitTime(.5);case 43:c.setToSetupPose(),c.setAnimation(0,"animation",!0),e._wheelResultRate+=m.mult,r.getChildByName("num").getComponent(cc.Label).string=e._wheelResultRate+"X",r.getChildByName("icon").runAction(cc.fadeIn(.5)),t.next=54;break;case 50:return t.next=52,cc.vv.gameData.awaitTime(.5);case 52:e._wheelResultRate+=m.mult,r.getChildByName("num").getComponent(cc.Label).string=e._wheelResultRate+"X";case 54:u++,t.next=16;break;case 57:return t.next=59,e.awaitTime(.5);case 59:return(f=cc.instantiate(cc.find("beishulizi",e.node.parent))).parent=e.node.parent,f.active=!0,f.position=e.node.parent.convertToNodeSpaceAR(cc.find("wheel_result/num",e.node).convertToWorldSpaceAR(cc.v2(0,0))),p=e.node.parent.convertToNodeSpaceAR(cc.find("LMSlots_Bottom/winBg",e.node.parent).convertToWorldSpaceAR(cc.v2(0,0))),f.runAction(cc.sequence(cc.moveTo(.5,p),cc.removeSelf())),cc.vv.AudioManager.playEff("games/GodAthena/","fly3",!0),t.next=68,e.awaitTime(.5);case 68:return a.active=!0,a.runAction(cc.moveBy(1,0,310)),o.runAction(cc.sequence(cc.moveBy(.5,0,-275),cc.callFunc(function(){o.active=!1}))),r.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){r.active=!1}))),t.next=74,e.awaitTime(1);case 74:h=cc.vv.gameData.GetGameWin(),e.ShowBottomWin(h*e._wheelResultRate,h*e._wheelResultRate,!0,function(){n()});case 76:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},_rotateWheel:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=c(regeneratorRuntime.mark(function n(a){var o,i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=24*(e-t._wheelCurIndex)-2160,t._wheelCurIndex=e,cc.log(t._wheelCurIndex),cc.log(o),cc.vv.AudioManager.playEff("games/GodAthena/","wheel2_spin",!0),(i=cc.find("wheel_node/zhuanpanlizi",t.node)).active=!0,i.getComponent(sp.Skeleton).setToSetupPose(),i.getComponent(sp.Skeleton).clearTracks(),i.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),i.getComponent(sp.Skeleton).setCompleteListener(function(){i.active=!1}),r=cc.rotateBy(6,o).easing(cc.easeSineInOut()),cc.find("wheel_node/rotate_node",t.node).runAction(cc.sequence(r,cc.callFunc(function(){cc.vv.AudioManager.playEff("games/GodAthena/","wheel2_win",!0),a()})));case 13:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},_triggerAthenaRespin:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.SetStopTime(3.5),e._playQuanzhangzhongjiang(),t.next=4,e.awaitTime(1);case 4:return e._playRandomGameAnimation(l),t.next=7,e.awaitTime(2);case 7:cc.find("pink_3",e.node).active=!0,e._freeGameType=h;case 9:case"end":return t.stop()}},t)}))()},_playRandomGameAnimation:function(e){cc.vv.AudioManager.playEff("games/GodAthena/","bonus_dialog_start_show",!0);var t=cc.vv.gameData.GetAtlasByName("dialog_featrue_tip"),n="theme173_popup7_"+e,a=cc.find("random_trigger_game",this.node);a.active=!0;var o=cc.find("icon",a);t.getSpriteFrame(n)&&(o.getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(n)),o.scale=0,o.runAction(cc.sequence(cc.scaleTo(.5,1).easing(cc.easeBackOut()),cc.delayTime(1),cc.scaleTo(.5,0).easing(cc.easeBackIn()),cc.callFunc(function(){a.active=!1})))},_playShengqipanhuoAnimation:function(){var e=cc.find("shengqipanhuo",this.node);e.active=!0;var t=e.getComponent(sp.Skeleton);t.setToSetupPose(),t.setAnimation(0,"animation",!1),t.setCompleteListener(function(){e.active=!1})},_playShengqipantuoweiAnimation:function(){var e=cc.find("shengqipantuowei",this.node);e.active=!0;var t=e.getComponent(sp.Skeleton);t.setToSetupPose(),t.setAnimation(0,"animation2_1",!1),t.setCompleteListener(function(){e.active=!1})},_triggerDiamondReward:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o,i,r,s,u,m,l,d,f,p,h,_,g,v,y;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0;n<e._gameInfo.resultCards.length;n++)(a=e._gameInfo.resultCards[n])!==e._cfg.redDiamondId&&a!==e._cfg.blueDiamondId||(o=e.GetSymbolByIdx(n+1))&&o.playWinAnimation();(i=cc.find("LMSlots_PrizePool_1/putongjpkuang",e.node.parent)).active=!0,r=i.getComponent(sp.Skeleton),s=["animation5","animation4","animation3","animation0","animation2"],r.clearTracks(),r.setToSetupPose(),r.setAnimation(0,s[e._gameInfo.jackpot.id-1],!0),cc.find("LMSlots_PrizePool_1",e.node.parent).getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:0,pauseNum:e._gameInfo.jackpot.values[0]},{prizeType:1,pauseNum:e._gameInfo.jackpot.values[1]},{prizeType:2,pauseNum:e._gameInfo.jackpot.values[2]},{prizeType:3,pauseNum:e._gameInfo.jackpot.values[3]},{prizeType:4,pauseNum:e._gameInfo.jackpot.values[4]},{prizeType:5,pauseNum:e._gameInfo.jackpot.values[5]}]),u=0,m=0;case 11:if(!(m<e._gameInfo.resultCards.length/e._cfg.col)){t.next=19;break}if(l=e._gameInfo.resultCards[m*e._cfg.col],!e._cfg.symbol[l]){t.next=16;break}return u=6-m,t.abrupt("break",19);case 16:m++,t.next=11;break;case 19:return(d=cc.find("pink_"+u,e.node))&&(d.active=!0),f=cc.find("reels_bg/jili_bouns_01",e.node),p=f.getComponent(sp.Skeleton),f.active=!0,h="animation2_"+(6-u),p.clearTracks(),p.setToSetupPose(),p.setAnimation(0,h,!1),t.next=30,e.awaitTime(1);case 30:f.active=!1,cc.vv.AudioManager.playEff("games/GodAthena/","bonus_slot_end_superman",!0),(_=cc.find("dialog_node",e.node.parent)).active=!0,(g=cc.find("red_diamond_node",_)).active=!0,g.scale=0,g.runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),cc.find("num",g).getComponent(cc.Sprite).spriteFrame=cc.vv.gameData.GetAtlasByName("dialog_jp").getSpriteFrame("theme173_popup9_1_"+e._redDiamondNumByJackpotId[e._gameInfo.jackpot.id-1]),Global.doRoallNumEff(cc.find("coin",g),0,e._gameInfo.jackpot.value,2,null,null,0,!0),(v=cc.find("btn_collect",g)).off("click"),y=function(){var t=c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return v.off("click"),g.runAction(cc.scaleTo(.5,0).easing(cc.easeBackIn())),cc.find("LMSlots_PrizePool_1",e.node.parent).getComponent("LMSlots_PrizePool_Base").ResumePausePool(),t.next=5,e.awaitTime(.5);case 5:g.active=!1,_.active=!1,e.ShowBottomWin(e._gameInfo.jackpot.value,e._gameInfo.jackpot.value,!0,function(){e.CanDoNextRound()});case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(v,y),v.on("click",c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v.stopAllActions(),e.next=3,y();case 3:case"end":return e.stop()}},e)})));case 45:case"end":return t.stop()}},t)}))()},OnSpinEnd:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o,i,r,s,_,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._gameInfo.jackpot){t.next=4;break}e._gameInfo.jackpot.symbol===e._cfg.redDiamondId&&e._triggerDiamondReward(),t.next=46;break;case 4:if(e.ShowWinTrace(),!e._gameInfo.randGame){t.next=42;break}if(e._gameInfo.randGame.type!==m){t.next=11;break}n=cc.vv.gameData.GetGameWin(),e.ShowBottomWin(n,n,!1,c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=3,e._triggerWheelBonusGame();case 3:e.CanDoNextRound();case 4:case"end":return t.stop()}},t)}))),t.next=40;break;case 11:if(e._gameInfo.randGame.type!==u){t.next=20;break}a=cc.find("random_wild_node",e.node),cc.find("wild_parent",a).removeAllChildren(),a.active=!1,o=cc.vv.gameData.GetGameWin(),e.ShowBottomWin(o,o,!0,c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.CanDoNextRound();case 1:case"end":return t.stop()}},t)}))),t.next=40;break;case 20:if(e._gameInfo.randGame.type!==l){t.next=25;break}i=cc.vv.gameData.GetGameWin(),e.ShowBottomWin(i,i,!0,c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.CanDoNextRound();case 1:case"end":return t.stop()}},t)}))),t.next=40;break;case 25:if(e._gameInfo.randGame.type!==d){t.next=38;break}return e._playRandomGameAnimation(e._gameInfo.randGame.type),t.next=29,e.awaitTime(2.5);case 29:return e.cutSceneAthena(),t.next=32,e.awaitTime(1.3);case 32:return t.next=34,e._shieldGameScript.enterGame();case 34:(r=e._shieldGameScript.getResultData()).items[r.choiceId-1].type===y||r.items[r.choiceId-1].type===k||r.items[r.choiceId-1].type===S?e._popupScatterChoiceDialog(r):r.items[r.choiceId-1].type!==A&&r.items[r.choiceId-1].type!==w||e.ShowBottomWin(r.winCoin,r.winCoin,!0,function(){e.CanDoNextRound()}),t.next=40;break;case 38:s=cc.vv.gameData.GetGameWin(),e.ShowBottomWin(s,s,!0,function(){e.CanDoNextRound()});case 40:t.next=46;break;case 42:_=cc.vv.gameData.GetGameWin(),g=_,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()&&(g=cc.vv.gameData.GetGameTotalFreeWin()),e.ShowBottomWin(_,g,!0,c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._gameInfo.scatterChoice){t.next=4;break}e._triggerSelectScatter(),t.next=20;break;case 4:if(!e.CheckExitFreeGame()){t.next=9;break}e._freeGameType===h?(cc.find("pink_3",e.node).active=!1,e._freeGameType=0,e.CanDoNextRound()):e._freeGameType===f?e._triggerExitExpandingFreeGames():e._freeGameType===p&&e._triggerExitAthenaFreeGames(),Global.SlotsSoundMgr.playNormalBgm(),t.next=20;break;case 9:if(!e._checkExtraSpinInAthenaFreeGames()){t.next=13;break}e._triggerExtraSpinInAthenaFreeGames(),t.next=20;break;case 13:if(!e._checkExtraFreeInExpandingFreeGames()){t.next=17;break}e._triggerExtraFreeInExpandingFreeGames(),t.next=20;break;case 17:return t.next=19,e.awaitTime(.2);case 19:e.CanDoNextRound();case 20:case"end":return t.stop()}},t)})));case 46:case"end":return t.stop()}},t)}))()},_checkExtraFreeInExpandingFreeGames:function(){return!!(this._gameInfo.freeResult&&this._gameInfo.freeResult.freeInfo&&this._gameInfo.freeResult.freeInfo.freeCnt>0)},_triggerExtraFreeInExpandingFreeGames:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0;n<e._gameInfo.resultCards.length;n++)e._gameInfo.resultCards[n]===e._cfg.scatterId&&(a=e.GetSymbolByIdx(n+1))&&a.playWinAnimation();return t.next=3,e.awaitTime(1);case 3:return(o=cc.find("dialog_node",e.node.parent)).active=!0,i=cc.scaleTo(.7,1).easing(cc.easeBackOut()),r=o.getChildByName("expand_extra_bg"),1===e._gameInfo.bonusTrail.state?r=o.getChildByName("expand_extra_bg_megabonus"):2===e._gameInfo.bonusTrail.state&&(r=o.getChildByName("expand_extra_bg_superbonus")),r.scale=0,r.active=!0,r.runAction(i),t.next=13,e.awaitTime(1.5);case 13:return r.runAction(cc.scaleTo(.7,0).easing(cc.easeBackIn())),t.next=16,e.awaitTime(.7);case 16:o.active=!1,e.CanDoNextRound();case 18:case"end":return t.stop()}},t)}))()},_checkExtraSpinInAthenaFreeGames:function(){if(this._freeGameType===p){var e,t=a(this._gameInfo.resultCards);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n===this._cfg.extraOneSpinId||n===this._cfg.extraTwoSpinId)return!0}}catch(e){t.e(e)}finally{t.f()}}return!1},_triggerExtraSpinInAthenaFreeGames:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o,i,r,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,a=0;a<e._gameInfo.resultCards.length;a++)(o=e._gameInfo.resultCards[a])!==e._cfg.extraOneSpinId&&o!==e._cfg.extraTwoSpinId||(i=e.GetSymbolByIdx(a+1))&&(i.playWinAnimation(),n+=o-e._cfg.extraOneSpinId+1);return cc.vv.AudioManager.playEff("games/GodAthena/","bell",!0),t.next=5,e.awaitTime(1);case 5:return(r=cc.find("dialog_node",e.node.parent)).active=!0,c=cc.scaleTo(.7,1).easing(cc.easeBackOut()),s=r.getChildByName("Athena_extra_bg"),1===e._gameInfo.bonusTrail.state?s=r.getChildByName("Athena_extra_bg_megabonus"):2===e._gameInfo.bonusTrail.state&&(s=r.getChildByName("Athena_extra_bg_superbonus")),cc.vv.AudioManager.playEff("games/GodAthena/","free2_dialog_start_show",!0),s.scale=0,s.active=!0,s.runAction(c),cc.find("extra_num",s).getComponent(cc.Label).string=n,t.next=18,e.awaitTime(1.5);case 18:return cc.vv.AudioManager.playEff("games/GodAthena/","popup_out",!0),s.runAction(cc.scaleTo(.7,0).easing(cc.easeBackIn())),t.next=22,e.awaitTime(.7);case 22:r.active=!1,e.CanDoNextRound();case 24:case"end":return t.stop()}},t)}))()},_triggerExitExpandingFreeGames:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,o,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.awaitTime(1);case 2:(n=cc.find("dialog_node",e.node.parent)).active=!0,Global.SlotsSoundMgr.stopBgm(),cc.vv.AudioManager.playEff("games/GodAthena/","free1_dialog_collect_show",!0),o=cc.find("expand_free_result",n),0!==e._gameInfo.bonusTrail.state&&(o=n.getChildByName("bonus_free_result")),o.scale=0,o.active=!0,o.runAction(cc.scaleTo(.7,1).easing(cc.easeBackOut())),Global.doRoallNumEff(cc.find("total_win",o),0,cc.vv.gameData.GetGameTotalFreeWin(),3,null,null,0,!0),(i=cc.find("btn_collect",o)).off("click"),r=function(){var t=c(regeneratorRuntime.mark(function t(){var r,c,s,u,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.off("click"),cc.vv.AudioManager.playEff("games/GodAthena/","popup_out",!0),o.runAction(cc.scaleTo(.7,0).easing(cc.easeBackIn())),e.cutSceneFire(),t.next=6,e.awaitTime(.5);case 6:r=a(e._reels);try{for(r.s();!(c=r.n()).done;)c.value.resetReel()}catch(e){r.e(e)}finally{r.f()}return n.active=!1,t.next=11,e.awaitTime(1);case 11:e._haveChooseScatter=!1,e._playNvshen("idle"),s=a(e._reels);try{for(s.s();!(u=s.n()).done;)u.value.clearLastSymbol()}catch(e){s.e(e)}finally{s.f()}if(e.Resume(),cc.find("reels_frame/common_node",e.node).active=!0,cc.find("reels_frame/expand_free_node",e.node).active=!1,16===e._gameInfo.bonusTrail.count)for(e._curBonusCount=0,m=1;m<17;m++)cc.find("reels_frame/common_node/bonus_node/icon_"+m,e.node).active=!1;e._freeGameType=0,e.ShowGameview(!1),e._playNvshen("idle",!0),e.ShowBottomWin(cc.vv.gameData.GetGameTotalFreeWin(),cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e.CanDoNextRound()});case 23:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(i,r),i.on("click",c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.stopAllActions(),e.next=3,r();case 3:case"end":return e.stop()}},e)})));case 17:case"end":return t.stop()}},t)}))()},_triggerExitAthenaFreeGames:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.awaitTime(1);case 2:(n=cc.find("dialog_node",e.node.parent)).active=!0,a=cc.find("Athena_free_result",n),Global.SlotsSoundMgr.stopBgm(),0!==e._gameInfo.bonusTrail.state?(a=n.getChildByName("bonus_free_result"),cc.vv.AudioManager.playEff("games/GodAthena/","free2_dialog_collect_show",!0)):cc.vv.AudioManager.playEff("games/GodAthena/","free1_dialog_collect_show",!0),a.scale=0,a.active=!0,a.runAction(cc.scaleTo(.7,1).easing(cc.easeBackOut())),Global.doRoallNumEff(cc.find("total_win",a),0,cc.vv.gameData.GetGameTotalFreeWin(),3,null,null,0,!0),(o=cc.find("btn_collect",a)).off("click"),i=function(){var t=c(regeneratorRuntime.mark(function t(){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o.off("click"),cc.vv.AudioManager.playEff("games/GodAthena/","popup_out",!0),a.runAction(cc.scaleTo(.7,0).easing(cc.easeBackIn())),e.cutSceneAthena(),t.next=6,e.awaitTime(1.3);case 6:if(e.Resume(),e._haveChooseScatter=!1,n.active=!1,cc.find("reels_frame/common_node",e.node).active=!0,16===e._gameInfo.bonusTrail.count)for(e._curBonusCount=0,i=1;i<17;i++)cc.find("reels_frame/common_node/bonus_node/icon_"+i,e.node).active=!1;return cc.find("reels_frame/expand_free_node",e.node).active=!1,e._freeGameType=0,e.ShowGameview(!1),e._playNvshen("idle",!0),t.next=17,e.awaitTime(.2);case 17:e.ShowBottomWin(cc.vv.gameData.GetGameTotalFreeWin(),cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e.CanDoNextRound()});case 18:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(o,i),o.on("click",c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.stopAllActions(),e.next=3,i();case 3:case"end":return e.stop()}},e)})));case 16:case"end":return t.stop()}},t)}))()},cutSceneFire:function(){cc.vv.AudioManager.playEff("games/GodAthena/","transitionfire",!0);var e=cc.find("qiepinghuo01",this.node.parent);e.active=!0;var t=e.getComponent(sp.Skeleton);t.setToSetupPose(),t.setAnimation(0,"animation",!1),t.setCompleteListener(function(){e.active=!1})},cutSceneAthena:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cc.vv.AudioManager.playEff("games/GodAthena/","transitiongoddess",!0),e.setNvshenActive(!1),(n=cc.find("nvshen_01",e.node.parent)).active=!0,(a=n.getComponent(sp.Skeleton)).setToSetupPose(),a.setAnimation(0,"animation",!1),a.setCompleteListener(function(){n.active=!1}),t.next=10,cc.vv.gameData.awaitTime(1.3);case 10:e.setNvshenActive(!0);case 11:case"end":return t.stop()}},t)}))()},cutSceneQuanZhang:function(){cc.vv.AudioManager.playEff("games/GodAthena/","transitionwand",!0);var e=cc.find("quanzhang_01",this.node.parent);e.active=!0;var t=e.getComponent(sp.Skeleton);t.setToSetupPose(),t.setAnimation(0,"animation",!1),t.setCompleteListener(function(){e.active=!1})},_triggerSelectScatter:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){var o,i,r,c,s,u,m,l,d,f,p,h,_;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=e||t._gameInfo.scatterChoice.scatterIdxs,i=a(o);try{for(i.s();!(r=i.n()).done;)c=r.value,t.GetSymbolByIdx(c).playWinAnimation()}catch(e){i.e(e)}finally{i.f()}return cc.vv.AudioManager.playEff("games/GodAthena/","bell",!0),t._gameInfo&&t._gameInfo.bonusTrail.count>t._curBonusCount&&(t._curBonusCount=t._gameInfo.bonusTrail.count,(s=cc.find("reels_frame/common_node/bonus_node/icon_"+t._curBonusCount,t.node)).active=!0,(u=s.getChildByName("spine")).getComponent(sp.Skeleton).setToSetupPose(),u.active=!0),t.Backup(),n.next=8,t.awaitTime(2);case 8:t.hideScatterBg(),(m=cc.find("scatter_node",t.node)).active=!0,l=cc.find("scatter_parent",m),cc.vv.AudioManager.playEff("games/GodAthena/","pickone",!0),d=t,f=function(e){if(!d._haveChooseScatter){cc.vv.AudioManager.playEff("games/GodAthena/","choose",!0);var t={c:MsgId.SLOT_SUBGAME_DATA};t.uid=Global.playerData.uid,t.gameid=cc.vv.gameData._gameId,t.data={},t.data.rtype=1,t.data.choiceId=e,cc.vv.NetManager.send(t),d._haveChooseScatter=!0}},p=a(o);try{for(_=function(){var e=h.value;t.GetSymbolByIdx(e).setAnimationToTop(!1);var n=t.GetSymbolByIdx(e).node.convertToWorldSpaceAR(cc.v2(0,0));n=l.convertToNodeSpaceAR(n);var a=cc.instantiate(cc.find("scatter_xunhuan_spine",t.node.parent));a.parent=l,a.name=e.toString(),a.active=!0,a.position=n;var o=a.getComponent(sp.Skeleton);o.clearTracks(),o.setToSetupPose(),o.setAnimation(0,"animation",!0);var i=cc.find("pick_one",a);i.active=!0,i.scale=0,i.runAction(cc.sequence(cc.scaleTo(.5,1.1),cc.callFunc(function(){i.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,.9),cc.scaleTo(.5,1.1))))}))),a.getChildByName("touch_node").on(cc.Node.EventType.TOUCH_END,function(){f(e)})},p.s();!(h=p.n()).done;)_()}catch(e){p.e(e)}finally{p.f()}cc.vv.gameData.checkAutoPlay(l.children[0],function(){f(Number(l.children[0].name))});case 18:case"end":return n.stop()}},n)}))()},onRcvSubGameData:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){var o,i,r,c,s,u,m,l,d,f,p,h,_,g,v;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.data,200===e.code){n.next=3;break}return n.abrupt("return");case 3:if(1!==o.rtype){n.next=30;break}for(i=cc.vv.gameData.GetAtlasByName("symbols"),r=cc.vv.gameData.GetAtlasByName("tuji"),c=cc.find("scatter_node/scatter_parent",t.node),s=c.getChildByName(""+o.choiceId),u=0;u<o.scatterIdxs.length;u++)(m=o.scatterIdxs[u])!==o.choiceId&&((l=c.getChildByName(""+m)).color=cc.Color.GRAY,(d=l.getComponent(sp.Skeleton)).clearTracks(),d.setToSetupPose(),d.setAnimation(0,"animation2",!0),f=cc.find("icon",l),r.getSpriteFrame("theme173_s_fpr"+o.allOptions[u]+"n")?(console.log("---1theme173_s_fpr0011111"),f.getComponent(cc.Sprite).spriteFrame=r.getSpriteFrame("theme173_s_fpr"+o.allOptions[u]+"n")):(console.log("---1theme173_s_fpr0012222"),f.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("theme173_s_fpr"+o.allOptions[u])),f.active=!0,f.scale=0);return p=cc.find("pick_one",s),h=cc.find("icon",s),console.log("---1theme173_s_fpr",r.getSpriteFrame("theme173_s_fpr"+o.choiceType+"n"),i.getSpriteFrame("theme173_s_fpr"+o.choiceType)),r.getSpriteFrame("theme173_s_fpr"+o.choiceType+"n")?(console.log("---1theme173_s_fpr11111"),h.getComponent(cc.Sprite).spriteFrame=r.getSpriteFrame("theme173_s_fpr"+o.choiceType+"n")):(console.log("---1theme173_s_fpr12222"),h.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("theme173_s_fpr"+o.choiceType)),h.active=!0,h.scale=0,p.stopAllActions(),p.runAction(cc.scaleTo(.8,0)),n.next=19,t.awaitTime(.8);case 19:return h.runAction(cc.scaleTo(.8,1)),n.next=22,t.awaitTime(.8);case 22:cc.vv.AudioManager.playEff("games/GodAthena/","othershow",!0),_=a(o.scatterIdxs);try{for(_.s();!(g=_.n()).done;)(v=g.value)!==o.choiceId&&function(){var e=c.getChildByName(""+v);e.getChildByName("pick_one").stopAllActions(),e.getChildByName("pick_one").runAction(cc.sequence(cc.scaleTo(.8,0),cc.callFunc(function(){e.getChildByName("icon").runAction(cc.scaleTo(.8,1))})))}()}catch(e){_.e(e)}finally{_.f()}return n.next=27,t.awaitTime(2);case 27:t._popupScatterChoiceDialog(o),n.next=31;break;case 30:2===o.rtype?t._pickBonusGameScript.onChooseKnife(o):3===o.rtype&&t._shieldGameScript.onChooseShield(o);case 31:case"end":return n.stop()}},n)}))()},_popupScatterChoiceDialog:function(e){var t=this;Global.SlotsSoundMgr.stopBgm();var n=cc.find("dialog_node",this.node.parent);n.active=!0;var a=this._gameInfo?this._gameInfo.bonusTrail:cc.vv.gameData.getDeskInfo().bonusTrail,o=cc.scaleTo(.7,1).easing(cc.easeBackOut()),i=n.getChildByName("expand_bg");switch(e.choiceType){case _:i=n.getChildByName("expand_bg"),1===a.state?(i=n.getChildByName("expand_bg_megabonus"),cc.vv.AudioManager.playEff("games/GodAthena/","free2_dialog_start_show",!0)):2===a.state?(i=n.getChildByName("expand_bg_superbonus"),cc.vv.AudioManager.playEff("games/GodAthena/","free2_dialog_start_show",!0)):cc.vv.AudioManager.playEff("games/GodAthena/","free1_dialog_start_show",!0);break;case v:i=n.getChildByName("pickbonus_bg"),cc.vv.AudioManager.playEff("games/GodAthena/","dialog_pick1_start",!0);break;case g:i=n.getChildByName("Athena_bg"),1===a.state?(i=n.getChildByName("Athena_bg_megabonus"),cc.vv.AudioManager.playEff("games/GodAthena/","free2_dialog_start_show",!0)):2===a.state?(i=n.getChildByName("Athena_bg_superbonus"),cc.vv.AudioManager.playEff("games/GodAthena/","free2_dialog_start_show",!0)):cc.vv.AudioManager.playEff("games/GodAthena/","free1_dialog_start_show",!0)}i.scale=0,i.active=!0,i.runAction(o);var r=cc.find("btn_start",i);r.off("click");var s=function(){var o=c(regeneratorRuntime.mark(function o(){var s,u,m,l,d,h,y;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:r.off("click"),cc.vv.AudioManager.playEff("games/GodAthena/","btn_click",!0),s=cc.scaleTo(.7,0).easing(cc.easeBackIn()),cc.vv.AudioManager.playEff("games/GodAthena/","popup_out",!0),o.t0=e.choiceType,o.next=o.t0===_?7:o.t0===g?29:o.t0===v?60:82;break;case 7:return i.runAction(s),t.cutSceneFire(),o.next=11,t.awaitTime(1.5);case 11:return cc.vv.gameData.SetTotalFree(e.freeInfo.freeCnt),cc.vv.gameData.SetFreeTime(e.freeInfo.freeCnt),t._freeGameType=f,t.ShowGameview(!0),t._playNvshen("shifa"),n.active=!1,cc.find("reels_frame/common_node",t.node).active=!1,cc.find("reels_frame/expand_free_node",t.node).active=!0,(u=cc.find("scatter_node",t.node)).active=!1,cc.find("scatter_parent",u).removeAllChildren(),t._shieldGameScript.exitGame(),o.next=26,t.awaitTime(1.5);case 26:return cc.vv.AudioManager.playBgm("games/GodAthena/","fgbgm",!0),t.CanDoNextRound(),o.abrupt("break",82);case 29:return i.runAction(s),t.cutSceneAthena(),o.next=33,t.awaitTime(1.3);case 33:return cc.vv.gameData.SetTotalFree(e.freeInfo.freeCnt),cc.vv.gameData.SetFreeTime(e.freeInfo.freeCnt),t._freeGameType=p,t.ShowGameview(!0),n.active=!1,cc.find("reels_frame/common_node",t.node).active=!1,cc.find("reels_frame/expand_free_node",t.node).active=!0,(m=cc.find("scatter_node",t.node)).active=!1,cc.find("scatter_parent",m).removeAllChildren(),t._shieldGameScript.exitGame(),o.next=47,t.awaitTime(.3);case 47:return t._playNvshen("shifa"),o.next=50,t.awaitTime(1.5);case 50:return l=cc.find("gezi",t.node.parent),cc.vv.AudioManager.playEff("games/GodAthena/","dove_fly1",!0),(d=l.getComponent(sp.Skeleton)).clearTracks(),d.setToSetupPose(),d.setAnimation(0,"animation2",!1),d.setCompleteListener(function(){var e=c(regeneratorRuntime.mark(function e(n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.animation?n.animation.name:"",t._freeGameType!==p){e.next=7;break}if("animation2"!==a){e.next=7;break}return e.next=5,cc.vv.gameData.awaitTime(10*Math.random());case 5:d.setToSetupPose(),d.setAnimation(0,"animation2",!1);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),cc.vv.AudioManager.playBgm("games/GodAthena/","free_game_music_advanced",!0),t.CanDoNextRound(),o.abrupt("break",82);case 60:return i.runAction(s),t.cutSceneQuanZhang(),o.next=64,t.awaitTime(1.5);case 64:return n.active=!1,t._shieldGameScript.exitGame(),(h=cc.find("scatter_node",t.node)).active=!1,cc.find("scatter_parent",h).removeAllChildren(),o.next=72,t._triggerPickBonusGame(e.knifeGame);case 72:return t.cutSceneQuanZhang(),o.next=75,t.awaitTime(1);case 75:if(t._pickBonusGameScript.exitGame(),16===a.count)for(t._curBonusCount=0,y=1;y<17;y++)cc.find("reels_frame/common_node/bonus_node/icon_"+y,t.node).active=!1;return t._haveChooseScatter=!1,o.next=80,t.awaitTime(.5);case 80:return t.ShowBottomWin(t._pickBonusGameScript.getWinCoin(),t._pickBonusGameScript.getWinCoin(),!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),t.CanDoNextRound()}),o.abrupt("break",82);case 82:case"end":return o.stop()}},o)}));return function(){return o.apply(this,arguments)}}();cc.vv.gameData.checkAutoPlay(r,s),r.on("click",c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopAllActions(),e.next=3,s();case 3:case"end":return e.stop()}},e)})))},_triggerPickBonusGame:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n){t._pickBonusGameScript.enterGame(e,n)}));case 1:case"end":return n.stop()}},n)}))()},setPickBonusGameScript:function(e){this._pickBonusGameScript=e},setShieldGameScript:function(e){this._shieldGameScript=e},GetSymbolByIdx:function(e){var t=(e-1)%this._col,n=6-Math.floor((e-1)/this._col)-1;return this._reels[t].GetSymbolByRow(n)},OnReelSpinEnd:function(e){var t=this._reels[e];(t.isHaveScatter()&&t.setScatterBgVisible(!0),2===e)?this._reels[0].isHaveScatter()&&this._reels[e].isHaveScatter()||this.hideScatterBg():4===e&&(this._reels[0].isHaveScatter()&&this._reels[2].isHaveScatter()&&this._reels[e].isHaveScatter()||this.hideScatterBg())},hideScatterBg:function(){var e,t=a(this._reels);try{for(t.s();!(e=t.n()).done;){e.value.setScatterBgVisible(!1)}}catch(e){t.e(e)}finally{t.f()}},_playQuanzhangzhongjiang:function(){var e=cc.find("nvshen/quanzhangzhongjiang",this.node.parent),t=e.getComponent(sp.Skeleton);e.active=!0,t.setToSetupPose(),t.setAnimation(0,"animation",!1),t.setCompleteListener(function(){e.active=!1})},setNvshenActive:function(e){cc.find("nvshen",this.node.parent).active=e},_playNvshen:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=cc.find("nvshen",this.node.parent),a=n.getComponent(sp.Skeleton);a.clearTracks(),a.setToSetupPose(),"idle"===e?(a.setAnimation(0,e,!0),t&&cc.tween(n).by(.2,{y:-cc.winSize.height/1560*400,scale:.2}).start()):(cc.tween(n).by(.5,{y:cc.winSize.height/1560*400,scale:-.2}).start(),a.setAnimation(0,e,!1),a.addAnimation(0,"idle",!0))},ShowGameview:function(e,t){this._super(e),cc.find("LMSlots_PrizePool_1/prizePool_Progressive",this.node.parent).active=!e;for(var n=cc.vv.gameData.GetAtlasByName("base"),a=1;a<=5;a++)cc.find("reels_bg/reel_bg".concat(a),this.node).getComponent(cc.Sprite).spriteFrame=e?n.getSpriteFrame("kuangDi2"):n.getSpriteFrame("kuangDi");t&&e&&this._playNvshen("shifa")},onDestroy:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameData,!1,this)},awaitTime:function(e){var t=this;return new Promise(function(n,a){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Athena_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"d18fdrJizNGM49kMEGP6W96","Athena_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},StartMove:function(){this._super()}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}],Athena_Wheel:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"a67c13YS31EGLXsFhyXLeHG","Athena_Wheel"),cc.Class({extends:cc.Component,properties:{items:[cc.Node],rate_2:cc.Node,rate_3:cc.Node,zhuanpanlizi:cc.Node,zhuanpanzhongjiang:cc.Node,_successCallback:null,_resultItem:null,_startMove:!1,_speed:5,_maxSpeed:10,_minSpeed:.5,_speedOffset:.02,_count:12,_needStop:!1,_bottomPosY:0,_backMove:!1,_resultData:null,_wheelConfig:null,_winCoin:0},onLoad:function(){this._bottomPosY=this.items[0].y-this.items[0].height},enterWheel:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=c(regeneratorRuntime.mark(function n(a){var o,i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(t._successCallback=a,t._resultData=e,t._wheelConfig=e.item.items,t.node.active=!0,o=0;o<10;o++)i=t._wheelConfig[o],r=t.items[o],cc.find("coin",r).getComponent(cc.Label).string=Global.formatNumShort(i.mult*cc.vv.gameData.GetTotalBet());return cc.find("parent",t.node).runAction(cc.scaleTo(.5,1).easing(cc.easeBackOut())),t.rate_2.active=2===e.knifeGame.mult,t.rate_3.active=3===e.knifeGame.mult,t._resultItem=t.items[e.item.resultId-1],t._winCoin=t._wheelConfig[t._resultData.item.resultId-1].mult*t._resultData.knifeGame.mult*cc.vv.gameData.GetTotalBet(),n.next=13,t.awaitTime(2);case 13:t._startMove=!0,cc.vv.AudioManager.playEff("games/GodAthena/","wheel_spin",!0),t.zhuanpanlizi.active=!0;case 16:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},getWinCoin:function(){return this._winCoin},_moveEnd:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.zhuanpanzhongjiang.active=!0,cc.vv.AudioManager.playEff("games/GodAthena/","wheel_win",!0),t.next=4,e.awaitTime(1);case 4:if(1===e._resultData.knifeGame.mult){t.next=19;break}return n=e.rate_2.convertToWorldSpaceAR(cc.v2(0,0)),n=e.node.convertToNodeSpaceAR(n),a=e._resultItem.convertToWorldSpaceAR(cc.v2(0,0)),a=e.node.convertToNodeSpaceAR(a),(o=cc.instantiate(cc.find("beishulizi",e.node.parent.parent))).parent=e.node,o.position=n,o.active=!0,o.runAction(cc.sequence(cc.moveTo(.5,a),cc.removeSelf())),t.next=16,e.awaitTime(.5);case 16:return cc.find("coin",e._resultItem).getComponent(cc.Label).string=Global.formatNumShort(e._winCoin),t.next=19,e.awaitTime(1);case 19:return cc.find("parent",e.node).runAction(cc.scaleTo(.5,0).easing(cc.easeBackIn())),t.next=23,e.awaitTime(.5);case 23:e._successCallback(),e._speed=5,e._successCallback=null,e._resultItem=null,e._count=12,e._needStop=!1,e._resultData=null,e.zhuanpanzhongjiang.active=!1,e.node.active=!1;case 32:case"end":return t.stop()}},t)}))()},update:function(e){if(this._startMove){this._needStop?(this._speed-=this._speedOffset,this._speed<=this._minSpeed&&(this._speed=this._minSpeed)):(this._speed+=this._speedOffset,this._speed>=this._maxSpeed&&(this._speed=this._maxSpeed)),0===this._count&&this._resultItem.y<=5*this._resultItem.height&&(this._needStop=!0,this.zhuanpanlizi.active=!1),this._needStop&&this._resultItem.y<0&&(this._startMove=!1,this._backMove=!0);var t,n=a(this.items);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.y<=this._bottomPosY&&(o.y+=this.items.length*o.height,o===this._resultItem&&(this._count--,this._count<=0&&(this._count=0))),o.y-=this._speed}}catch(e){n.e(e)}finally{n.f()}}if(this._backMove){var i,r=a(this.items);try{for(r.s();!(i=r.n()).done;){i.value.y+=this._minSpeed}}catch(e){r.e(e)}finally{r.f()}this._resultItem.y>-1&&this._resultItem.y<1&&(this._backMove=!1,this._moveEnd())}},awaitTime:function(e){var t=this;return new Promise(function(n,a){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{}]},{},["Athena_Cfg","Athena_Logic","Athena_PickBonusGame","Athena_Reel","Athena_ShieldGame","Athena_Slots","Athena_Symbol","Athena_Wheel"]);