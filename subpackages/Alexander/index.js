window.__require=function e(t,n,a){function i(c,s){if(!n[c]){if(!t[c]){var r=c.split("/");if(r=r[r.length-1],!t[r]){var _="function"==typeof __require&&__require;if(!s&&_)return _(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+c+"'")}c=r}var p=n[c]={exports:{}};t[c][0].call(p.exports,function(e){return i(t[c][1][e]||e)},p,p.exports,e,t,n,a)}return n[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<a.length;c++)i(a[c]);return i}({Alexander_BonusGame:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var s=e[o](c),r=s.value}catch(e){return void n(e)}s.done?t(r):Promise.resolve(r).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function s(e){a(c,i,o,s,r,"next",e)}function r(e){a(c,i,o,s,r,"throw",e)}s(void 0)})}}cc._RF.push(t,"df79c5CGxpGWK+A+VZVYGHE","Alexander_BonusGame"),cc.Class({extends:cc.Component,properties:{_rtype:3},start:function(){},Init:function(){this._rtype=3,this._spine_character=cc.find("safe_node/spine_character",this.node),this._bonus_spins=cc.find("safe_node/slots/node_spins",this.node),this._node_winner=cc.find("safe_node/slots/node_winner",this.node),this._bonus_spins.active=!1,this._node_winner.active=!1,this._spine_bonus_again=cc.find("safe_node/slots/spine_bonus_again",this.node),this._spine_bonus_again.active=!1},onEnable:function(){cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,this)},onDisable:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,!1,this)},enterBonusGame:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playBgm("bonus_bgm"),e.initBonusGame(),t.next=4,cc.vv.gameData.awaitTime(2);case 4:e.bonusStartMove(),e._bonusSuccess=n;case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},endBonusGame:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("bonus_end"),cc.tween(e._bonus_spins).to(.5,{opacity:0}).start(),t.next=4,cc.vv.gameData.awaitTime(.5);case 4:return e._bonus_spins.active=!1,e._bonus_spins.opacity=255,cc.tween(e._spine_character).to(.5,{opacity:0}).start(),e._node_winner.active=!0,e._node_winner.opacity=0,cc.find("lbl",e._node_winner).getComponent(cc.Label).string="",cc.find("spine_light",e._node_winner).active=!1,cc.find("spine_win",e._node_winner).active=!1,cc.tween(e._node_winner).to(.5,{opacity:255}).start(),t.next=15,cc.vv.gameData.awaitTime(.5);case 15:return t.next=17,e.playCompleteAnim();case 17:if(!e._retriggered){t.next=34;break}return Global.SlotsSoundMgr.playEffect("playitagain"),e._spine_bonus_again.active=!0,e._spine_bonus_again.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),t.next=23,cc.vv.gameData.awaitTime(.5);case 23:return t.next=25,cc.vv.gameData.getPopupScript().playBonusAgainAnim();case 25:return cc.vv.gameData.setEpicInfo(e._newEpicInfo),cc.vv.gameData.setBonusIdxs(e._newEpicInfo.bonusIdxs),cc.vv.gameData.setBonusItems(e._newEpicInfo.bonusItems),e._node_winner.active=!1,e._spine_character.opacity=255,cc.vv.gameData.GetSlotsScript().initBonusSymbol(),e.initBonusGame(),e.bonusStartMove(),t.abrupt("return");case 34:return n=e._winCoin,a=e._winCoin,cc.vv.gameData.AddCoin(e._winCoin),t.next=39,new Promise(function(e,t){cc.vv.gameData.GetSlotsScript().ShowBottomWin(n,a,!0,e)});case 39:cc.find("spine_win",e._node_winner).active=!1,e._node_winner.active=!1,e._bonusSuccess&&(e._bonusSuccess(),e._bonusSuccess=null,Global.SlotsSoundMgr.stopBgm());case 42:case"end":return t.stop()}},t)}))()},bonusStartMove:function(){this._restCnt-=1,this.showBonusSpins(this._restCnt,!1),cc.vv.gameData.GetSlotsScript().setBonusCanStop(!1),cc.vv.gameData.GetSlotsScript().StartMove(this._bonusIdxs),this.onSendSeq()},onSendSeq:function(){var e={c:MsgId.SLOT_SUBGAME_DATA};e.gameid=cc.vv.gameData.getGameId(),e.data={rtype:this._rtype},cc.vv.NetManager.send(e,!0)},onRcvSubGameAction:function(e){var t=e.data;if(200===e.code&&t&&t.rtype==this._rtype&&(cc.vv.gameData.GetSlotsScript().setBonusCanStop(!0),t)){this._isBonusEnd=t.isEnd,this._bonusIdxs=t.epicInfo.bonusIdxs,this._bonusItems=t.epicInfo.bonusItems,this._retriggered=t.epicInfo.retriggered,this._winCoin=t.epicInfo.winCoin,this._restCnt=t.epicInfo.restCnt,this._newEpicInfo=t.newEpicInfo,cc.vv.gameData.setBonusIdxs(this._bonusIdxs),cc.vv.gameData.setBonusItems(this._bonusItems);var n=this.getResultCard();cc.vv.gameData.GetSlotsScript().SetSlotsResult(n)}},getResultCard:function(){for(var e=cc.vv.gameData.getGameCfg(),t=[],n=1;n<=20;n++)if(this._bonusIdxs.includes(n))t.push(3);else{var a=Global.random(1,e.randomSymbols.length),i=e.randomSymbols[a-1];t.push(i)}return t},onBonusSpinEnd:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._isBonusEnd){t.next=4;break}e.endBonusGame(),t.next=8;break;case 4:return e.showBonusSpins(e._restCnt,!1),t.next=7,cc.vv.gameData.awaitTime(2);case 7:e.bonusStartMove();case 8:case"end":return t.stop()}},t)}))()},showBonusSpins:function(e,t){if(!1===e)this._bonus_spins.active=!1;else{this._bonus_spins.active=!0,this._bonus_spins.opacity=255;cc.find("lbl",this._bonus_spins).getComponent(cc.Label).string=["LAST SPIN","1 SPIN REMAINING","2 SPINS REMAINING","3 SPINS REMAINING"][e];var n=cc.find("spine_bomb",this._bonus_spins);t?n.active=!1:3==e&&(Global.SlotsSoundMgr.playEffect("num"),n.active=!0,n.getComponent(sp.Skeleton).setAnimation(0,"animation",!1))}},playCompleteAnim:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var i,o,c,s,r,_,p,l,u,m,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(i=Global.copy(e._bonusIdxs)).sort(function(e,t){return e/5-t/5}).sort(function(e,t){return(e-1)%5-(t-1)%5}),(o=cc.find("spine_win",e._node_winner)).active=!0,c=e._curCoin,s=cc.find("lbl",e._node_winner),r=cc.find("spine_light",e._node_winner),_=0;case 8:if(!(_<i.length)){t.next=37;break}if(p=i[_],!(l=e._bonusItems[e._bonusIdxs.indexOf(p)]).again){t.next=14;break}t.next=34;break;case 14:return Global.SlotsSoundMgr.playEffect("collect"),u=cc.vv.gameData.GetSlotsScript().GetSymbolByIdx(p),m=e._node_winner.convertToNodeSpaceAR(u.node.convertToWorldSpaceAR(cc.v2(0,0))),o.position=m,o.angle=e.getRotationAngle(p),o.scale=e.getScaleMul(p),o.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),u.playBonusCollAnim(),t.next=24,cc.vv.gameData.awaitTime(.5);case 24:if(d=void 0,l.coin?d=l.coin:l.jackpot&&(d=l.jackpot.value),!(d>0)){t.next=34;break}return c+=d,s.getComponent(cc.Label).string=Global.FormatNumToComma(c),r.active=!0,r.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),cc.vv.gameData.GetBottomScript().SetWin(c),t.next=34,cc.vv.gameData.awaitTime(.3);case 34:_++,t.next=8;break;case 37:n();case 38:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},initBonusGame:function(){var e=cc.vv.gameData.getEpicInfo();this._bonusIdxs=e.bonusIdxs,this._bonusItems=e.bonusItems,this._currStep=e.currStep,this._restCnt=e.restCnt,this._retriggered=e.retriggered,this._curCoin=e.winCoin,this.showBonusSpins(this._restCnt,!0),cc.vv.gameData.GetBottomScript().SetWin(this._curCoin)},getRotationAngle:function(e){return[-45,-27,0,27,45,-35,-20,0,20,35,-29,-15,0,15,29,-24,-13,0,13,24][e-1]},getScaleMul:function(e){return[.7,.6,.5,.6,.7,.9,.8,.7,.8,.9,1.1,1,.9,1,1.1,1.2,1.1,1,1.1,1.2][e-1]}}),cc._RF.pop()},{}],Alexander_Bottom:[function(e,t,n){"use strict";cc._RF.push(t,"15598SPy6hAu6LXWQULOQoq","Alexander_Bottom"),cc.Class({extends:e("LMSlots_Bottom_Base"),properties:{},ShowBtnsByState:function(e){this._super(e),"moveing_2"==e?cc.vv.gameData.GetSlotsScript().setStopNodeState(!0):cc.vv.gameData.GetSlotsScript().setStopNodeState(!1)}}),cc._RF.pop()},{LMSlots_Bottom_Base:void 0}],Alexander_Cfg:[function(e,t,n){"use strict";var a;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"1d41cq/BLpA9qoQOfCu0dRB","Alexander_Cfg");var o={symbol:(a={},i(a,1,{node:"s1",win_node:"w1",win_ani:{name:"animation",zIndex:300},isMask:!0}),i(a,2,{node:"s2",win_node:"w2",stop_ani:{name:"animation1",zIndex:100},trigger_ani:{name:"animation2",zIndex:300},isMask:!0}),i(a,3,{node:"s3",mini_node:"s301",minor_node:"s302",major_node:"s303",again_node:"s304",win_node:"w3",isMask:!1,idle_ani:{name:"animationj_1",mini_name:"animation27_1",minor_name:"animation32_1",major_name:"animation36_1",again_name:"animation37_1",zIndex:300},coll_ani:{name:"animationj_2",mini_name:"animation27_2",minor_name:"animation32_2",major_name:"animation36_2",again_name:"animation37_2",zIndex:300}}),i(a,4,{node:"s4",win_node:"w4",win_ani:{name:"animation",zIndex:300},isMask:!0}),i(a,5,{node:"s5",win_node:"w5",win_ani:{name:"animation",zIndex:300},isMask:!0}),i(a,6,{node:"s6",win_node:"w6",win_ani:{name:"animation",zIndex:300},isMask:!0}),i(a,7,{node:"s7",win_node:"w7",win_ani:{name:"animation",zIndex:300},isMask:!0}),i(a,8,{node:"s8",win_node:"w8",win_ani:{name:"animation",zIndex:300},isMask:!0}),i(a,9,{node:"s9",win_node:"w9",win_ani:{name:"animation",zIndex:300},isMask:!0}),i(a,10,{node:"s10",win_node:"",isMask:!0}),i(a,11,{node:"s11",win_node:"",isMask:!0}),i(a,12,{node:"s12",win_node:"",isMask:!0}),i(a,13,{node:"s13",win_node:"",isMask:!0}),i(a,14,{node:"s0",win_node:""}),a),bonusId:[3],scripts:{Top:"LMSlots_Top_Base",Bottom:"Alexander_Bottom",Slots:"Alexander_Slots",Reels:"Alexander_Reel",Symbols:"Alexander_Symbol"},col:20,row:1,symbolPrefab:"LMSlots_Symbol",symbolSize:{height:106},randomSymbols:[1,4,5,6,7,8,9,10,11,12,13],kuang:"kuang",speed:3e3,autoModelDelay:.5,reelStopInter:.1,auto_stop_time:1,bounceInfo:{distance:20,time:.1},normalBgm:"base_bgm",helpItems:["games/Alexander/prefab/help_node/LMSlots_Help_item1","games/Alexander/prefab/help_node/LMSlots_Help_item2","games/Alexander/prefab/help_node/LMSlots_Help_item3","games/Alexander/prefab/help_node/LMSlots_Help_item4"],commEffect:{path:"games/Alexander/",win1:["win1","win1end"],win2:["win2","win2end"]},AddAntiTime:1.8,reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/Alexander/",reelStopSound:"reel_stop",symbolStopSound:"symbol_scatter",antSound:"reel_notify",antSpeed:2200,type:"free"},{id:[3],mini:6,counts:[4,4,4,4,4],path:"games/Alexander/",reelStopSound:"reel_stop",symbolStopSound:"symbol_coin",antSpeed:2e3,type:"bonus"}]};t.exports=o,cc._RF.pop()},{}],Alexander_FreeGame:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var s=e[o](c),r=s.value}catch(e){return void n(e)}s.done?t(r):Promise.resolve(r).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function s(e){a(c,i,o,s,r,"next",e)}function r(e){a(c,i,o,s,r,"throw",e)}s(void 0)})}}cc._RF.push(t,"b7682wpLEpGUoMWLKf09TN2","Alexander_FreeGame"),cc.Class({extends:cc.Component,properties:{_slotsNodeList:[],_slotsScpList:[]},start:function(){},Init:function(){this._node_free=cc.find("safe_node/node_free",this.node),this._node_free.active=!1,this._node_slots=cc.find("slots",this._node_free);for(var e=1;e<=4;e++){var t=cc.find("slots"+e,this._node_slots),n=t.addComponent("Alexander_FreeSlots");n.Init(e),this._slotsNodeList.push(t),this._slotsScpList.push(n)}},initShowSlotsData:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(a,i){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(Global.SlotsSoundMgr.playBgm("free_bgm"),cc.vv.gameData.setIsFreeGame(!0),t._node_free.active=!0,t.showNormalSlots(!1),t._slotsCnt=cc.vv.gameData.getFreeSlotsCnt(),t._addRow=cc.vv.gameData.getFreeAddRow(),t._wildCols=cc.vv.gameData.getFreeWildCols(),t.setSlotsScale(),t.showWildSpine(),o=0;o<t._slotsNodeList.length;o++)o<t._slotsCnt?(t._slotsNodeList[o].active=!0,t._slotsScpList[o].initSlotsData()):t._slotsNodeList[o].active=!1;if(!e){n.next=14;break}return n.next=13,cc.vv.gameData.awaitTime(.5);case 13:cc.vv.gameData.getMapScript().hideMapNode();case 14:cc.vv.gameData.GetSlotsScript().CanDoNextRound(),t._freeSuccess=a;case 16:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},endFreeGame:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.awaitTime(1);case 2:return t.next=4,cc.vv.gameData.getPopupScript().playEndFreeAnim();case 4:return cc.vv.gameData.getPopupScript().playQPAnim3(),t.next=7,cc.vv.gameData.awaitTime(.7);case 7:return e._node_free.active=!1,e.showNormalSlots(!0),cc.vv.gameData.GetBottomScript().ShowFreeModel(!1),e.hideWildSpine(),t.next=13,cc.vv.gameData.awaitTime(2);case 13:return t.next=15,new Promise(function(e){var t=cc.vv.gameData.getFreeWinCoin();cc.vv.gameData.GetSlotsScript().ShowBottomWin(t,t,!0,function(){e()})});case 15:cc.vv.gameData.setIsFreeGame(!1),Global.SlotsSoundMgr.stopBgm(),e._freeSuccess&&(e._freeSuccess(),e._freeSuccess=null);case 18:case"end":return t.stop()}},t)}))()},setSlotsScale:function(){this._node_slots.setScale([1,.9,.53,.53][this._slotsCnt-1]),this._node_slots.getComponent(cc.Widget).updateAlignment();var e=cc.vv.gameData.getGameCfg(),t=this._addRow?4:3,n=this._slotsNodeList[0].width/2+16,a=e.symbolSize.height*t/2,i=3*a+30;(1==this._slotsCnt&&!this._addRow||this._slotsCnt>2)&&(i+=e.symbolSize.height,a+=e.symbolSize.height),1==this._slotsCnt?this._slotsNodeList[0].position=cc.v2(0,a):2==this._slotsCnt?(this._slotsNodeList[0].position=cc.v2(0,i),this._slotsNodeList[1].position=cc.v2(0,a)):3==this._slotsCnt?(this._slotsNodeList[0].position=cc.v2(0,i),this._slotsNodeList[1].position=cc.v2(-n,a),this._slotsNodeList[2].position=cc.v2(n,a)):4==this._slotsCnt&&(this._slotsNodeList[0].position=cc.v2(-n,i),this._slotsNodeList[1].position=cc.v2(n,i),this._slotsNodeList[2].position=cc.v2(-n,a),this._slotsNodeList[3].position=cc.v2(n,a))},showWildSpine:function(){for(var e=0;e<this._slotsNodeList.length;e++)e<this._slotsCnt&&this._slotsScpList[e].showWildSpine()},hideWildSpine:function(){for(var e=0;e<this._slotsNodeList.length;e++)e<this._slotsCnt&&this._slotsScpList[e].hideWildSpine()},StartMove:function(){for(var e=0;e<this._slotsNodeList.length;e++)e<this._slotsCnt&&this._slotsScpList[e].StartMove()},StopMove:function(){for(var e=0;e<this._slotsNodeList.length;e++)e<this._slotsCnt&&this._slotsScpList[e].StopMove()},onMsgSpine:function(e){cc.log(e),this._gameInfo=e;for(var t=e.freeGameSlots,n=0;n<this._slotsNodeList.length;n++)n<this._slotsCnt&&this._slotsScpList[n].onMsgSpine(t[n])},OnSpinEnd:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0;n<e._slotsNodeList.length;n++)n<e._slotsCnt&&e._slotsScpList[n].OnSpinEnd();return a=e._gameInfo.wincoin,i=cc.vv.gameData.getFreeWinCoin(),t.next=5,new Promise(function(e,t){cc.vv.gameData.GetSlotsScript().ShowBottomWin(a,i,!0,function(){e()})});case 5:if(!(cc.vv.gameData.GetTotalFree()>0&&0==cc.vv.gameData.GetFreeTime())){t.next=8;break}return e.endFreeGame(),t.abrupt("return");case 8:cc.vv.gameData.GetSlotsScript().CanDoNextRound();case 9:case"end":return t.stop()}},t)}))()},GetLastStopReelIdx:function(){return this._slotsScpList[this._slotsCnt-1].GetLastStopReelIdx()},showNormalSlots:function(e){cc.find("safe_node/slots",this.node).active=e}}),cc._RF.pop()},{}],Alexander_FreeReel:[function(e,t,n){"use strict";cc._RF.push(t,"ad728vbaxVL7oA+/+tiBkgS","Alexander_FreeReel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},start:function(){},Init:function(e,t,n){this._holderNode=cc.find("mask/holder",this.node),this._holderOrigPosY=this._holderNode.position.y,this._super(e,t,n)},setSlotType:function(e){this._slotsType=e},OnReelSpinEnd:function(){this._reelState=[];var e=cc.vv.gameData.getFreeScript().GetLastStopReelIdx(),t=cc.vv.gameData.getFreeSlotsCnt();this._slotsType==t&&this._reelIdx==e&&cc.vv.gameData.getFreeScript().OnSpinEnd()},ReadyToStop:function(){this._bNotifyReadyStop||(this._bNotifyReadyStop=!0)},OnReelBounsActionBefore:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveBefore()},OnReelBounsActionDeep:function(){if(this.playReelStop(),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveDeep()},playReelStop:function(){var e=this._cfg.reelStateInfo[0].path,t=this._cfg.reelStateInfo[0].reelStopSound;cc.vv.AudioManager.playEff(e,t,!0)},OnReelBounsActionEnd:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveEnd();else cc.log("\u56de\u5f39\u7ed3\u675f\uff0c\u6570\u636e\u5df2\u7ecf\u88ab\u6e05\u7a7a\u4e86");this.OnReelSpinEnd()},StartRecycleSymbol:function(e,t){cc.vv.gameData.getGameCfg();if(this._symbols.length>t+1){var n=-(this._symbols.length-(t+1));this.AddCount(n,e)}}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Alexander_FreeSlots:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var s=e[o](c),r=s.value}catch(e){return void n(e)}s.done?t(r):Promise.resolve(r).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function s(e){a(c,i,o,s,r,"next",e)}function r(e){a(c,i,o,s,r,"throw",e)}s(void 0)})}}cc._RF.push(t,"b9485/TarlE15Gl38sFmbbS","Alexander_FreeSlots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_wildList:[]},start:function(){},Init:function(e){this._slotsType=e,this._topScript=cc.vv.gameData.GetTopScript(),this._bottomScript=cc.vv.gameData.GetBottomScript(),this._cfg=cc.vv.gameData.getGameCfg(),this._col=5,this._row=3,this._topAniNode=cc.find("top_ani",this.node),this.createReels(this._col,this._row,e),this.initWildSpine()},createReels:function(e,t,n){for(var a=0;a<e;a++){var i=cc.find("reels/reel"+(a+1),this.node).addComponent("Alexander_FreeReel");i.Init(a,t,this._topAniNode),i.setSlotType(n),this._reels.push(i)}},initSlotsData:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e._addRow=cc.vv.gameData.getFreeAddRow(),e._wildCols=cc.vv.gameData.getFreeWildCols(),n=e._row,e._row=e._addRow?4:3,e._addRow&&3==n?e._reels.forEach(function(e){e.AddCount(1,.01)}):e._addRow||4!=n||e._reels.forEach(function(t){t.StartRecycleSymbol(.01,e._row)}),e.addSlotsSize(e._addRow),e.initAllSymbol(),e.hideWildSpine(),e.showWildSpine();case 9:case"end":return t.stop()}},t)}))()},addSlotsSize:function(e){this.node.height=this._row*this._cfg.symbolSize.height},initAllSymbol:function(){for(var e=0;e<this._reels.length;e++)for(var t=0;t<this._row+1;t++)this._reels[e].GetSymbolByRow(t)&&(this._reels[e].GetSymbolByRow(t).ClearState(),this._reels[e].GetSymbolByRow(t).ShowRandomSymbol())},initWildSpine:function(){for(var e=1;e<=5;e++){var t=cc.find(cc.js.formatStr("reels/reel%s/wild",e),this.node);t.active=!1,this._wildList.push(t)}},showWildSpine:function(){for(var e=cc.vv.gameData.getFreeWildCols(),t=cc.vv.gameData.getFreeAddRow(),n=0;n<e.length;n++){var a=e[n];this._wildList[a-1].active=!0;var i=t?"animation4_1":"animation3_1";this._wildList[a-1].getComponent(sp.Skeleton).setAnimation(0,i,!0)}},hideWildSpine:function(){for(var e=0;e<this._wildList.length;e++)this._wildList[e].active=!1},StartMove:function(){this._super(),this.showWildSpine()},onMsgSpine:function(e){this._gameInfo=e;var t=e.cards;this.SetSlotsResult(t)},OnSpinEnd:function(){this.ShowWinTrace()},ShowWinTrace:function(){for(var e=[],t=0;t<this._gameInfo.zjLuXian.length;t++)for(var n=this._gameInfo.zjLuXian[t],a=0;a<n.indexs.length;a++)e[n.indexs[a]]=1;if(this._gameInfo.scatterZJLuXian&&this._gameInfo.scatterZJLuXian.indexs)for(var i=0;i<this._gameInfo.scatterZJLuXian.indexs.length;i++){e[this._gameInfo.scatterZJLuXian.indexs[i]]=1}var o=cc.vv.gameData.getFreeWildCols(),c=cc.vv.gameData.getFreeAddRow(),s=[];for(var r in e){var _=Number(r);if(o.includes((_-1)%5+1))s.push((_-1)%5);else{var p=this.GetSymbolByIdx(Number(r));p&&(p.playWinAnimation(),p.ShowKuang())}}for(var l=0;l<s.length;l++){var u=c?"animation4":"animation3";this._wildList[s[l]].getComponent(sp.Skeleton).setAnimation(0,u,!0)}},GetReelStopInter:function(e){var t=this._cfg.reelStopInter||.6;return(e+this._col*this._slotsType)*t},CanStopSlot:function(){return null!=this._gameInfo}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Alexander_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"e5eda8cwbhI6ajr93I1nb0I","Alexander_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{},start:function(){},init:function(e,t,n){this._epicInfo=e.epicInfo,e.epicInfo&&(this._bonusIdxs=e.epicInfo.bonusIdxs,this._bonusItems=e.epicInfo.bonusItems),this._mapGame=e.mapGame,e.mapGame&&(this._freeSlotsCnt=e.mapGame.slotCnt,this._freeAddRow=e.mapGame.extraRow,this._freeWildCols=e.mapGame.wildCols),e.pageReward&&(this._freeSlotsCnt=e.pageReward.slotCnt,this._freeAddRow=1,this._freeWildCols=e.pageReward.wildCols),this._pawStore=e.pawStore,this._freeWinCoin=e.freeWinCoin,this._super(e,t,n)},OnRcvNetSpine:function(e){200==e.code&&(this._epicInfo=e.epicInfo,this._bonusIdxs=e.bonusIdxs,this._bonusItems=e.bonusItems,this._mapGame=e.mapGame,this._pawStore=e.pawStore,this._freeWinCoin=e.freeWinCoin),this._super(e)},setPopupScript:function(e){this._popScp=e},getPopupScript:function(){return this._popScp},setBonusScript:function(e){this._bonusScp=e},getBonusScript:function(){return this._bonusScp},setMapScript:function(e){this._mapScp=e},getMapScript:function(){return this._mapScp},setFreeScript:function(e){this._freeScp=e},getFreeScript:function(){return this._freeScp},setStoreScript:function(e){this._storeScp=e},getStoreScript:function(){return this._storeScp},getNeedBet:function(){return this._deskInfo.needBet},setIsBonusGame:function(e){this._isBonusGame=e},isBonusGame:function(){return this._isBonusGame},setEpicInfo:function(e){this._epicInfo=e},getEpicInfo:function(){return this._epicInfo},setBonusIdxs:function(e){this._bonusIdxs=e},getBonusIdxs:function(){return this._bonusIdxs},setBonusItems:function(e){this._bonusItems=e},getBonusItems:function(){return this._bonusItems},setMapGame:function(e){this._mapGame=e},getMapGame:function(){return this._mapGame},setIsFreeGame:function(e){this._isFreeGame=e},isFreeGame:function(){return this._isFreeGame},setFreeAddRow:function(e){this._freeAddRow=e},getFreeAddRow:function(){return this._freeAddRow},setFreeSlotsCnt:function(e){this._freeSlotsCnt=e},getFreeSlotsCnt:function(){return this._freeSlotsCnt},setFreeWildCols:function(e){this._freeWildCols=e},getFreeWildCols:function(){return this._freeWildCols},getFreeGameSlots:function(){return this._gameInfo.freeGameSlots},getFreeWinCoin:function(){return this._freeWinCoin},setPawStore:function(e){this._pawStore=e},getPawStore:function(){return this._pawStore},_doPauseAction:function(e){this._super(e);var t=[],n=this.getFreeScript();if(n){n.enabled=e;for(var a=0;a<n._slotsScpList.length;a++)for(var i=n._slotsScpList[a]._reels,o=0;o<i.length;o++){var c=i[o];c.enabled=e;for(var s=c._symbols,r=0;r<s.length;r++){var _=s[r];_.enabled=e,t.push(_.node)}}}for(var p=0;p<t.length;p++){t[p].active&&(e?t[p].resumeAllActions():t[p].pauseAllActions());for(var l=t[p].children,u=0;u<l.length;u++)l[u].active&&(e?l[u].resumeAllActions():l[u].pauseAllActions())}}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],Alexander_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"a5750yPdglH74LPhgRfDwOy","Alexander_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},InitCommComponent:function(){this._super();var e=this.node.addComponent("Alexander_Popup");e.Init(),cc.vv.gameData.setPopupScript(e);var t=this.node.addComponent("Alexander_BonusGame");t.Init(),cc.vv.gameData.setBonusScript(t);var n=this.node.addComponent("Alexander_Map");n.Init(),cc.vv.gameData.setMapScript(n);var a=this.node.addComponent("Alexander_FreeGame");a.Init(),cc.vv.gameData.setFreeScript(a);var i=this.node.addComponent("Alexander_StoreGame");i.Init(),cc.vv.gameData.setStoreScript(i)}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Alexander_Map:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var s=e[o](c),r=s.value}catch(e){return void n(e)}s.done?t(r):Promise.resolve(r).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function s(e){a(c,i,o,s,r,"next",e)}function r(e){a(c,i,o,s,r,"throw",e)}s(void 0)})}}cc._RF.push(t,"778e3CuJhdIDJ43J+Ua1KId","Alexander_Map"),cc.Class({extends:cc.Component,properties:{_rtype:2,_itemList:[],_canClick:!1},start:function(){},onEnable:function(){cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,this)},onDisable:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,!1,this)},Init:function(){this._node_map=cc.find("safe_node/node_map",this.node),this._node_map.active=!1,this._spr_road1=cc.find("node_road/spr_road1",this._node_map),this._spr_road2=cc.find("node_road/spr_road2",this._node_map),this._node_road1=cc.find("node_road/spine_road1",this._node_map),this._node_road2=cc.find("node_road/spine_road2",this._node_map),this._node_road1.active=!1,this._node_road2.active=!1;for(var e=1;e<=38;e++){var t=cc.find("node_items/item"+e,this._node_map);this._itemList.push(t)}this._lbl_free_cnt=cc.find("node_freeCnt/lbl",this._node_map),this._par_freeCnt=cc.find("node_freeCnt/par",this._node_map),this._par_freeCnt.active=!1,this._node_freeType=cc.find("node_freeType",this._node_map),this._par_freeType=cc.find("node_freeType/par",this._node_map),this._par_freeType.active=!1,this._spine_dog=cc.find("node_items/spine_dog",this._node_map),this._btn_sz=cc.find("btn_sz",this._node_map),this._btn_sz.off("click"),Global.btnClickEvent(this._btn_sz,this.clickSzBtn,this),this._spine_sz=cc.find("spine_sz",this._btn_sz),this._sz_tip=cc.find("spine_tip",this._btn_sz),this._par_win=cc.find("safe_node/map_par_win",this.node),this._par_win.active=!1,this._btn_entrance=cc.find("btn_entrance",this._node_map),this._spine_fei=cc.find("spine_fei_zz",this._node_map),this._spine_fei.active=!1},showMapGame:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playBgm("map_bgm"),e._node_map.active=!0,e._mapGame=cc.vv.gameData.getMapGame(),e._curStep=e._mapGame.currStep,e.initMapItem(),e.initRoads(),e.initDog(),e.setFreeCnt(),e.initFreeType(),e.initWinCoin(),e.initSzBtn(),e.updatePawNum(),cc.vv.gameData.GetBottomScript().SetWin(e._mapGame.winCoin),t.next=15,cc.vv.gameData.awaitTime(1);case 15:e.setCanClick(!0),e._mapSuccess=n;case 17:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},endMapGame:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("map_end"),t.next=3,cc.vv.gameData.awaitTime(.8);case 3:return cc.vv.gameData.SetTotalFree(e._mapGame.freeCnt),cc.vv.gameData.SetFreeTime(e._mapGame.freeCnt),cc.vv.gameData.setFreeAddRow(e._mapGame.extraRow),cc.vv.gameData.setFreeSlotsCnt(e._mapGame.slotCnt),cc.vv.gameData.setFreeWildCols(e._mapGame.wildCols),t.next=10,cc.vv.gameData.getPopupScript().playTriFreeAnim();case 10:return cc.vv.gameData.getPopupScript().playQPAnim1(),t.next=13,cc.vv.gameData.awaitTime(.5);case 13:return cc.vv.gameData.GetBottomScript().ShowFreeModel(!0,0,e._mapGame.freeCnt),t.next=16,cc.vv.gameData.getFreeScript().initShowSlotsData(!0);case 16:e._mapSuccess&&(e._node_map.active=!1,e._mapSuccess(),e._mapSuccess=null);case 17:case"end":return t.stop()}},t)}))()},hideMapNode:function(){this._node_map.active=!1},setCanClick:function(e){this._canClick=e},initMapItem:function(){for(var e=this._mapGame.hisSteps,t=0;t<this._itemList.length;t++)this._itemList[t].opacity=255,this._itemList[t].active=!e.includes(t+1),cc.find("spr",this._itemList[t])&&(cc.find("spr",this._itemList[t]).active=!0)},initRoads:function(){var e=this._mapGame.jumpSteps;e.includes(29)?(this._node_road1.active=!0,this._node_road1.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),this._spr_road1.active=!1):(this._node_road1.active=!1,this._spr_road1.active=!0),e.includes(21)?(this._node_road2.active=!0,this._node_road2.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),this._spr_road2.active=!1):(this._node_road2.active=!1,this._spr_road2.active=!0)},initDog:function(){this._spine_dog.position=this._itemList[this._curStep-1].position,this._spine_dog.getComponent(sp.Skeleton).setAnimation(0,"animation1",!0)},setFreeCnt:function(){this._lbl_free_cnt.getComponent(cc.Label).string=this._mapGame.freeCnt},initFreeType:function(){this._slotCnt=this._mapGame.slotCnt,this._extraRow=this._mapGame.extraRow,this._wildCols=this._mapGame.wildCols;var e=cc.vv.gameData.GetAtlasByName("map");this._node_freeType.setScale([1,.8,.6,.6][this._slotCnt-1]);for(var t=[],n=1;n<=4;n++){var a=cc.find("slots_"+n,this._node_freeType);if(n>this._slotCnt)a.active=!1;else{a.active=!0,cc.find("row",a).getComponent(cc.Sprite).spriteFrame=e.getSpriteFrame(this._extraRow?"theme128_map_3":"theme128_map_6");for(var i=1;i<=5;i++)cc.find("wild_"+i,a).active=this._wildCols.includes(i),cc.find("wild_"+i,a).getComponent(cc.Sprite).spriteFrame=e.getSpriteFrame(this._extraRow?"theme128_map_2":"theme128_map_4");t.push(a)}}var o=cc.find("row",t[0]).width/2,c=cc.find("row",t[0]).height/2;1==t.length?t[0].position=cc.v2(0,0):2==t.length?(t[0].position=cc.v2(0,c),t[1].position=cc.v2(0,-c)):3==t.length?(t[0].position=cc.v2(0,c),t[1].position=cc.v2(-o,-c),t[2].position=cc.v2(o,-c)):4==t.length&&(t[0].position=cc.v2(-o,c),t[1].position=cc.v2(o,c),t[2].position=cc.v2(-o,-c),t[3].position=cc.v2(o,-c))},initWinCoin:function(){this._mapGame.winCoin>0&&cc.vv.gameData.GetBottomScript().SetWin(this._mapGame.winCoin)},initSzBtn:function(){this._diceId=6,this._spine_sz.getComponent(sp.Skeleton).setSkin("default"),this._spine_sz.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this._sz_tip.active=!1,this.playSzIdleAnim(!0)},updatePawNum:function(e){var t=cc.vv.gameData.getPawStore();if(e){t.pawCnt+=e,cc.vv.gameData.setPawStore(t),cc.vv.gameData.getStoreScript().updateCurMoney();var n=cc.find("spine_fz",this._btn_entrance);n.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1),n.getComponent(sp.Skeleton).addAnimation(0,"animation4",!0)}cc.find("lbl_money",this._btn_entrance).getComponent(cc.Label).string=Global.FormatNumToComma(t.pawCnt)},playSzIdleAnim:function(e){var t=this;if(e)cc.tween(this._sz_tip).delay(3).call(function(){t._sz_tip.active=!0,t._sz_tip.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),t._sz_tip.getComponent(sp.Skeleton).addAnimation(0,"animation2",!0)}).start();else if(this._sz_tip.stopAllActions(),this._sz_tip.active){var n=this._sz_tip.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1);this._sz_tip.getComponent(sp.Skeleton).setTrackCompleteListener(n,function(){t._sz_tip.active=!1})}},clickSzBtn:function(){this._canClick&&(this.setCanClick(!1),this.onSendSeq())},onSendSeq:function(){var e={c:MsgId.SLOT_SUBGAME_DATA};e.gameid=cc.vv.gameData.getGameId(),e.data={rtype:this._rtype},cc.vv.NetManager.send(e,!0)},onRcvSubGameAction:function(e){cc.log(e),200===e.code&&e.data&&e.data.rtype==this._rtype&&(this._mapGame=e.data.mapGame,this._diceInfo=e.data.diceInfo,this.showClickResult())},showClickResult:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._diceId=e._diceInfo.diceId,e._step=e._diceInfo.step,e._addCoin=e._diceInfo.addCoin,e._addFreeCnt=e._diceInfo.addFreeCnt,e._addReel=e._diceInfo.addReel,e._addRow=e._diceInfo.addRow,e._addWildCol=e._diceInfo.addWildCol,e._pawCnt=e._diceInfo.pawCnt,e._isEnd=e._diceInfo.isEnd,n=e._mapGame.currStep,e.playSzIdleAnim(!1),t.next=13,e.playSzAnim();case 13:return t.next=15,cc.vv.gameData.awaitTime(.5);case 15:if(!(e._step&&e._step>0)){t.next=34;break}return t.next=18,e.playDogMove1();case 18:if(n!=e._curStep&&(e._addReel>0||e._addWildCol>0||(e._addCoin=e._addCoin/2,e._mapGame.winCoin-=e._addCoin)),!(e._addCoin&&e._addCoin>0)){t.next=24;break}return t.next=22,e.playWinCoin();case 22:t.next=32;break;case 24:if(!(e._addFreeCnt>0)){t.next=29;break}return t.next=27,e.playWinFreeCnt();case 27:t.next=32;break;case 29:if(!(e._addReel>0||e._addRow>0||e._addWildCol>0)){t.next=32;break}return t.next=32,e.playWinSlots();case 32:t.next=41;break;case 34:if(!(e._pawCnt&&e._pawCnt>0)){t.next=41;break}return Global.SlotsSoundMgr.playEffect("fly2"),e._spine_fei.active=!0,e._spine_fei.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),t.next=40,cc.vv.gameData.awaitTime(.5);case 40:e.updatePawNum(e._pawCnt);case 41:if(n==e._curStep){t.next=52;break}return t.next=44,e.playDogMove2(n);case 44:if(!(e._addReel>0||e._addWildCol>0)){t.next=49;break}return t.next=47,e.playWinSlots();case 47:t.next=52;break;case 49:return e._mapGame.winCoin+=e._addCoin,t.next=52,e.playWinCoin();case 52:e._isEnd?e.endMapGame():(e.setCanClick(!0),e.playSzIdleAnim(!0));case 53:case"end":return t.stop()}},t)}))()},playSzAnim:function(){var e=this;return new Promise(function(t,n){Global.SlotsSoundMgr.playEffect("dice_spin");var a=e._diceId>6?100*(e._diceId-6):e._diceId;e._spine_sz.getComponent(sp.Skeleton).setSkin("sz"+a),e._spine_sz.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e._spine_sz.getComponent(sp.Skeleton).setCompleteListener(function(){Global.SlotsSoundMgr.playEffect("dice_stop"),t()})})},playDogMove1:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<e._step)){t.next=15;break}return Global.SlotsSoundMgr.playEffect("dog1"),e._curStep+=1,cc.log("this._curStep",e._curStep),e._spine_dog.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),o=cc.v2(e._itemList[e._curStep-1].x,e._itemList[e._curStep-1].y-20),cc.tween(e._spine_dog).to(.5,{position:o}).start(),t.next=10,cc.vv.gameData.awaitTime(.7);case 10:if(!(e._curStep>=e._itemList.length)){t.next=12;break}return t.abrupt("break",15);case 12:i++,t.next=1;break;case 15:e._spine_dog.getComponent(sp.Skeleton).setAnimation(0,"animation1",!0),n();case 17:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playDogMove2:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(a,i){var o,c,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(Global.SlotsSoundMgr.playEffect("dog2"),t._curStep=e,t._spine_dog.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),o=t._spine_dog.position,c=cc.v2(t._itemList[e-1].position.x,t._itemList[e-1].position.y-20),6!=e){n.next=15;break}return s=cc.v2(o.x-100,o.y-100),cc.tween(t._spine_dog).bezierTo(.8,o,s,c).start(),n.next=10,cc.vv.gameData.awaitTime(.8);case 10:t._node_road1.active=!0,t._node_road1.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),t._spr_road1.active=!1,n.next=21;break;case 15:return cc.tween(t._spine_dog).to(.8,{position:c}).start(),n.next=18,cc.vv.gameData.awaitTime(.8);case 18:t._node_road2.active=!0,t._node_road2.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),t._spr_road2.active=!1;case 21:t._spine_dog.getComponent(sp.Skeleton).setAnimation(0,"animation1",!0),a();case 23:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},playWinCoin:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var i,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("coin"),e._par_win.active=!0,e._par_win.getComponent(cc.ParticleSystem).resetSystem(),e._par_win.position=e._par_win.parent.convertToNodeSpaceAR(e._itemList[e._curStep-1].convertToWorldSpaceAR(cc.v2(0,0))),(i=cc.find("lbl",e._par_win)).active=!0,i.setScale(1),i.getComponent(cc.Label).string=Global.formatNumShort(e._addCoin,1),t.next=10,cc.vv.gameData.awaitTime(1);case 10:return o=cc.find("safe_node/LMSlots_Bottom/winBg/lbl_winNum_nor",e.node),c=e._par_win.parent.convertToNodeSpaceAR(o.convertToWorldSpaceAR(cc.v2(0,0))),cc.tween(i).to(.5,{scale:.2}).start(),cc.tween(e._par_win).to(.5,{position:c}).start(),t.next=16,cc.vv.gameData.awaitTime(.5);case 16:e._par_win.active=!1,cc.vv.gameData.GetBottomScript().SetWin(e._mapGame.winCoin),n();case 19:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playWinFreeCnt:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var i,o,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("fly4"),e._par_win.active=!0,e._par_win.getComponent(cc.ParticleSystem).resetSystem(),cc.find("lbl",e._par_win).active=!1,i=e._itemList[e._curStep-1],(o=cc.find("spr",i)).active=!1,(c=cc.instantiate(o)).parent=e._par_win,c.active=!0,e._par_win.position=e._par_win.parent.convertToNodeSpaceAR(i.convertToWorldSpaceAR(cc.v2(0,0))),s=e._par_win.parent.convertToNodeSpaceAR(e._lbl_free_cnt.convertToWorldSpaceAR(cc.v2(0,0))),cc.tween(e._par_win).to(.5,{position:s}).start(),cc.tween(i).to(.5,{opacity:0}).start(),t.next=16,cc.vv.gameData.awaitTime(.5);case 16:c.destroy(),e._par_win.active=!1,e._par_freeCnt.active=!0,e._par_freeCnt.getComponent(cc.ParticleSystem).resetSystem(),e.setFreeCnt(),n();case 22:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playWinSlots:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var i,o,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("fly3"),e._par_win.active=!0,e._par_win.getComponent(cc.ParticleSystem).resetSystem(),cc.find("lbl",e._par_win).active=!1,i=e._itemList[e._curStep-1],(o=cc.find("spr",i)).active=!1,(c=cc.instantiate(o)).parent=e._par_win,c.active=!0,e._par_win.position=e._par_win.parent.convertToNodeSpaceAR(i.convertToWorldSpaceAR(cc.v2(0,0))),s=e._par_win.parent.convertToNodeSpaceAR(e._node_freeType.convertToWorldSpaceAR(cc.v2(0,0))),cc.tween(e._par_win).to(.5,{position:s}).start(),cc.tween(i).to(.5,{opacity:0}).start(),t.next=16,cc.vv.gameData.awaitTime(.5);case 16:c.destroy(),e._par_win.active=!1,e._par_freeType.active=!0,e._par_freeType.getComponent(cc.ParticleSystem).resetSystem(),e.initFreeType(),n();case 22:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())}}),cc._RF.pop()},{}],Alexander_Popup:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var s=e[o](c),r=s.value}catch(e){return void n(e)}s.done?t(r):Promise.resolve(r).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function s(e){a(c,i,o,s,r,"next",e)}function r(e){a(c,i,o,s,r,"throw",e)}s(void 0)})}}cc._RF.push(t,"7a16dXNbYlCcJS4pOjcRfrX","Alexander_Popup"),cc.Class({extends:cc.Component,properties:{},start:function(){},Init:function(){this._node_popup=cc.find("safe_node/node_popup",this.node),this._node_popup.active=!1,this._node_tri_bonus=cc.find("node_tri_bonus",this._node_popup),this._node_tri_map=cc.find("node_tri_map",this._node_popup),this._node_tri_free=cc.find("node_tri_free",this._node_popup),this._node_end_free=cc.find("node_end_free",this._node_popup),this._node_tri_superFree=cc.find("node_tri_superFree",this._node_popup),this._node_unlock_page=cc.find("node_unlock_page",this._node_popup),this._node_tri_bonus_again=cc.find("node_tri_bonus_again",this._node_popup),this._node_tri_bonus.active=!1,this._node_tri_map.active=!1,this._node_tri_free.active=!1,this._node_end_free.active=!1,this._node_tri_superFree.active=!1,this._node_unlock_page.active=!1,this._node_tri_bonus_again.active=!1,this._node_qp=cc.find("safe_node/node_qp",this.node),this._node_qp.active=!1,this._qieping_1=cc.find("qieping_01",this._node_qp),this._qieping_2=cc.find("qieping_02",this._node_qp),this._qieping_3=cc.find("qieping_03",this._node_qp),this._qieping_1.active=!1,this._qieping_2.active=!1,this._qieping_3.active=!1},playTriBonusAnim:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("normal_dialog_show4"),e._node_popup.active=!0,e._node_tri_bonus.active=!0,e._node_tri_bonus.setScale(0),cc.tween(e._node_tri_bonus).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=7,cc.vv.gameData.awaitTime(2);case 7:return cc.tween(e._node_tri_bonus).to(.5,{scale:0},{easing:"backIn"}).start(),t.next=10,cc.vv.gameData.awaitTime(.5);case 10:e._node_tri_bonus.active=!1,e._node_popup.active=!1,n();case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playTriMapAnim:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("map_dialog"),e._node_popup.active=!0,e._node_tri_map.active=!0,e._node_tri_map.setScale(0),cc.tween(e._node_tri_map).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=7,cc.vv.gameData.awaitTime(2);case 7:return cc.tween(e._node_tri_map).to(.5,{scale:0},{easing:"backIn"}).start(),t.next=10,cc.vv.gameData.awaitTime(.5);case 10:e._node_tri_map.active=!1,e._node_popup.active=!1,n();case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playTriFreeAnim:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var o,c,s,r,_,p,l,u,m,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(Global.SlotsSoundMgr.playEffect("fg_dialog"),e._node_popup.active=!0,e._node_tri_free.active=!0,e._node_tri_free.setScale(0),cc.tween(e._node_tri_free).to(.5,{scale:1},{easing:"backOut"}).start(),o=cc.vv.gameData.GetTotalFree(),c=cc.vv.gameData.getFreeAddRow(),s=cc.vv.gameData.getFreeSlotsCnt(),r=cc.vv.gameData.getFreeWildCols(),_=cc.vv.gameData.GetAtlasByName("map"),p=cc.vv.gameData.GetAtlasByName("dialog"),cc.find("lbl_cnt",e._node_tri_free).getComponent(cc.Label).string=o,cc.find("spr_map",e._node_tri_free).getComponent(cc.Sprite).spriteFrame=_.getSpriteFrame(c?"theme128_map_3":"theme128_map_6"),l=1;l<=5;l++)cc.find("spr_map/wild_"+l,e._node_tri_free).active=r.includes(l),cc.find("spr_map/wild_"+l,e._node_tri_free).getComponent(cc.Sprite).spriteFrame=_.getSpriteFrame(c?"theme128_map_2":"theme128_map_4");return cc.find("spr_cnt",e._node_tri_free).getComponent(cc.Sprite).spriteFrame=p.getSpriteFrame("theme128_popup_free_cnt"+s),t.next=17,cc.vv.gameData.awaitTime(.5);case 17:(u=cc.find("bg_btn/btn_start",e._node_tri_free)).off("click"),u.getComponent(cc.Button).interactable=!0,m=e,d=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("click1"),Global.SlotsSoundMgr.playEffect("normal_dialog_close"),u.getComponent(cc.Button).interactable=!1,cc.tween(m._node_tri_free).to(.5,{scale:0},{easing:"backIn"}).start(),e.next=6,cc.vv.gameData.awaitTime(.5);case 6:m._node_popup.active=!1,m._node_tri_free.active=!1,n();case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(u,d),u.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u.stopAllActions(),d();case 2:case"end":return e.stop()}},e)})));case 24:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playEndFreeAnim:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var o,c,s,r,_;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("normal_dialog_show2"),e._node_popup.active=!0,e._node_end_free.active=!0,e._node_end_free.setScale(0),cc.tween(e._node_end_free).to(.5,{scale:1},{easing:"backOut"}).start(),o=cc.vv.gameData.getFreeWinCoin(),c=cc.find("spr_tiao/lbl_cnt",e._node_end_free),Global.doRoallNumEff(c,0,o,1.5,null,null,0,!0),t.next=10,cc.vv.gameData.awaitTime(.5);case 10:(s=cc.find("bg_btn/btn_collect",e._node_end_free)).off("click"),s.getComponent(cc.Button).interactable=!0,r=e,_=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Global.SlotsSoundMgr.playEffect("click1"),s.getComponent(cc.Button).interactable=!1,Global.FormatCommaNumToNum(c.getComponent(cc.Label).string)==o){e.next=7;break}return c.stopAllActions(),c.getComponent(cc.Label).string=Global.FormatNumToComma(o),e.next=7,cc.vv.gameData.awaitTime(.3);case 7:return cc.tween(r._node_end_free).to(.5,{scale:0},{easing:"backIn"}).start(),e.next=10,cc.vv.gameData.awaitTime(.5);case 10:r._node_popup.active=!1,r._node_end_free.active=!1,n();case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(s,_),s.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.stopAllActions(),_();case 2:case"end":return e.stop()}},e)})));case 17:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playTriSuperFreeAnim:function(e,t){var n=this;return new Promise(function(){var a=i(regeneratorRuntime.mark(function a(o,c){var s,r,_,p;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return Global.SlotsSoundMgr.playEffect("normal_dialog_show1"),n._node_popup.active=!0,n._node_tri_superFree.active=!0,n._node_tri_superFree.setScale(0),cc.tween(n._node_tri_superFree).to(.5,{scale:1},{easing:"backOut"}).start(),s=cc.vv.gameData.GetAtlasByName("claw_store"),cc.find("lbl_cnt",n._node_tri_superFree).getComponent(cc.Label).string=e,cc.find("spr_type",n._node_tri_superFree).getComponent(cc.Sprite).spriteFrame=s.getSpriteFrame(cc.js.formatStr("theme128_gouwu_mingzi_%s",t)),cc.find("spr_type/spr",n._node_tri_superFree).getComponent(cc.Sprite).spriteFrame=s.getSpriteFrame(cc.js.formatStr("theme128_gouwu_mingzi_%s_0",t)),a.next=11,cc.vv.gameData.awaitTime(.5);case 11:(r=cc.find("bg_btn/btn_start",n._node_tri_superFree)).off("click"),r.getComponent(cc.Button).interactable=!0,_=n,p=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("click1"),r.getComponent(cc.Button).interactable=!1,cc.tween(_._node_tri_superFree).to(.5,{scale:0},{easing:"backIn"}).start(),e.next=5,cc.vv.gameData.awaitTime(.5);case 5:_._node_popup.active=!1,_._node_tri_superFree.active=!1,o();case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(r,p),r.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.stopAllActions(),p();case 2:case"end":return e.stop()}},e)})));case 18:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())},playUnlockPageAnim:function(e,t){var n=this;return new Promise(function(){var e=i(regeneratorRuntime.mark(function e(a,o){var c,s,r,_,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("normal_dialog_show3"),n._node_popup.active=!0,n._node_unlock_page.active=!0,n._node_unlock_page.setScale(0),cc.tween(n._node_unlock_page).to(.5,{scale:1},{easing:"backOut"}).start(),c=cc.find("node_normal",n._node_unlock_page),s=cc.find("node_all",n._node_unlock_page),c.active=t<4,s.active=4==t,e.next=11,cc.vv.gameData.awaitTime(.5);case 11:(r=cc.find("bg_btn/btn_start",n._node_unlock_page)).off("click"),r.getComponent(cc.Button).interactable=!0,_=n,p=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("click1"),r.getComponent(cc.Button).interactable=!1,cc.tween(_._node_unlock_page).to(.5,{scale:0},{easing:"backIn"}).start(),e.next=5,cc.vv.gameData.awaitTime(.5);case 5:_._node_popup.active=!1,_._node_unlock_page.active=!1,a();case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(r,p),r.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.stopAllActions(),p();case 2:case"end":return e.stop()}},e)})));case 18:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())},playBonusAgainAnim:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var o,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("normal_dialog_show5"),e._node_popup.active=!0,e._node_tri_bonus_again.active=!0,e._node_tri_bonus_again.setScale(0),cc.tween(e._node_tri_bonus_again).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=7,cc.vv.gameData.awaitTime(.5);case 7:(o=cc.find("btn_start",e._node_tri_bonus_again)).off("click"),o.getComponent(cc.Button).interactable=!0,c=e,s=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("click1"),o.getComponent(cc.Button).interactable=!1,cc.tween(c._node_tri_bonus_again).to(.5,{scale:0},{easing:"backIn"}).start(),e.next=5,cc.vv.gameData.awaitTime(.5);case 5:c._node_popup.active=!1,c._node_tri_bonus_again.active=!1,n();case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(o,s),o.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.stopAllActions(),s();case 2:case"end":return e.stop()}},e)})));case 14:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},playQPAnim1:function(){Global.SlotsSoundMgr.playEffect("transition1");var e=this;this._node_qp.active=!0,this._qieping_1.active=!0,this._qieping_1.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this._qieping_1.getComponent(sp.Skeleton).setCompleteListener(function(){e._node_qp.active=!1,e._qieping_1.active=!1})},playQPAnim2:function(){Global.SlotsSoundMgr.playEffect("transition2");var e=this;this._node_qp.active=!0,this._qieping_2.active=!0,this._qieping_2.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),this._qieping_2.getComponent(sp.Skeleton).setCompleteListener(function(){e._node_qp.active=!1,e._qieping_2.active=!1})},playQPAnim3:function(){Global.SlotsSoundMgr.playEffect("transition2");var e=this;this._node_qp.active=!0,this._qieping_3.active=!0,this._qieping_3.getComponent(sp.Skeleton).setAnimation(0,"skill",!1),this._qieping_3.getComponent(sp.Skeleton).setCompleteListener(function(){e._node_qp.active=!1,e._qieping_3.active=!1})}}),cc._RF.pop()},{}],Alexander_Reel:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,c=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(s)throw o}}}}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"3b8e5E78qdA+7IdMuf9IAHZ","Alexander_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},start:function(){},playReelStop:function(){if(this._originResult)for(var e=0;e<this._originResult.length;e++){var t,n=this._symbols[e],i=a(this._reelState);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.isStop&&o.id.includes(n.GetShowId())&&n.playStopAnimation()}}catch(e){i.e(e)}finally{i.f()}}if(this._cfg.reelStateInfo&&this._cfg.reelStateInfo[0]){var c,s="",r="",_=!1,p=a(this._reelState);try{for(p.s();!(c=p.n()).done;){var l=c.value;l.noEff?(r="",_=!0):l.isStop?(r=l.symbolStopSound?l.symbolStopSound:"",_=!0):s=l.reelStopSound?l.reelStopSound:""}}catch(e){p.e(e)}finally{p.f()}_&&(s=r);var u=this._cfg.reelStateInfo[0].path;u||(u=cc.vv.gameData.getGameDir()),""!=s&&cc.vv.AudioManager.playEff(u,s,!0)}},ShowAntiEffect:function(e,t){var n=cc.find("Canvas/safe_node/slots/anti");if(0==e){if(this._cfg.reelStateInfo){var i,o=a(this._cfg.reelStateInfo);try{for(o.s();!(i=o.n()).done;){var c=i.value,s=cc.find(cc.js.formatStr("%s_%s",c.antiNode,this._reelIdx+1),n);s&&s.active&&(s.active=!1,this._stopRightNow&&cc.vv.AudioManager.stopEffectByName(c.antSound))}}catch(e){o.e(e)}finally{o.f()}}}else{var r=cc.find(cc.js.formatStr("%s_%s",t,this._reelIdx+1),n);r?r.active=e:cc.log("\u672a\u627e\u5230\u52a0\u901f\u8282\u70b9\uff1amask/node_anti")}}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Alexander_Slots:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,c=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(s)throw o}}}}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function c(e,t,n,a,i,o,c){try{var s=e[o](c),r=s.value}catch(e){return void n(e)}s.done?t(r):Promise.resolve(r).then(a,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var o=e.apply(t,n);function s(e){c(o,a,i,s,r,"next",e)}function r(e){c(o,a,i,s,r,"throw",e)}s(void 0)})}}cc._RF.push(t,"920a6epRZpHipAmXmIVpDUm","Alexander_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{},start:function(){},Init:function(){this._btn_entrance=cc.find("btn_entrance",this.node),this._spr_bonusType=cc.find("spr_bonusCnt",this.node),Global.btnClickEvent(this._spr_bonusType,this.onclickBonusType,this),this._normalSpine=cc.find("reels/spine",this.node),this._normalSpine.on("click",this.slotsSpine,this),this._normalSpine.getComponent(cc.Button).interactable=!1,this._stopNode=cc.find("reels/stop",this.node),this._stopNode.active=!1,this._stopNode.on("click",this.onStop,this),this._super(),this.showBonusType()},RegisterEvent:function(){this._super(),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onEventTotalbetUpdated,this)},ReconnectShow:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._topScript.SetBackLobby(!1),e._bottomScript.ShowBtnsByState("moveing_1"),!cc.vv.gameData.getEpicInfo()){t.next=21;break}return e.showBonusGameView(!0),e.Backup(),e.setAllSymbolMask(!0),e.initBonusSymbol(),e._bottomScript.SetWin(0),t.next=11,cc.vv.gameData.getBonusScript().enterBonusGame();case 11:return cc.vv.gameData.getPopupScript().playQPAnim2(),t.next=14,cc.vv.gameData.awaitTime(.7);case 14:return e.showBonusGameView(!1),e.Resume(),e.setAllSymbolMask(!1),t.next=19,cc.vv.gameData.awaitTime(1);case 19:t.next=22;break;case 21:e.showBonusGameView(!1);case 22:if(!(cc.vv.gameData.GetTotalFree()>0)){t.next=26;break}return t.next=26,cc.vv.gameData.getFreeScript().initShowSlotsData(!1);case 26:if(!(n=cc.vv.gameData.getMapGame())||1!=n.state){t.next=30;break}return t.next=30,cc.vv.gameData.getMapScript().showMapGame();case 30:e._topScript.StopMove(),e._bottomScript.CanDoNextRound();case 32:case"end":return t.stop()}},t)}))()},initBonusSymbol:function(){var e=this,t=cc.vv.gameData.getBonusIdxs(),n=cc.vv.gameData.getBonusItems();t.forEach(function(a){e._reels[a-1].GetSymbolByRow(0).ShowById(3,n[t.indexOf(a)]),e._reels[a-1].GetSymbolByRow(0).playBonusIdleAnim()})},slotsSpine:function(){this._bottomScript.OnClickSpin()},onStop:function(){this._stopNode.active=!1,this._bottomScript.OnClickStop()},setStopNodeState:function(e){this._stopNode.active=e},CanDoNextRound:function(){this._super(),this._normalSpine.getComponent(cc.Button).interactable=this._bottomScript.GetSpinBtnState()},StartMove:function(){this._normalSpine.getComponent(cc.Button).interactable=!1,cc.vv.gameData.isBonusGame()?this.bonusStartMove():cc.vv.gameData.isFreeGame()?cc.vv.gameData.getFreeScript().StartMove():(this._super(),Global.SlotsSoundMgr.playNormalBgm(),this._isSpinEnd=!1)},StopMove:function(){cc.vv.gameData.isFreeGame()?cc.vv.gameData.getFreeScript().StopMove():this._super()},bonusStartMove:function(){this._bStopRightnow=null,this._topScript.StartMove(),cc.vv.gameData.ClearOneRoundData(),this._reelMax=[];var e=[],t=[],n=cc.vv.gameData.getBonusIdxs();this._reels.forEach(function(a){n.includes(a.GetReelIdx()+1)||(e.push(a),t.push(a.GetReelIdx()))}),this.MoveReels(e),this.setMoveLastIdx(t),this._stopTime=this.GetStopTime()},setMoveLastIdx:function(e){var t=e[0],n=[];e.forEach(function(e){(e%5>t%5||e%5==t%5&&e/3>t/3)&&(t=e),n[e%5]=n[e%5]?Math.max(n[e%5],e):e}),this.moveReelLastIdx=t,cc.log("StartMove\uff1athis.moveReelLastIdx:",this.moveReelLastIdx),this._reelMax=n,cc.log(this._reelMax)},getLastStopReel:function(){return this._reelMax},SetSlotsResult:function(e){for(var t=e.length/this._col,n=[],a=cc.vv.gameData.getBonusIdxs(),i=cc.vv.gameData.getBonusItems(),o=0;o<e.length;o++){Math.floor(o/t);var c=o%this._col;if(this._cfg.symbol[e[o]]){var s={};s.sid=e[o],s.data={},a&&a.includes(o+1)&&(s.data=i[a.indexOf(o+1)]),n[c]||(n[c]=[]),n[c].unshift(s)}}for(var r=0;r<this._reels.length;r++){var _=this._reels[r],p=n[r];_.SetResult(p)}},SetReelStateInfo:function(e){var t=this;if(this._cfg.reelStateInfo){for(var n=[],i=0;i<e.length;i++){var o=e[i],c=i%5;n[c]||(n[c]=[]),n[c].push(o)}var s,r=a(this._cfg.reelStateInfo);try{var _=function(){var e=s.value,a=Global.copy(e);a.isStop=!1,a.isAnt=!1;for(var i=a.mini,o=Global.copy(a.counts),c=0,r=!0,_=0;_<n.length;_++){var p=t._reels[_],l=n[_];a.isStop=!1,a.isAnt=!1,c>=i-1&&a.counts[_]>0&&r&&(a.isAnt=!0);var u=l.reduce(function(e,t){return a.id.includes(t)?e+1:e+0},0);c+=u,o.shift();var m=(o.length>0?o.reduce(function(e,t){return e+t}):0)+c;u>0&&m>=i&&r&&(a.isStop=!0),a.continuous&&a.counts[_]>0&&0==u&&(r=!1),p.AddReelStateInfo(Global.copy(a));for(var d=1;d<4;d++){var v=t._reels[5*d+_],f=Global.copy(a);f.isAnt=!1,f.noEff=!0,v.AddReelStateInfo(f)}}};for(r.s();!(s=r.n()).done;)_()}catch(e){r.e(e)}finally{r.f()}}},DoCheckReelAnti:function(e){if(!this._bStopRightnow)for(var t=!1,n=0;n<this._reels.length;n++){var a=this._reels[n].GetReelIdx();if(a==e+1&&(t=this._reels[n].playAntiAnimation()),a%5>e%5&&t){var i=cc.vv.gameData.getGameCfg().AddAntiTime||1;this._reels[n].AddDelayTime(i)}}},onMsgSpine:function(e){cc.vv.gameData.isFreeGame()?cc.vv.gameData.getFreeScript().onMsgSpine(e):this._super(e)},OnReelSpinEnd:function(e){if(cc.vv.gameData.isBonusGame())3==this._reels[e].GetSymbolByRow(0).GetShowId()&&(this._reels[e].GetSymbolByRow(0).playBonusIdleAnim(),Global.SlotsSoundMgr.playEffect("symbol_coin")),e==this._reelMax[e%5]&&Global.SlotsSoundMgr.playEffect("reel_stop");else{var t=this._gameInfo.pawInfo;if(t&&t.totalCnt>0)for(var n=t.cnts,a=t.idxs,i=0;i<a.length;i++)if(a[i]==e+1){this._isSpinEnd||this.GetSymbolByIdx(a[i]).showPaw(this.getPawAnimType(n[i]));break}this._super(e)}},OnSpinEnd:function(){cc.vv.gameData.isBonusGame()?cc.vv.gameData.getBonusScript().onBonusSpinEnd():cc.vv.gameData.isFreeGame()?cc.vv.gameData.getFreeScript().OnSpinEnd():this.onSpinEndAction()},onSpinEndAction:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._isSpinEnd=!0,(n=e._gameInfo.pawInfo)&&n.totalCnt>0&&e.flyPaw(),e.ShowWinTrace(),a=cc.vv.gameData.GetGameWin(),i=a,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(i=cc.vv.gameData.getFreeWinCoin()),t.next=9,new Promise(function(t,n){e.ShowBottomWin(a,i,!0,t)});case 9:if(!e._gameInfo.epicInfo){t.next=12;break}return t.next=12,e.triBonusGame();case 12:if(!e._gameInfo.mapGame){t.next=15;break}return t.next=15,e.triMapGame();case 15:e.CanDoNextRound();case 16:case"end":return t.stop()}},t)}))()},initAllSymbol:function(){for(var e=0;e<this._reels.length;e++)for(var t=0;t<this._row;t++)this._reels[e].GetSymbolByRow(t).ClearState()},triBonusGame:function(){var e=this;return new Promise(function(){var t=s(regeneratorRuntime.mark(function t(n,a){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("trigger_respin"),t.next=3,cc.vv.gameData.awaitTime(.5);case 3:return t.next=5,cc.vv.gameData.getPopupScript().playTriBonusAnim();case 5:return cc.vv.gameData.getPopupScript().playQPAnim2(),t.next=8,cc.vv.gameData.awaitTime(.7);case 8:for(e.showBonusGameView(!0),e.Backup(),e.initAllSymbol(),e.setAllSymbolMask(!0),e._bottomScript.SetWin(0),i=0;i<e._gameInfo.bonusIdxs.length;i++)e.GetSymbolByIdx(e._gameInfo.bonusIdxs[i]).playBonusIdleAnim();return t.next=16,cc.vv.gameData.getBonusScript().enterBonusGame();case 16:return cc.vv.gameData.getPopupScript().playQPAnim2(),t.next=19,cc.vv.gameData.awaitTime(.7);case 19:return e.showBonusGameView(!1),e.Resume(),e.setAllSymbolMask(!1),t.next=24,cc.vv.gameData.awaitTime(1);case 24:n();case 25:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},triMapGame:function(){var e=this;return new Promise(function(){var t=s(regeneratorRuntime.mark(function t(n,a){var i,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=e._gameInfo.scatterIdxs,o=0;o<i.length;o++)(c=e.GetSymbolByIdx(i[o]))&&c.playTriggerAnimation();return Global.SlotsSoundMgr.playEffect("bell"),Global.SlotsSoundMgr.playEffect("trigger_fg"),t.next=6,cc.vv.gameData.awaitTime(2);case 6:return t.next=8,cc.vv.gameData.getPopupScript().playTriMapAnim();case 8:return cc.vv.gameData.getPopupScript().playQPAnim3(),t.next=11,cc.vv.gameData.awaitTime(.7);case 11:return t.next=13,cc.vv.gameData.getMapScript().showMapGame();case 13:n();case 14:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},GetReelStopInter:function(e){return e%5*(this._cfg.reelStopInter||.6)},showBonusType:function(){var e=cc.vv.gameData.GetBetIdx(),t=cc.vv.gameData.getNeedBet(),n=cc.find("spr_5",this._spr_bonusType),a=cc.find("spr_6",this._spr_bonusType);e>=t?(n.active=!0,a.active=!1):(n.active=!1,a.active=!0)},onclickBonusType:function(){if(cc.vv.gameData.GetBottomScript().GetSpinBtnState()&&(!(cc.vv.gameData.GetAutoModelTime()>0)&&!cc.vv.gameData.isFreeGame()&&!cc.vv.gameData.isBonusGame()&&cc.find("spr_6",this._spr_bonusType).active)){var e=cc.vv.gameData.getNeedBet();e>cc.vv.gameData.GetBetMults().length||cc.vv.gameData.GetBottomScript().SetBetIdx(e)}},onEventTotalbetUpdated:function(){var e=cc.vv.gameData.GetBetIdx(),t=cc.vv.gameData.getNeedBet(),n=cc.find("spr_5",this._spr_bonusType),a=cc.find("spr_6",this._spr_bonusType);e>=t&&a.active?(Global.SlotsSoundMgr.playEffect("change_dialog"),n.active=!0,a.active=!1,cc.tween(n).to(.3,{scale:1.1}).to(.2,{scale:1}).start()):e<t&&n.active&&(Global.SlotsSoundMgr.playEffect("change_dialog"),n.active=!1,a.active=!0,cc.tween(a).to(.3,{scale:1.1}).to(.2,{scale:1}).start())},flyPaw:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,a,i,o,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e._gameInfo.pawInfo,a=n.cnts,i=n.idxs,o=cc.find("btn_entrance/node_fly",e.node),c=function(t){var n=cc.instantiate(o);n.active=!0,n.parent=o.parent;var c=e.GetSymbolByIdx(i[t]).getPaw(),s=n.convertToNodeSpaceAR(c.convertToWorldSpaceAR(cc.v2(0,0))),r=cc.instantiate(c);r.active=!0,r.parent=n,r.position=s;var _=cc.js.formatStr("animation%s",e.getPawAnimType(a[t]));r.getComponent(sp.Skeleton).setAnimation(0,_,!1),cc.tween(r).to(.5,{position:cc.v2(-38,35)}).start();var p=cc.find("par_tw",n);p.position=cc.v2(s.x+38,s.y-35),cc.tween(p).to(.5,{position:cc.v2(0,0)}).start(),cc.tween(n).delay(.5).call(function(){n.destroy()}).start(),e.GetSymbolByIdx(i[t]).showPaw()},s=0;s<i.length;s++)c(s);return Global.SlotsSoundMgr.playEffect("fly1"),t.next=9,cc.vv.gameData.awaitTime(.5);case 9:cc.vv.gameData.getStoreScript().playWinPawAnim();case 10:case"end":return t.stop()}},t)}))()},getPawAnimType:function(e){var t="";return 5===e?t+=1:10===e?t+=2:15===e?t+=3:20===e?t+=4:25===e?t+=5:30===e?t+=6:35===e?t+=7:40===e?t+=8:50===e&&(t+=9),t},setBonusCanStop:function(e){this._bonusCanStop=e},CanStopSlot:function(){var e=null!=this._gameInfo;return cc.vv.gameData.isBonusGame()&&(e=this._bonusCanStop),e},showBonusGameView:function(e){if(cc.vv.gameData.setIsBonusGame(e),cc.vv.gameData.getStoreScript().showEntranceBtn(!e),this._spr_bonusType.active=!e,e){var t=cc.vv.gameData.getEpicInfo();this.lockJackpot(t.jackpotValues)}else this.unlockJackpot(),cc.vv.gameData.getBonusScript().showBonusSpins(!1);cc.find("Canvas/safe_node/spr_bg_normal").active=!e,cc.find("Canvas/safe_node/spr_bg_bonus").active=e,cc.find("Canvas/safe_node/spine_character").opacity=255},lockJackpot:function(e){cc.find("Canvas/safe_node/LMSlots_PrizePool_1").getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:0,pauseNum:e[0]},{prizeType:1,pauseNum:e[1]},{prizeType:2,pauseNum:e[2]},{prizeType:3,pauseNum:e[3]}])},unlockJackpot:function(){cc.find("Canvas/safe_node/LMSlots_PrizePool_1").getComponent("LMSlots_PrizePool_Base").ResumePausePool()},setAllSymbolMask:function(e){this._reels.forEach(function(t){t.GetSymbolByRow(0).setMaskVisible(e),t.GetSymbolByRow(1).setMaskVisible(e)})}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Alexander_StoreGame:[function(e,t,n){"use strict";function a(e,t,n,a,i,o,c){try{var s=e[o](c),r=s.value}catch(e){return void n(e)}s.done?t(r):Promise.resolve(r).then(a,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var c=e.apply(t,n);function s(e){a(c,i,o,s,r,"next",e)}function r(e){a(c,i,o,s,r,"throw",e)}s(void 0)})}}cc._RF.push(t,"c500bBVMctLEbKMuz0Vno0e","Alexander_StoreGame");var o=1,c=2,s=3,r=4,_=5,p=6;cc.Class({extends:cc.Component,properties:{_rtype:1,_itemList:[]},start:function(){},Init:function(){this._btn_entrance=cc.find("safe_node/slots/btn_entrance",this.node),this._btn_entrance.off("click"),Global.btnClickEvent(this._btn_entrance,this.onClickEntranceBtn,this),this._node_store=cc.find("safe_node/node_store",this.node),this._node_store.active=!1,this._btn_close=cc.find("layout/btn_close",this._node_store),Global.btnClickEvent(this._btn_close,this.onClickCloseBtn,this),this._node_items=cc.find("layout/node_items",this._node_store);for(var e=1;e<=9;e++){var t=cc.find("item"+e,this._node_items);t.off("click"),Global.btnClickEvent(t,this.onClickItem,this),this._itemList[e]={node:t,type:1,data:null}}this._spine_dianliang=cc.find("layout/spine_dianliang",this._node_store),this._spine_dianliang.active=!1,this._box_tip=cc.find("layout/box_tip",this._node_store),this._box_tip.active=!1,this._spr_tip=cc.find("layout/spr_tip",this._node_store),this._spr_tip.active=!1;var n=cc.find("layout/btn_tip",this._node_store);Global.btnClickEvent(n,this.clickHelpBtn,this);var a=cc.find("layout/btn_left",this._node_store);Global.btnClickEvent(a,this.clickLeftBtn,this);var i=cc.find("layout/btn_right",this._node_store);Global.btnClickEvent(i,this.clickRightBtn,this),this._pawStore=cc.vv.gameData.getPawStore(),this.initEntranceBtn(),this.updateCurMoney()},onEnable:function(){cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,this)},onDisable:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,!1,this)},onClickEntranceBtn:function(){cc.vv.gameData.GetBottomScript().GetSpinBtnState()&&(cc.vv.gameData.GetAutoModelTime()>0||cc.vv.gameData.isFreeGame()||cc.vv.gameData.isBonusGame()||(Global.SlotsSoundMgr.playEffect("click"),this._btn_entrance.getComponent(cc.Button).interactable=!1,this.openStorePage()))},initEntranceBtn:function(){cc.find("spine_fz",this._btn_entrance).getComponent(sp.Skeleton).setAnimation(0,"animation2",!0),cc.find("node_fly",this._btn_entrance).active=!1},showEntranceBtn:function(e){this._btn_entrance.active=e},playWinPawAnim:function(){var e=cc.find("spine_fz",this._btn_entrance);e.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),e.getComponent(sp.Skeleton).addAnimation(0,"animation2",!0),this.updateCurMoney()},updateCurMoney:function(){this._pawStore=cc.vv.gameData.getPawStore(),cc.find("lbl_money",this._btn_entrance).getComponent(cc.Label).string=Global.FormatNumToComma(this._pawStore.pawCnt),cc.find("layout/money_bg/lbl",this._node_store).getComponent(cc.Label).string=Global.FormatNumToComma(this._pawStore.pawCnt)},openStorePage:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cc.vv.gameData.GetBottomScript().ShowBtnsByState("moveing_1"),e._node_store.active=!0,e._node_store.opacity=0,(i=cc.find("layout",e._node_store)).setScale(0),cc.tween(e._node_store).to(.5,{opacity:255}).start(),cc.tween(i).to(.5,{scale:1}).start(),e._pawStore=cc.vv.gameData.getPawStore(),e._curPage=e._pawStore.unlockPage,e.showTitleSpr(),e.showAllItems(),e.showPageFooter(),e.updateCurMoney(),t.next=15,cc.vv.gameData.awaitTime(.5);case 15:e._canClickItem=!0,n();case 17:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},closeStorePage:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n,a){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=cc.find("layout",e._node_store),cc.tween(e._node_store).to(.5,{opacity:0}).start(),cc.tween(i).to(.5,{scale:0}).start(),t.next=5,cc.vv.gameData.awaitTime(.5);case 5:e._node_store.active=!1,n();case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},showTitleSpr:function(){var e=cc.find("layout/node_tit/tit_unlock",this._node_store),t=cc.find("layout/node_tit/tit_lock",this._node_store);e.active=this._curPage<=this._pawStore.unlockPage,t.active=this._curPage>this._pawStore.unlockPage;var n=cc.vv.gameData.GetAtlasByName("claw_store");this._curPage<=this._pawStore.unlockPage?(cc.find("spr_tit",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame(cc.js.formatStr("theme128_gouwu_mingzi_%s",this._curPage)),cc.find("spr_tit/spr",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame(cc.js.formatStr("theme128_gouwu_mingzi_%s_0",this._curPage)),cc.find("spr_rewards",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame(cc.js.formatStr("theme128_gouwu_qipan_%s",this._curPage))):cc.find("spr2",t).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame(cc.js.formatStr("theme128_gouwu_mingzi_%s",this._curPage+3))},showAllItems:function(){for(var e=this._pawStore.unlockItems[this._curPage-1],t=this._pawStore.pageDetails[this._curPage-1].price,n=1;n<=9;n++){var a=this._itemList[n].node,i=this._itemList[n].type,l=this._itemList[n].type;if(this._curPage<=this._pawStore.unlockPage){var u=this.getItemData(n,e);u?u.coin>0?(i=r,l=u.coin,this.setItemState(a,r,u.coin)):u.epicInfo?(i=_,this.setItemState(a,_)):u.mapGame&&(i=p,this.setItemState(a,p)):t<=this._pawStore.pawCnt?(i=c,l=t,this.setItemState(a,c,t)):(i=s,l=t,this.setItemState(a,s,t))}else i=o,l=t,this.setItemState(a,o,t);this._itemList[n].type=i,this._itemList[n].data=l}},getItemData:function(e,t){for(var n=0;n<t.length;n++)if(e==t[n].idx)return t[n];return null},setItemState:function(e,t,n){var a=cc.find("gw",e),i=cc.find("money_bg",e),l=cc.find("money_bg/lbl",e),u=cc.find("gt",e),m=cc.find("gt/lbl",e),d=cc.find("gt/spr_bonus",e),v=cc.find("gt/spr_map",e),f=cc.find("spine_change",e),h=cc.find("suo",e);a.active=t===c||t===s||t===o,t===c?a.getComponent(sp.Skeleton).setAnimation(0,"animation1",!0):t!==s&&t!==o||a.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0),i.active=t===c||t===s||t===o,i.active&&(l.getComponent(cc.Label).string=Global.FormatNumToComma(n)),u.active=t===r||t===_||t===p,u.active&&u.getComponent(sp.Skeleton).setAnimation(0,"animation2",!0),m.active=t===r,t===r&&n&&(m.getComponent(cc.Label).string=Global.formatNumShort(n,1)),d.active=t===_,v.active=t===p,f.active=!1,h.active=t===o},setItemResult:function(e,t){var n=this;return new Promise(function(){var a=i(regeneratorRuntime.mark(function a(i,o){var c,s,l,u,m,d,v,f,h;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=n._itemList[e].node,s=cc.find("gw",c),l=cc.find("money_bg",c),cc.find("money_bg/lbl",c),u=cc.find("gt",c),m=cc.find("gt/lbl",c),d=cc.find("gt/spr_bonus",c),v=cc.find("gt/spr_map",c),f=cc.find("spine_change",c),cc.find("suo",c),f.active=!0,f.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),s.active=!1,u.active=!0,l.active=!1,u.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),a.next=18,cc.vv.gameData.awaitTime(.5);case 18:return t.coin>0?(n._itemList[e].type=r,m.getComponent(cc.Label).string=Global.formatNumShort(t.coin,1),h=m):t.epicInfo?(n._itemList[e].type=_,h=d):t.mapGame&&(n._itemList[e].type=p,h=v),h.active=!0,h.setScale(0),cc.tween(h).to(.5,{scale:1},{easing:"backOut"}).start(),a.next=24,cc.vv.gameData.awaitTime(.5);case 24:i();case 25:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}())},onClickItem:function(e){if(this._canClickItem){var t=Number(e.node.name.substring("item".length)),n=this._itemList[t].type;n===o||n===s?this.playBoxTipAnim(e.node):this._itemList[t].type===c&&(Global.SlotsSoundMgr.playEffect("show"),this._canClickItem=!1,this.onSendSeq(t))}},onSendSeq:function(e){var t={c:MsgId.SLOT_SUBGAME_DATA};t.gameid=cc.vv.gameData.getGameId(),t.data={rtype:this._rtype,pageId:this._curPage,choiceId:e},cc.vv.NetManager.send(t,!0)},onRcvSubGameAction:function(e){var t=e.data;200===e.code&&t&&t.rtype==this._rtype&&this.showClickResult(t)},showClickResult:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var a,i,o,r,_,p,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t._pawStore=e.pawStore,cc.vv.gameData.setPawStore(t._pawStore),t.updateCurMoney(),a=e.result,i=e.choiceId,n.next=7,t.setItemResult(i,a);case 7:if(t._pawStore.pageDetails[t._curPage-1].price>t._pawStore.pawCnt)for(o=1;o<=9;o++)t._itemList[o].type===c&&(t._itemList[o].type=s,t.setItemState(t._itemList[o].node,s,t._itemList[o].data));if(a.coin>0&&(cc.vv.gameData.AddCoin(a.coin),cc.vv.gameData.GetBottomScript().SetWin(a.coin),cc.vv.gameData.GetTopScript().ShowCoin()),!(a.mapGame||a.epicInfo||a.pageReward)){n.next=77;break}return n.next=12,t.closeStorePage();case 12:if(!a.mapGame){n.next=23;break}return cc.vv.gameData.setMapGame(a.mapGame),n.next=16,cc.vv.gameData.getPopupScript().playTriMapAnim();case 16:return cc.vv.gameData.getPopupScript().playQPAnim3(),n.next=19,cc.vv.gameData.awaitTime(.7);case 19:return n.next=21,cc.vv.gameData.getMapScript().showMapGame();case 21:n.next=48;break;case 23:if(!a.epicInfo){n.next=48;break}return cc.vv.gameData.setEpicInfo(a.epicInfo),cc.vv.gameData.setBonusIdxs(a.epicInfo.bonusIdxs),cc.vv.gameData.setBonusItems(a.epicInfo.bonusItems),n.next=29,cc.vv.gameData.getPopupScript().playTriBonusAnim();case 29:return cc.vv.gameData.getPopupScript().playQPAnim2(),n.next=32,cc.vv.gameData.awaitTime(.7);case 32:return cc.vv.gameData.GetSlotsScript().showBonusGameView(!0),cc.vv.gameData.GetSlotsScript().Backup(),cc.vv.gameData.GetSlotsScript().initAllSymbol(),cc.vv.gameData.GetSlotsScript().setAllSymbolMask(!0),cc.vv.gameData.GetBottomScript().SetWin(0),n.next=39,cc.vv.gameData.getBonusScript().enterBonusGame();case 39:return cc.vv.gameData.getPopupScript().playQPAnim2(),n.next=42,cc.vv.gameData.awaitTime(.7);case 42:return cc.vv.gameData.GetSlotsScript().showBonusGameView(!1),cc.vv.gameData.GetSlotsScript().Resume(),cc.vv.gameData.GetSlotsScript().setAllSymbolMask(!1),n.next=47,cc.vv.gameData.awaitTime(1);case 47:cc.vv.gameData.GetTopScript().StopMove();case 48:if(!a.pageReward){n.next=73;break}return r=a.pageReward.freeCnt,_=a.pageReward.slotCnt,p=a.pageReward.wildCols,l=1,cc.vv.gameData.SetTotalFree(r),cc.vv.gameData.SetFreeTime(r),cc.vv.gameData.setFreeAddRow(l),cc.vv.gameData.setFreeSlotsCnt(_),cc.vv.gameData.setFreeWildCols(p),Global.SlotsSoundMgr.playEffect("collect_finish"),t._spine_dianliang.active=!0,t._spine_dianliang.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),n.next=63,t.closeStorePage();case 63:return n.next=65,cc.vv.gameData.getPopupScript().playTriSuperFreeAnim(r,t._curPage);case 65:return cc.vv.gameData.getPopupScript().playQPAnim3(),n.next=68,cc.vv.gameData.awaitTime(.7);case 68:return cc.vv.gameData.GetBottomScript().ShowFreeModel(!0,0,r),n.next=71,cc.vv.gameData.getFreeScript().initShowSlotsData(!0,!0);case 71:return n.next=73,cc.vv.gameData.getPopupScript().playUnlockPageAnim(r,t._curPage);case 73:return n.next=75,t.openStorePage();case 75:n.next=78;break;case 77:t._canClickItem=!0;case 78:case"end":return n.stop()}},n)}))()},onClickCloseBtn:function(){Global.SlotsSoundMgr.playEffect("click1"),this.closeStorePage(),this._btn_entrance.getComponent(cc.Button).interactable=!0,cc.vv.gameData.GetBottomScript().ShowBtnsByState("idle")},playBoxTipAnim:function(e){var t=this;this._box_tip.stopAllActions(),this._box_tip.active?this._box_tip.runAction(cc.sequence(cc.scaleTo(this._box_tip.scaleX/2,0,0),cc.callFunc(function(){t._box_tip.active=!1}))):(this._box_tip.position=this._box_tip.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0))),this._box_tip.active=!0,this._box_tip.setScale(0),this._box_tip.runAction(cc.sequence(cc.scaleTo(.5,1,1),cc.delayTime(1),cc.scaleTo(.5,0,0),cc.callFunc(function(){t._box_tip.active=!1}))))},clickHelpBtn:function(){var e=this;Global.SlotsSoundMgr.playEffect("click1"),this._spr_tip.stopAllActions(),this._spr_tip.active?this._spr_tip.runAction(cc.sequence(cc.scaleTo(this._spr_tip.scaleX/2,0,0),cc.callFunc(function(){e._spr_tip.active=!1}))):(this._spr_tip.active=!0,this._spr_tip.setScale(0),this._spr_tip.runAction(cc.sequence(cc.scaleTo(.5,1,1),cc.delayTime(1),cc.scaleTo(.5,0,0),cc.callFunc(function(){e._spr_tip.active=!1}))))},clickLeftBtn:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._canClickItem){t.next=2;break}return t.abrupt("return");case 2:return e._canClickItem=!1,Global.SlotsSoundMgr.playEffect("click1"),e._curPage<=1?e._curPage=4:e._curPage--,e.refreshDataWithAction(20),e.showPageFooter(),t.next=9,cc.vv.gameData.awaitTime(1);case 9:e._canClickItem=!0;case 10:case"end":return t.stop()}},t)}))()},clickRightBtn:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._canClickItem){t.next=2;break}return t.abrupt("return");case 2:return e._canClickItem=!1,Global.SlotsSoundMgr.playEffect("click1"),e._curPage>=4?e._curPage=1:e._curPage++,e.refreshDataWithAction(20),e.showPageFooter(),t.next=9,cc.vv.gameData.awaitTime(1);case 9:e._canClickItem=!0;case 10:case"end":return t.stop()}},t)}))()},refreshDataWithAction:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var a,i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0==e){n.next=11;break}return t._node_items.stopAllActions(),t._node_items.x=0,t._node_items.runAction(cc.sequence(cc.spawn(cc.fadeTo(.15,63),cc.moveBy(.15,e,0)),cc.spawn(cc.fadeTo(.15,255),cc.moveBy(.15,-e,0)))),(a=cc.find("layout/node_tit",t._node_store)).stopAllActions(),a.x=0,a.runAction(cc.sequence(cc.spawn(cc.fadeTo(.15,63),cc.moveBy(.15,e,0)),cc.spawn(cc.fadeTo(.15,255),cc.moveBy(.15,-e,0)))),n.next=10,cc.vv.gameData.awaitTime(.15);case 10:t.showTitleSpr();case 11:for(t.showAllItems(),i=1;i<=9;i++)(o=t._itemList[i].node).setScale(.1),o.stopAllActions(),o.runAction(cc.scaleTo(.1*i,1,1).easing(cc.easeBackOut()));case 13:case"end":return n.stop()}},n)}))()},showPageFooter:function(){for(var e=1;e<=4;e++){cc.find(cc.js.formatStr("layout/choose_bg/choose%s/choosed",e),this._node_store).active=e===this._curPage}}}),cc._RF.pop()},{}],Alexander_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"33acerrv9tN94vecwVsNjyZ","Alexander_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},start:function(){},ClearState:function(){this.showPaw(),this.setAnimationToTop(!1),this.ShowKuang(!1),this.stopWinTweenAction(),this.node.zIndex=50-this._symbolIdx+10*this._reelIdx},ShowById:function(e,t){this._super(e,t),this.hideAllIcon(),3===e&&t&&(t.coin?this.setCoin(t.coin):t.jackpot?this.showJackPotNode(t.jackpot.id):t.again&&this.showBonusAgain()),cc.vv.gameData.isBonusGame()?this.setMaskVisible(!0):this.setMaskVisible(!1)},showJackPotNode:function(e){this._showNode&&(this._showNode.active=!1);var t=cc.vv.gameData.getGameCfg(),n=this._id;1===e&&t.symbol[n].mini_node?this._showNode=cc.find(t.symbol[n].mini_node,this.node):2===e&&t.symbol[n].minor_node?this._showNode=cc.find(t.symbol[n].minor_node,this.node):3===e&&t.symbol[n].major_node&&(this._showNode=cc.find(t.symbol[n].major_node,this.node)),this._showNode.active=!0},showBonusAgain:function(){this._showNode&&(this._showNode.active=!1);var e=cc.vv.gameData.getGameCfg(),t=this._id;e.symbol[t].again_node&&(this._showNode=cc.find(e.symbol[t].again_node,this.node)),this._showNode.active=!0},hideAllIcon:function(){this.setCoin(),this.showPaw()},setCoin:function(e){var t=cc.find("lbl_coin",this.node);if(e){var n=null;n=e<5*cc.vv.gameData.GetTotalBet()?cc.vv.gameData.GetFontByName("theme128_font_b_2"):cc.vv.gameData.GetFontByName("theme128_font_b_1"),t.active=!0,t.getComponent(cc.Label).font=n,t.getComponent(cc.Label).string=Global.formatNumShort(e,0)}else t.active=!1,t.getComponent(cc.Label).string=""},showPaw:function(e){var t=cc.find("paw",this.node);e?(t.active=!0,t.getComponent(sp.Skeleton).setAnimation(0,"animation"+e,!1)):t.active=!1},getPaw:function(){return cc.find("paw",this.node)},getPawAnimName:function(e){var t;return 5===e?t="animation1":10===e?t="animation2":15===e?t="animation3":20===e?t="animation4":25===e?t="animation5":30===e?t="animation6":35===e?t="animation7":40===e?t="animation8":50===e&&(t="animation9"),t},playTriggerAnimation:function(){var e=!1,t=this._id,n=cc.vv.gameData.getGameCfg();if(n.symbol[t]&&n.symbol[t].win_node&&n.symbol[t].trigger_ani){this._state="trigger",this._showNode&&(this._showNode.active=!1);var a=this.setAnimationToTop(!0);a.active=!0;var i=cc.find(n.symbol[t].win_node,a);if(i.active=!0,""!=n.symbol[t].trigger_ani.name){a.zIndex=n.symbol[t].trigger_ani.zIndex-this._symbolIdx+10*this._reelIdx,e=!0;var o=i.getComponent(sp.Skeleton);o&&o.setAnimation(0,n.symbol[t].trigger_ani.name,!0)}}return e},playStopAnimation:function(){if(3==this._id){this._showNode.stopAllActions();var e=this._showNode.scale;this._showNodeOrgScale=e,cc.tween(this._showNode).to(.35,{scale:e+.2}).to(.35,{scale:e}).start()}else this._super()},playBonusIdleAnim:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(3==e&&t.symbol[e]&&t.symbol[e].win_node&&t.symbol[e].idle_ani){this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0;var n=t.symbol[e].idle_ani,a=n.name;if(this._data.coin||(this._data.jackpot?1==this._data.jackpot.id?a=n.mini_name:2==this._data.jackpot.id?a=n.minor_name:3==this._data.jackpot.id&&(a=n.major_name):this._data.again&&(a=n.again_name)),""!=a){this.node.zIndex=t.symbol[e].idle_ani.zIndex-this._symbolIdx+10*this._reelIdx;var i=this._showNode.getComponent(sp.Skeleton);i&&i.setAnimation(0,a,!0)}}},playBonusCollAnim:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(3==e&&t.symbol[e]&&t.symbol[e].win_node&&t.symbol[e].coll_ani){this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0;var n=t.symbol[e].coll_ani,a=n.name;if(this._data.coin||(this._data.jackpot?1==this._data.jackpot.id?a=n.mini_name:2==this._data.jackpot.id?a=n.minor_name:3==this._data.jackpot.id&&(a=n.major_name):this._data.again&&(a=n.again_name)),""!=a){this.node.zIndex=t.symbol[e].coll_ani.zIndex-this._symbolIdx+10*this._reelIdx;var i=this._showNode.getComponent(sp.Skeleton);i&&i.setAnimation(0,a,!1)}}},StartMove:function(){this._super(),cc.vv.gameData.isBonusGame()?this.setMaskVisible(!0):this.setMaskVisible(!1)},setMaskVisible:function(e){var t=cc.vv.gameData.getGameCfg();if(t.symbol[this._id]&&t.symbol[this._id].node){var n=cc.find(t.symbol[this._id].node,this.node);e&&t.symbol[this._id].isMask?n.color=new cc.Color(100,100,100):n.color=cc.Color.WHITE}}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["Alexander_BonusGame","Alexander_Bottom","Alexander_Cfg","Alexander_FreeGame","Alexander_FreeReel","Alexander_FreeSlots","Alexander_GameData","Alexander_Logic","Alexander_Map","Alexander_Popup","Alexander_Reel","Alexander_Slots","Alexander_StoreGame","Alexander_Symbol"]);