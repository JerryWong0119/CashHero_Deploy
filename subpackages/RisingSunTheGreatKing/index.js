window.__require=function e(t,n,a){function o(i,r){if(!n[i]){if(!t[i]){var s=i.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){return o(t[i][1][e]||e)},u,u.exports,e,t,n,a)}return n[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<a.length;i++)o(a[i]);return o}({RisingSunTheGreatKing_Cfg:[function(e,t,n){"use strict";var a,o;function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"4eb880wOF1Fhbpvo/A2VFMa","RisingSunTheGreatKing_Cfg");var i={symbol:(a={},c(a,1,{node:"symbol_1"}),c(a,2,{node:"symbol_2",win_node:"animation_2",stop_ani:{name:"buling",zIndex:100},trigger_ani:{name:"actionframe",zIndex:400}}),c(a,4,{node:"symbol_4",win_node:"animation_4",win_ani:{name:"actionframe",zIndex:300}}),c(a,5,{node:"symbol_5",win_node:"animation_5",win_ani:{name:"actionframe",zIndex:300}}),c(a,6,{node:"symbol_6",win_node:"animation_6",win_ani:{name:"actionframe",zIndex:300}}),c(a,7,{node:"symbol_7",win_node:"animation_7",win_ani:{name:"actionframe",zIndex:300}}),c(a,8,{node:"symbol_8",win_node:"animation_8",win_ani:{name:"actionframe",zIndex:300}}),c(a,9,{node:"symbol_9"}),c(a,10,{node:"symbol_10"}),c(a,11,{node:"symbol_11"}),c(a,12,{node:"symbol_12"}),c(a,13,{node:"symbol_13"}),c(a,14,{node:"symbol_14"}),c(a,104,{node:"symbol_104",win_node:"animation_104",win_ani:{name:"actionframe",zIndex:300}}),c(a,105,{node:"symbol_105",win_node:"animation_105",win_ani:{name:"actionframe",zIndex:300}}),c(a,106,{node:"symbol_106",win_node:"animation_106",win_ani:{name:"actionframe",zIndex:300}}),c(a,107,{node:"symbol_107",win_node:"animation_107",win_ani:{name:"actionframe",zIndex:300}}),a),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"RisingSunTheGreatKing_Slots",Reels:"RisingSunTheGreatKing_Reel",Symbols:"RisingSunTheGreatKing_Symbol"},col:5,row:3,symbolPrefab:"symbol",kuang:"kuang",symbolSize:{width:130,height:110},cardmap:(o={},c(o,1,[7,6,8,8,8,13,13,6,6,6,5,7,11,4,4,6,9,9,2,8,6,6,5,9,5,5,7,7,9,14,11,8,8,6,2,9,7,4,4,8,14,5,5,5,12,12,10,7,7,12,6,2,11,7,7,7,5,4,10,6,7,7,5,5,10,6,6,12,2,14,4,6,6,8,14,14,4,10,14,5,5,9,9,14,6,4,4,13,13,6,6,6,8,11,11,9,9,7,7,7,5,5,10,10,4,4,10,14,8,12,12,4,4,7,8,12,8,12,4,4,4,13]),c(o,2,[8,12,4,6,6,5,6,7,7,7,12,12,6,5,10,10,2,11,6,9,9,1,7,11,13,8,6,6,6,8,8,8,4,2,12,5,12,5,5,13,13,6,8,6,6,14,5,7,2,4,4,4,5,5,7,7,7,14,4,4,14,14,7,7,7,12,12,7,5,5,4,1,4,14,8,4,4,5,5,5,6,10,9,9,8,8,11,11,1,6,7,7,9,14,14,6,8,10,7,1,10,6,1,9,6,6,4,9,7,1,10,1,11,5,8,4,12,6,4,14,10,9,13,9,4,1,4,8,13]),c(o,3,[1,4,4,4,12,14,14,4,4,4,6,8,10,6,10,7,2,14,14,10,10,8,1,8,8,8,14,14,7,1,9,4,5,2,4,6,6,6,9,6,5,13,6,6,9,11,11,9,9,10,2,4,4,11,11,4,8,7,12,7,5,5,4,6,6,8,2,14,14,9,6,7,8,13,5,9,9,12,7,7,7,5,1,7,4,7,6,7,8,10,5,5,8,6,1,6,12,7,5,5,6,10,12,12,7,7,13,6,6,6,13,12,7,7,5,5,13,8,8,5,5,12,9,1,4,4,11,1,4,1]),c(o,4,[7,7,12,12,14,10,5,6,12,1,6,6,6,8,7,7,2,12,5,7,7,9,1,13,13,1,5,5,5,13,13,1,9,9,2,6,6,8,5,5,5,14,5,10,4,4,4,12,12,11,9,14,2,10,1,4,14,13,6,6,4,11,1,6,1,9,9,6,6,7,7,8,11,11,4,11,6,6,7,8,5,9,9,4,4,10,8,8,8,4,10,6,6,12,14,7,7,7,10,7,7,7,4,4,14,6,4,12,6,4,7,5,8,8,5,14,1,4,9,14,4,5,10,8,8,4,8,6,5]),c(o,5,[7,10,8,11,7,4,4,4,14,10,14,12,1,2,4,4,5,5,8,10,10,14,14,11,6,10,11,11,6,5,5,2,13,11,6,6,12,12,9,8,8,8,12,12,7,1,10,12,2,11,11,9,8,8,14,5,9,7,9,6,7,1,2,4,9,14,5,14,14,1,6,6,13,12,7,5,7,5,5,1,13,6,11,9,9,4,5,9,9,4,7,12,6,6,5,8,8,8,10,10,13,10,10,13,9,4,14,13,8,11,13,5,13,13,1,12,12,9,8,13,14,5,9,6,4,4,7,6,11,4,7,5,1,7,7]),o),wildId:1,scatterId:2,speed:3e3,reelStopInter:.2,auto_stop_time:1,bounce:!0,helpItems:["games/RisingSunTheGreatKing/prefab/help_item_1","games/RisingSunTheGreatKing/prefab/help_item_2","games/RisingSunTheGreatKing/prefab/help_item_3","games/RisingSunTheGreatKing/prefab/help_item_4","games/RisingSunTheGreatKing/prefab/help_item_5"],commEffect:{path:"games/RisingSunTheGreatKing/",win1:["sound_AZTEC_last_win_1",""],win2:["sound_AZTEC_last_win_2",""],win3:["sound_AZTEC_last_win_3",""]},bounceInfo:{distance:30,time:.1},AddAntiTime:2,normalBgm:"music_AZTEC_normal_bgm",reelStateInfo:[{id:[1,2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/RisingSunTheGreatKing/",reelStopSound:"sound_AZTEC_reel_stop",symbolStopSound:"",antSound:"sound_AZTEC_quick_run",antSpeed:2e3,continuous:!0}]};t.exports=i,cc._RF.pop()},{}],RisingSunTheGreatKing_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"80114PqnNlDY71NMKUp87yX","RisingSunTheGreatKing_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{},RegisterMsg:function(){this._super(),cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,this)},UnregisterMsg:function(){this._super(),cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,!1,this)},isNormalFreeOver:function(){return this._gameInfo.allFreeCnt>0&&0===this._gameInfo.freeCnt},isInFreeGame:function(){return this._gameInfo.freeCnt>0&&this._gameInfo.allFreeCnt!==this._gameInfo.freeCnt},reqSubGame:function(e){var t=this;return new Promise(function(n){var a={c:MsgId.SLOT_SUBGAME_DATA,gameid:t._gameId,data:e};cc.vv.NetManager.send(a,!0),t._subCallBack=n})},onRcvSubGameAction:function(e){this._subCallBack&&(this._subCallBack(e),this._subCallBack=null)}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],RisingSunTheGreatKing_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"32f904biRNP5ZyGdiuOCf9l","RisingSunTheGreatKing_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},onLoad:function(){this._super();var e=cc.find("safe_node/select_jackpot_game",this.node).getComponent("RisingSunTheGreatKing_SelectJackpotGame");cc.vv.gameData.GetSlotsScript().setJackpotGameScript(e);var t=cc.find("safe_node/free_dialog/enter_node",this.node).getComponent("RisingSunTheGreatKing_SelectFreeTimes");cc.vv.gameData.GetSlotsScript().setSelectFreeTimesScript(t),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onUpdateBet,this)},StartSlot:function(){this._super();var e=cc.vv.gameData.getDeskInfo(),t=cc.find("safe_node/select_symbol",this.node).getComponent("RisingSunTheGreatKing_SelectStartSymbol");e.extraFreeInfo||e.jackpotGame||e.mults.length>=e.betLevelConfig[e.betLevelConfig.length-1]&&t.init()},onUpdateBet:function(){var e=cc.vv.gameData.getDeskInfo();cc.vv.gameData.GetSlotsScript().updateActiveGoldSymbol(e.currmult)}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],RisingSunTheGreatKing_Reel:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c,i=!0,r=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){r=!0,c=e},f:function(){try{i||null==a.return||a.return()}finally{if(r)throw c}}}}function o(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"867a18JUjhEhI3IQdH2OB+a","RisingSunTheGreatKing_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},OnReelSpinEnd:function(){this._super()},playReelStop:function(){this._super(),cc.vv.gameData.GetSlotsScript().isPlaySymbolScatterAudio(this._reelIdx)&&Global.SlotsSoundMgr.playEffect(this._reelIdx>=2?"sound_AZTEC_wild_scatter_down3":"sound_AZTEC_wild_scatter_down"+(this._reelIdx+1))},playAntiAnimation:function(){var e=!1;if(this._cfg.reelStateInfo&&this._cfg.reelStateInfo[0]){var t,n=a(this._reelState);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o.isAnt&&o.antiNode){this.ShowAntiEffect(!0,o.antiNode);var c=o.path;c||(c=cc.vv.gameData.getGameDir()),cc.vv.AudioManager.playEff(c,o.antSound,!0);var i=o.antSpeed;i&&(i*=this.GetTimeScale()),this._speed=i||this._speed,e=!0}}}catch(e){n.e(e)}finally{n.f()}}return e},clearLastSymbol:function(){var e=this._symbols[this._symbols.length-1];e&&(e.setAnimationToTop(!1),e.ShowKuang(!1))},ShowAntiEffect:function(e,t){if(0==e){if(this._cfg.reelStateInfo){var n,o=a(this._cfg.reelStateInfo);try{for(o.s();!(n=o.n()).done;){var c=n.value,i=cc.find(c.antiNode,this.node);i&&i.active&&(i.active=!1,this._stopRightNow&&cc.vv.AudioManager.stopEffectByName(c.antSound))}}catch(e){o.e(e)}finally{o.f()}}cc.find("reels_bg/reel_bg"+(this._reelIdx+1)+"/free",this.node.parent.parent).active=!1}else{var r=cc.find(t,this.node);r?(cc.find("reels_bg/reel_bg"+(this._reelIdx+1)+"/free",this.node.parent.parent).active=e,r.active=e):cc.log("\u672a\u627e\u5230\u52a0\u901f\u8282\u70b9\uff1anode_anti")}},hasScatter:function(){for(var e=0;e<cc.vv.gameData.getGameCfg().row;e++){if(this._symbols[e].GetShowId()===cc.vv.gameData.getGameCfg().scatterId)return!0}return!1},GetResizeHeightObjs:function(){var e=[],t=cc.find("mask",this.node);t&&e.push(t);var n=cc.find("reels_bg/reel_bg"+(this._reelIdx+1),this.node.parent.parent);if(n&&e.push(n),0===this._reelIdx){var a=cc.find("reels_frame/bg",this.node.parent.parent);a&&e.push(a);for(var o=1;o<5;o++){var c=cc.find("reels_frame/line_"+o,this.node.parent.parent);c&&e.push(c)}}return e},GetResizeMoveingObjs:function(){var e=[];if(0===this._reelIdx){var t=cc.find("bowl",this.node.parent.parent);t&&e.push(t)}return e}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],RisingSunTheGreatKing_SelectFreeTimes:[function(e,t,n){"use strict";function a(e,t,n,a,o,c,i){try{var r=e[c](i),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,c){var i=e.apply(t,n);function r(e){a(i,o,c,r,s,"next",e)}function s(e){a(i,o,c,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"c36927DkkxI+LfHq4OWRTmf","RisingSunTheGreatKing_SelectFreeTimes");var c=[3,5,10,15],i=[3,4,5,6];cc.Class({extends:cc.Component,properties:{_successCallback:null,_canSelect:!1,_extraFreeInfo:null,_updateFreeTimes:!1,_updateReels:!1,_timesTimer:0,_reelsTimer:0,_timesCount:0,_reelsCount:0,_timesInterval:.1,_reelsInterval:.1},onLoad:function(){for(var e=this,t=function(t){cc.find("node_"+t,e.node).on(cc.Node.EventType.TOUCH_END,o(regeneratorRuntime.mark(function n(){var a,o,c,i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e._canSelect){n.next=2;break}return n.abrupt("return");case 2:return cc.find("node_5",e.node).stopAllActions(),e._canSelect=!1,a={rtype:1,choiceId:t},n.next=7,cc.vv.gameData.reqSubGame(a);case 7:if(200===(o=n.sent).code){for(e._extraFreeInfo=o.data.extraFreeInfo,cc.vv.gameData.SetFreeTime(e._extraFreeInfo.options[o.data.choiceId-1].freeCnt),cc.vv.gameData.SetTotalFree(e._extraFreeInfo.options[o.data.choiceId-1].freeCnt),c=1;c<6;c++)o.data.choiceId!==c&&(cc.find("node_"+c+"/black",e.node).active=!0);5===o.data.choiceId?(Global.SlotsSoundMgr.playEffect("sound_AZTEC_click_random"),i=cc.find("node_"+o.data.choiceId,e.node),cc.tween(i).to(.2,{scale:.8}).call(function(){var t=cc.find("baozha",i);e.playAnimationOnce(t),cc.find("light",i).active=!0}).to(.5,{scale:1},{easing:"backOut"}).call(function(){Global.SlotsSoundMgr.playEffect("sound_AZTEC_click_run"),e._timesTimer=0,e._reelsTimer=0,e._updateFreeTimes=!0,e._updateReels=!0,cc.find("node_5/unselect",e.node).active=!1,cc.find("node_5/select",e.node).active=!0,cc.find("node_5/select/times_guang",e.node).active=!1,cc.find("node_5/select/reels_guang",e.node).active=!1}).start()):(Global.SlotsSoundMgr.playEffect("sound_AZTEC_click"),r=cc.find("node_"+o.data.choiceId,e.node),cc.tween(r).to(.2,{scale:.8}).call(function(){var t=cc.find("baozha",r);e.playAnimationOnce(t),cc.find("light",r).active=!0}).to(.5,{scale:1},{easing:"backOut"}).start(),e.exitGame())}case 9:case"end":return n.stop()}},n)})))},n=1;n<6;n++)t(n)},getExtraFreeInfo:function(){return this._extraFreeInfo},playAnimationOnce:function(e,t,n){e.active=!0,t?e.getComponent(cc.Animation).play(t):e.getComponent(cc.Animation).play(),e.getComponent(cc.Animation).on("stop",function(){e.getComponent(cc.Animation).off("stop"),e.active=!1,n&&n()})},startGame:function(e){var t=this;Global.SlotsSoundMgr.playEffect("sound_AZTEC_fs_choose_window");var n=this.node.parent;if(n.active=!0,n.getChildByName("free_bg").opacity=200,this.node.active=!0,this.node.opacity=255,this.reset(),this._successCallback=e,this._canSelect=!0,cc.vv.gameData.isNeedAutoPlay()){var a=cc.find("node_5",this.node);a.stopAllActions(),cc.tween(a).delay(cc.vv.gameData.getManualAutoPlayTime()).call(o(regeneratorRuntime.mark(function e(){var n,a,o,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._canSelect){e.next=2;break}return e.abrupt("return");case 2:return t._canSelect=!1,n={rtype:1,choiceId:5},e.next=6,cc.vv.gameData.reqSubGame(n);case 6:if(200===(a=e.sent).code){for(t._extraFreeInfo=a.data.extraFreeInfo,cc.vv.gameData.SetFreeTime(t._extraFreeInfo.options[a.data.choiceId-1].freeCnt),cc.vv.gameData.SetTotalFree(t._extraFreeInfo.options[a.data.choiceId-1].freeCnt),o=1;o<6;o++)a.data.choiceId!==o&&(cc.find("node_"+o+"/black",t.node).active=!0);5===a.data.choiceId?(Global.SlotsSoundMgr.playEffect("sound_AZTEC_click_random"),c=cc.find("node_"+a.data.choiceId,t.node),cc.tween(c).to(.2,{scale:.8}).call(function(){var e=cc.find("baozha",c);t.playAnimationOnce(e),cc.find("light",c).active=!0}).to(.5,{scale:1},{easing:"backOut"}).call(function(){Global.SlotsSoundMgr.playEffect("sound_AZTEC_click_run"),t._timesTimer=0,t._reelsTimer=0,t._updateFreeTimes=!0,t._updateReels=!0,cc.find("node_5/unselect",t.node).active=!1,cc.find("node_5/select",t.node).active=!0,cc.find("node_5/select/times_guang",t.node).active=!1,cc.find("node_5/select/reels_guang",t.node).active=!1}).start()):(Global.SlotsSoundMgr.playEffect("sound_AZTEC_click"),i=cc.find("node_"+a.data.choiceId,t.node),cc.tween(i).to(.2,{scale:.8}).call(function(){var e=cc.find("baozha",i);t.playAnimationOnce(e),cc.find("light",i).active=!0}).to(.5,{scale:1},{easing:"backOut"}).start(),t.exitGame())}case 8:case"end":return e.stop()}},e)}))).start()}},exitGame:function(){var e=this;cc.tween(this.node).delay(1.7).call(function(){e._successCallback&&(e._successCallback(),e._successCallback=null);var t=e.node.parent;t.active=!0;var n=t.getChildByName("free_bg");cc.tween(n).to(.3,{opacity:0}).start()}).to(.3,{opacity:0}).call(function(){e.node.active=!1}).start()},reset:function(){for(var e=1;e<6;e++){var t=cc.find("node_"+e,this.node);t.getChildByName("baozha").active=!1,t.getChildByName("light").active=!1,t.getChildByName("black").active=!1}var n=cc.find("node_5",this.node);n.getChildByName("unselect").active=!0,n.getChildByName("select").active=!1,this._successCallback=null,this._canSelect=!1,this._extraFreeInfo=null,this._updateFreeTimes=!1,this._updateReels=!1,this._timesTimer=0,this._reelsTimer=0,this._timesCount=0,this._reelsCount=0,this._timesInterval=.1,this._reelsInterval=.1},update:function(e){var t=this;if(this._updateFreeTimes){if(this._timesTimer+=e,this._timesTimer>=this._timesInterval)if(this._timesTimer=0,this._timesCount++,this._timesInterval>=.5){cc.find("node_5/select/times",this.node).getComponent(cc.Label).string=this._extraFreeInfo.options[4].freeCnt,this._timesCount=0,this._updateFreeTimes=!1,this._timesInterval=.1;var n=cc.find("node_5/select/times_guang",this.node);n.active=!0,n.scale=0,cc.tween(n).to(.5,{scale:2}).delay(.5).call(function(){n.active=!1}).start()}else cc.find("node_5/select/times",this.node).getComponent(cc.Label).string=c[Math.floor(4*Math.random())];this._timesCount>=10&&(this._timesInterval+=.1,this._timesInterval>=.5&&(this._timesInterval=.5))}if(this._updateReels){if(this._reelsTimer+=e,this._reelsTimer>=this._reelsInterval)if(this._reelsTimer=0,this._reelsCount++,this._reelsInterval>=.5){cc.find("node_5/select/reels",this.node).getComponent(cc.Label).string=this._extraFreeInfo.options[4].rowCnt+"X5",this._reelsCount=0,this._updateReels=!1,this._reelsInterval=.1;var a=cc.find("node_5/select/reels_guang",this.node);a.active=!0,a.scale=0,cc.tween(a).to(.5,{scale:2}).delay(.5).call(function(){a.active=!1}).start(),cc.tween(this.node).delay(.5).call(function(){t.exitGame()}).start(),Global.SlotsSoundMgr.playEffect("sound_AZTEC_click_over")}else cc.find("node_5/select/reels",this.node).getComponent(cc.Label).string=i[Math.floor(4*Math.random())]+"X5";this._reelsCount>=55&&(this._reelsInterval+=.1,this._reelsInterval>=.5&&(this._reelsInterval=.5))}}}),cc._RF.pop()},{}],RisingSunTheGreatKing_SelectJackpotGame:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c,i=!0,r=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){r=!0,c=e},f:function(){try{i||null==a.return||a.return()}finally{if(r)throw c}}}}function o(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e,t,n,a,o,c,i){try{var r=e[c](i),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,o)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var c=e.apply(t,n);function r(e){i(c,a,o,r,s,"next",e)}function s(e){i(c,a,o,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"7556b7kuh5AgLS1PwFare90","RisingSunTheGreatKing_SelectJackpotGame");var s=6,l=["Mini","Minor","Major","Mega","Grand"],u=[[0,85,185],[120,0,235],[0,210,0],[249,3,211],[252,0,0]];cc.Class({extends:cc.Component,properties:{prizePool:cc.Node,result_bg:cc.Node,result_jackpot:cc.Node,winCoins:cc.Node,btn_collect:cc.Node,_successCallback:null,_canSelect:!1,_haveOpenReward:null,_winCoin:0},onLoad:function(){var e=this;this._haveOpenReward=[];for(var t=function(t){cc.find("node_"+t,e.node).on(cc.Node.EventType.TOUCH_END,r(regeneratorRuntime.mark(function n(){var a,o,c,i,r,f,d,m,p,_,g,v,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e._canSelect){n.next=2;break}return n.abrupt("return");case 2:if(-1===e._haveOpenReward.indexOf(t)){n.next=4;break}return n.abrupt("return");case 4:return e._canSelect=!1,Global.SlotsSoundMgr.playEffect("sound_AZTEC_click_coin"),a={rtype:2,choiceId:t},n.next=9,cc.vv.gameData.reqSubGame(a);case 9:if(200!==(o=n.sent).code){n.next=55;break}if(c=o.data.pickInfo,i=o.data.jackpotGame,e._haveOpenReward.push(c.choiceId),c.symbol!==s){n.next=35;break}return Global.SlotsSoundMgr.playEffect("sound_AZTEC_super_appear"),r=cc.find("node_"+c.choiceId,e.node),f=cc.find("jinbi",r),cc.tween(f).to(.3,{scaleX:0}).start(),e.playAnimationOnce(cc.find("dianji",r)),n.next=22,cc.vv.gameData.awaitTime(.3);case 22:return(d=cc.find("gold_man",r)).active=!0,d.scaleX=0,cc.tween(d).to(.3,{scaleX:1}).start(),(m=cc.find("jinrenshine",r)).active=!0,m.scale=0,cc.tween(m).to(.3,{scale:4}).start(),n.next=32,cc.vv.gameData.awaitTime(1);case 32:e.removeSymbol(i,c),n.next=54;break;case 35:return p=cc.find("node_"+c.choiceId,e.node),_=cc.find("jinbi",p),cc.tween(_).to(.3,{scaleX:0}).start(),e.playAnimationOnce(cc.find("dianji",p)),n.next=41,cc.vv.gameData.awaitTime(.3);case 41:return(g=cc.find("result",p)).active=!0,g.scaleX=0,g.getComponent("ImgSwitchCmp").setIndex(c.symbol-1),cc.tween(g).to(.3,{scaleX:1}).call(function(){cc.find("prizePool_"+l[c.symbol-1]+"/point_"+i.jackpotCnt[c.symbol-1]+"/reward",e.prizePool).active=!0}).start(),(v=cc.find("dianjilizi",p)).active=!0,h=u[c.symbol-1],v.color=cc.color(h[0],h[1],h[2]),e.playAnimationOnce(v),n.next=53,cc.vv.gameData.awaitTime(1);case 53:e._canSelect=!0;case 54:i.isEnd&&(e._canSelect=!1,Global.SlotsSoundMgr.playEffect("sound_AZTEC_bonus_reward"),e.endGame(i));case 55:case"end":return n.stop()}},n)})))},n=1;n<19;n++)t(n)},removeSymbol:function(e,t){var n=this;return r(regeneratorRuntime.mark(function o(){var c,i,r,s,u,f,d,m,p,_;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:c=a(t.currRemoveIdxs);try{for(c.s();!(i=c.n()).done;)r=i.value,s=cc.find("node_"+r,n.node),u=cc.find("result",s),-1===n._haveOpenReward.indexOf(r)?(n._haveOpenReward.push(r),(f=cc.find("jinbi",s)).color=cc.Color.GRAY,cc.tween(f).to(.3,{scaleX:0}).start(),u.active=!0,u.color=cc.Color.GRAY,u.scaleX=0,u.getComponent("ImgSwitchCmp").setIndex(e.goldSymbolCnt-1),cc.tween(u).delay(.3).to(.3,{scaleX:1}).start()):u.color=cc.Color.GRAY}catch(e){c.e(e)}finally{c.f()}return o.next=4,cc.vv.gameData.awaitTime(1);case 4:d=cc.find("node_"+t.choiceId,n.node).convertToWorldSpaceAR(cc.v2(0,0)),d=n.node.parent.convertToNodeSpaceAR(d),Global.SlotsSoundMgr.playEffect("sound_AZTEC_super_line"),(m=cc.instantiate(cc.find("particle_fly",n.node.parent))).active=!0,m.parent=n.node.parent,m.position=d,p=cc.find("prizePool_"+l[e.goldSymbolCnt-1],n.prizePool),_=p.convertToWorldSpaceAR(cc.v2(0,0)),_=n.node.parent.convertToNodeSpaceAR(_),cc.tween(m).to(.5,{position:_}).call(function(){var e=cc.find("jackpotbaodian",n.prizePool);e.position=p.position,n.playAnimationOnce(e,null,function(){var e,t=a(p.children);try{for(t.s();!(e=t.n()).done;){e.value.color=cc.Color.GRAY}}catch(e){t.e(e)}finally{t.f()}for(var o=1;o<4;o++)cc.find("point_"+o+"/reward",p).active=!0,cc.find("point_"+o+"/reward",p).color=cc.Color.GRAY;n._canSelect=!0})}).removeSelf().start();case 15:case"end":return o.stop()}},o)}))()},endGame:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var a,o,c,i,l,u,f,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(a=1;a<19;a++)o=cc.find("node_"+a,t.node),c=cc.find("result",o),e.symbolInfos[a-1]===s&&(c=cc.find("gold_man",o)),-1===t._haveOpenReward.indexOf(a)&&(cc.tween(cc.find("jinbi",o)).to(.3,{scaleX:0}).start(),c.active=!0,c.scaleX=0,e.symbolInfos[a-1]===s||c.getComponent("ImgSwitchCmp").setIndex(e.symbolInfos[a-1]-1),cc.tween(c).delay(.3).to(.3,{scaleX:1}).start()),e.symbolInfos[a-1]!==e.jackpot.id&&(c.color=cc.Color.GRAY);return n.next=3,cc.vv.gameData.awaitTime(1);case 3:return Global.SlotsSoundMgr.playEffect("sound_AZTEC_show_jackpot"),(i=cc.find("result_bg",t.node)).active=!0,(l=cc.find("bg",i)).active=!0,cc.tween(l).to(.5,{scale:1},{easing:"backOut"}).start(),(u=cc.find("coins",l)).getComponent(cc.Label).string="",cc.find("jackpot",l).getComponent("ImgSwitchCmp").setIndex(e.jackpot.id-1),f=cc.find("btn_collect",l),Global.SlotsSoundMgr.playEffect("sound_AZTEC_jackpot_up"),Global.doRoallNumEff(u,0,e.jackpot.value,6,function(){Global.SlotsSoundMgr.playEffect("sound_AZTEC_jackpot_end")},null,0,!0),t._winCoin=e.jackpot.value,n.next=19,cc.vv.gameData.awaitTime(.5);case 19:f.off("click"),d=function(){var n=r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:f.off("click"),u.stopAllActions(),Global.SlotsSoundMgr.stopEffectByName("sound_AZTEC_jackpot_up"),u.getComponent(cc.Label).string=Global.FormatNumToComma(e.jackpot.value),Global.SlotsSoundMgr.playEffect("sound_AZTEC_jackpot_end"),cc.tween(l).to(.5,{scale:0},{easing:"backIn"}).call(function(){l.active=!1,i.active=!1,t._successCallback&&(t._successCallback(),t._successCallback=null)}).start();case 6:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(f,d),f.on("click",r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.stopAllActions(),e.next=3,d();case 3:case"end":return e.stop()}},e)})));case 23:case"end":return n.stop()}},n)}))()},playAnimationOnce:function(e,t,n){e.active=!0,t?e.getComponent(cc.Animation).play(t):e.getComponent(cc.Animation).play(),e.getComponent(cc.Animation).on("stop",function(){e.getComponent(cc.Animation).off("stop"),e.active=!1,n&&n()})},reconnect:function(e,t){var n=this;return r(regeneratorRuntime.mark(function o(){var c,i,r,u,f,d,m,p,_,g,v,h,S,b,y,w,C,T,G,x;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(cc.vv.AudioManager.playBgm("games/BrilliantTreasures/","bonus_bgm",!0),n.reset(),n._successCallback=t,n.node.active=!0,cc.vv.gameData.getGameCfg(),n.prizePool.getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:0,pauseNum:e.jackpotValues[0]},{prizeType:1,pauseNum:e.jackpotValues[1]},{prizeType:2,pauseNum:e.jackpotValues[2]},{prizeType:3,pauseNum:e.jackpotValues[3]},{prizeType:4,pauseNum:e.jackpotValues[4]}]),c=0;c<e.symbolInfos.length;c++)(i=cc.find("node_"+(c+1),n.node))&&0!==e.symbolInfos[c]&&(i.getChildByName("jinbi").active=!1,r=cc.find("result",i),e.symbolInfos[c]===s?(r=cc.find("gold_man",i),(u=cc.find("jinrenshine",i)).active=!0,u.scale=4):r.getComponent("ImgSwitchCmp").setIndex(e.symbolInfos[c]-1),r.active=!0,r.scaleX=1,n._haveOpenReward.push(c+1));for(f=0;f<e.jackpotCnt.length;f++)for(d=0;d<3;d++)(m=cc.find("prizePool_"+l[f]+"/point_"+(d+1)+"/reward",n.prizePool))&&(m.active=!1);for(p=0;p<e.jackpotCnt.length;p++)for(_=e.jackpotCnt[p],g=0;g<_;g++)(v=cc.find("prizePool_"+l[p]+"/point_"+(g+1)+"/reward",n.prizePool))&&(v.active=!0);h=a(e.removeIdxs);try{for(h.s();!(S=h.n()).done;)b=S.value,y=cc.find("node_"+b,n.node),w=cc.find("result",y),cc.find("jinbi",y).active=!1,w.active=!0,w.color=cc.Color.GRAY,w.scaleX=1,w.getComponent("ImgSwitchCmp").setIndex(e.goldSymbolCnt-1)}catch(e){h.e(e)}finally{h.f()}if(e.goldSymbolCnt>0){C=cc.find("prizePool_"+l[e.goldSymbolCnt-1],n.prizePool),T=a(C.children);try{for(T.s();!(G=T.n()).done;)G.value.color=cc.Color.GRAY}catch(e){T.e(e)}finally{T.f()}for(x=1;x<4;x++)cc.find("point_"+x+"/reward",C).active=!0,cc.find("point_"+x+"/reward",C).color=cc.Color.GRAY}n._canSelect=!0;case 13:case"end":return o.stop()}},o)}))()},startGame:function(e,t){this.node.active=!0,this.reset(),this._successCallback=e,this.prizePool.getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:0,pauseNum:t.jackpotValues[0]},{prizeType:1,pauseNum:t.jackpotValues[1]},{prizeType:2,pauseNum:t.jackpotValues[2]},{prizeType:3,pauseNum:t.jackpotValues[3]},{prizeType:4,pauseNum:t.jackpotValues[4]}]),this._canSelect=!0},exitGame:function(){this.node.active=!1},getWinCoin:function(){return this._winCoin},reset:function(){for(var e=1;e<19;e++){var t=cc.find("node_"+e,this.node);t.getChildByName("jinbi").active=!0,t.getChildByName("jinbi").scaleX=1,t.getChildByName("jinbi").color=cc.Color.WHITE,t.getChildByName("gold_man").active=!1,t.getChildByName("result").active=!1,t.getChildByName("gold_man").color=cc.Color.WHITE,t.getChildByName("result").color=cc.Color.WHITE,t.getChildByName("dianji").active=!1,t.getChildByName("dianjilizi").active=!1,t.getChildByName("jinrenshine").active=!1}var n,o=a(this.prizePool.children);try{for(o.s();!(n=o.n()).done;){for(var c=n.value,i=1;i<4;i++){var r=cc.find("point_"+i,c);r&&(cc.find("reward",r).active=!1,cc.find("reward",r).color=cc.Color.WHITE)}var s,l=a(c.children);try{for(l.s();!(s=l.n()).done;){s.value.color=cc.Color.WHITE}}catch(e){l.e(e)}finally{l.f()}}}catch(e){o.e(e)}finally{o.f()}this.result_bg.active=!1,this._successCallback=null,this._canSelect=!1,this._haveOpenReward=[],this._winCoin=0}}),cc._RF.pop()},{}],RisingSunTheGreatKing_SelectStartSymbol:[function(e,t,n){"use strict";function a(e,t,n,a,o,c,i){try{var r=e[c](i),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,c){var i=e.apply(t,n);function r(e){a(i,o,c,r,s,"next",e)}function s(e){a(i,o,c,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"e3ac4dFHn1NBoU/AWOl9221","RisingSunTheGreatKing_SelectStartSymbol");var c=[2,8,9,11,13],i=[[4,5,6,7],[4,5,6,107],[4,5,106,107],[4,105,106,107],[104,105,106,107]];cc.Class({extends:cc.Component,properties:{bg:cc.Node,tips:cc.Node,top_bg:cc.Node,select_node:cc.Node,select_animation:cc.Node,tips_bg:cc.Node,_curBetIndex:0,_timer:0,_polling:!1,_canSelect:!1},init:function(){var e=this;this.node.active=!0,cc.vv.gameData.GetBottomScript().ShowBtnsByState("moveing_1"),this.setSymbolInfo(4),this.open();for(var t=cc.vv.gameData.getDeskInfo(),n=function(n){var a=cc.find("select_"+n,e.select_node);a&&(cc.find("bet",a).getComponent(cc.Label).string="BET $"+Global.formatNumShort(t.mults[t.betLevelConfig[n-1]-1],0),a.off(cc.Node.EventType.TOUCH_END),a.on(cc.Node.EventType.TOUCH_END,o(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._canSelect){t.next=2;break}return t.abrupt("return");case 2:for(e._polling=!1,Global.SlotsSoundMgr.playEffect("sound_AZTEC_click_bet"),e._canSelect=!1,e.setSymbolInfo(n-1),cc.vv.gameData.GetBottomScript().SetBetIdx(cc.vv.gameData.getDeskInfo().betLevelConfig[n-1]),a=1;a<6;a++)cc.find("select_"+a+"/black",e.select_node).active=a!==n;cc.tween(e.bg).to(.5,{scale:0},{easing:"backIn"}).call(function(){e.node.active=!1,cc.vv.gameData.GetSlotsScript().updateActiveGoldSymbol(cc.vv.gameData.getDeskInfo().betLevelConfig[n-1]),cc.vv.gameData.GetSlotsScript().CanDoNextRound()}).start();case 9:case"end":return t.stop()}},t)}))))},a=1;a<6;a++)n(a)},open:function(){var e=this;this.node.active=!0,this.reset(),this.bg.scale=0,Global.SlotsSoundMgr.playEffect("sound_AZTEC_choose_bet_window"),cc.tween(this.bg).to(.5,{scale:1},{easing:"backOut"}).start(),this.tips.active=!0,this.tips_bg.scale=0,cc.tween(this.tips_bg).to(.5,{scale:1},{easing:"backOut"}).delay(1).to(.5,{scale:0},{easing:"backIn"}).call(function(){e.tips.active=!1,e._polling=!0,e._canSelect=!0}).start()},reset:function(){for(var e=1;e<6;e++){cc.find("select_"+e+"/black",this.select_node).active=!1}},update:function(e){this._polling&&(this._timer+=e,this._timer>=2&&(this._timer=0,this._curBetIndex--,this._curBetIndex<0&&(this._curBetIndex=4),this.setSymbolInfo(this._curBetIndex)))},setSymbolInfo:function(e){this._curBetIndex=e,this.select_animation.y=cc.find("select_"+(e+1),this.select_node).y;for(var t=cc.vv.gameData.getDeskInfo(),n=0;n<c.length;n++){var a=cc.find("node_"+c[n],this.top_bg);if(a)for(var o=1;o<4;o++){var r=cc.find("coin_"+o,a);r&&(r.getComponent(cc.Label).string=Global.formatNumShort(t.cardConfig[c[n]].mult[o+1]*t.betLevelConfig[this._curBetIndex],0))}}for(var s=4;s<8;s++){var l=cc.find("node_"+s,this.top_bg);l&&(l.active=!1),(l=cc.find("node_10"+s,this.top_bg))&&(l.active=!1)}for(var u=0;u<i[this._curBetIndex].length;u++){var f=i[this._curBetIndex][u],d=cc.find("node_"+f,this.top_bg);if(d){d.active=!0;for(var m=1;m<4;m++){var p=cc.find("coin_"+m,d);p&&(p.getComponent(cc.Label).string=Global.formatNumShort(t.cardConfig[f].mult[m+1]*t.betLevelConfig[this._curBetIndex],0))}}}}}),cc._RF.pop()},{}],RisingSunTheGreatKing_Slots:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c,i=!0,r=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){r=!0,c=e},f:function(){try{i||null==a.return||a.return()}finally{if(r)throw c}}}}function o(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e,t,n,a,o,c,i){try{var r=e[c](i),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,o)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var c=e.apply(t,n);function r(e){i(c,a,o,r,s,"next",e)}function s(e){i(c,a,o,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"d7ef8IB249Mx6OWQ3RDCVXn","RisingSunTheGreatKing_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_curCoinInBowlIndex:0,_jackpotGameScript:null,_selectFreeTimesScript:null,_playBowlLight:!0,_bowlLightTimer:10},Init:function(){var e=this;this._super(),Global.SlotsSoundMgr.playEffect("sound_AZTEC_enter_game");var t=cc.vv.gameData.getDeskInfo();cc.find("reels_frame/symbol_info/btn_tips",this.node).on("click",function(){"idle"===cc.vv.gameData.GetSlotState()&&(cc.vv.gameData.GetTotalFree()>0||t.mults.length<t.betLevelConfig[t.betLevelConfig.length-1]||(e._bottomScript.ShowBtnsByState("moveing_1"),cc.find("select_symbol",e.node.parent).getComponent("RisingSunTheGreatKing_SelectStartSymbol").init()))})},StartMove:function(){this._super(),Global.SlotsSoundMgr.playNormalBgm()},ReconnectShow:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,o,c,i,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=cc.vv.gameData.getDeskInfo()).jackpotGame&&(e._bottomScript.ShowBtnsByState("unstoped"),e.reconnectSelectJackpotGame()),!n.extraFreeInfo){t.next=36;break}if(0!==n.extraFreeInfo.state){t.next=26;break}return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=7,e.enterSelectFreeTimes();case 7:if(e.ShowGameview(!0),!((o=e._selectFreeTimesScript.getExtraFreeInfo()).rowCnt>e._cfg.row)){t.next=15;break}c=a(e._reels);try{for(c.s();!(i=c.n()).done;)i.value.AddCount(o.rowCnt-e._cfg.row,.01)}catch(e){c.e(e)}finally{c.f()}return t.next=14,cc.vv.gameData.awaitTime(.1);case 14:cc.find("dechuanjiakang",e.node.parent).active=!1;case 15:return t.next=17,cc.vv.gameData.awaitTime(.5);case 17:return t.next=19,e.popFreeDialog(!1);case 19:return t.next=21,cc.vv.gameData.awaitTime(.5);case 21:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("music_AZTEC_fs_bgm"),e.CanDoNextRound(),t.next=36;break;case 26:if(1!==n.extraFreeInfo.state){t.next=36;break}if(e._bottomScript.ShowBtnsByState("moveing_1"),!(n.extraFreeInfo.rowCnt>e._cfg.row)){t.next=34;break}r=a(e._reels);try{for(r.s();!(s=r.n()).done;)s.value.AddCount(n.extraFreeInfo.rowCnt-e._cfg.row,.01)}catch(e){r.e(e)}finally{r.f()}return t.next=33,cc.vv.gameData.awaitTime(.5);case 33:cc.find("dechuanjiakang",e.node.parent).active=!1;case 34:e.ShowGameview(!0),e.CanDoNextRound();case 36:case"end":return t.stop()}},t)}))()},ShowGameview:function(e){this._super(e)},ShowWinTrace:function(){for(var e=[],t=0;t<this._gameInfo.zjLuXian.length;t++)for(var n=this._gameInfo.zjLuXian[t],a=0;a<n.indexs.length;a++)e[n.indexs[a]]=1;if(this._gameInfo.scatterZJLuXian&&this._gameInfo.scatterZJLuXian.indexs)for(var o=0;o<this._gameInfo.scatterZJLuXian.indexs.length;o++){e[this._gameInfo.scatterZJLuXian.indexs[o]]=1}for(var c in e){var i=this.GetSymbolByIdx(Number(c));i&&(i.playWinAnimation(),i.ShowKuang())}},GetSymbolByIdx:function(e){var t=(e-1)%this._col,n=this._gameInfo.resultCards.length/this._cfg.col-Math.floor((e-1)/this._col)-1;return this._reels[t].GetSymbolByRow(n)},OnSpinEnd:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.ShowWinTrace(),e.playCoinFlyAnimation(),n=cc.vv.gameData.GetGameWin(),a=cc.vv.gameData.GetGameWin(),cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()&&(a=cc.vv.gameData.GetGameTotalFreeWin()),e.ShowBottomWin(n,a,!0,r(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._gameInfo||!e._gameInfo.jackpotGame){t.next=3;break}return t.next=3,e.triggerJackpotGame();case 3:if(!e.CheckEnterFreeGame()){t.next=7;break}e.triggerFreeGame(),t.next=27;break;case 7:if(!e.CheckExitFreeGame()){t.next=11;break}e.triggerExitFreeGame(),t.next=27;break;case 11:n=!1,a=0;case 13:if(!(a<e._gameInfo.resultCards.length)){t.next=21;break}if(e._gameInfo.resultCards[a]!==e._cfg.wildId){t.next=18;break}return n=!0,t.abrupt("break",21);case 18:a++,t.next=13;break;case 21:if(!n){t.next=26;break}return t.next=24,cc.vv.gameData.awaitTime(1);case 24:t.next=26;break;case 26:e.CanDoNextRound();case 27:case"end":return t.stop()}},t)})));case 6:case"end":return t.stop()}},t)}))()},CheckEnterFreeGame:function(){return!(!this._gameInfo.extraFreeInfo||0!==this._gameInfo.extraFreeInfo.state)},CheckExtraFreeGame:function(){return!!(this._gameInfo.freeResult&&this._gameInfo.freeResult.freeInfo&&this._gameInfo.freeResult.freeInfo.freeCnt>0)},CheckExitFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&0===cc.vv.gameData.GetFreeTime()},triggerFreeGame:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),Global.SlotsSoundMgr.playEffect("sound_AZTEC_wild_scatter_trigger"),t.next=4,cc.vv.gameData.awaitTime(1);case 4:return e.cutScenes(),t.next=7,cc.vv.gameData.awaitTime(1);case 7:return t.next=9,e.enterSelectFreeTimes();case 9:if(e.ShowGameview(!0),!((n=e._selectFreeTimesScript.getExtraFreeInfo()).rowCnt>e._cfg.row)){t.next=17;break}o=a(e._reels);try{for(o.s();!(c=o.n()).done;)c.value.AddCount(n.rowCnt-e._cfg.row,.01)}catch(e){o.e(e)}finally{o.f()}return t.next=16,cc.vv.gameData.awaitTime(.1);case 16:cc.find("dechuanjiakang",e.node.parent).active=!1;case 17:return t.next=19,cc.vv.gameData.awaitTime(.5);case 19:return t.next=21,e.popFreeDialog(!1);case 21:return t.next=23,cc.vv.gameData.awaitTime(.5);case 23:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("music_AZTEC_fs_bgm"),e.CanDoNextRound();case 26:case"end":return t.stop()}},t)}))()},triggerExitFreeGame:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,o,c,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=3,cc.vv.gameData.awaitTime(1);case 3:return t.next=5,e.popFreeResultDialog();case 5:return e.cutScenes(),t.next=8,cc.vv.gameData.awaitTime(1);case 8:cc.find("dechuanjiakang",e.node.parent).active=!0,n=a(e._reels);try{for(n.s();!(o=n.n()).done;)o.value.StartRecycleSymbol(.01)}catch(e){n.e(e)}finally{n.f()}return t.next=13,cc.vv.gameData.awaitTime(.02);case 13:c=a(e._reels);try{for(c.s();!(i=c.n()).done;)i.value.clearLastSymbol()}catch(e){c.e(e)}finally{c.f()}return e.ShowGameview(!1),t.next=18,cc.vv.gameData.awaitTime(1);case 18:e.ShowBottomWin(cc.vv.gameData.GetGameTotalFreeWin(),cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e.CanDoNextRound()});case 19:case"end":return t.stop()}},t)}))()},popFreeResultDialog:function(){var e=this;return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n){var a,o,c,i,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("sound_AZTEC_over_fs"),(a=cc.find("free_dialog",e.node.parent)).active=!0,(o=cc.find("free_bg",a)).opacity=0,o.runAction(cc.fadeTo(.2,200)),(c=cc.find("result_node",a)).active=!0,cc.tween(c).to(.5,{scale:1},{easing:"backOut"}).start(),(i=cc.find("bg/coins",c)).getComponent(cc.Label).string="",cc.find("bg/times",c).getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),s=cc.find("bg/btn_collect",c),Global.doRoallNumEff(i,0,cc.vv.gameData.GetGameTotalFreeWin(),3,null,null,0,!0),t.next=17,cc.vv.gameData.awaitTime(.5);case 17:s.off("click"),l=function(){var e=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.off("click"),cc.tween(o).to(.5,{opacity:0}).start(),cc.tween(c).to(.5,{scale:0},{easing:"backIn"}).call(function(){c.active=!1,a.active=!1,n()}).start();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(s,l),s.on("click",r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.stopAllActions(),e.next=3,l();case 3:case"end":return e.stop()}},e)})));case 21:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},popFreeDialog:function(){var e=this;return new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n){var a,o,c,i,r,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Global.SlotsSoundMgr.playEffect("sound_AZTEC_enter_fs"),(a=cc.find("free_dialog",e.node.parent)).active=!0,(o=cc.find("free_bg",a)).opacity=0,o.runAction(cc.fadeTo(.2,200)),(c=cc.find("free_node",a)).active=!0,c.opacity=255,c.scale=0,cc.tween(c).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("bg/times",c).getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),i={3:243,4:1024,5:3125,6:7776},r=e._selectFreeTimesScript.getExtraFreeInfo(),cc.find("bg/ways",c).getComponent(cc.Label).string=i[r.rowCnt],s=cc.find("bg/btn_start",c),l=function(){s.off("click"),cc.tween(c).to(.5,{opacity:0}).call(function(){c.active=!1,a.active=!1,n()}).start(),cc.tween(o).to(.5,{opacity:0}).start()},cc.vv.gameData.checkAutoPlay(s,l),s.on("click",function(){s.stopAllActions(),l()});case 19:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},cutScenes:function(){var e=cc.find("transition",this.node.parent);Global.SlotsSoundMgr.playEffect("sound_AZTEC_bg_guochang"),e&&(e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,"skill",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){e.getComponent(sp.Skeleton).setCompleteListener(null),e.active=!1}))},playAnimationOnce:function(e,t,n){e.active=!0,t?e.getComponent(cc.Animation).play(t):e.getComponent(cc.Animation).play(),e.getComponent(cc.Animation).on("stop",function(){e.getComponent(cc.Animation).off("stop"),e.active=!1,n&&n()})},shake:function(){var e,t=a(this.node.parent.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("LMSlots_Top"!==n.name&&"LMSlots_Bottom"!==n.name&&n.active){var o=cc.shake(3,15,15);n.runAction(o)}}}catch(e){t.e(e)}finally{t.f()}},triggerJackpotGame:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=r(regeneratorRuntime.mark(function t(n){var a,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),Global.SlotsSoundMgr.playEffect("sound_AZTEC_bg_doudong"),e.shake(),t.next=5,cc.vv.gameData.awaitTime(3);case 5:return(a=cc.find("dechuanjiakang",e.node.parent).getComponent(sp.Skeleton)).setAnimation(0,"skill",!1),a.addAnimation(0,"idle",!0),t.next=10,cc.vv.gameData.awaitTime(1);case 10:return e.cutScenes(),t.next=13,cc.vv.gameData.awaitTime(1);case 13:return Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("music_AZTEC_bonus_game_bgm"),t.next=17,e.enterSelectJackpotGame();case 17:return e.cutScenes(),t.next=20,cc.vv.gameData.awaitTime(1);case 20:e._jackpotGameScript.node.active=!1,o=e._jackpotGameScript.getWinCoin(),c=cc.vv.gameData.GetGameWin()+o,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()&&(c=cc.vv.gameData.GetGameTotalFreeWin()+o),e.ShowBottomWin(o,c,!0,r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),n&&n();case 3:case"end":return e.stop()}},e)})));case 25:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},reconnectSelectJackpotGame:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=cc.vv.gameData.getDeskInfo()).jackpotGame){t.next=4;break}return t.next=4,new Promise(function(t){e._jackpotGameScript.reconnect(n.jackpotGame,t)});case 4:a=e._jackpotGameScript.getWinCoin(),o=n.winCoin?n.winCoin:0+a,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()&&(o=cc.vv.gameData.GetTotalFreeWin()+a),e.ShowBottomWin(a,o,!0,r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.awaitTime(3);case 2:return e.cutScenes(),t.next=5,cc.vv.gameData.awaitTime(.5);case 5:return e._jackpotGameScript.exitGame(),t.next=8,cc.vv.gameData.awaitTime(1);case 8:Global.SlotsSoundMgr.playNormalBgm(),e.CanDoNextRound();case 10:case"end":return t.stop()}},t)})));case 8:case"end":return t.stop()}},t)}))()},enterSelectJackpotGame:function(){var e=this;return new Promise(function(t){e._jackpotGameScript.startGame(t,e._gameInfo.jackpotGame)})},enterSelectFreeTimes:function(){var e=this;return new Promise(function(t){cc.find("free_dialog/enter_node",e.node.parent).getComponent("RisingSunTheGreatKing_SelectFreeTimes").startGame(t)})},setJackpotGameScript:function(e){this._jackpotGameScript=e},setSelectFreeTimesScript:function(e){this._selectFreeTimesScript=e},playCoinFlyAnimation:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,a,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=!1,a=0;a<e._gameInfo.resultCards.length;a++)e._gameInfo.resultCards[a]===e._cfg.wildId&&function(){n=!0;var t=e.GetSymbolByIdx(a+1);t&&(t.playBonusSgAnimation(),cc.tween(t).delay(.5).call(function(){var n=cc.find("bowl",e.node).convertToWorldSpaceAR(cc.v2(0,0));n=e.node.parent.convertToNodeSpaceAR(n);var a=t.node.convertToWorldSpaceAR(cc.v2(0,0));a=e.node.parent.convertToNodeSpaceAR(a);var o=cc.instantiate(cc.find("particle_fly",e.node.parent));o.active=!0,o.parent=e.node.parent,o.position=a,Global.SlotsSoundMgr.playEffect("sound_AZTEC_fire_fly"),cc.tween(o).to(.5,{position:n}).removeSelf().start()}).start())}();if(!n){t.next=7;break}return t.next=5,cc.vv.gameData.awaitTime(1);case 5:(o=cc.find("bowl/collectbd",e.node))&&(o.active=!0,Global.SlotsSoundMgr.playEffect("sound_AZTEC_fire_boom"),(c=o.getComponent(cc.Animation)).play(),c.on("stop",function(){c.off("stop"),o.active=!1}));case 7:case"end":return t.stop()}},t)}))()},isPlaySymbolScatterAudio:function(e){for(var t=!0,n=0;n<=e;n++){if(!this._reels[n].hasScatter()){t=!1;break}}return t},updateActiveGoldSymbol:function(e){for(var t=cc.vv.gameData.getDeskInfo(),n=t.betLevelConfig.length-1;n>0;n--){var a=cc.find("reels_frame/symbol_info/symbol_"+n,this.node);a&&(e>=t.betLevelConfig[n]?a.getComponent("ImgSwitchCmp").setIndex(0):a.getComponent("ImgSwitchCmp").setIndex(1))}}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],RisingSunTheGreatKing_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"193a1WdB+ZAM7vDIou0eOoZ","RisingSunTheGreatKing_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},playBonusSgAnimation:function(){var e=cc.find("bonus_sg",this._showNode);if(e){Global.SlotsSoundMgr.playEffect("sound_AZTEC_wild_fire"),e.active=!0;var t=e.getComponent(cc.Animation);t.play(),t.on("stop",function(){t.off("stop"),e.active=!1})}},playWinTweenAction:function(){this._showNode.stopAllActions(),cc.tween(this._showNode).repeatForever(cc.tween().to(.35,{opacity:0}).to(.35,{opacity:255}).delay(1)).start()},stopWinTweenAction:function(){this._showNode&&(this._showNode.active=!0,this._showNode.stopAllActions(),this._showNode.opacity=255)}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["RisingSunTheGreatKing_Cfg","RisingSunTheGreatKing_GameData","RisingSunTheGreatKing_Logic","RisingSunTheGreatKing_Reel","RisingSunTheGreatKing_SelectFreeTimes","RisingSunTheGreatKing_SelectJackpotGame","RisingSunTheGreatKing_SelectStartSymbol","RisingSunTheGreatKing_Slots","RisingSunTheGreatKing_Symbol"]);