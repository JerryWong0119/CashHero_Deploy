window.__require=function e(t,n,a){function o(r,i){if(!n[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!i&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var f=n[r]={exports:{}};t[r][0].call(f.exports,function(e){return o(t[r][1][e]||e)},f,f.exports,e,t,n,a)}return n[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<a.length;r++)o(a[r]);return o}({FatherOfInvention_Cfg:[function(e,t,n){"use strict";var a,o,c;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"048ace8mxhIyoDHOt/AY6cz","FatherOfInvention_Cfg");var i={symbol:(a={},r(a,1,{node:"symbol_1",win_node:"animation_1",win_ani:{name:"animation1",zIndex:300}}),r(a,2,{node:"symbol_2",win_node:"animation_2",stop_ani:{name:"animation1",zIndex:100},win_ani:{name:"animation",zIndex:300}}),r(a,3,{node:"symbol_3",win_node:"animation_3",stop_ani:{name:"animation1",zIndex:100},trigger_ani:{name:"animation",zIndex:400}}),r(a,4,{node:"symbol_4",win_node:"animation_4",stop_ani:{name:"animation1",zIndex:100},trigger_ani:{name:"animation2",zIndex:300}}),r(a,5,{node:"symbol_5",win_node:"animation_5",win_ani:{name:"animation1",zIndex:300}}),r(a,6,{node:"symbol_6",win_node:"animation_6",win_ani:{name:"animation1",zIndex:300}}),r(a,7,{node:"symbol_7",win_node:"animation_7",win_ani:{name:"animation1",zIndex:300}}),r(a,8,{node:"symbol_8",win_node:"animation_8",win_ani:{name:"animation1",zIndex:300}}),r(a,9,{node:"symbol_9"}),r(a,10,{node:"symbol_10"}),r(a,11,{node:"symbol_11"}),r(a,12,{node:"symbol_12"}),r(a,101,{node:"symbol_101",win_node:"animation_101",win_ani:{name:"animation2",zIndex:300}}),a),towerCfg:(o={},r(o,1,{ball_animation:"animation3",jackpotDialogAnimationIndex:3,jackpotSound:"minor_jackpot",dialogSkin:"LS"}),r(o,2,{ball_animation:"animation1",jackpotDialogAnimationIndex:1,jackpotSound:"grand_jackpot",dialogSkin:"HS"}),r(o,3,{ball_animation:"animation2",jackpotDialogAnimationIndex:2,jackpotSound:"major_jackpot",dialogSkin:"ZS"}),o),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"FatherOfInvention_Slots",Reels:"FatherOfInvention_Reel",Symbols:"FatherOfInvention_Symbol"},col:5,row:3,symbolPrefab:"symbol",symbolSize:{width:125,height:125},cardmap:(c={},r(c,1,[9,5,5,12,12,7,7,5,5,6,10,11,9,9,12,12,10,8,5,11,11,7,6,9,7,12,12,4,11,11,8,10,10,5,10,7,5,7,7,12,12,5,5,6,4,7,5,5,11,5,7,7,9,6,11,7,9,12,8,8,6,12,11,8,8,6,6,5,6,6,12,10,9,12,6,6,8,9,5,5,6,8,9,5,11,7,4,10,10,8,8,4,9,11,11,7,5,8,7,6,4,8,9,9,5,5,8,5,5,6,11,12,8,9,5,8,8,12,12,5,5,10,10,4,6,7,5,5,12,11,6,10,9,9,8,6,6,8,10,5,4,4,7,9,8,8,7,7,9,9,8,5,8,7,7,11,8,8,6,7,6,7,7,7]),r(c,2,[11,11,8,8,1,8,10,7,5,2,8,8,10,3,8,1,1,7,6,1,2,9,5,6,9,9,3,7,9,9,5,2,11,4,10,8,8,12,8,3,1,2,6,7,9,7,12,12,5,9,9,2,8,3,6,5,7,5,7,5,5,2,1,1,6,10,10,3,6,6,12,7,7,9,2,5,1,7,8,1,1,3,9,8,2,5,8,8,5,11,11,4,4,9,6,2,3,8,8,7,6,9,11,4,11,2,6,8,8,3,9,4,7,7,6,6,1,7,5,7,6,3,9,9,10,7,8,12,10,8,5,8,8,3,4,6,12,12,5,7,4,6,5,5,12,8,8,5,10,12,12,1,5,5,11,12,11,11,9,9,10,4,5,5,9,7,10,7,10,12,5,5,7,5,12,6,6,12,5,7,5,6,11,7,5,10,11,12,11,11,12,7,7,6,5,6]),r(c,3,[11,8,9,9,4,9,7,12,2,6,5,6,6,12,4,10,7,2,9,11,12,12,8,8,5,6,6,5,2,12,10,5,7,10,11,1,2,6,7,7,8,12,9,5,12,2,5,5,8,8,10,10,8,1,1,7,9,2,7,5,7,5,5,1,9,8,8,2,10,11,5,5,12,11,6,7,7,2,9,6,6,11,7,11,9,9,7,2,6,6,5,4,12,7,11,5,2,11,8,8,11,11,9,7,11,7,6,1,1,7,7,10,8,9,5,5,4,4,1,7,8,6,12,12,11,8,1,1,10,9,9,5,8,4,7,10,12,5,7,4,4,8,8,10,6,5,5,9,8,7,11,7,6,6,5,5,8,7,9,10,1,1,9,12,8,5,5,6,5,5,12,8,6,1,5,12,10,6,12,8,7,8,9,5,8,6]),r(c,4,[12,12,7,4,4,11,11,6,5,6,6,2,4,11,11,3,7,7,6,9,9,7,7,4,2,5,5,12,12,5,5,10,3,6,6,5,8,8,2,1,6,5,8,8,10,5,3,1,1,2,5,5,9,8,7,11,9,1,2,7,3,8,11,11,12,12,1,5,5,8,8,2,9,9,1,1,7,3,9,8,7,1,1,2,5,5,9,9,4,4,8,8,12,12,3,6,6,7,2,6,7,4,4,8,8,10,10,9,5,5,2,3,9,12,12,8,6,6,7,10,10,9,9,2,10,7,7,3,1,6,8,8,5,5,10,7,10,7,8,3,5,5,6,5,11,8,7,7,9,11,10,10,3,8,12,11,7,9,9,5,9,9,7,11,8,8,6,6,10,12,7,1,12,12,1,11,11,6,5,5,12,12,6,5,7,5,5,6,7,11,6,8,5,8,8,7]),r(c,5,[5,9,1,5,9,12,12,5,7,8,8,6,6,7,6,9,9,5,5,6,6,9,9,7,7,6,6,7,7,8,7,10,10,5,8,11,7,9,9,1,6,1,1,5,7,7,9,5,12,4,5,10,6,5,5,1,1,6,8,8,10,5,8,11,7,1,1,9,8,11,11,5,5,12,6,7,7,8,6,6,7,7,6,4,9,9,11,8,8,9,12,10,12,12,1,1,4,4,8,8,6,6,4,4,10,10,8,7,12,12,1,1,12,12,11,11,9,5,5,8,5,5,10,9,9,12,7,5,5,11,5,8,8,9,8,7,7,4,5,5,7,6,5,5,11,11,6,7,9,12,12,7,10,10,12,5,11,11,4,10,12,11,8,5,8,11,6,6,5,8,8,7,7,10,8,8]),c),wildId:1,doubleWildId:101,scatterId:2,ballId:3,collectSymbolId:4,autoModelDelay:1,kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,bounceInfo:{distance:30,time:.1},AddAntiTime:1.5,reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/FatherOfInvention/",reelStopSound:"reel_stop",symbolStopSound:"symbol_scatter_drop",antSound:"reel_notify",antSpeed:2e3}],helpItems:["games/FatherOfInvention/prefab/help_item_1","games/FatherOfInvention/prefab/help_item_2","games/FatherOfInvention/prefab/help_item_3","games/FatherOfInvention/prefab/help_item_4","games/FatherOfInvention/prefab/help_item_5","games/FatherOfInvention/prefab/help_item_6","games/FatherOfInvention/prefab/help_item_7","games/FatherOfInvention/prefab/help_item_8"],commEffect:{path:"games/FatherOfInvention/",win1:["win1","win1end"],win2:["win2","win2end"],win3:["win3","win3end"]},normalBgm:"base_bgm",sysFloatOffsetPos:cc.v2(0,150)};t.exports=i,cc._RF.pop()},{}],FatherOfInvention_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"618440qZZ5MgpI+xCSnwrKx","FatherOfInvention_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{_lockBonus:!1},onLoad:function(){this._super();var e=cc.find("safe_node/super_slots",this.node);e.addComponent("FatherOfInvention_SuperSlots"),e.active=!0;var t=cc.vv.gameData.getDeskInfo();3===t.collectInfo.state?(cc.vv.gameData.SetSlotsScript(e.getComponent("FatherOfInvention_SuperSlots")),cc.find("safe_node/slots",this.node).getComponent("FatherOfInvention_Slots").Init(),cc.find("safe_node/slots",this.node).active=!1,e.active=!0):(e.getComponent("FatherOfInvention_SuperSlots").Init(),cc.find("safe_node/slots",this.node).active=!0,e.active=!1),this._lockBonus=t.needBet>t.currmult,Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onUpdateBet,this),cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameData,this)},onUpdateBet:function(){var e=cc.vv.gameData.getDeskInfo(),t=cc.find("safe_node/slots/collect_node/bonus_node/lock",this.node).getComponent(sp.Skeleton);e.needBet<=cc.vv.gameData.GetBetIdx()&&this._lockBonus?(cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_unlock",!0),this._lockBonus=!1,t.setAnimation(0,"animation1",!1)):e.needBet>cc.vv.gameData.GetBetIdx()&&!this._lockBonus&&(cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_lock",!0),this._lockBonus=!0,t.setAnimation(0,"animation3",!1),t.addAnimation(0,"animation2",!0)),cc.find("safe_node/slots",this.node).getComponent("FatherOfInvention_Slots").towerInfo=e.towerInfos[cc.vv.gameData.GetBetIdx()-1],cc.find("safe_node/slots",this.node).getComponent("FatherOfInvention_Slots").setTower(e.towerInfos[cc.vv.gameData.GetBetIdx()-1])},StartSlot:function(){cc.vv.gameData.GetSlotsScript().Init()},onRcvSubGameData:function(e){200===e.code&&(1===e.data.rtype?cc.find("safe_node/map",this.node).getComponent("FatherOfInvention_Map").onRcvSubGameData(e):2===e.data.rtype?cc.find("safe_node/map",this.node).getComponent("FatherOfInvention_Map").onRcvSubGameData(e):3===e.data.rtype&&cc.find("safe_node/wheel",this.node).getComponent("FatherOfInvention_Wheel").onRcvSubgameData(e))},onDestroy:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameData,!1,this)}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],FatherOfInvention_Map:[function(e,t,n){"use strict";function a(e,t,n,a,o,c,r){try{var i=e[c](r),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,c){var r=e.apply(t,n);function i(e){a(r,o,c,i,s,"next",e)}function s(e){a(r,o,c,i,s,"throw",e)}i(void 0)})}}function c(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,c=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(i)throw o}}}}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"eb42dM1Wy9IBIxk+acK/myR","FatherOfInvention_Map"),cc.Class({extends:cc.Component,properties:{btn_tip:cc.Node,title_freeTimes:cc.Label,optionNodes:[cc.Node],btn_chooseRandom:cc.Node,btn_startFreeSpin:cc.Node,btn_back:cc.Node,black_bg:cc.Node,energize_node:cc.Node,energize_icon:cc.Sprite,energize_btn_yes:cc.Node,energize_btn_no:cc.Node,start_node:cc.Node,start_curFreeTime:cc.Label,start_btn_no:cc.Node,start_btn_start:cc.Node,help_node:cc.Node,help_bg:cc.Node,help_content:cc.Node,help_title:cc.Node,btn_i_see:cc.Node,_successCallback:null,_canSelect:!1,_curSelectCard:0},onLoad:function(){},initMap:function(e){var t=this,n=e.monsterInfo;this.node.active=!0,this.node.y=cc.winSize.height;cc.vv.gameData.getGameCfg();this.btn_tip.off("click"),this.btn_tip.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.black_bg.active=!0,t.black_bg.opacity=200,t.help_node.active=!0,t.help_bg.scale=0,t.help_bg.opacity=255,t.help_content.scale=0,t.help_content.opacity=255,t.help_title.scale=0,t.help_title.opacity=255,t.btn_i_see.scale=0,t.btn_i_see.opacity=255,t.btn_i_see.getComponent(cc.Button).interactable=!0,cc.tween(t.help_bg).to(.2,{scale:1.25},{easing:"backOut"}).start(),cc.tween(t.help_title).delay(.2).to(.2,{scale:1},{easing:"backOut"}).start(),cc.tween(t.help_content).delay(.4).to(.2,{scale:1},{easing:"backOut"}).start(),cc.tween(t.btn_i_see).delay(.6).to(.2,{scale:1},{easing:"backOut"}).start()}),this.title_freeTimes.string=e.currFreeCnt;for(var a=function(e){var a=n[e],o=t.optionNodes[e];cc.find("total_multiplier",o).getComponent(cc.Label).string="X"+a.triggerMult[a.triggerMult.length-1],cc.find("cur_multiplier",o).getComponent(cc.Label).string="X"+a.currmult;for(var r=0;r<a.maxLen;r++)cc.find("progress_"+(r+1),o).active=r<a.currLen;for(var i=0;i<3;i++)cc.find("target_"+(i+1),o).color=a.currLen<a.triggerIdx[i]?cc.Color.WHITE:cc.Color.GRAY;cc.find("idle_spine",o).active=a.currLen<a.maxLen,cc.find("add_spins",o).color=a.currLen===a.maxLen?cc.Color.GRAY:cc.Color.WHITE,o.on(cc.Node.EventType.TOUCH_END,function(){t._canSelect&&(cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_monster_click",!0),a.currLen>=a.maxLen||(t._curSelectCard=a.card,t.black_bg.active=!0,t.black_bg.opacity=200,t.energize_node.active=!0,t.energize_node.opacity=255,t.energize_node.scale=0,cc.tween(t.energize_node).to(.2,{scale:1},{easing:"backOut"}).start(),t.energize_icon.node.getComponent("ImgSwitchCmp").setIndex(a.card-5),t.energize_btn_yes.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.energize_btn_yes.off("click"),cc.tween(t.energize_node).to(.2,{opacity:0}).call(function(){t.energize_node.active=!1}).start(),t.btn_chooseRandom.getComponent(cc.Button).interactable=!1,t.btn_startFreeSpin.getComponent(cc.Button).interactable=!1;var e,n=c(t.optionNodes);try{for(n.s();!(e=n.n()).done;){var a=e.value;cc.find("idle_spine",a).active=!1,a.off(cc.Node.EventType.TOUCH_END)}}catch(e){n.e(e)}finally{n.f()}t._canSelect=!1;var o={c:MsgId.SLOT_SUBGAME_DATA};o.uid=Global.playerData.uid,o.gameid=cc.vv.gameData._gameId,o.data={},o.data.rtype=1,o.data.choiceId=t._curSelectCard,cc.vv.NetManager.send(o)}),t.energize_btn_no.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.energize_btn_no.off("click"),cc.tween(t.energize_node).to(.2,{opacity:0}).call(function(){t.energize_node.active=!1}).start(),cc.tween(t.black_bg).to(.2,{opacity:0}).call(function(){t.black_bg.active=!1}).start()})))})},o=0;o<n.length;o++)a(o);var r,i=!1,s=c(n);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(l.currLen!==l.maxLen){i=!0;break}}}catch(e){s.e(e)}finally{s.f()}22===e.currFreeCnt&&(i=!1),this.btn_chooseRandom.getComponent(cc.Button).interactable=i,this.btn_chooseRandom.off("click"),this.btn_chooseRandom.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.black_bg.active=!0,t.black_bg.opacity=200,t.energize_node.active=!0,t.energize_node.opacity=255,t.energize_node.scale=0,cc.tween(t.energize_node).to(.2,{scale:1},{easing:"backOut"}).start();var n=t.getCanSelectRandomCard(e);cc.vv.gameData.GetAtlasByName("symbol");t.energize_icon.node.getComponent("ImgSwitchCmp").setIndex(n-5),t._curSelectCard=n,t.energize_btn_yes.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.energize_btn_yes.off("click");var e,n=c(t.optionNodes);try{for(n.s();!(e=n.n()).done;){var a=e.value;cc.find("idle_spine",a).active=!1,a.off(cc.Node.EventType.TOUCH_END)}}catch(e){n.e(e)}finally{n.f()}t.btn_chooseRandom.getComponent(cc.Button).interactable=!1,t.btn_startFreeSpin.getComponent(cc.Button).interactable=!1,t._canSelect=!1,cc.tween(t.energize_node).to(.2,{opacity:0}).call(function(){t.energize_node.active=!1}).start();var o={c:MsgId.SLOT_SUBGAME_DATA};o.uid=Global.playerData.uid,o.gameid=cc.vv.gameData._gameId,o.data={},o.data.rtype=1,o.data.choiceId=t._curSelectCard,cc.vv.NetManager.send(o)}),t.energize_btn_no.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.energize_btn_no.off("click"),cc.tween(t.energize_node).to(.2,{opacity:0}).call(function(){t.energize_node.active=!1}).start(),cc.tween(t.black_bg).to(.2,{opacity:0}).call(function(){t.black_bg.active=!1}).start()})}),this.btn_startFreeSpin.getComponent(cc.Button).interactable=e.currFreeCnt>0,this.btn_startFreeSpin.off("click"),this.btn_startFreeSpin.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.black_bg.active=!0,t.black_bg.opacity=200,t.start_node.active=!0,t.start_node.opacity=255,t.start_node.scale=0,cc.tween(t.start_node).to(.2,{scale:1},{easing:"backOut"}).start(),t.start_curFreeTime.string=e.currFreeCnt,t.start_btn_start.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.start_btn_start.off("click"),t._canSelect=!1,t.btn_chooseRandom.getComponent(cc.Button).interactable=!1,t.btn_startFreeSpin.getComponent(cc.Button).interactable=!1,cc.tween(t.black_bg).to(.2,{opacity:0}).call(function(){t.black_bg.active=!1}).start(),cc.tween(t.start_node).to(.2,{opacity:0}).call(function(){t.start_node.active=!1}).start();var e={c:MsgId.SLOT_SUBGAME_DATA};e.uid=Global.playerData.uid,e.gameid=cc.vv.gameData._gameId,e.data={},e.data.rtype=2,cc.vv.NetManager.send(e)}),t.start_btn_no.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.start_btn_no.off("click"),cc.tween(t.black_bg).to(.2,{opacity:0}).call(function(){t.black_bg.active=!1}).start(),cc.tween(t.start_node).to(.2,{opacity:0}).call(function(){t.start_node.active=!1}).start()})}),this.btn_i_see.off("click"),this.btn_i_see.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.btn_i_see.getComponent(cc.Button).interactable=!1,cc.tween(t.black_bg).to(.2,{opacity:0}).delay(.1).call(function(){t.black_bg.active=!1,t.help_node.active=!1}).start(),cc.tween(t.help_bg).to(.2,{opacity:0}).start(),cc.tween(t.help_content).to(.2,{opacity:0}).start(),cc.tween(t.help_title).to(.2,{opacity:0}).start(),cc.tween(t.btn_i_see).to(.2,{opacity:0}).start()})},getCanSelectRandomCard:function(e){var t,n=[],a=c(e.monsterInfo);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.currLen<o.maxLen&&n.push(o)}}catch(e){a.e(e)}finally{a.f()}return n[Math.floor(Math.random()*n.length)].card},openMap:function(e){var t=this;if(this.node.y=cc.winSize.height,this.node.active=!0,e){var n,a=c(this.optionNodes);try{for(a.s();!(n=a.n()).done;){var o=n.value;cc.find("idle_spine",o).active=!1}}catch(e){a.e(e)}finally{a.f()}this.btn_chooseRandom.getComponent(cc.Button).interactable=!1,this.btn_startFreeSpin.getComponent(cc.Button).interactable=!1}else this.btn_back.active=!1;cc.tween(this.node).to(.5,{y:0}).start(),e&&(this.btn_back.active=!0,this.btn_back.scale=0,cc.tween(this.btn_back).delay(.6).to(.5,{scale:1},{easing:"backOut"}).start(),this.btn_back.on("click",function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),t.btn_back.off("click"),cc.tween(t.btn_back).to(.2,{scale:0}).start(),cc.tween(t.node).to(.5,{y:cc.winSize.height}).call(function(){cc.vv.gameData.GetSlotsScript().CanDoNextRound(),t.node.active=!1}).start()}))},showMap:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.initMap(e),t.openMap(!1),n.next=4,cc.vv.gameData.awaitTime(1);case 4:t._canSelect=!0,cc.vv.gameData.GetSlotsScript().clearCollectProgress();case 6:case"end":return n.stop()}},n)}))()},onRcvSubGameData:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a,o,c,r,i,s,l,f,m,u,d,p,v,g;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(200===e.code){n.next=2;break}return n.abrupt("return");case 2:if(1!==e.data.rtype){n.next=67;break}return t.black_bg.active=!1,a=e.data.collectInfo,cc.vv.gameData.getDeskInfo().collectInfo=a,o=a.monsterInfo,c=t.optionNodes[e.data.choiceId-5],(r=cc.find("select_spine",c).getComponent(sp.Skeleton)).node.active=!0,r.setAnimation(0,"animation",!1),r.setCompleteListener(function(){r.setCompleteListener(null),r.node.active=!1}),cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_monster_rise",!0),n.next=15,cc.vv.gameData.awaitTime(1);case 15:return(i=cc.find("spine",c).getComponent(sp.Skeleton)).setAnimation(0,"animation2",!1),i.addAnimation(0,"animation3",!0),n.next=20,cc.vv.gameData.awaitTime(1);case 20:if(s=o[e.data.choiceId-5],(l=cc.find("progress_"+s.currLen,c)).active=!0,l.scaleX=0,cc.tween(l).to(.5,{scaleX:1}).start(),-1===s.triggerIdx.indexOf(s.currLen)){n.next=37;break}return n.next=28,cc.vv.gameData.awaitTime(.5);case 28:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_times_accept",!0),f=cc.find("target_"+(s.triggerIdx.indexOf(s.currLen)+1),c),m=cc.instantiate(f),f.color=cc.Color.GRAY,m.parent=f.parent,m.position=f.position,cc.tween(m).to(.2,{scale:1.2}).delay(.3).then(cc.jumpTo(.5,cc.find("cur_multiplier",c).position,50,1)).call(function(){cc.find("cur_multiplier",c).getComponent(cc.Label).string="X"+s.currmult}).removeSelf().start(),n.next=37,cc.vv.gameData.awaitTime(1);case 37:if(s.currLen!==s.maxLen){n.next=58;break}return n.next=40,cc.vv.gameData.awaitTime(.5);case 40:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_times_fly",!0),u=cc.find("finish_spine",c).getComponent(sp.Skeleton),d="animation1",7===e.data.choiceId?d="animation2":8===e.data.choiceId&&(d="animation3"),u.node.active=!0,u.setAnimation(0,d,!1),u.setCompleteListener(function(){u.setCompleteListener(null),u.node.active=!1}),n.next=49,cc.vv.gameData.awaitTime(.5);case 49:return p=cc.find("add_spins",c),(v=cc.instantiate(p)).parent=p.parent,v.position=p.position,g=t.title_freeTimes.node.convertToWorldSpaceAR(cc.v2(0,0)),g=c.convertToNodeSpaceAR(g),cc.tween(v).to(.2,{scale:1.2}).delay(.3).to(.5,{position:g}).call(function(){t.title_freeTimes.string=a.currFreeCnt}).removeSelf().start(),n.next=58,cc.vv.gameData.awaitTime(1.5);case 58:return n.next=60,cc.vv.gameData.awaitTime(1);case 60:return cc.tween(t.node).to(.5,{y:cc.winSize.height}).start(),n.next=63,cc.vv.gameData.awaitTime(.5);case 63:t.node.active=!1,cc.vv.gameData.GetSlotsScript().CanDoNextRound(),n.next=82;break;case 67:if(2!==e.data.rtype){n.next=81;break}return cc.vv.gameData.getDeskInfo().collectInfo=e.data.collectInfo,n.next=71,cc.vv.gameData.awaitTime(.5);case 71:return cc.find("wheel",t.node.parent).getComponent("FatherOfInvention_Wheel").startWheel(e.data.collectInfo),n.next=74,cc.vv.gameData.awaitTime(.5);case 74:return cc.tween(t.node).to(.5,{y:cc.winSize.height}).start(),n.next=77,cc.vv.gameData.awaitTime(.5);case 77:t.black_bg.active=!1,t.node.active=!1,n.next=82;break;case 81:3===e.data.rtype&&cc.find("wheel",t.node.parent).getComponent("FatherOfInvention_Wheel").onRcvSubGameData(e);case 82:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{}],FatherOfInvention_Reel:[function(e,t,n){"use strict";cc._RF.push(t,"ec2d3eFyD9KRYISpYFRbzYU","FatherOfInvention_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},StartMove:function(){this._super()},OnReelSpinEnd:function(){this._super()},playReelStop:function(){if(this._super(),this._originResult)for(var e=0;e<this._originResult.length;e++){var t=this._symbols[e];t.GetShowId()===this._cfg.ballId&&t.playStopAnimation(),t.GetShowId()===this._cfg.collectSymbolId&&(t.playStopAnimation(),cc.vv.AudioManager.playEff("games/FatherOfInvention/","symbol_coins_drop",!0))}},GetResizeHeightObjs:function(){var e=[],t=cc.find("mask",this.node);t&&e.push(t);var n=cc.find("reels_bg/reel_bg"+(this._reelIdx+1),this.node.parent.parent);if(n&&e.push(n),0===this._reelIdx){for(var a=1;a<5;a++){var o=cc.find("reels_frame/line_"+a,this.node.parent.parent);o&&e.push(o)}var c=cc.find("reels_frame/left_bg",this.node.parent.parent);c&&e.push(c);var r=cc.find("reels_frame/right_bg",this.node.parent.parent);r&&e.push(r);var i=cc.find("black_bg",this.node.parent.parent);i&&e.push(i)}return e},GetResizeMoveingObjs:function(){var e=[];if(0===this._reelIdx){var t=cc.find("reels_frame/top_bg",this.node.parent.parent);t&&e.push(t);var n=cc.find("reels_frame/left_top",this.node.parent.parent);n&&e.push(n);var a=cc.find("reels_frame/right_top",this.node.parent.parent);a&&e.push(a);var o=cc.find("collect_node",this.node.parent.parent);o&&e.push(o);var c=cc.find("collect_tower",this.node.parent.parent);c&&e.push(c)}return e}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],FatherOfInvention_Slots:[function(e,t,n){"use strict";function a(e,t,n,a,o,c,r){try{var i=e[c](r),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,c){var r=e.apply(t,n);function i(e){a(r,o,c,i,s,"next",e)}function s(e){a(r,o,c,i,s,"throw",e)}i(void 0)})}}function c(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,c=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(i)throw o}}}}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"39397fTmfdGjbV+0MJFyUqT","FatherOfInvention_Slots");var s=1,l=2,f=3;cc.Class({extends:e("LMSlots_Slots_Base"),properties:{towerInfo:null,freeTowerInfo:null,towerGame:null},Init:function(){var e=this;this._super();var t=cc.find("collect_node/bonus_node",this.node),n=cc.vv.gameData.getDeskInfo();t.on(cc.Node.EventType.TOUCH_END,function(){n.needBet>n.currmult&&"idle"===cc.vv.gameData.GetSlotState()&&e._bottomScript.SetBetIdx(n.needBet)}),this.towerInfo=n.towerInfos[cc.vv.gameData.GetBetIdx()-1],this.setTower(this.towerInfo);var a=cc.find("lock",t).getComponent(sp.Skeleton);n.needBet<=n.currmult?a.setAnimation(0,"animation1",!1):(a.setAnimation(0,"animation3",!1),a.addAnimation(0,"animation2",!0)),this.updateCollectProgress(n.collectInfo,!1),cc.find("collect_node/btn_map",this.node).on("click",function(){"idle"===cc.vv.gameData.GetSlotState()&&(cc.vv.gameData.isAutoGame()||e._bottomScript._bAutoModel||(cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),e._bottomScript.ShowBtnsByState("moveing_1"),cc.find("map",e.node.parent).getComponent("FatherOfInvention_Map").initMap(n.collectInfo),cc.find("map",e.node.parent).getComponent("FatherOfInvention_Map").openMap(!0)))})},changeLightAngleAndScale:function(e,t,n,a,o,c){var r=t.convertToWorldSpaceAR(cc.v2(0,0)),i=e.convertToWorldSpaceAR(cc.v2(0,0)),s=r.x-i.x,l=r.y-i.y,f=cc.v2(s,l),m=f.signAngle(cc.v2(0,1))/Math.PI*180;e.angle=m*a+o;var u=Math.abs(f.mag());e.scale=u/c},setTower:function(e){var t=cc.find("collect_tower/tower_1",this.node),n=cc.find("collect_tower/tower_2",this.node),a=cc.find("collect_tower/tower_3",this.node);cc.find("tower",t).getComponent(sp.Skeleton).setAnimation(0,"animation"+e.blueStatus,!0),cc.find("tower",n).getComponent(sp.Skeleton).setAnimation(0,"animation"+e.redStatus,!0),cc.find("tower",a).getComponent(sp.Skeleton).setAnimation(0,"animation"+e.purpleStatus,!0)},StartMove:function(){if(this._super(),Global.SlotsSoundMgr.playNormalBgm(),this.towerGame){if(this.towerGame.expandingReels){var e,t=c(this._reels);try{for(t.s();!(e=t.n()).done;){e.value.AddCount(3)}}catch(e){t.e(e)}finally{t.f()}cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_rise",!0);var n=cc.find("waikuang_lan",this.node).getComponent(sp.Skeleton);n.node.active=!0,n.setAnimation(0,"animation1",!1),n.addAnimation(0,"animation2",!0);var a=cc.find("reels_frame/guanzishangsheng",this.node).getComponent(sp.Skeleton);a.setAnimation(0,"animation1_1",!1),a.addAnimation(0,"animation2",!0)}if(this.towerGame.doubleWild){var o=cc.find("waikuang_zi",this.node).getComponent(sp.Skeleton);o.node.active=!this.towerGame.expandingReels,o.setAnimation(0,"animation1",!1),o.addAnimation(0,"animation2",!0)}}},ReconnectShow:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(3!==(n=cc.vv.gameData.getDeskInfo()).collectInfo.state){t.next=3;break}return t.abrupt("return");case 3:if(!cc.vv.gameData.GetFreeTime()){t.next=11;break}if(e.freeTowerInfo=n.freeTowerInfo,e.setTower(e.freeTowerInfo),e.ShowGameview(!0),n.towerGame){if(e.towerGame=n.towerGame,n.towerGame.expandingReels){a=c(e._reels);try{for(a.s();!(o=a.n()).done;)o.value.AddCount(3,.01)}catch(e){a.e(e)}finally{a.f()}(r=cc.find("waikuang_lan",e.node).getComponent(sp.Skeleton)).node.active=!0,r.setAnimation(0,"animation2",!0),cc.find("reel_frame/guanzishangsheng",e.node).getComponent(sp.Skeleton).setAnimation(0,"animation2",!0)}e._bottomScript.SendSpinReq()}else e.CanDoNextRound();t.next=32;break;case 11:if(e.ShowGameview(!1),1!==n.collectInfo.state){t.next=27;break}return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=16,cc.vv.gameData.awaitTime(.5);case 16:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_full",!0),(i=cc.find("collect_node/progress/spine_full",e.node).getComponent(sp.Skeleton)).node.active=!0,i.setAnimation(0,"animation",!1),i.setCompleteListener(function(){i.setCompleteListener(null),i.node.active=!1}),t.next=23,cc.vv.gameData.awaitTime(1);case 23:cc.find("map",e.node.parent).getComponent("FatherOfInvention_Map").showMap(n.collectInfo),t.next=32;break;case 27:if(2!==n.collectInfo.state){t.next=32;break}return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=31,cc.vv.gameData.awaitTime(.5);case 31:cc.find("wheel",e.node.parent).getComponent("FatherOfInvention_Wheel").startWheel(n.collectInfo);case 32:case"end":return t.stop()}},t)}))()},onMsgSpine:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a,o,c,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._super(e),cc.vv.gameData.getDeskInfo().collectInfo=e.collectInfo,t.towerInfo=e.towerInfo,!t.towerGame){n.next=21;break}for(a=1,o=0;o<t._gameInfo.resultCards.length;o++)t._gameInfo.resultCards[o]===t._cfg.wildId&&(a+=.7);if(t.towerGame.expandingReels&&(a+=1.5),t.SetStopTime(a),!t.towerGame.randWilds){n.next=21;break}cc.find("black_bg",t.node).active=!0,cc.find("waikuang_hong",t.node).active=!t.towerGame.expandingReels,c=1,r=0;case 13:if(!(r<t._gameInfo.resultCards.length)){n.next=20;break}if(t._gameInfo.resultCards[r]!==t._cfg.wildId){n.next=17;break}return n.delegateYield(regeneratorRuntime.mark(function e(){var n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=cc.find("collect_tower/tower_2/jackpot_light",t.node).getComponent(sp.Skeleton)).node.active=!0,cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_launch",!0),n.setAnimation(0,"animation1",!1),(a=cc.instantiate(cc.find("wild_sprite",t.node))).scale=0,a.active=!0,a.parent=cc.find("wild_parent",t.node),a.position=cc.v2(r%5*t._cfg.symbolSize.width+.5*t._cfg.symbolSize.width,(t._gameInfo.resultCards.length/t._cfg.col-1-Math.floor(r/5))*t._cfg.symbolSize.height+.5*t._cfg.symbolSize.height),t.changeLightAngleAndScale(n.node,a,cc.v2(0,-1),-1,180,480),e.next=12,cc.vv.gameData.awaitTime(.1);case 12:return c>5&&(c=5),cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_receive"+c,!0),(o=cc.instantiate(cc.find("generate_wild_spine",t.node)).getComponent(sp.Skeleton)).node.active=!0,o.setAnimation(0,"animation4",!1),o.node.parent=cc.find("wild_parent",t.node),o.node.position=a.position,o.setCompleteListener(function(){o.node.removeFromParent()}),c++,cc.tween(a).to(.3,{scale:1}).start(),e.next=24,cc.vv.gameData.awaitTime(.5);case 24:case"end":return e.stop()}},e)})(),"t0",17);case 17:r++,n.next=13;break;case 20:cc.find("black_bg",t.node).active=!1;case 21:case"end":return n.stop()}},n)}))()},SetSlotsResult:function(e){this._super(e)},CheckEnterFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetFreeTime()===cc.vv.gameData.GetTotalFree()},CheckExitFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&0===cc.vv.gameData.GetFreeTime()},ShowWinTrace:function(){this._super()},OnSpinEnd:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collectSymbol();case 2:return t.next=4,e.collectTower();case 4:if(!e.towerGame){t.next=9;break}if(!e.towerGame.doubleWild){t.next=8;break}return t.next=8,e.triggerDoubleWild();case 8:e.towerGame.randWilds&&cc.find("wild_parent",e.node).removeAllChildren();case 9:e.ShowWinTrace(),n=cc.vv.gameData.GetGameWin(),a=cc.vv.gameData.GetGameWin(),cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()&&(a=cc.vv.gameData.GetGameTotalFreeWin()),!0,e._gameInfo.addTowerInfo&&e._gameInfo.addTowerInfo.jackpot&&(n-=e._gameInfo.addTowerInfo.winCoin,a-=e._gameInfo.addTowerInfo.winCoin,!1),e.ShowBottomWin(n,a,!0,o(regeneratorRuntime.mark(function t(){var n,a,o,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._gameInfo.addTowerInfo||!e._gameInfo.jackpot){t.next=3;break}return t.next=3,e.triggerJackpot();case 3:if(!e.towerGame){t.next=22;break}if(cc.find("waikuang_hong",e.node).active=!1,cc.find("waikuang_zi",e.node).active=!1,!e.towerGame.expandingReels){t.next=20;break}e.ClearAllTopShow(),n=c(e._reels);try{for(n.s();!(a=n.n()).done;)a.value.AddCount(-3)}catch(e){n.e(e)}finally{n.f()}return cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_down",!0),(o=cc.find("waikuang_lan",e.node).getComponent(sp.Skeleton)).node.active=!0,o.setAnimation(0,"animation3",!1),(r=cc.find("reels_frame/guanzishangsheng",e.node).getComponent(sp.Skeleton)).setAnimation(0,"animation2_1",!1),r.addAnimation(0,"animation1",!0),t.next=19,cc.vv.gameData.awaitTime(1.5);case 19:o.node.active=!1;case 20:e.towerGame=null,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()?e.setTower(e._gameInfo.freeTowerInfo):e.setTower(e._gameInfo.towerInfo);case 22:if(!e._gameInfo.towerGame){t.next=27;break}return t.next=25,e.triggerTowerGame();case 25:t.next=53;break;case 27:if(!(e._gameInfo.collectInfo&&0!==e._gameInfo.collectInfo.state&&e._gameInfo.collectInfo.progressData.currCnt>0)){t.next=42;break}return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=31,cc.vv.gameData.awaitTime(.5);case 31:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_full",!0),(i=cc.find("collect_node/progress/spine_full",e.node).getComponent(sp.Skeleton)).node.active=!0,i.setAnimation(0,"animation",!1),i.setCompleteListener(function(){i.setCompleteListener(null),i.node.active=!1}),t.next=38,cc.vv.gameData.awaitTime(1);case 38:cc.find("map",e.node.parent).getComponent("FatherOfInvention_Map").showMap(e._gameInfo.collectInfo),t.next=53;break;case 42:if(!e.CheckEnterFreeGame()){t.next=46;break}e.triggerFreeGame(),t.next=53;break;case 46:if(!e.CheckExitFreeGame()){t.next=50;break}e.triggerExitFreeGame(),t.next=53;break;case 50:return t.next=52,cc.vv.gameData.awaitTime(.5);case 52:e.CanDoNextRound();case 53:case"end":return t.stop()}},t)})));case 16:case"end":return t.stop()}},t)}))()},ClearAllTopShow:function(){this._super();var e,t=c(this._reels);try{for(t.s();!(e=t.n()).done;)for(var n=e.value,a=0;a<this._cfg.row;a++)n.GetSymbolByRow(a).setAnimationToTop(!1)}catch(e){t.e(e)}finally{t.f()}},triggerDoubleWild:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.awaitTime(.5);case 2:n=0;case 3:if(!(n<e._gameInfo.resultCards.length)){t.next=20;break}if(e._gameInfo.resultCards[n]!==e._cfg.wildId){t.next=17;break}return(a=cc.find("collect_tower/tower_3/jackpot_light",e.node).getComponent(sp.Skeleton)).node.active=!0,cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_launch",!0),a.setAnimation(0,"animation1",!1),o=e.GetSymbolByIdx(n+1),e.changeLightAngleAndScale(a.node,o.node,cc.v2(0,-1),-1,180,480),t.next=14,cc.vv.gameData.awaitTime(.1);case 14:return o.ShowById(e._cfg.doubleWildId),t.next=17,cc.vv.gameData.awaitTime(.3);case 17:n++,t.next=3;break;case 20:case"end":return t.stop()}},t)}))()},GetSymbolByIdx:function(e){var t=(e-1)%this._col,n=this._gameInfo.resultCards.length/this._cfg.col-Math.floor((e-1)/this._col)-1;return this._reels[t].GetSymbolByRow(n)},triggerTowerGame:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._gameInfo.towerGame){t.next=48;break}if(e.towerGame=e._gameInfo.towerGame,(n=cc.find("featuretanchuang",e.node)).active=!0,n.opacity=255,a=cc.find("featuretanchuang",n),cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_dialog_show",!0),o=0,!e._gameInfo.towerGame.expandingReels){t.next=20;break}return o=e._cfg.towerCfg[1].jackpotDialogAnimationIndex,n.opacity=255,a.getComponent(sp.Skeleton).setSkin(e._cfg.towerCfg[1].dialogSkin),a.getComponent(sp.Skeleton).setAnimation(0,"animation1",!1),a.getComponent(sp.Skeleton).addAnimation(0,"animation2",!0),t.next=16,cc.vv.gameData.awaitTime(2);case 16:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_dialog_close",!0),cc.tween(n).to(.2,{opacity:0}).start(),t.next=20,cc.vv.gameData.awaitTime(.5);case 20:if(!e._gameInfo.towerGame.randWilds){t.next=32;break}return n.opacity=255,o=e._cfg.towerCfg[2].jackpotDialogAnimationIndex,a.getComponent(sp.Skeleton).setSkin(e._cfg.towerCfg[2].dialogSkin),a.getComponent(sp.Skeleton).setAnimation(0,"animation"+o,!1),a.getComponent(sp.Skeleton).addAnimation(0,"animation"+o+"_1",!0),t.next=28,cc.vv.gameData.awaitTime(2);case 28:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_dialog_close",!0),cc.tween(n).to(.2,{opacity:0}).start(),t.next=32,cc.vv.gameData.awaitTime(.5);case 32:if(!e._gameInfo.towerGame.doubleWild){t.next=44;break}return n.opacity=255,o=e._cfg.towerCfg[3].jackpotDialogAnimationIndex,a.getComponent(sp.Skeleton).setSkin(e._cfg.towerCfg[3].dialogSkin),a.getComponent(sp.Skeleton).setAnimation(0,"animation"+o,!1),a.getComponent(sp.Skeleton).addAnimation(0,"animation"+o+"_1",!0),t.next=40,cc.vv.gameData.awaitTime(2);case 40:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_dialog_close",!0),cc.tween(n).to(.2,{opacity:0}).start(),t.next=44,cc.vv.gameData.awaitTime(.5);case 44:return n.active=!1,t.next=47,cc.vv.gameData.awaitTime(1);case 47:e._bottomScript.SendSpinReq();case 48:case"end":return t.stop()}},t)}))()},triggerJackpot:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n){var a,o,c,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._gameInfo.addTowerInfo||!e._gameInfo.jackpot){t.next=25;break}return t.next=3,cc.vv.gameData.awaitTime(1);case 3:return cc.find("LMSlots_PrizePool_1",e.node.parent).getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:1,pauseNum:e._gameInfo.addTowerInfo.jackpotValues[0]},{prizeType:2,pauseNum:e._gameInfo.addTowerInfo.jackpotValues[1]},{prizeType:3,pauseNum:e._gameInfo.addTowerInfo.jackpotValues[2]}]),a=cc.find("collect_tower/tower_1/jackpot_light",e.node),o=cc.find("LMSlots_PrizePool_1/prizePool_Minor",e.node.parent),c=1,2===e._gameInfo.jackpot?e.changeLightAngleAndScale(a,o,cc.v2(0,1),-1,0,230):3===e._gameInfo.addTowerInfo.jackpot?(a=cc.find("collect_tower/tower_3/jackpot_light",e.node),o=cc.find("LMSlots_PrizePool_1/prizePool_Major",e.node.parent),c=3,e.changeLightAngleAndScale(a,o,cc.v2(0,-1),-1,180,500)):4===e._gameInfo.addTowerInfo.jackpot&&(a=cc.find("collect_tower/tower_2/jackpot_light",e.node),o=cc.find("LMSlots_PrizePool_1/prizePool_Grand",e.node.parent),c=2,e.changeLightAngleAndScale(a,o,cc.v2(0,-1),-1,180,500)),r=a.getComponent(sp.Skeleton),a.active=!0,r.setAnimation(0,"animation1",!1),cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_launch",!0),r.setCompleteListener(function(){r.setCompleteListener(null),a.active=!1}),t.next=15,cc.vv.gameData.awaitTime(.1);case 15:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","jp_show",!0),(i=cc.find("cf_jackpot_01",o)).active=!0,i.getComponent(sp.Skeleton).setAnimation(0,"animation2",!1),i.getComponent(sp.Skeleton).setCompleteListener(function(){i.getComponent(sp.Skeleton).setCompleteListener(null),i.active=!1}),t.next=22,cc.vv.gameData.awaitTime(1);case 22:return t.next=24,e.popJackpotDialog(c);case 24:e.ShowBottomWin(e._gameInfo.addTowerInfo.winCoin,e._gameInfo.addTowerInfo.winCoin,!0,function(){n()});case 25:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},collectTower:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o,c,r,i,s,l,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._gameInfo.addTowerInfo){t.next=2;break}return t.abrupt("return");case 2:if(!(cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime())){t.next=6;break}for(n=0;n<e._gameInfo.resultCards.length;n++)e._gameInfo.resultCards[n]===e._cfg.ballId&&(a=e.GetSymbolByIdx(n+1),o=a.node.convertToWorldSpaceAR(cc.v2(0,0)),o=e.node.parent.convertToNodeSpaceAR(o),(c=cc.instantiate(cc.find("add1",e.node.parent))).parent=e.node.parent,c.position=o,c.scale=.5,c.active=!0,r=e.GetSymbolByIdx(3).node.convertToWorldSpaceAR(cc.v2(0,0)),r=e.node.parent.convertToNodeSpaceAR(r),i=cc.find("LMSlots_Bottom/free_time",e.node.parent).convertToWorldSpaceAR(cc.v2(0,0)),i=e.node.parent.convertToNodeSpaceAR(i),cc.vv.AudioManager.playEff("games/FatherOfInvention/","free_times",!0),cc.tween(c).to(.3,{scale:1,position:r}).delay(.5).to(.6,{position:i},{easing:"sineIn"}).call(function(){e._bottomScript.UpdateFreeTime(cc.vv.gameData.GetTotalFree(),cc.vv.gameData.GetTotalFree()-cc.vv.gameData.GetFreeTime())}).removeSelf().start());return t.next=6,cc.vv.gameData.awaitTime(1.5);case 6:s=0;case 7:if(!(s<e._gameInfo.addTowerInfo.games.length)){t.next=16;break}if(l=e._gameInfo.addTowerInfo.games[s],f=e._cfg.towerCfg[l],!(m=e.getBallSymbol())){t.next=13;break}return t.delegateYield(regeneratorRuntime.mark(function t(){var n,a,o,c,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return m.playTriggerAnimation(),t.next=3,cc.vv.gameData.awaitTime(.5);case 3:return(n=cc.instantiate(cc.find("bo_qiu",e.node.parent)).getComponent(sp.Skeleton)).node.active=!0,n.node.parent=e.node.parent,a=m.node.convertToWorldSpaceAR(cc.v2(0,0)),(a=e.node.parent.convertToNodeSpaceAR(a)).y+=40,n.node.position=a,n.setAnimation(0,f.ball_animation,!0),cc.vv.AudioManager.playEff("games/FatherOfInvention/","symbol_scatter_trans",!0),t.next=14,cc.vv.gameData.awaitTime(.5);case 14:return o=cc.find("collect_tower/tower_"+l,e.node),c=cc.find("bo_sd",o).getComponent(sp.Skeleton),r=c.node.convertToWorldSpaceAR(cc.v2(0,0)),r=e.node.parent.convertToNodeSpaceAR(r),cc.tween(n.node).to(.5,{position:r}).removeSelf().start(),t.next=21,cc.vv.gameData.awaitTime(.5);case 21:return c.node.active=!0,c.setAnimation(0,f.ball_animation,!1),c.setCompleteListener(function(){c.setCompleteListener(null),c.node.active=!1}),t.next=26,cc.vv.gameData.awaitTime(.1);case 26:return cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()?e.updateTower(l,e._gameInfo.freeTowerInfo):e.updateTower(l,e._gameInfo.towerInfo),t.next=29,cc.vv.gameData.awaitTime(.5);case 29:case"end":return t.stop()}},t)})(),"t0",13);case 13:s++,t.next=7;break;case 16:case"end":return t.stop()}},t)}))()},updateTower:function(e,t){var n=cc.find("collect_tower/tower_"+e+"/tower",this.node).getComponent(sp.Skeleton);switch(e){case s:n.setAnimation(0,"animation"+t.blueStatus,!0),3===t.blueStatus?cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_tower_active",!0):1!==t.blueStatus&&2!==t.blueStatus||cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_tower_part",!0);break;case l:n.setAnimation(0,"animation"+t.redStatus,!0),3===t.redStatus?cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_tower_active",!0):1!==t.redStatus&&2!==t.redStatus||cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_tower_part",!0);break;case f:n.setAnimation(0,"animation"+t.purpleStatus,!0),3===t.purpleStatus?cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_tower_active",!0):1!==t.purpleStatus&&2!==t.purpleStatus||cc.vv.AudioManager.playEff("games/FatherOfInvention/","feature_tower_part",!0)}},getBallSymbol:function(){for(var e=0;e<this._gameInfo.resultCards.length;e++)if(this._gameInfo.resultCards[e]===this._cfg.ballId)return this.GetSymbolByIdx(e+1);return null},ShowGameview:function(e){this._super(e),cc.find("collect_node",this.node).active=!e,cc.find("collect_tower",this.node).y=e?240:290,cc.find("reels/reel2/mask/free_bg",this.node).active=e,cc.find("reels/reel4/mask/free_bg",this.node).active=e},collectSymbol:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o,c,r,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime())){t.next=2;break}return t.abrupt("return");case 2:if(0!==e._gameInfo.collectInfo.progressData.currCnt){t.next=4;break}return t.abrupt("return");case 4:for(n=cc.find("collect_node/jinbi_jieshou_01",e.node),a=!1,o=0;o<e._gameInfo.resultCards.length;o++)e._gameInfo.resultCards[o]===e._cfg.collectSymbolId&&(c=e.GetSymbolByIdx(o+1))&&((r=cc.instantiate(cc.find("fly_spine",e.node.parent)).getComponent(sp.Skeleton)).node.active=!0,r.node.parent=e.node.parent,i=c.node.convertToWorldSpaceAR(cc.v2(0,0)),i=e.node.parent.convertToNodeSpaceAR(i),r.node.position=i,r.setAnimation(0,"animation2",!1),a=!0,s=n.convertToWorldSpaceAR(cc.v2(0,0)),s=e.node.parent.convertToNodeSpaceAR(s),cc.tween(r.node).delay(.2).to(.3,{position:s}).removeSelf().start());if(!a){t.next=14;break}return cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_fly",!0),cc.tween(n).delay(.5).call(function(){var e=n.getComponent(sp.Skeleton);e.setAnimation(0,"animation2",!1),e.addAnimation(0,"animation1",!0)}).start(),t.next=12,cc.vv.gameData.awaitTime(.5);case 12:return t.next=14,e.updateCollectProgress(e._gameInfo.collectInfo,!0);case 14:case"end":return t.stop()}},t)}))()},triggerFreeGame:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e._bottomScript.ShowBtnsByState("moveing_1"),n=0;n<e._gameInfo.resultCards.length;n++)e._gameInfo.resultCards[n]===e._cfg.scatterId&&e.GetSymbolByIdx(n+1).playWinAnimation();return cc.vv.AudioManager.playEff("games/FatherOfInvention/","bell",!0),t.next=5,cc.vv.gameData.awaitTime(2);case 5:return t.next=7,e.popFreeDialog();case 7:return e.cutSceneDoctor(),t.next=10,cc.vv.gameData.awaitTime(2.3);case 10:return e.Backup(),e.ShowGameview(!0),e.freeTowerInfo=e._gameInfo.freeTowerInfo,e.setTower(e.freeTowerInfo),t.next=16,cc.vv.gameData.awaitTime(2);case 16:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("free_bgm"),e.CanDoNextRound();case 19:case"end":return t.stop()}},t)}))()},cutSceneDoctor:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","transition1",!0),(n=cc.find("Canvas/safe_node/role")).getComponent(sp.Skeleton).setAnimation(0,"skill02",!1),t.next=5,cc.vv.gameData.awaitTime(1.3);case 5:return(a=cc.find("transition1",e.node.parent)).active=!0,a.getComponent(sp.Skeleton).setAnimation(0,"skill2",!1),a.getComponent(sp.Skeleton).setCompleteListener(function(){a.getComponent(sp.Skeleton).setCompleteListener(null),a.active=!1}),t.next=11,cc.vv.gameData.awaitTime(1);case 11:n.getComponent(sp.Skeleton).setAnimation(0,"idle",!0);case 12:case"end":return t.stop()}},t)}))()},triggerExitFreeGame:function(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=3,cc.vv.gameData.awaitTime(1);case 3:return t.next=5,e.popFreeResultDialog();case 5:return e.cutSceneDoctor(),t.next=8,cc.vv.gameData.awaitTime(2.3);case 8:e.Resume(),e.ShowGameview(!1),e.freeTowerInfo=null,e.setTower(e.towerInfo),e.ShowBottomWin(cc.vv.gameData.GetGameTotalFreeWin(),cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e.CanDoNextRound()});case 13:case"end":return t.stop()}},t)}))()},popFreeDialog:function(){var e=this;return new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n){var a,c,r,i,s,l,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=cc.find("free_dialog",e.node.parent)).active=!0,(c=cc.find("free_dialog_bg",a)).opacity=0,c.runAction(cc.fadeTo(.2,200)),(r=cc.find("common_enter_node",a)).active=!0,r.opacity=255,(i=cc.find("times",r)).scale=0,(s=cc.find("spine",r).getComponent(sp.Skeleton)).node.active=!0,cc.vv.AudioManager.playEff("games/FatherOfInvention/","free_dialog_start_show",!0),s.setAnimation(0,"animation1",!1),s.addAnimation(0,"animation2",!0),i.getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),cc.tween(i).to(.8,{scale:1},{easing:"backOut"}).start(),(l=cc.find("btn_start",r)).scale=0,t.next=21,cc.vv.gameData.awaitTime(.3);case 21:return cc.tween(l).to(.2,{scale:1}).start(),t.next=24,cc.vv.gameData.awaitTime(.2);case 24:l.off("click"),f=function(){var e=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.off("click"),cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),cc.tween(r).to(.2,{opacity:0}).start(),cc.tween(c).to(.2,{opacity:0}).start(),e.next=6,cc.vv.gameData.awaitTime(.3);case 6:r.active=!1,a.active=!1,s.node.active=!1,n();case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(l,f),l.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.stopAllActions(),e.next=3,f();case 3:case"end":return e.stop()}},e)})));case 28:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},popFreeResultDialog:function(){var e=this;return new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n){var a,c,r,i,s,l,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","free_dialog_collect_show",!0),(a=cc.find("free_dialog",e.node.parent)).active=!0,(c=cc.find("free_dialog_bg",a)).opacity=0,c.runAction(cc.fadeTo(.2,200)),(r=cc.find("result_node",a)).opacity=255,r.active=!0,(i=cc.find("spine",r).getComponent(sp.Skeleton)).node.active=!0,(s=cc.find("coin_bg",r)).scale=0,(l=cc.find("coin",r)).scale=0,l.getComponent(cc.Label).string="",i.setAnimation(0,"animation1",!1),i.addAnimation(0,"animation2",!0),(f=cc.find("btn_collect",r)).scale=0,t.next=22,cc.vv.gameData.awaitTime(.3);case 22:return Global.doRoallNumEff(l,0,cc.vv.gameData.GetGameTotalFreeWin(),3,null,null,0,!0),cc.tween(l).to(.2,{scale:1}).start(),cc.tween(s).to(.2,{scale:1}).start(),t.next=27,cc.vv.gameData.awaitTime(.2);case 27:return cc.tween(f).to(.2,{scale:1}).start(),f.off("click"),t.next=31,cc.vv.gameData.awaitTime(.2);case 31:m=function(){var e=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.off("click"),cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),cc.tween(r).to(.2,{opacity:0}).start(),cc.tween(c).to(.2,{opacity:0}).start(),e.next=6,cc.vv.gameData.awaitTime(.3);case 6:r.active=!1,a.active=!1,i.node.active=!1,n();case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(f,m),f.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.stopAllActions(),e.next=3,m();case 3:case"end":return e.stop()}},e)})));case 34:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},popJackpotDialog:function(e){var t=this;return new Promise(function(){var n=o(regeneratorRuntime.mark(function n(a){var c,r,i,s,l,f,m,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","jp_tower",!0),(c=cc.find("free_dialog",t.node.parent)).active=!0,(r=cc.find("free_dialog_bg",c)).opacity=0,r.runAction(cc.fadeTo(.2,200)),(i=cc.find("jackpot_node",c)).active=!0,i.opacity=255,(s=cc.find("spine",i).getComponent(sp.Skeleton)).node.active=!0,(l=cc.find("coin_bg",i)).scale=0,(f=cc.find("coin",l)).getComponent(cc.Label).string="",cc.vv.AudioManager.playEff("games/FatherOfInvention/",t._cfg.towerCfg[e].jackpotSound,!0),s.setAnimation(0,"animation"+t._cfg.towerCfg[e].jackpotDialogAnimationIndex,!1),s.addAnimation(0,"animation"+t._cfg.towerCfg[e].jackpotDialogAnimationIndex+"_1",!0),(m=cc.find("btn_collect",i)).scale=0,n.next=22,cc.vv.gameData.awaitTime(.3);case 22:return Global.doRoallNumEff(f,0,cc.vv.gameData.GetGameTotalFreeWin(),3,null,null,0,!0),cc.tween(l).to(.2,{scale:1}).start(),n.next=26,cc.vv.gameData.awaitTime(.2);case 26:return cc.tween(m).to(.2,{scale:1}).start(),m.off("click"),n.next=30,cc.vv.gameData.awaitTime(.2);case 30:u=function(){var e=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.off("click"),cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),cc.tween(i).to(.2,{opacity:0}).start(),cc.tween(r).to(.2,{opacity:0}).start(),e.next=6,cc.vv.gameData.awaitTime(.3);case 6:i.active=!1,c.active=!1,a();case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(m,u),m.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.stopAllActions(),e.next=3,u();case 3:case"end":return e.stop()}},e)})));case 33:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())},updateCollectProgress:function(e,t){var n=this;return o(regeneratorRuntime.mark(function a(){var o,c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:o=cc.find("collect_node/progress",n.node),c=cc.find("bar",o),t?cc.tween(c).to(.3,{x:o.width*Math.min(1,e.progressData.totalCnt/e.progressData.needCnt)}).start():c.x=o.width*Math.min(1,e.progressData.totalCnt/e.progressData.needCnt);case 3:case"end":return a.stop()}},a)}))()},clearCollectProgress:function(){var e=cc.find("collect_node/progress",this.node);cc.find("bar",e).x=0}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],FatherOfInvention_SuperSlots:[function(e,t,n){"use strict";function a(e,t,n,a,o,c,r){try{var i=e[c](r),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,c){var r=e.apply(t,n);function i(e){a(r,o,c,i,s,"next",e)}function s(e){a(r,o,c,i,s,"throw",e)}i(void 0)})}}cc._RF.push(t,"f058antdjRNgZNaehVldnII","FatherOfInvention_SuperSlots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_haveSpinEnd:!1},Init:function(){this._super()},setSlots:function(e){for(var t=cc.vv.gameData.GetAtlasByName("base"),n=0;n<4;n++){var a=cc.find("bg/bg_"+(n+1),this.node),o=e.slots[n],c=e.activeCard===o.card;cc.find("bg4",a).getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(c?"theme178_free2_bg4":"theme178_free_bg4"),cc.find("bg3",a).getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(c?"theme178_free2_bg3":"theme178_free_bg3"),cc.find("ear_bg",a).getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(c?"theme178_free2_reel_11":"theme178_free2_reel_10"),cc.find("bg2",a).getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(c?"theme178_free2_bg2":"theme178_free_bg2"),cc.find("your_monster",a).active=c,cc.find("coin_bg/coin",a).getComponent(cc.Label).string=o.collectCnt,cc.find("win_bg/rate_bg",a).getComponent(cc.Sprite).spriteFrame=t.getSpriteFrame(c?"theme178_free2_bg0":"theme178_free_bg0"),cc.find("win_bg/rate_bg/rate",a).getComponent(cc.Label).string=o.mult,cc.find("win_bg/coin",a).getComponent(cc.Label).string=Global.formatMoney(o.totalWinCoin),cc.find("symbol",a).color=c?cc.Color.WHITE:cc.Color.GRAY}},createReels:function(e,t){this._reels=[];for(var n=this._cfg.scripts.Reels,a=0;a<4;a++){for(var o=[],c=0;c<e;c++){var r=cc.find("reels_"+(a+1)+"/reel"+(c+1),this.node).addComponent(n);r.Init(c,t,cc.find("reels_"+(a+1)+"/top_ani",this.node)),o.push(r)}this._reels.push(o)}},StartMove:function(){this._super(),this._haveSpinEnd=!1,Global.SlotsSoundMgr.playNormalBgm()},OnReelBounsActionBefore:function(e){},MoveReels:function(e){this.moveReelLastIdx=-1;for(var t=0;t<e.length;t++)for(var n=e[t],a=0;a<n.length;a++){var o=n[a];o.StartMove();var c=o.GetReelIdx();c>this.moveReelLastIdx&&(this.moveReelLastIdx=c)}},StopMove:function(){this._bStopRightnow=!0,this._bottomScript.ShowBtnsByState("moveing_1"),this._stopTime=-1;for(var e=0;e<this._reels.length;e++)for(var t=this._reels[e],n=0;n<t.length;n++){var a=t[n];a.StopMove(0),a.StopMoveRightNow()}},ReconnectShow:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=cc.vv.gameData.getDeskInfo(),cc.vv.gameData.GetFreeTime()&&(e.ShowGameview(!0),3===n.collectInfo.state&&(e.setSlots(n.collectFreeGame),e.CanDoNextRound()));case 3:case"end":return t.stop()}},t)}))()},onMsgSpine:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t._gameInfo=e,a=e.collectFreeGame.slots,t.SetSlotsResult(a);case 3:case"end":return n.stop()}},n)}))()},SetSlotsResult:function(e){for(var t=0;t<4;t++){for(var n=e[t].resultCards,a=n.length/this._col,o=[],c=0;c<n.length;c++){Math.floor(c/a);var r=c%this._col;if(this._cfg.symbol[n[c]]){var i={};i.sid=n[c],o[r]||(o[r]=[]),o[r].unshift(i)}}for(var s=this._reels[t],l=0;l<s.length;l++){var f=s[l],m=o[l];f.SetResult(m)}}},ShowWinTrace:function(){for(var e=0;e<4;e++){for(var t=this._gameInfo.collectFreeGame.slots[e].zjLuXian,n=[],a=0;a<t.length;a++)for(var o=t[a],c=0;c<o.indexs.length;c++)n[o.indexs[c]]=1;for(var r in n){var i=this.GetSymbolByIdx(Number(r),e);i&&(i.playWinAnimation(),i.ShowKuang())}}},GetSymbolByIdx:function(e,t){var n=(e-1)%this._col,a=this._row-Math.floor((e-1)/this._col)-1;return this._reels[t][n].GetSymbolByRow(a)},OnSpinEnd:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._haveSpinEnd){t.next=2;break}return t.abrupt("return");case 2:return e._haveSpinEnd=!0,t.next=5,e.collectCoin();case 5:for(e.ShowWinTrace(),n=0;n<4;n++)a=e._gameInfo.collectFreeGame.slots[n].winCoin,o=e._gameInfo.collectFreeGame.slots[n].totalWinCoin,Global.doRoallNumEff(cc.find("bg/bg_"+(n+1)+"/win_bg/coin",e.node),o-a,o,2,null,null,0,!0,!1);return t.next=9,cc.vv.gameData.awaitTime(2.5);case 9:if(!e._gameInfo.collectFreeGame.isEnd){t.next=24;break}return t.next=12,e.popFreeResultDialog();case 12:return e._haveSpinEnd=!1,e.cutScene(),t.next=16,cc.vv.gameData.awaitTime(2);case 16:return cc.find("slots",e.node.parent).active=!0,e.node.active=!1,cc.vv.gameData.SetSlotsScript(cc.find("slots",e.node.parent).getComponent("FatherOfInvention_Slots")),t.next=21,cc.vv.gameData.awaitTime(1);case 21:cc.find("slots",e.node.parent).getComponent("FatherOfInvention_Slots").ShowBottomWin(e._gameInfo.collectFreeGame.winCoin,e._gameInfo.collectFreeGame.winCoin,!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e._bottomScript.SetBetNodeVisible(!0),cc.find("slots",e.node.parent).getComponent("FatherOfInvention_Slots").ShowGameview(!1),cc.find("slots",e.node.parent).getComponent("FatherOfInvention_Slots").CanDoNextRound()}),t.next=25;break;case 24:e.CanDoNextRound();case 25:case"end":return t.stop()}},t)}))()},cutScene:function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","transition2",!0);var e=cc.find("transition2",this.node.parent);e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){e.getComponent(sp.Skeleton).setCompleteListener(null),e.active=!1})},popFreeResultDialog:function(){var e=this;return new Promise(function(){var t=o(regeneratorRuntime.mark(function t(n){var a,c,r,i,s,l,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","free_dialog_collect_show",!0),(a=cc.find("free_dialog",e.node.parent)).active=!0,(c=cc.find("free_dialog_bg",a)).opacity=0,c.runAction(cc.fadeTo(.2,200)),(r=cc.find("result_node",a)).opacity=255,r.active=!0,(i=cc.find("spine",r).getComponent(sp.Skeleton)).node.active=!0,(s=cc.find("coin_bg",r)).scale=0,(l=cc.find("coin",r)).scale=0,l.getComponent(cc.Label).string="",i.setAnimation(0,"animation1",!1),i.addAnimation(0,"animation2",!0),(f=cc.find("btn_collect",r)).scale=0,t.next=22,cc.vv.gameData.awaitTime(.3);case 22:return Global.doRoallNumEff(l,0,e._gameInfo.collectFreeGame.winCoin,3,null,null,0,!0),cc.tween(l).to(.2,{scale:1}).start(),cc.tween(s).to(.2,{scale:1}).start(),t.next=27,cc.vv.gameData.awaitTime(.2);case 27:return cc.tween(f).to(.2,{scale:1}).start(),f.off("click"),t.next=31,cc.vv.gameData.awaitTime(.2);case 31:m=function(){var e=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.off("click"),cc.vv.AudioManager.playEff("games/FatherOfInvention/","btn_click",!0),cc.tween(r).to(.2,{opacity:0}).start(),cc.tween(c).to(.2,{opacity:0}).start(),e.next=6,cc.vv.gameData.awaitTime(.3);case 6:r.active=!1,a.active=!1,i.node.active=!1,n();case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(f,m),f.on("click",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.stopAllActions(),e.next=3,m();case 3:case"end":return e.stop()}},e)})));case 34:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},collectCoin:function(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,a,o,c,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e._gameInfo.collectFreeGame.slots,a=0;case 2:if(!(a<n.length)){t.next=21;break}o=n[a].currCollectIdxs,c=n[a].collectCnt-n[a].currCollectIdxs.length,r=0;case 6:if(!(r<o.length)){t.next=18;break}if(!(i=e.GetSymbolByIdx(o[r],a))){t.next=15;break}return i.playStopAnimation(),cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_count",!0),c++,cc.find("bg/bg_"+(a+1)+"/coin_bg/coin",e.node).getComponent(cc.Label).string=c,t.next=15,cc.vv.gameData.awaitTime(.5);case 15:r++,t.next=6;break;case 18:a++,t.next=2;break;case 21:case"end":return t.stop()}},t)}))()},update:function(e){if(this._stopTime>0&&(this._stopTime=this._stopTime-e,this._stopTime<=0))if(this.CanStopSlot()){this._bottomScript.ShowBtnsByState("moveing_2");for(var t=0;t<this._reels.length;t++)for(var n=this._reels[t],a=0;a<n.length;a++){var o=n[a],c=this.GetReelStopInter(a);o.StopMove(c)}}else this._stopTime=e,this._roundSpineTime=this._roundSpineTime||0,this._roundSpineTime+=e,this._roundSpineTime>30&&this._topScript.SetBackLobby(!0)},ShowGameview:function(e){if(e){if(3===cc.vv.gameData.getDeskInfo().collectInfo.state){var t=cc.vv.gameData.GetTotalFree(),n=cc.vv.gameData.GetFreeTime();this._bottomScript.ShowFreeModel(!0,t-n,t);var a=cc.vv.gameData.GetTotalFreeWin();this._bottomScript.SetWin(a),this._bottomScript.SetBetNodeVisible(!1)}}else this._bottomScript.SetBetNodeVisible(!0),this._bottomScript.ShowFreeModel(!1)}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],FatherOfInvention_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"e930e+3QiFCV6h7R22+ovKO","FatherOfInvention_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},Init:function(e,t){this._super(e,t)},ShowRandomSymbol:function(){this._super(),this._id===cc.vv.gameData.getGameCfg().ballId&&(this.node.zIndex=400,cc.vv.AudioManager.playEff("games/FatherOfInvention/","symbol_bonus_slip",!0))},StopMoveBefore:function(){},StartMove:function(){this._super();var e=cc.vv.gameData.getGameCfg();this._id===e.scatterId&&(this.node.zIndex=500),this._id===e.ballId&&(this.node.zIndex=400)},SetSymbolIdx:function(e){this._super(e);var t=cc.vv.gameData.getGameCfg();this._id===t.scatterId&&(this.node.zIndex=500),this._id===t.ballId&&(this.node.zIndex=400)}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}],FatherOfInvention_Wheel:[function(e,t,n){"use strict";function a(e,t,n,a,o,c,r){try{var i=e[c](r),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,c){var r=e.apply(t,n);function i(e){a(r,o,c,i,s,"next",e)}function s(e){a(r,o,c,i,s,"throw",e)}i(void 0)})}}cc._RF.push(t,"4abdf42dB9HR6g0z31hZtUk","FatherOfInvention_Wheel"),cc.Class({extends:cc.Component,properties:{wheel:cc.Node,spine_zhuanpan:sp.Skeleton,spine_chilun:sp.Skeleton,spine_huoxing:sp.Skeleton,spine_zhongjiang:sp.Skeleton,free_times:cc.Label,touch_spin:cc.Node,average_bet:cc.Label,_successCallback:null},startWheel:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a,o,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(t.node.y=cc.winSize.height,t.node.active=!0,cc.tween(t.node).to(.5,{y:0}).start(),t.wheel.angle=0,t.spine_zhuanpan.node.active=!0,t.spine_chilun.node.active=!0,t.spine_chilun.node.color=cc.Color.WHITE,t.spine_chilun.setAnimation(0,"animation",!0),t.spine_huoxing.node.active=!1,t.spine_zhongjiang.node.active=!1,t.touch_spin.off(cc.Node.EventType.TOUCH_END),a=function(){t.touch_spin.off(cc.Node.EventType.TOUCH_END),cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_roulette_spin",!0);var e={c:MsgId.SLOT_SUBGAME_DATA};e.uid=Global.playerData.uid,e.gameid=cc.vv.gameData._gameId,e.data={},e.data.rtype=3,cc.vv.NetManager.send(e)},cc.vv.gameData.checkAutoPlay(t.touch_spin,a),t.touch_spin.on(cc.Node.EventType.TOUCH_END,function(){t.touch_spin.stopAllActions(),a()}),t.free_times.string=e.currFreeCnt,t.average_bet.string=Global.formatNumShort(e.startPrice,0),o=0;o<e.monsterInfo.length;o++)c=e.monsterInfo[o],cc.find("multiplier_"+(o+1),t.wheel).getComponent(cc.Label).string="X"+c.currmult;case 17:case"end":return n.stop()}},n)}))()},onRcvSubgameData:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return cc.vv.gameData.getDeskInfo().collectInfo=e.data.collectInfo,t.spine_zhuanpan.node.active=!1,t.spine_chilun.setAnimation(0,"animation2",!0),t.spine_chilun.node.color=cc.Color.GRAY,t.spine_huoxing.node.active=!0,a=[6,5,8,7],n.next=8,t._rotateWheel(a.indexOf(e.data.collectFreeGame.activeCard));case 8:return cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_roulette_stop",!0),t.spine_zhongjiang.node.active=!0,n.next=12,cc.vv.gameData.awaitTime(2);case 12:return t.cutScene(),n.next=15,cc.vv.gameData.awaitTime(2);case 15:return t.node.active=!1,cc.find("slots",t.node.parent).active=!1,cc.find("super_slots",t.node.parent).active=!0,cc.vv.gameData.SetSlotsScript(cc.find("super_slots",t.node.parent).getComponent("FatherOfInvention_SuperSlots")),cc.find("super_slots",t.node.parent).getComponent("FatherOfInvention_SuperSlots").setSlots(e.data.collectFreeGame),Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("mapfree_bgm"),cc.vv.gameData.SetTotalFree(e.data.collectFreeGame.freeCnt),cc.vv.gameData.SetFreeTime(e.data.collectFreeGame.freeCnt),n.next=26,cc.vv.gameData.awaitTime(2);case 26:cc.vv.gameData.GetSlotsScript().CanDoNextRound();case 27:case"end":return n.stop()}},n)}))()},cutScene:function(){cc.vv.AudioManager.playEff("games/FatherOfInvention/","transition2",!0);var e=cc.find("transition2",this.node.parent);e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){e.getComponent(sp.Skeleton).setCompleteListener(null),e.active=!1})},_rotateWheel:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n){var a=90*e-2160;cc.log(a),cc.vv.AudioManager.playEff("games/FatherOfInvention/","collect_roulette_start",!0);var o=cc.rotateBy(6,a).easing(cc.easeSineInOut());t.wheel.runAction(cc.sequence(o,cc.callFunc(function(){n()})))}));case 1:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{}]},{},["FatherOfInvention_Cfg","FatherOfInvention_Logic","FatherOfInvention_Map","FatherOfInvention_Reel","FatherOfInvention_Slots","FatherOfInvention_SuperSlots","FatherOfInvention_Symbol","FatherOfInvention_Wheel"]);