window.__require=function e(t,n,o){function a(c,r){if(!n[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=n[c]={exports:{}};t[c][0].call(u.exports,function(e){return a(t[c][1][e]||e)},u,u.exports,e,t,n,o)}return n[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<o.length;c++)a(o[c]);return a}({Prometheus_BonusGame:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,c){try{var r=e[i](c),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var c=e.apply(t,n);function r(e){o(c,a,i,r,s,"next",e)}function s(e){o(c,a,i,r,s,"throw",e)}r(void 0)})}}function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,i=!0,r=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){r=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(r)throw a}}}}function c(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"8da18kMNexGE4JpnM91Xv8O","Prometheus_BonusGame");var s=e("./Prometheus_Tools");cc.Class({extends:cc.Component,properties:{_spinePick:cc.Node,_freeGameEnd:cc.Node,_chooseNode:cc.Node,_bonusGame:null,_isShowJpNode:!1},onLoad:function(){},start:function(){},onEnable:function(){cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,this)},onDisable:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,!1,this)},Init:function(){var e=this,t=this;cc.vv.gameData;this._spinePick=cc.find("spinePick",this.node),this._bonusGameEnd=cc.find("bonusGameEnd",this.node),this._chooseNode=cc.find("chooseNode",this.node),this._jpWin=cc.find("jpWin",this._chooseNode),this._jpWin.active=!1;var n=cc.find("startBtn",this._spinePick);Global.btnClickEvent(n,function(){n.stopAllActions(),Global.SlotsSoundMgr.playEffect("botton"),s.nodeAni(e._spinePick,3,function(){var n=cc.find("pig3",e.node);n.active=!0,n.getComponent(sp.Skeleton).setAnimation(0,"Tpig_luoxia_tiao",!1),n.getComponent(sp.Skeleton).addAnimation(0,"JinBiZaZhu",!1),Global.SlotsSoundMgr.playEffect("5pigUp"),n.getComponent(sp.Skeleton).setCompleteListener(function(n,o){var a=n.animation?n.animation.name:"";if(Global.SlotsSoundMgr.playEffect("GpigJump"),"JinBiZaZhu"===a){t.updateUi(),cc.vv.gameData.GetSlotsScript().showJpNode(!1),t._chooseNode.active=!0;for(var i=1;i<6;i++){var c=cc.find("pig1_"+i,e._chooseNode);c.scale=0,cc.tween(c).to(.3,{scale:1}).start()}e.numAni(),Global.SlotsSoundMgr.playBgm("bgbgm")}})})},this);var o=cc.find("startBtn",this._bonusGameEnd);Global.btnClickEvent(o,function(){o.stopAllActions(),Global.SlotsSoundMgr.playEffect("collect"),s.nodeAni(e._bonusGameEnd,3,function(){t.node.active=!1,cc.vv.gameData.GetSlotsScript().showJpNode(!0),cc.vv.gameData.GetSlotsScript().exitBonusGame(e._allBonusGameWin)})},this);var a=cc.find("startBtn",this._jpWin);Global.btnClickEvent(a,function(){a.stopAllActions(),Global.SlotsSoundMgr.playEffect("collect"),s.nodeAni(e._jpWin,3,function(){t._isShowJpNode=!1,0===t._bonusGame.restCnt&&cc.tween(cc.vv.gameData.GetSlotsNode()).delay(2).call(function(){t.closeBonusGame()}).start()})},this)},updateUi:function(){var e,t=i(this.node.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;"bg"!=n.name&&(n.active=!1)}}catch(e){t.e(e)}finally{t.f()}},updateChooseNodeUi:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e,cc.find("bgCountBoard/num",e._chooseNode).getComponent("ImgSwitchCmp").setIndex(0),cc.find("jackNode/Grand/prizePool_Grand/lbl_num",e._chooseNode).getComponent(cc.Label).string=Global.FormatNumToComma(e._bonusGame.jackpotValues[4]),cc.find("jackNode/Maxi/prizePool_Maxi/lbl_num",e._chooseNode).getComponent(cc.Label).string=Global.FormatNumToComma(e._bonusGame.jackpotValues[3]),cc.find("jackNode/Major/prizePool_Major/lbl_num",e._chooseNode).getComponent(cc.Label).string=Global.FormatNumToComma(e._bonusGame.jackpotValues[2]),cc.find("jackNode/Minor/prizePool_Minor/lbl_num",e._chooseNode).getComponent(cc.Label).string=Global.FormatNumToComma(e._bonusGame.jackpotValues[1]),cc.find("jackNode/Mini/prizePool_Mini/lbl_num",e._chooseNode).getComponent(cc.Label).string=Global.FormatNumToComma(e._bonusGame.jackpotValues[0]),o=function(t){var o=cc.find("pig1_"+t,e._chooseNode),a=cc.find("spine",o).getComponent(sp.Skeleton);if(o.isOpen=e._bonusGame.items[t-1].isOpen,o.index=t,cc.find("jpNode",o).active=!1,cc.find("coinNum",o).active=!1,e._bonusGame.items[t-1].coin)o.type="coin",o.coinNum=e._bonusGame.items[t-1].coin,cc.find("coinNum",o).getComponent(cc.Label).string=Global.formatNumShort(e._bonusGame.items[t-1].coin),e._bonusGame.items[t-1].coin>=5*cc.vv.gameData.GetTotalBet()?cc.find("coinNum",o).getComponent(cc.Label).font=cc.vv.gameData.GetFontByName("coinNum"):cc.find("coinNum",o).getComponent(cc.Label).font=cc.vv.gameData.GetFontByName("coinNumP");else{o.type="jp";var c,r=i(cc.find("jpNode",o).children);try{for(r.s();!(c=r.n()).done;){c.value.active=!1}}catch(e){r.e(e)}finally{r.f()}o.coinNum=e._bonusGame.items[t-1].jackpot.value,o.jpId=e._bonusGame.items[t-1].jackpot.id,cc.find("jpNode/"+e._bonusGame.items[t-1].jackpot.id,o).active=!0}e._bonusGame.items[t-1].isOpen?(a.setAnimation(0,"Pig_boom",!1),e._bonusGame.items[t-1].coin?cc.find("coinNum",o).active=!0:cc.find("jpNode",o).active=!0):a.setAnimation(0,"Pig_loop",!1),o.off("click"),Global.btnClickEvent(o,function(){n.clickItemfunc(o)},e)},a=1;a<6;a++)o(a);case 10:case"end":return t.stop()}},t)}))()},setAutoPlay:function(){for(var e=[],t=1;t<6;t++){var n=cc.find("pig1_"+t,this._chooseNode);!n.isOpen&&this._bonusGame.restCnt>0&&e.push(n)}if(e.length>0){var o=Global.random(0,e.length-1),a=this;cc.vv.gameData.checkAutoPlay(e[o],function(){a.clickItemfunc(e[o])})}},clickItemfunc:function(e){for(var t=this,n=1;n<6;n++){cc.find("pig1_"+n,this._chooseNode).stopAllActions()}var o=this;if(!e.isOpen&&this._bonusGame.restCnt>0){o.changePigBtn(!1),"coin"==e.type?this._isShowJpNode=!1:this._isShowJpNode=!0,e.isOpen=!0,Global.SlotsSoundMgr.playEffect("pickGpig"),this._bonusGame.restCnt-=1,cc.find("spine",e).getComponent(sp.Skeleton).setAnimation(0,"Pig_boom",!1),cc.tween(e).delay(.8).call(function(){"coin"==e.type?cc.find("coinNum",e).active=!0:cc.find("jpNode",e).active=!0}).delay(1).call(function(){if(1==cc.find("jpNode",e).active){s.nodeAni(o._jpWin,1),cc.find("WinFrame/totalWinNum",o._jpWin).getComponent(cc.Label).string=Global.FormatNumToComma(e.coinNum);Global.SlotsSoundMgr.playEffect(["VO_MiniJP_EN","VO_MinorJP_EN","VO_MajorJP_EN","VO_MaxiJP_EN","VO_GrandJP_EN"][e.jpId-1]),cc.find("jpSpine",o._jpWin).getComponent(sp.Skeleton).setAnimation(0,["mini","minor","mijor","maxi","grand"][e.jpId-1],!0);var n=cc.find("startBtn",t._jpWin);cc.vv.gameData.checkAutoPlay(n,function(){Global.SlotsSoundMgr.playEffect("collect"),s.nodeAni(t._jpWin,3,function(){o._isShowJpNode=!1,0===o._bonusGame.restCnt&&cc.tween(cc.vv.gameData.GetSlotsNode()).delay(2).call(function(){o.closeBonusGame()}).start()})})}o.changePigBtn(!0),o.setAutoPlay()}).start();var a={c:MsgId.SLOT_SUBGAME_DATA};a.gameid=cc.vv.gameData.getGameId(),a.data={},a.data.rtype=1,a.data.choiceId=e.index,cc.vv.NetManager.send(a,!0);var i=cc.vv.gameData.GetBottomScript().getCurrentWin(),c=e.coinNum;cc.vv.gameData.AddCoin(c),cc.vv.gameData.GetBottomScript().ShowWin(c+i,3,i,null,.3),cc.vv.gameData.GetTopScript().ShowCoin()}},openBonusGame:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Global.SlotsSoundMgr.stopBgm(),t.changePigBtn(!1),t._bonusGame=e,t.updateUi(),t.node.active=!0,t._spinePick.active=!0,cc.find("spine1",t._spinePick).getComponent(sp.Skeleton).setAnimation(0,"logo",!0),s.nodeAni(t._spinePick,1),Global.SlotsSoundMgr.playEffect("bgbegin"),t.updateChooseNodeUi(),o=cc.find("startBtn",t._spinePick),a=function(){Global.SlotsSoundMgr.playEffect("botton"),s.nodeAni(t._spinePick,3,function(){var e=cc.find("pig3",t.node);e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,"Tpig_luoxia_tiao",!1),e.getComponent(sp.Skeleton).addAnimation(0,"JinBiZaZhu",!1),Global.SlotsSoundMgr.playEffect("5pigUp"),e.getComponent(sp.Skeleton).setCompleteListener(function(e,n){var o=e.animation?e.animation.name:"";if(Global.SlotsSoundMgr.playEffect("GpigJump"),"JinBiZaZhu"===o){t.updateUi(),cc.vv.gameData.GetSlotsScript().showJpNode(!1),t._chooseNode.active=!0;for(var a=1;a<6;a++){var i=cc.find("pig1_"+a,t._chooseNode);i.scale=0,cc.tween(i).to(.3,{scale:1}).start()}t.numAni(),Global.SlotsSoundMgr.playBgm("bgbgm")}})})},cc.vv.gameData.checkAutoPlay(o,a);case 13:case"end":return n.stop()}},n)}))()},closeBonusGame:function(){var e=this;Global.SlotsSoundMgr.stopBgm(),this._chooseNode.active=!1,Global.SlotsSoundMgr.playEffect("bgend"),s.nodeAni(this._bonusGameEnd,1);var t,n=cc.find("WinFrame/totalWinNum",this._bonusGameEnd),o=cc.find("num1",this._bonusGameEnd),a=cc.find("num2",this._bonusGameEnd),c=0,r=0,l=i(this._bonusGame.items);try{for(l.s();!(t=l.n()).done;){var u=t.value;u.coin?u.isOpen&&(c+=u.coin):u.isOpen&&(r+=u.jackpot.value)}}catch(e){l.e(e)}finally{l.f()}n.getComponent(cc.Label).string=Global.FormatNumToComma(c+r),o.getComponent(cc.Label).string=Global.FormatNumToComma(c),a.getComponent(cc.Label).string=Global.FormatNumToComma(r),this._allBonusGameWin=c+r;var f=cc.find("startBtn",this._bonusGameEnd);cc.vv.gameData.checkAutoPlay(f,function(){Global.SlotsSoundMgr.playEffect("collect"),s.nodeAni(e._bonusGameEnd,3,function(){e.node.active=!1,cc.vv.gameData.GetSlotsScript().showJpNode(!0),cc.vv.gameData.GetSlotsScript().exitBonusGame(e._allBonusGameWin)})})},onRcvSubGameAction:function(e){if(200==e.code){var t=e.data,n=this;this._bonusGame=t.bonusGame;var o=cc.find("bgCountBoard/num",this._chooseNode);cc.find("bgCountBoard/spine",this._chooseNode).getComponent(sp.Skeleton).setAnimation(0,"BG_PicksLeft",!1),o.getComponent("ImgSwitchCmp").setIndex(this._bonusGame.restCnt),Global.SlotsSoundMgr.playEffect("pickLeft"),0!==n._bonusGame.restCnt||this._isShowJpNode||cc.tween(cc.vv.gameData.GetSlotsNode()).delay(2).call(function(){n.closeBonusGame()}).start()}},changePigBtn:function(e){for(var t=1;t<6;t++){cc.find("pig1_"+t,this._chooseNode).getComponent(cc.Button).interactable=e}},numAni:function(){var e=this,t=this,n=cc.find("bgCountBoard/num",this._chooseNode);n.getComponent("ImgSwitchCmp").setIndex(0);for(var o=function(o){cc.tween(n).delay(.7*o).call(function(){n.getComponent("ImgSwitchCmp").setIndex(o),cc.find("bgCountBoard/spine",e._chooseNode).getComponent(sp.Skeleton).setAnimation(0,"BG_PicksLeft",!1),Global.SlotsSoundMgr.playEffect("pickLeft"),e._bonusGame.restCnt===o&&(t.changePigBtn(!0),t.setAutoPlay())}).start()},a=1;a<=this._bonusGame.restCnt;a++)o(a)},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{"./Prometheus_Tools":"Prometheus_Tools"}],Prometheus_ButtonSafe:[function(e,t,n){"use strict";cc._RF.push(t,"54bbdABbXJJKJez+kfVbPsc","Prometheus_ButtonSafe"),cc.Class({extends:cc.Component,properties:{safeTime:{default:.5,tooltip:"\u6309\u94ae\u4fdd\u62a4\u65f6\u95f4\uff0c\u6307\u5b9a\u95f4\u9694\u5185\u53ea\u80fd\u70b9\u51fb\u4e00\u6b21."}},onLoad:function(){var e=this.getComponent(cc.Button);e&&(this.clickEvents=e.clickEvents,Global.btnClickEvent(this.node,function(e){e.interactable=!1,cc.vv.gameData.GetSlotsScript().scheduleOnce(function(){e.interactable=!0},this.safeTime)},this))}}),cc._RF.pop()},{}],Prometheus_Cfg:[function(e,t,n){"use strict";var o;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"6bf97toexJJCZi//JdbdFAa","Prometheus_Cfg");var i={symbol:(o={},a(o,1,{node:"s1",win_node:"w1",win_ani:{name:"Wild",zIndex:300}}),a(o,2,{node:"s2",win_node:"w2",trigger_ani:{name:"Scatter_02",zIndex:300},stop_ani:{name:"Scatter_01",zIndex:300},win_ani:{name:"Scatter_02",zIndex:300}}),a(o,3,{node:"s3",win_node:"w3",stop_ani:{name:"collect",zIndex:299}}),a(o,301,{node:"s301",win_node:"w301",stop_ani:{name:"collect",zIndex:300}}),a(o,4,{node:"s4",win_node:"w4",win_ani:{name:"H1",zIndex:300}}),a(o,5,{node:"s5",win_node:"w5",win_ani:{name:"H2",zIndex:300}}),a(o,6,{node:"s6",win_node:"w6",win_ani:{name:"H3",zIndex:300}}),a(o,7,{node:"s7",win_node:"w7",win_ani:{name:"H4",zIndex:300}}),a(o,8,{node:"s8",win_node:"w8",win_ani:{name:"H5",H2:300}}),a(o,9,{node:"s9",win_node:"w9",win_ani:{name:"H6",H3:300}}),a(o,10,{node:"s10",win_node:"w10",win_ani:{name:"a",zIndex:300}}),a(o,11,{node:"s11",win_node:"w11",win_ani:{name:"j",zIndex:300}}),a(o,12,{node:"s12",win_node:"w12",win_ani:{name:"k",zIndex:300}}),a(o,13,{node:"s13",win_node:"w13",win_ani:{name:"q",zIndex:300}}),o),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"Prometheus_Slots",Reels:"Prometheus_Reel",Symbols:"Prometheus_Symbol"},col:5,row:3,realRow:3,symbolPrefab:"LMSlots_Symbol",symbolSize:{width:125,height:125},helpItems:["games/Prometheus/prefab/LMSlots_Help_item1","games/Prometheus/prefab/LMSlots_Help_item2"],autoModelDelay:1,randomSymbols:[4,5,6,7,8,9,10,11,12,13],kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,bounce:!0,bounceInfo:{distance:30,time:.1},commEffect:{path:"games/Prometheus/",win1:["win_a","win_end"],win2:["win_b","win_end"]},normalBgm:"ngbgm",AddAntiTime:2.4,reelStateInfo:[{id:[2],mini:3,counts:[0,8,8,8,0],antiNode:"node_anti",path:"games/Prometheus/",reelStopSound:"reelstop",symbolStopSound:"reelsctr",antSound:"reelfast",antSpeed:2e3}]};t.exports=i,cc._RF.pop()},{}],Prometheus_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"3c76cj9plVAD6vtRvykgqZQ","Prometheus_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{_slotsNode:null,isBigStoreToFreeGame:!1,isSmallStoreToFreeGame:!1},SetPopNodeScript:function(e){this._popupScp=e},GetPopNodeScript:function(e){return this._popupScp},SetSlotsNode:function(e){this._slotsNode=e},GetSlotsNode:function(){return this._slotsNode},SetBonusScript:function(e){this._bonusScp=e},GetBonusScript:function(){return this._bonusScp},SetJackpotUnlock:function(e){this.JackpotUnlock=e},GetJackpotUnlock:function(){return this.JackpotUnlock},SetCollectInfos:function(e){this._collectInfos=e},GetCollectInfos:function(){return this._collectInfos},SetCollectInfo:function(e){this._collectInfo=e;var t=this.GetBetIdx();this._collectInfos[t-1]=e},GetCollectInfo:function(){return this._collectInfo},SetCollectState:function(e){this._collectState=e},GetCollectState:function(){return this._collectState},SetFreeGameState:function(e){this._freeGameState=e},GetFreeGameState:function(){return this._freeGameState},IdxToBet:function(e){return this._deskInfo.mults[e]}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],Prometheus_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"0d27dcPk3BIEbjmo0ElsY0U","Prometheus_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},onLoad:function(){this._super();var e=cc.find("safe_node",this.node);cc.vv.gameData.getGameCfg();cc.vv.gameData.SetSlotsNode(cc.vv.gameData.GetSlotsScript().node);var t=cc.find("node_pop_ui",e).addComponent("Prometheus_Pop");t.Init(),cc.vv.gameData.SetPopNodeScript(t);var n=cc.find("bonusGame",e).addComponent("Prometheus_BonusGame");n.Init(),cc.vv.gameData.SetBonusScript(n)}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Prometheus_Pop:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,c){try{var r=e[i](c),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var c=e.apply(t,n);function r(e){o(c,a,i,r,s,"next",e)}function s(e){o(c,a,i,r,s,"throw",e)}r(void 0)})}}function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=c(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,i=!0,r=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){r=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(r)throw a}}}}function c(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"bee18VmS2JI1oqD1y+V0C78","Prometheus_Pop");var s=e("./Prometheus_Tools");cc.Class({extends:cc.Component,properties:{_node_free_Game:null,_node_extra_free:null,_node_free_end:null,_storeExtenLine:0},Init:function(){var e=this;this._node_free_Game=cc.find("freeGame",this.node),this._node_extra_free=cc.find("extraFreeGame",this.node),this._node_free_end=cc.find("freeGameEnd",this.node);var t=cc.vv.gameData.GetSlotsScript(),n=cc.vv.gameData.GetSlotsNode(),o=cc.find("startBtn",this._node_free_Game),a=cc.find("startBtn",this._node_free_end);Global.btnClickEvent(o,function(){o.stopAllActions(),Global.SlotsSoundMgr.playEffect("botton"),s.nodeAni(e._node_free_Game,3,function(){e.node.active=!1}),cc.tween(n).delay(1).call(function(){var e=cc.vv.gameData.GetTotalFree();cc.vv.gameData.SetFreeTime(e-1),t.ShowGameview(!0),cc.find("Canvas/safe_node/guochang").active=!0,cc.find("Canvas/safe_node/guochang/spine").getComponent(sp.Skeleton).setAnimation(0,"skill",!1),Global.SlotsSoundMgr.playEffect("fgTrans"),cc.find("Canvas/safe_node/guochang/spine").getComponent(sp.Skeleton).setCompleteListener(function(e){cc.find("Canvas/safe_node/guochang").active=!1})}).delay(3).call(function(){t.sendNextRound()}).start()},this);Global.btnClickEvent(a,function(){a.stopAllActions(),Global.SlotsSoundMgr.playEffect("botton"),s.nodeAni(e._node_free_end,3,function(){e.node.active=!1}),cc.tween(n).delay(1).call(function(){t.ShowGameview(!1),cc.find("Canvas/safe_node/guochang").active=!0,Global.SlotsSoundMgr.playEffect("fgTrans"),cc.find("Canvas/safe_node/guochang/spine").getComponent(sp.Skeleton).setAnimation(0,"skill",!1),cc.find("Canvas/safe_node/guochang/spine").getComponent(sp.Skeleton).setCompleteListener(function(e){cc.find("Canvas/safe_node/guochang").active=!1})}).delay(3).call(function(){t.CanDoNextRound()}).start()},this)},onEnable:function(){cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,this)},onDisable:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,!1,this)},onRcvSubGameAction:function(e){if(200==e.code){var t=e.data.choiceId;cc.vv.gameData.GetSlotsScript().extendLine({1:4,2:5,3:6,4:8}[t],.01),s.nodeAni(this._node_free_Game,2)}},updateUi:function(){var e,t=i(this.node.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;console.log(n),"pop_bg"!=n.name&&(n.active=!1)}}catch(e){t.e(e)}finally{t.f()}},goFreeGame:function(e){var t=this,n=cc.find("startBtn",this._node_free_Game),o=cc.vv.gameData.GetSlotsScript(),a=cc.vv.gameData.GetSlotsNode();this.updateUi(),this.node.active=!0,this._node_free_Game.active=!0,cc.find("num2",this._node_free_Game).getComponent(cc.Label).string=e/8,cc.find("num1",this._node_free_Game).getComponent(cc.Label).string=e,s.nodeAni(this._node_free_Game,1),Global.SlotsSoundMgr.playEffect("fgbegin"),cc.vv.gameData.checkAutoPlay(n,function(){Global.SlotsSoundMgr.playEffect("botton"),s.nodeAni(t._node_free_Game,3,function(){t.node.active=!1}),cc.tween(a).delay(1).call(function(){var e=cc.vv.gameData.GetTotalFree();cc.vv.gameData.SetFreeTime(e-1),o.ShowGameview(!0),cc.find("Canvas/safe_node/guochang").active=!0,cc.find("Canvas/safe_node/guochang/spine").getComponent(sp.Skeleton).setAnimation(0,"skill",!1),Global.SlotsSoundMgr.playEffect("fgTrans"),cc.find("Canvas/safe_node/guochang/spine").getComponent(sp.Skeleton).setCompleteListener(function(e){cc.find("Canvas/safe_node/guochang").active=!1})}).delay(3).call(function(){o.sendNextRound()}).start()})},goExtraFreeGame:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=cc.vv.gameData,a=o.GetSlotsScript(),cc.vv.gameData.GetSlotsNode(),cc.find("startBtn",t._node_free_Game),cc.find("startBtn",t._node_free_end),t.updateUi(),t.node.active=!0,t._node_extra_free.active=!0,cc.find("num2",t._node_extra_free).getComponent(cc.Label).string=e/8,cc.find("num1",t._node_extra_free).getComponent(cc.Label).string=e,s.nodeAni(t._node_extra_free,1),Global.SlotsSoundMgr.playEffect("fgbegin"),n.next=14,cc.vv.gameData.awaitTime(2.5);case 14:Global.SlotsSoundMgr.playEffect("botton"),s.nodeAni(t._node_extra_free,3,function(){t.node.active=!1,a.CanDoNextRound(),a.ShowGameview(!0)});case 16:case"end":return n.stop()}},n)}))()},goFreeGameEnd:function(e,t){var n=this,o=cc.vv.gameData.GetSlotsScript(),a=(cc.vv.gameData,cc.vv.gameData.GetSlotsNode()),i=(cc.find("startBtn",this._node_free_Game),cc.find("startBtn",this._node_extra_free),cc.find("startBtn",this._node_free_end));this.updateUi(),this.node.active=!0,this._node_free_end.active=!0,cc.find("num1",this._node_free_end).getComponent(cc.Label).string=e,cc.find("WinFrame/totalWinNum",this._node_free_end).getComponent(cc.Label).string=Global.FormatNumToComma(t),s.nodeAni(this._node_free_end,1),Global.SlotsSoundMgr.playEffect("fgend"),o.Resume(),cc.vv.gameData.GetSlotsScript().updateCollectPigUi(),cc.vv.gameData.checkAutoPlay(i,function(){Global.SlotsSoundMgr.playEffect("botton"),s.nodeAni(n._node_free_end,3,function(){n.node.active=!1}),cc.tween(a).delay(1).call(function(){o.ShowGameview(!1),cc.find("Canvas/safe_node/guochang").active=!0,Global.SlotsSoundMgr.playEffect("fgTrans"),cc.find("Canvas/safe_node/guochang/spine").getComponent(sp.Skeleton).setAnimation(0,"skill",!1),cc.find("Canvas/safe_node/guochang/spine").getComponent(sp.Skeleton).setCompleteListener(function(e){cc.find("Canvas/safe_node/guochang").active=!1})}).delay(3).call(function(){o.CanDoNextRound()}).start()})},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{"./Prometheus_Tools":"Prometheus_Tools"}],Prometheus_PrizePool:[function(e,t,n){"use strict";cc._RF.push(t,"d85cbX3fIVJ2qlSVWjVjR9r","Prometheus_PrizePool");e("./Prometheus_Tools");cc.Class({extends:e("LMSlots_PrizePool_Base"),properties:{},ShowNodeLockByNode:function(e,t,n,o,a){}}),cc._RF.pop()},{"./Prometheus_Tools":"Prometheus_Tools",LMSlots_PrizePool_Base:void 0}],Prometheus_Reel:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,c=!0,r=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){r=!0,i=e},f:function(){try{c||null==o.return||o.return()}finally{if(r)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"579ccF2eadEeJRGdTczcXkU","Prometheus_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},playReelStop:function(){this._super()},OnReelHeigtChange:function(e){this._super(e);cc.vv.gameData;var t=cc.vv.gameData.GetSlotsNode();if(1==this._reelIdx){var n=cc.vv.gameData.getGameCfg(),a=cc.find("Canvas/safe_node/slots/reels_frame"),i=cc.find("frameUp",a),c=cc.find("frameLeft",a),r=cc.find("frameRight",a);c.height+=e,r.height+=e;for(var s=1;s<5;s++)cc.find("Canvas/safe_node/slots/reels_bg/role_line"+s).height+=e;i.y+=e;var l=cc.find("Canvas/safe_node/jackpot").getComponent(cc.Widget),u=cc.find("Canvas/safe_node/logo");l.isAbsoluteBottom=!1,n.row>=6&&(l.bottom=.7,u.active=!1),n.row<6&&(l.bottom=.64,u.active=!0),l.updateAlignment();var f,m=o(cc.find("reels_frame/frameLeft/xianShu",t).children);try{for(m.s();!(f=m.n()).done;){f.value.active=!1}}catch(e){m.e(e)}finally{m.f()}var d,p=o(cc.find("reels_frame/frameRight/xianShu",t).children);try{for(p.s();!(d=p.n()).done;){d.value.active=!1}}catch(e){p.e(e)}finally{p.f()}cc.find("reels_frame/frameLeft/xianShu/sp"+n.row,t).active=!0,cc.find("reels_frame/frameRight/xianShu/sp"+n.row,t).active=!0}},StartRecycleSymbol:function(e){var t=cc.vv.gameData.getGameCfg(),n=t.row+1;if(this._symbols.length>n){var o=-(this._symbols.length-(t.row+1));this.AddCount(o,e)}},ShowAntiEffect:function(e,t){if(0==e){if(this._cfg.reelStateInfo){var n,a=o(this._cfg.reelStateInfo);try{for(a.s();!(n=a.n()).done;){var i=n.value,c=cc.find("mask/"+i.antiNode,this.node);c&&c.active&&(c.active=!1,this._stopRightNow&&cc.vv.AudioManager.stopEffectByName(i.antSound))}}catch(e){a.e(e)}finally{a.f()}}}else{var r=cc.find("mask/"+t,this.node),s=cc.vv.gameData.getGameCfg(),l="animation"+{3:"3",4:"4",5:"5",6:"6",7:"7",8:"8"}[s.row];r?(r.getComponent(sp.Skeleton).setAnimation(0,l,!0),r.active=e,r.y={3:187.5,4:250,5:312.5,6:375,7:437.5,8:500}[s.row]):cc.log("\u672a\u627e\u5230\u52a0\u901f\u8282\u70b9\uff1amask/node_anti")}}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Prometheus_Slots:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,c=!0,r=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){r=!0,i=e},f:function(){try{c||null==o.return||o.return()}finally{if(r)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(e,t,n,o,a,i,c){try{var r=e[i](c),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(o,a)}function r(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){c(i,o,a,r,s,"next",e)}function s(e){c(i,o,a,r,s,"throw",e)}r(void 0)})}}cc._RF.push(t,"dd951jxUiFLrLA523Qc/nIO","Prometheus_Slots");var s=e("./Prometheus_Tools");cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_pigNum:0},Init:function(){var e=cc.vv.gameData.getGameCfg();e.row=e.realRow,this._super()},onLoad:function(){this._super(),cc.vv.gameData.SetFreeGameState(!1)},StartMove:function(){var e=this;this._super(),0==cc.vv.gameData.GetTotalFree()&&Global.SlotsSoundMgr.playNormalBgm();var t=cc.vv.gameData.GetCollectInfo(),n=cc.vv.gameData.GetFreeGameState();if(t&&1===t.state&&!n){t.count-=1;for(var o=function(n){var o=cc.find("reels_frame/frameUp/unLockNode/wood/pinkPig"+n,e.node),a=cc.find("huoju",o),i=cc.find("pinkSpine",o);n<=t.count?1!=o.state&&(a.getComponent(sp.Skeleton).setAnimation(0,"fenTojin",!1),a.getComponent(sp.Skeleton).addAnimation(0,"jin_idle",!0),o.state=1):0!=o.state&&(a.getComponent(sp.Skeleton).setAnimation(0,"jintofen",!1),a.getComponent(sp.Skeleton).addAnimation(0,"fen_idle",!0),o.state=0,i.active=!0,i.getComponent(sp.Skeleton).setAnimation(0,"BG_PicksLeft",!1),i.getComponent(sp.Skeleton).setCompleteListener(function(e,t){e.animation&&e.animation.name;i.active=!1}))},a=1;a<8;a++)o(a)}},onMsgSpine:function(e){this._gameInfo=e;var t=e.resultCards;this.SetSlotsResult(t),this.SetReelStateInfo(t)},OnSpinEnd:function(){this.onSpinEndAction()},RegisterEvent:function(){this._super(),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onEventTotalbetUpdated,this)},onEventTotalbetUpdated:function(){var e=cc.vv.gameData,t=e.GetCollectInfos(),n=e.GetBetIdx();e.SetCollectInfo(t[n-1]),this.updateCollectPigUi(!0)},onSpinEndAction:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,o,a,i,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,cc.vv.gameData.SetCollectInfo(e._gameInfo.collectInfo),t.next=4,e.moveCoinToPig();case 4:return e.ShowWinTrace(),o=cc.vv.gameData.GetGameWin(),a=o,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(a=cc.vv.gameData.GetGameTotalFreeWin()),t.next=10,new Promise(function(t,n){e.ShowBottomWin(o,a,!0,t)});case 10:return i=cc.vv.gameData.GetFreeTime(),t.next=13,e.updateCollectPigUi();case 13:if(c=n._gameInfo.freeResult,!(e._gameInfo.allFreeCnt>i&&c.freeInfo.freeCnt>0)){t.next=19;break}return t.next=17,e.enterDoubleFreeGame();case 17:t.next=37;break;case 19:if(!(c.freeInfo&&c.freeInfo.freeCnt>0)){t.next=25;break}return cc.vv.gameData.SetFreeGameState(!0),t.next=23,e.CheckEnterFreeGame();case 23:t.next=37;break;case 25:if(!e._gameInfo.bonusGame){t.next=30;break}return t.next=28,e.CheckTriggerSubGame(e._gameInfo.bonusGame);case 28:t.next=37;break;case 30:if(!(e._gameInfo.allFreeCnt>0&&0==e._gameInfo.freeCnt)){t.next=36;break}return cc.vv.gameData.SetFreeGameState(!1),t.next=34,e.CheckExitFreeGame();case 34:t.next=37;break;case 36:e.CanDoNextRound();case 37:case"end":return t.stop()}},t)}))()},CheckTriggerSubGame:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var o,a,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=0,!t._gameInfo||!t._gameInfo.resultCards){n.next=12;break}n.t0=regeneratorRuntime.keys(t._gameInfo.resultCards);case 3:if((n.t1=n.t0()).done){n.next=11;break}if(a=n.t1.value,301!==t._gameInfo.resultCards[a]){n.next=9;break}return o=Number(a)+1,n.abrupt("break",11);case 9:n.next=3;break;case 11:o&&(i=t.GetSymbolByIdx(o))&&i.playStopAnimation();case 12:return Global.SlotsSoundMgr.playEffect("reelPumpkin"),n.next=15,t.awaitTime(1);case 15:t.stopAllSymbolAni(),cc.vv.gameData.GetBonusScript().openBonusGame(e);case 17:case"end":return n.stop()}},n)}))()},CheckEnterFreeGame:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,a,i,c,r,s,l,u,f,m,d,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Global.SlotsSoundMgr.stopBgm(),n=cc.vv.gameData,a=n.GetPopNodeScript(),i=e._gameInfo.freeResult,c=o(i.freeInfo.scatterIdx);try{for(c.s();!(r=c.n()).done;)s=r.value,(l=e.GetSymbolByIdx(s))&&l.playTriggerAnimation(!0)}catch(e){c.e(e)}finally{c.f()}return Global.SlotsSoundMgr.playEffect("triggering"),e.Backup(),t.next=10,e.awaitTime(3);case 10:u=o(i.freeInfo.scatterIdx);try{for(u.s();!(f=u.n()).done;)m=f.value,(d=e.GetSymbolByIdx(m))&&d.playTriggerAnimation(!1)}catch(e){u.e(e)}finally{u.f()}if(0==n.GetCollectState()){t.next=22;break}return e.recoverLine(.3),p=cc.find("Canvas/safe_node/spr_bg_collect"),cc.find("reels_frame/frameUp/unLockNode/wood/goldenMode",e.node).active=!1,cc.find("spine_hero",e.node).active=!0,cc.find("Canvas/safe_node/jackpot").active=!0,t.next=20,e.awaitTime(.5);case 20:n.SetCollectState(0),p.active=!1;case 22:a.goFreeGame(i.freeInfo.freeCnt);case 23:case"end":return t.stop()}},t)}))()},enterDoubleFreeGame:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,a,i,c,r,s,l,u,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e._gameInfo.freeResult,a=cc.vv.gameData.GetPopNodeScript(),i=o(n.freeInfo.scatterIdx);try{for(i.s();!(c=i.n()).done;)r=c.value,(s=e.GetSymbolByIdx(r))&&s.playTriggerAnimation(!0)}catch(e){i.e(e)}finally{i.f()}return t.next=6,e.awaitTime(3);case 6:l=o(n.freeInfo.scatterIdx);try{for(l.s();!(u=l.n()).done;)f=u.value,(m=e.GetSymbolByIdx(f))&&m.playTriggerAnimation(!1)}catch(e){l.e(e)}finally{l.f()}a.goExtraFreeGame(n.freeInfo.freeCnt);case 9:case"end":return t.stop()}},t)}))()},ReconnectShow:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,o,a,i,c,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=cc.vv.gameData,o=n._deskInfo,a=n.GetTotalFree(),i=n.GetFreeTime(),n.SetCollectInfos(o.collectInfos),c=cc.vv.gameData.GetBetIdx(),n.SetCollectInfo(o.collectInfos[c-1]),i>0&&cc.vv.gameData.SetFreeGameState(!0),t.next=10,e.updateCollectPigUi();case 10:i>0?(e._bottomScript.ShowFreeModel(!0,a-i,a),r=n.GetTotalFreeWin(),e._bottomScript.SetWin(r),e.CanDoNextRound(),e.ShowGameview(!0)):o.bonusGame&&(e._bottomScript.ShowBtnsByState("moveing_1"),e.CheckTriggerSubGame(o.bonusGame));case 11:case"end":return t.stop()}},t)}))()},CheckExitFreeGame:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Global.SlotsSoundMgr.stopBgm(),cc.vv.gameData.GetPopNodeScript().goFreeGameEnd(e._gameInfo.allFreeCnt,e._gameInfo.freeWinCoin);case 3:case"end":return t.stop()}},t)}))()},moveCoinToPig:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,o,a,i,c,r,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=cc.vv.gameData.GetCollectInfo(),o=cc.find("reels_frame/frameUp/unLockNode/wood/pinkPig"+n.count,e.node),a=cc.find("reels_frame/frameUp/unLockNode/wood/collect_coin",e.node),i=-1,t.t0=regeneratorRuntime.keys(e._gameInfo.resultCards);case 5:if((t.t1=t.t0()).done){t.next=13;break}if(c=t.t1.value,3!==e._gameInfo.resultCards[c]){t.next=11;break}return i=Number(c)+1,t.abrupt("break",13);case 11:t.next=5;break;case 13:if(-1!==i){t.next=15;break}return t.abrupt("return");case 15:return Global.SlotsSoundMgr.playEffect("reelpig"),r=e.GetSymbolByIdx(i),l=s.convetOtherNodeSpace(r.node,a.parent),r.playStopAnimation(),a.y=l.y,a.x=0,a.active=!0,cc.tween(a).to(.5,{x:o.x,y:o.y}).call(function(){Global.SlotsSoundMgr.playEffect("reelPetBox"),a.active=!1,r.ShowNormal(),r.ShowKuang(!1)}).start(),t.next=25,e.awaitTime(.5);case 25:case"end":return t.stop()}},t)}))()},updateCollectPigUi:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var o,a,i,c,r,s,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(o=cc.vv.gameData,a=o.GetCollectInfo(),i=cc.find("Canvas/safe_node/spr_bg_collect"),c=function(n){var o=cc.find("reels_frame/frameUp/unLockNode/wood/pinkPig"+n,t.node),i=cc.find("huoju",o),c=cc.find("pinkSpine",o);n<=a.count?1!=o.state&&(e?i.getComponent(sp.Skeleton).setAnimation(0,"jin_idle",!1):(i.getComponent(sp.Skeleton).setAnimation(0,"fenTojin",!1),i.getComponent(sp.Skeleton).addAnimation(0,"jin_idle",!0)),o.state=1):0!=o.state&&(e?i.getComponent(sp.Skeleton).setAnimation(0,"fen_idle",!0):(i.getComponent(sp.Skeleton).setAnimation(0,"jintofen",!1),i.getComponent(sp.Skeleton).addAnimation(0,"fen_idle",!0)),o.state=0,c.active=!0,c.getComponent(sp.Skeleton).setAnimation(0,"BG_PicksLeft",!1),c.getComponent(sp.Skeleton).setCompleteListener(function(e,t){e.animation&&e.animation.name;c.active=!1}))},r=1;r<8;r++)c(r);if(1!==a.state){n.next=20;break}if(o.GetFreeGameState()||t._cfg.row==a.row){n.next=18;break}return s=!1,t._bottomScript.GetSpinBtnState()&&(s=!0,t._bottomScript.ShowBtnsByState("moveing_1")),t.extendLine(a.row,.5),cc.find("spine_hero",t.node).active=!1,cc.find("Canvas/safe_node/jackpot").active=!1,cc.find("reels_frame/frameUp/unLockNode/wood/goldenMode",t.node).active=!0,i.active=!0,o.SetCollectState(1),n.next=17,t.awaitTime(.5);case 17:s&&t.CanDoNextRound();case 18:n.next=32;break;case 20:if(0==o.GetCollectState()){n.next=32;break}return l=!1,t._bottomScript.GetSpinBtnState()&&(l=!0,t._bottomScript.ShowBtnsByState("moveing_1")),t.recoverLine(.5),cc.find("reels_frame/frameUp/unLockNode/wood/goldenMode",t.node).active=!1,cc.find("spine_hero",t.node).active=!0,cc.find("Canvas/safe_node/jackpot").active=!0,i.active=!1,o.SetCollectState(0),n.next=31,t.awaitTime(.5);case 31:l&&t.CanDoNextRound();case 32:case"end":return n.stop()}},n)}))()},exitBonusGame:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playNormalBgm(!0),o=cc.vv.gameData.GetBottomScript().getCurrentWin(),n.next=4,cc.vv.gameData.GetSlotsScript().ShowBottomWin(e,e+o,!0,null,1);case 4:t.CanDoNextRound();case 5:case"end":return n.stop()}},n)}))()},extendLine:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,n=cc.vv.gameData.getGameCfg(),o=e-n.row;n.row=e,cc.find("Canvas/safe_node/slots/top_ani").height=e*n.symbolSize.height;for(var a=0;a<5;a++)this._reels[a].AddCount(o,t);Global.SlotsSoundMgr.playEffect("reelup"),this._row=this._cfg.row},recoverLine:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01,t=cc.vv.gameData.getGameCfg(),n=t.row,o=t.realRow,a=o-n;if(cc.find("Canvas/safe_node/slots/top_ani").height=o*t.symbolSize.height,0!=a)for(var i=0;i<5;i++)this._reels[i].AddCount(a,e);Global.SlotsSoundMgr.playEffect("reeldown"),this._cfg.row=this._cfg.realRow,this._row=this._cfg.row},ShowGameview:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var o,a,i,c,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e?(o=cc.vv.gameData.GetTotalFree(),a=cc.vv.gameData.GetFreeTime(),t._bottomScript.ShowFreeModel(!0,o-a,o),i=cc.vv.gameData.GetTotalFreeWin(),t._bottomScript.SetWin(i),Global.SlotsSoundMgr.playBgm("fgbgm")):(t._bottomScript.ShowFreeModel(!1),Global.SlotsSoundMgr.playNormalBgm(!0)),c=cc.find("Canvas/safe_node/spr_bg_normal"),r=cc.find("Canvas/safe_node/spr_bg_free"),c&&(c.active=!e),r&&(r.active=e);case 5:case"end":return n.stop()}},n)}))()},stopAllSymbolAni:function(){for(var e=0;e<this._reels.length;e++)for(var t=this._reels[e],n=0;n<t._symbols.length;n++){var o=t._symbols[n];o.ShowNormal(),o.ShowKuang(!1)}},showJpNode:function(e){var t=cc.find("Canvas/safe_node/jackpot"),n=cc.find("Canvas/safe_node/logo");if(e){t.active=!0;var o=t.getComponent(cc.Widget);o.isAbsoluteBottom=!1,this._cfg.row>=6&&(o.bottom=.7,n.active=!1),this._cfg.row<6&&(o.bottom=.64,n.active=!0),o.updateAlignment()}else t.active=!1,n.active=!1},sendNextRound:function(){this._bottomScript.SendSpinReq()},awaitTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{"./Prometheus_Tools":"Prometheus_Tools",LMSlots_Slots_Base:void 0}],Prometheus_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"a2dfbLVJVBAIIsjNDG9KXrB","Prometheus_Symbol");e("./Prometheus_Tools");cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},StartMove:function(){this._super()},SetRoseText:function(e){},Resume:function(e){if(e){this._symbolIdx=e.symbolIdx,this._id=e.id,this._data=Global.copy(e.data),this.ShowKuang(e.isKuang),this.ShowNormal();var t=e.state;"win"==t?this.playWinAnimation():"stop"==t?this.playStopAnimation():"idle"==t?this.playidleAnimation():"trigger"==t&&this.playTriggerAnimation(!0)}},playTriggerAnimation:function(e){var t=!1,n=this._id,o=cc.vv.gameData.getGameCfg();if(e){if(o.symbol[n]&&o.symbol[n].win_node&&o.symbol[n].trigger_ani){this._state="trigger",this._showNode&&(this._showNode.active=!1);var a=this.setAnimationToTop(!0);a.active=!0;var i=cc.find(o.symbol[n].win_node,a);if(i.active=!0,""!=o.symbol[n].trigger_ani.name){a.zIndex=o.symbol[n].trigger_ani.zIndex-this._symbolIdx+10*this._reelIdx,t=!0;var c=i.getComponent(sp.Skeleton);c&&c.setAnimation(0,o.symbol[n].trigger_ani.name,!0)}}}else this.setAnimationToTop(!1);return t}}),cc._RF.pop()},{"./Prometheus_Tools":"Prometheus_Tools",LMSlots_Symbol_Base:void 0}],Prometheus_Tools:[function(e,t,n){"use strict";cc._RF.push(t,"6f693ZE8BNO9LUIMe1IGHwK","Prometheus_Tools"),cc.Class({extends:cc.Component,properties:{},start:function(){},statics:{changeNodeSp:function(e,t){null!=e&&(e.getComponent(cc.Sprite).spriteFrame=t)},changeNodeLab:function(e,t){null!=e&&(e.getComponent(cc.Label).string=t)},numInArr:function(e,t,n){var o=n.indexOf(e),a=n.indexOf(t);return-1!=o&&-1!=a},nodeAni:function(e,t,n){1===t?(e.scale=0,e.active=!0,cc.tween(e).to(.2,{scale:1}).start()):2===t?cc.tween(e).to(.2,{scale:0}).call(function(){e.active=!1,e.scale=1,n&&n()}).start():3===t&&cc.tween(e).to(.2,{scale:1.3}).to(.3,{scale:0}).call(function(){e.active=!1,e.scale=1,n&&n()}).start()},playSpineAni:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e&&(e.active=!0,e.getComponent(sp.Skeleton).setAnimation(o,t,n))},getKNum:function(e){if(e)return 1e3*parseInt(e/1e3)},spineEndFunc:function(e,t){e&&e.getComponent(sp.Skeleton).setCompleteListener(function(){t&&t()})},localConvertWorldPoint:function(e){return e?e.convertToWorldSpace(cc.v2(0,0)):null},worldConvertLocalPoint:function(e,t){return e?e.convertToNodeSpace(t):null},convetOtherNodeSpace:function(e,t){if(!e||!t)return null;var n=this.localConvertWorldPoint(e);return this.worldConvertLocalPoint(t,n)}}}),cc._RF.pop()},{}]},{},["Prometheus_BonusGame","Prometheus_ButtonSafe","Prometheus_Cfg","Prometheus_GameData","Prometheus_Logic","Prometheus_Pop","Prometheus_PrizePool","Prometheus_Reel","Prometheus_Slots","Prometheus_Symbol","Prometheus_Tools"]);