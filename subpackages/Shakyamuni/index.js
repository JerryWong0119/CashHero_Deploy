window.__require=function e(t,n,i){function a(s,c){if(!n[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var u="function"==typeof __require&&__require;if(!c&&u)return u(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return a(t[s][1][e]||e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<i.length;s++)a(i[s]);return a}({Shakyamuni_BonusReels:[function(e,t,n){"use strict";cc._RF.push(t,"d87249h3r1EtZSoVi5lt1bv","Shakyamuni_BonusReels"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{_jpIdx:0,_isAnt:!1},start:function(){},Init:function(e,t,n,i){this._holderNode=cc.find("mask/holder",this.node),this._holderOrigPosY=this._holderNode.position.y,this.setJpIdx(i),this._super(e,t,n);for(var a=0;a<this._symbols.length;a++)this._symbols[a].setType(2)},setJpIdx:function(e){this._jpIdx=e},getJpIdx:function(){return this._jpIdx},StartMove:function(){this._super(),this.setIsAnt(!1)},OnReelSpinEnd:function(){this._reelState=[];var e=cc.vv.gameData.getBonusSlotsScript();e.OnReelSpinEnd(this._reelIdx);var t=e.GetLastStopReelIdx();this._reelIdx==t&&e.OnSpinEnd()},ReadyToStop:function(){this._bNotifyReadyStop||(this._bNotifyReadyStop=!0,cc.vv.gameData.getBonusSlotsScript().OnReelReadyToStop(this._reelIdx))},OnReelBounsActionBefore:function(){if(cc.vv.gameData.getBonusSlotsScript().OnReelBounsActionBefore(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveBefore()},OnReelBounsActionDeep:function(){if(this.ShowAntiEffect(!1),this.playReelStop(),cc.vv.gameData.getBonusSlotsScript().OnReelBounsActionDeep(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveDeep()},OnReelBounsActionEnd:function(){if(cc.vv.gameData.getBonusSlotsScript().OnReelBounsActionEnd(this._reelIdx),this._originResult)for(var e=0;e<this._originResult.length;e++)this._symbols[e].StopMoveEnd();else cc.log("\u56de\u5f39\u7ed3\u675f\uff0c\u6570\u636e\u5df2\u7ecf\u88ab\u6e05\u7a7a\u4e86");this.OnReelSpinEnd()},setIsAnt:function(e){this._isAnt=e},playReelStop:function(){var e=3==this._symbols[0].GetShowId()?"bgreelbgsctr":"reelstop";Global.SlotsSoundMgr.playEffect(e)},playAntiAnimation:function(){return this._isAnt&&this.ShowAntiEffect(!0),this._isAnt},ShowAntiEffect:function(e,t){var n=cc.find("node_anti",this.node);n&&(e?(n.active=!0,cc.vv.gameData.getBonusSlotsScript().playAntiAnim(!0,this._jpIdx),Global.SlotsSoundMgr.playEffect("jpchuxian")):n.active&&(n.active=!1,this._stopRightNow&&cc.vv.AudioManager.stopEffectByName("jpchuxian"),cc.vv.gameData.getBonusSlotsScript().playAntiAnim(!1,this._jpIdx)))}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Shakyamuni_BonusSlots:[function(e,t,n){"use strict";function i(e,t,n,i,a,o,s){try{var c=e[o](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(i,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var s=e.apply(t,n);function c(e){i(s,a,o,c,r,"next",e)}function r(e){i(s,a,o,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"12a52fz7NFEMJ4TW7fzYv3v","Shakyamuni_BonusSlots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_jpPanelList:[]},start:function(){},Init:function(){this._topScript=cc.vv.gameData.GetTopScript(),this._bottomScript=cc.vv.gameData.GetBottomScript(),this._cfg=cc.vv.gameData.getGameCfg(),this._col=29,this._row=1,this._node_bonus=cc.find("safe_node/bonus_game",this.node),this._node_bonus.active=!1,this._bonus_slots=cc.find("slots",this._node_bonus),this._jpPanelList.push(cc.find("mini",this._bonus_slots)),this._jpPanelList.push(cc.find("minor",this._bonus_slots)),this._jpPanelList.push(cc.find("major",this._bonus_slots)),this._jpPanelList.push(cc.find("maxi",this._bonus_slots)),this._jpPanelList.push(cc.find("grand",this._bonus_slots)),this._node_left=cc.find("node_left",this._bonus_slots),this._spine_collect=cc.find("safe_node/bonus_collect",this.node),this._spine_collect.active=!1,this._topAniNode=cc.find("top_ani",this._bonus_slots),this.createReels(this._col,this._row),cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRecvMsgSubAction,this)},onDestroy:function(){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRecvMsgSubAction,!1,this)},createReels:function(e,t){for(var n=this,i=[],a=function(e){var t=cc.find("reels",n._jpPanelList[e]);t&&t.children.forEach(function(t){i.push({node:t,jpIdx:e+1})})},o=0;o<this._jpPanelList.length;o++)a(o);for(var s=0;s<i.length;s++){var c=i[s].node.addComponent("Shakyamuni_BonusReels");c.Init(s,t,this._topAniNode,i[s].jpIdx),this._reels.push(c)}},initSymbols:function(){for(var e=cc.vv.gameData.getEpicInfo().items,t=0;t<e.length;t++){var n=this.GetSymbolByIdx(t+1);-1==e[t]?n.ShowById(this.getBonusRandVal()):(n.ShowById(3),n.setNum(e[t]))}},initKuangSpin:function(){for(var e=0;e<this._jpPanelList.length;e++){var t=cc.find("kuang/JP_ChuXian",this._jpPanelList[e]),n=cc.find("kuang/JP_DaiJi",this._jpPanelList[e]),i=cc.find("kuang/JP_ShuaGuang",this._jpPanelList[e]),a=cc.find("kuang/JP_BaoGuang",this._jpPanelList[e]);t.active=!1,n.active=this._epicInfo.jackpotList.includes(e+1),i.active=!1,a.active=!1}},playAntiAnim:function(e,t){var n=cc.find("kuang/JP_ChuXian",this._jpPanelList[t-1]);if(n.active=e,e){var i=["Mini","Minor","Major","Maxi","Grand"];n.getComponent(sp.Skeleton).setAnimation(0,"JP_ChuXian_"+i[t-1]+"_Intro",!1),n.getComponent(sp.Skeleton).addAnimation(0,"JP_ChuXian_"+i[t-1]+"_Loop",!1)}},enterBonusGame:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=a(regeneratorRuntime.mark(function n(i,a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playBgm("bgbgm"),cc.vv.gameData.setIsBonusGame(!0),t._bottomScript.SetWin(0),t._epicInfo=cc.vv.gameData.getEpicInfo(),t._node_bonus.active=!0,t.setRestCnt(t._epicInfo.restCnt),t.initSymbols(),t.lockJackpot(t._epicInfo.jackpotValues),t.initKuangSpin(),n.next=11,t.playTriAnim(e);case 11:return n.next=13,cc.vv.gameData.awaitTime(1);case 13:t.reqSpin(),t._bonusSuccess=i;case 15:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},reqSpin:function(){this._hintList=this._epicInfo.hintList,this.StartMove(this._epicInfo);var e={c:MsgId.SLOT_SUBGAME_DATA,data:{rtype:1}};e.gameid=cc.vv.gameData.getGameId(),cc.vv.NetManager.send(e,!0)},onRecvMsgSubAction:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:200===e.code&&(t._epicInfo=e.data.epicInfo,t._gameInfo=t._epicInfo,cc.vv.gameData.setEpicInfo(t._epicInfo),t.SetSlotsResult(t._epicInfo.items));case 1:case"end":return n.stop()}},n)}))()},StartMove:function(e){this.setRestCnt(this._epicInfo.restCnt-1),this._bStopRightnow=null,this._gameInfo=null;var t=[];this._moveIdxs=[];for(var n=0;n<e.items.length;n++)-1==e.items[n]&&(t.push(this._reels[n]),this._moveIdxs.push(this._reels[n].GetReelIdx()));if(this.MoveReels(t),this._stopTime=this.GetStopTime(),!this._bStopRightnow){this.SetReelStateInfo(e);var i=this._reels[this._moveIdxs[0]].playAntiAnimation();this._stopTime+=i?1:0}},SetSlotsResult:function(e){for(var t=e.length/this._col,n=[],i=0;i<e.length;i++){Math.floor(i/t);var a=i%this._col,o={};-1==e[i]?o.sid=this.getBonusRandVal():(o.sid=3,o.data={coin:e[i]}),n[a]||(n[a]=[]),n[a].unshift(o)}for(var s=0;s<this._reels.length;s++){var c=this._reels[s],r=n[s];c.SetResult(r)}},SetReelStateInfo:function(e){e.hintResult;for(var t=e.hintList,n=0;n<t.length;n++){var i=t[n]-1;this._reels[i].setIsAnt(!0)}},DoCheckReelAnti:function(e){if(!this._bStopRightnow)for(var t=!1,n=0;n<this._reels.length;n++){var i=this._reels[n].GetReelIdx();if(this._moveIdxs.indexOf(n)==this._moveIdxs.indexOf(e)+1&&(t=this._reels[i].playAntiAnimation()),i>e&&t){var a=cc.vv.gameData.getGameCfg().AddAntiTime||1;this._reels[i].AddDelayTime(a)}}},OnReelSpinEnd:function(e){var t=this._reels[e].getJpIdx();if(this._epicInfo.jackpotList.includes(t)){Global.SlotsSoundMgr.playEffect("jpawards");var n=cc.find("kuang/JP_BaoGuang",this._jpPanelList[t-1]);n.active=!0,n.getComponent(sp.Skeleton).setAnimation(0,"JP_BaoGuang_"+["Mini","Minor","Major","Maxi","Grand"][t-1],!1),cc.find("kuang/JP_DaiJi",this._jpPanelList[t-1]).active=!0}},OnSpinEnd:function(){this._gameInfo.isEnd?this.playGameResult():this.onSpinEndAction()},playGameResult:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e._epicInfo.jackpotList.length>0)){t.next=3;break}return t.next=3,e.playWinJpAnim();case 3:return t.next=5,e.flyAllItems();case 5:return n=e._epicInfo.winCoin,t.next=8,cc.vv.gameData.getPopupScript().endBonusGame(n);case 8:return cc.vv.gameData.getPopupScript().playXiongmaoQpAnim(),t.next=11,cc.vv.gameData.awaitTime(3.2);case 11:return e._node_bonus.active=!1,e.resetJackpot(),cc.vv.gameData.setIsBonusGame(!1),Global.SlotsSoundMgr.stopBgm(),cc.vv.gameData.AddCoin(n),t.next=18,new Promise(function(t,i){e.ShowBottomWin(n,n,!0,t)});case 18:e._bonusSuccess&&(e._bonusSuccess(),e._bonusSuccess=null);case 19:case"end":return t.stop()}},t)}))()},onSpinEndAction:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setRestCnt(e._epicInfo.restCnt,3==e._epicInfo.restCnt),t.next=3,cc.vv.gameData.awaitTime(1);case 3:e.reqSpin();case 4:case"end":return t.stop()}},t)}))()},getBonusRandVal:function(){var e=cc.vv.gameData.getGameCfg(),t=Global.random(1,e.randomBonusSymbols.length);return e.randomBonusSymbols[t-1]},GetReelStopInter:function(e){return e*(this._cfg.bonusReelStopInter||.6)},playTriAnim:function(e){var t=this;return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(i,a){var o,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=10;break}for(o=function(e){var n=cc.find("pos_4",t._bonus_slots).position,i=cc.find("pos_"+(e+1),t._bonus_slots).position;t.showJpTit(t._jpPanelList[e],!1),t._jpPanelList[e].position=e<3?n:i,cc.tween(t._jpPanelList[e]).delay(.2*e).to(1-.2*e,{position:i}).delay(.3*e).parallel(cc.tween().to(.3,{scale:1.2}).to(.2,{scale:1}),cc.tween().call(function(){t.showJpTit(t._jpPanelList[e],!0,!0)})).start()},s=0;s<t._jpPanelList.length;s++)o(s);return n.next=5,cc.vv.gameData.awaitTime(1);case 5:return Global.SlotsSoundMgr.playEffect("bgreelup"),n.next=8,cc.vv.gameData.awaitTime(2);case 8:n.next=11;break;case 10:for(c=0;c<t._jpPanelList.length;c++)t._jpPanelList[c].position=cc.find("pos_"+(c+1),t._bonus_slots).position,t.showJpTit(t._jpPanelList[c],!0);case 11:i();case 12:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},showJpTit:function(e,t,n,i){var a=cc.find("jp_1",e),o=cc.find("jp_2",e);if(a.active=t,o.active=t,n&&(a.setScale(0),o.setScale(0),cc.tween(a).to(.5,{scale:1}).start(),cc.tween(o).to(.5,{scale:1}).start()),i){a.getComponent(sp.Skeleton).setAnimation(0,"JP_ShuZiDaiJi_"+i+"EN"),o.getComponent(sp.Skeleton).setAnimation(0,"JP_ShuZiDaiJi_"+i+"EN")}},setRestCnt:function(e,t){cc.find("spr_lbl",this._node_left).getComponent("ImgSwitchCmp").setIndex(e);var n=cc.find("spine",this._node_left);t?(n.active=!0,n.getComponent(sp.Skeleton).setAnimation(0,"collect_glow",!1),Global.SlotsSoundMgr.playEffect("bgcountback3")):n.active=!1},playWinJpAnim:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,i,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=e._epicInfo.jackpotList).sort(function(e,t){return e-t}),i=e._bottomScript.getCurrentWin(),a=0;case 4:if(!(a<n.length)){t.next=13;break}return o=e._epicInfo.jackpotValues[n[a]-1],t.next=8,cc.vv.gameData.getPopupScript().winJpAnim(o,n[a]);case 8:i+=o,e._bottomScript.SetWin(i);case 10:a++,t.next=4;break;case 13:case"end":return t.stop()}},t)}))()},flyAllItems:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,i){var a,o,s,c,r,u,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e._epicInfo.items,o=e._bottomScript.getCurrentWin(),s=0;case 3:if(!(s<a.length)){t.next=19;break}if(!(a[s]>0)){t.next=16;break}return c=e.GetSymbolByIdx(s+1),r=c.node.convertToWorldSpaceAR(cc.v2(0,0)),u=cc.find("safe_node/LMSlots_Bottom/winBg/lbl_winNum_nor",e.node),l=u.convertToWorldSpaceAR(cc.v2(0,0)),Global.SlotsSoundMgr.playEffect(""),t.next=12,e.flyItem(r,l);case 12:return o+=a[s],e._bottomScript.SetWin(o),t.next=16,cc.vv.gameData.awaitTime(.5);case 16:s++,t.next=3;break;case 19:n();case 20:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},flyItem:function(e,t){var n=this;return new Promise(function(){var i=a(regeneratorRuntime.mark(function i(a,o){var s,c,r,u,l;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Global.SlotsSoundMgr.playEffect("bgcollect"),s=n._spine_collect.parent.convertToNodeSpaceAR(e),c=n._spine_collect.parent.convertToNodeSpaceAR(t),r=cc.v2(c.x,c.y).sub(cc.v2(s.x,s.y)),u=r.mag(),l=r.signAngle(cc.v2(1,0)),n._spine_collect.active=!0,n._spine_collect.position=s,n._spine_collect.angle=-l*cc.macro.DEG+90,n._spine_collect.scaleY=u/500,n._spine_collect.scaleX=Math.min(1,u/500),n._spine_collect.getComponent(sp.Skeleton).setAnimation(0,"path_lizi1",!1),i.next=14,cc.vv.gameData.awaitTime(.5);case 14:a();case 15:case"end":return i.stop()}},i)}));return function(e,t){return i.apply(this,arguments)}}())},lockJackpot:function(e){cc.find("Canvas/safe_node/LMSlots_PrizePool_1").getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:0,pauseNum:e[0]},{prizeType:1,pauseNum:e[1]},{prizeType:2,pauseNum:e[2]},{prizeType:3,pauseNum:e[3]},{prizeType:4,pauseNum:e[4]}])},resetJackpot:function(){cc.find("Canvas/safe_node/LMSlots_PrizePool_1").getComponent("LMSlots_PrizePool_Base").ResumePausePool()}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Shakyamuni_Cfg:[function(e,t,n){"use strict";var i;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"7538e95AjBP5qBy9IocYuRW","Shakyamuni_Cfg");var o={symbol:(i={},a(i,1,{node:"s1",win_node:"w1",win_ani:{name:"wild",zIndex:300},isMask:!0}),a(i,2,{node:"s2",win_node:"w2",win_ani:{name:"Scatter_02",zIndex:300},stop_ani:{name:"Scatter_01",zIndex:100},isMask:!0}),a(i,3,{node:"s3",win_node:"w3",trigger_ani:{name:"Scatter_logo",zIndex:300},stop_logoAni:{name:"Scatter_Flip_logo",zIndex:100},stop_numAni:{name:"Scatter_Flip_Num",zIndex:100},isMask:!1}),a(i,4,{node:"s4",win_node:"w4",win_ani:{name:"H1",zIndex:300},isMask:!0,big_ani:"h1"}),a(i,5,{node:"s5",win_node:"w5",win_ani:{name:"H2",zIndex:300},isMask:!0,big_ani:"h2"}),a(i,6,{node:"s6",win_node:"w6",win_ani:{name:"H3",zIndex:300},isMask:!0,big_ani:"h3"}),a(i,7,{node:"s7",win_node:"w7",win_ani:{name:"H4",zIndex:300},isMask:!0,big_ani:"h4"}),a(i,8,{node:"s8",win_node:"w8",win_ani:{name:"H5",zIndex:300},isMask:!0,big_ani:"h5"}),a(i,9,{node:"s9",win_node:"w9",win_ani:{name:"L1",zIndex:300},isMask:!0,big_skin:"L1",big_ani:"B_Lsymbol"}),a(i,10,{node:"s10",win_node:"w10",win_ani:{name:"L2",zIndex:300},isMask:!0,big_skin:"L2",big_ani:"B_Lsymbol"}),a(i,11,{node:"s11",win_node:"w11",win_ani:{name:"L3",zIndex:300},isMask:!0,big_skin:"L3",big_ani:"B_Lsymbol"}),a(i,12,{node:"s12",win_node:"w12",win_ani:{name:"L4",zIndex:300},isMask:!0,big_skin:"L4",big_ani:"B_Lsymbol"}),a(i,13,{node:"s13",win_node:"w13",win_ani:{name:"L5",zIndex:300},isMask:!0,big_skin:"L5",big_ani:"B_Lsymbol"}),a(i,101,{node:"s101"}),a(i,102,{node:"s102"}),i),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"Shakyamuni_Slots",Reels:"Shakyamuni_Reels",Symbols:"Shakyamuni_Symbol"},col:5,row:4,symbolPrefab:"LMSlots_Symbol",symbolSize:{height:100},randomSymbols:[1,3,4,5,6,7,8,9,10,11,12,13],randomBonusSymbols:[4,5,6,7,8,9,10],kuang:"kuang",autoModelDelay:1,speed:3e3,reelStopInter:.2,bonusReelStopInter:.2,auto_stop_time:11,bounceInfo:{distance:30,time:.1},helpItems:["games/Shakyamuni/prefab/LMSlots_Help_item1","games/Shakyamuni/prefab/LMSlots_Help_item2","games/Shakyamuni/prefab/LMSlots_Help_item3"],commEffect:{path:"games/Shakyamuni/",win1:["win_a","win_end"],win2:["win_b","win_end"],win3:["win_c","win_end"],win4:["win_d","win_end"]},AddAntiTime:1.8,normalBgm:"ngbgm",reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/Shakyamuni/",reelStopSound:"reelstop",symbolStopSound:"reelsctr",antSound:"reelfast",antSpeed:2e3},{id:[3],mini:1,counts:[1,1,1,1,1],antiNode:"",path:"games/Shakyamuni/",reelStopSound:"reelstop",symbolStopSound:"reelbgsctr",antSound:"",antSpeed:2e3}]};t.exports=o,cc._RF.pop()},{}],Shakyamuni_Collect:[function(e,t,n){"use strict";function i(e,t,n,i,a,o,s){try{var c=e[o](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(i,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var s=e.apply(t,n);function c(e){i(s,a,o,c,r,"next",e)}function r(e){i(s,a,o,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"5567cBeRNtBkZ5h1xiJYX2j","Shakyamuni_Collect"),cc.Class({extends:cc.Component,properties:{_itemSpList:[]},start:function(){},Init:function(){this._node_collect=cc.find("safe_node/slots/node_collect",this.node);for(var e=1;e<=10;e++)this._itemSpList[e]=cc.find("list/item"+e,this._node_collect).getComponent(sp.Skeleton);this._spine_jiesuo=cc.find("spine_jiesuo",this._node_collect),this._spine_shangsuo=cc.find("spine_shangsuo",this._node_collect),this._btn_click=cc.find("btn_click",this._node_collect),Global.btnClickEvent(this._btn_click,this.onClickSjt,this),this.initItems(),this.initSjtState(),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onEventTotalbetUpdated,this)},setCollectState:function(e){this._node_collect.active=e},initItems:function(){for(var e=cc.vv.gameData.getBonusTrail().count,t=1;t<this._itemSpList.length;t++){var n=e>=t?"liang":"an";this._itemSpList[t].setAnimation(0,n,!0)}},addItem:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,i){var a,o,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._isLock){t.next=3;break}return n(),t.abrupt("return");case 3:a=cc.vv.gameData.getBonusTrail().count,o=10==a?"collectSuper":"collect",Global.SlotsSoundMgr.playEffect(o),s=10==a?"taiji":"jinbi",c=e._itemSpList[a].setAnimation(0,s,!1),e._itemSpList[a].addAnimation(0,"liang",!0),e._itemSpList[a].setTrackCompleteListener(c,function(){e._itemSpList[a].setTrackCompleteListener(c,null),n()});case 10:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},fullAnim:function(){return new Promise(function(){var e=a(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Global.SlotsSoundMgr.playEffect();case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())},initSjtState:function(){var e=cc.vv.gameData.GetBetIdx(),t=cc.vv.gameData.getNeedBet();this._isLock=e<t,this._isLock?(this._spine_shangsuo.active=!0,this._spine_shangsuo.getComponent(sp.Skeleton).setAnimation(0,"BetUp_ShangSuo_Loop",!0)):this._spine_shangsuo.active=!1,this._spine_jiesuo.active=!1},onClickSjt:function(){if(cc.vv.gameData.GetBottomScript().GetSpinBtnState()&&!(cc.vv.gameData.GetAutoModelTime()>0)){var e=cc.vv.gameData.GetBetIdx(),t=cc.vv.gameData.getNeedBet();this._isLock&&t>=e&&cc.vv.gameData.GetBottomScript().SetBetIdx(t)}},onEventTotalbetUpdated:function(){var e=this,t=cc.vv.gameData.GetBetIdx(),n=cc.vv.gameData.getNeedBet();this._isLock&&t>=n?(Global.SlotsSoundMgr.playEffect("unlock"),this._isLock=!1,this._spine_shangsuo.active=!1,this._spine_jiesuo.active=!0,this._spine_jiesuo.getComponent(sp.Skeleton).setAnimation(0,"JDT_JieSuo",!1),this._spine_jiesuo.getComponent(sp.Skeleton).setCompleteListener(function(){e._spine_jiesuo.active=!1})):!this._isLock&&t<n&&(Global.SlotsSoundMgr.playEffect("lock"),this._isLock=!0,this._spine_jiesuo.active=!1,this._spine_shangsuo.active=!0,this._spine_shangsuo.getComponent(sp.Skeleton).setAnimation(0,"BetUp_ShangSuo_Intro",!1),this._spine_shangsuo.getComponent(sp.Skeleton).addAnimation(0,"BetUp_ShangSuo_Loop",!0))}}),cc._RF.pop()},{}],Shakyamuni_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"06cccLFsBpLQZ+F7hyAiUsj","Shakyamuni_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{},init:function(e,t,n){this._bonusTrail=e.bonusTrail,this._epicInfo=e.epicInfo,this._spWildCard=e.spWildCard,this._freeWinCoin=e.freeWinCoin,this._super(e,t,n)},OnRcvNetSpine:function(e){200==e.code&&(this._bonusTrail=e.bonusTrail,this._epicInfo=e.epicInfo,this._spWildCard=e.spWildCard,this._freeWinCoin=e.freeWinCoin),this._super(e)},setPopupScript:function(e){this._popouScp=e},getPopupScript:function(){return this._popouScp},setCollectScript:function(e){this._collectScp=e},getCollectScript:function(){return this._collectScp},setBonusSlotsScript:function(e){this._bonusSlotsScp=e},getBonusSlotsScript:function(){return this._bonusSlotsScp},getFreeWinCoin:function(){return this._freeWinCoin},setFreeWinCoin:function(e){this._freeWinCoin=e},getNeedBet:function(){return this._deskInfo.needBet},getBonusTrail:function(){return this._bonusTrail},getEpicInfo:function(){return this._epicInfo},setEpicInfo:function(e){this._epicInfo=e},getSpWildCard:function(){return this._spWildCard},setSpWildCard:function(e){this._spWildCard=e},setIsFreeGame:function(e){this._isFreeGame=e},isFreeGame:function(){return this._isFreeGame},setIsSuperFreeGame:function(e){this._isSuperFreeGame=e},isSuperFreeGame:function(){return this._isSuperFreeGame},setIsBonusGame:function(e){this._isBonusGame=e},isBonusGame:function(){return this._isBonusGame}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],Shakyamuni_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"10c28z6/stK0oxpxakvy4ci","Shakyamuni_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},InitCommComponent:function(){this._super();var e=this.node.addComponent("Shakyamuni_Popup");cc.vv.gameData.setPopupScript(e),e.Init();var t=this.node.addComponent("Shakyamuni_Collect");cc.vv.gameData.setCollectScript(t),t.Init();var n=this.node.addComponent("Shakyamuni_BonusSlots");cc.vv.gameData.setBonusSlotsScript(n),n.Init()}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Shakyamuni_Popup:[function(e,t,n){"use strict";function i(e,t,n,i,a,o,s){try{var c=e[o](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(i,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var s=e.apply(t,n);function c(e){i(s,a,o,c,r,"next",e)}function r(e){i(s,a,o,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"e5cc9sutTZEo5C4PXNK1Gjq","Shakyamuni_Popup"),cc.Class({extends:cc.Component,properties:{},start:function(){},Init:function(){this._node_popup=cc.find("safe_node/node_popup",this.node),this._node_popup.active=!1,this._node_tri_free=cc.find("node_tri_free",this._node_popup),this._node_end_free=cc.find("node_end_free",this._node_popup),this._node_tri_bonus=cc.find("node_tri_bonus",this._node_popup),this._node_end_bonus=cc.find("node_tri_bonus",this._node_popup),this._node_end_bonus=cc.find("node_end_bonus",this._node_popup),this._node_win_jp=cc.find("node_win_jp",this._node_popup),this._node_tri_free.active=!1,this._node_end_free.active=!1,this._node_tri_bonus.active=!1,this._node_end_bonus.active=!1,this._node_win_jp.active=!1,this._qp_taiji=cc.find("safe_node/qp_taiji",this.node),this._qp_xiongmao=cc.find("safe_node/qp_xiongmao",this.node),this._qp_taiji.active=!1,this._qp_xiongmao.active=!1},triFreeGame:function(e,t){var n=this;return new Promise(function(){var i=a(regeneratorRuntime.mark(function i(o,s){var c,r,u,l,p,_,m,d,f,g;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return c=e?t?"superfgbegain":"fgbegain":"fgretrigger",Global.SlotsSoundMgr.playEffect(c),n._node_popup.active=!0,n._node_tri_free.active=!0,r=cc.find("bg",n._node_tri_free),u=cc.find("title",n._node_tri_free),l=cc.find("lbl_cnt",n._node_tri_free),p=cc.find("spr1",n._node_tri_free),(_=cc.find("btn",n._node_tri_free)).active=e,_.getComponent(cc.Button).interactable=!1,l.getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),p.getComponent("ImgSwitchCmp").setIndex(t?1:0),r.setScale(0),u.setScale(0),l.setScale(0),p.setScale(0),_.setScale(0),m=.5,d=.2,cc.tween(r).to(m,{scale:1},{easing:"backOut"}).start(),cc.tween(u).delay(d).to(m,{scale:1},{easing:"backOut"}).start(),cc.tween(l).delay(d).to(m,{scale:1},{easing:"backOut"}).start(),cc.tween(p).delay(d).to(m,{scale:1},{easing:"backOut"}).start(),cc.tween(_).delay(2*d).to(m,{scale:1},{easing:"backOut"}).start(),i.next=27,cc.vv.gameData.awaitTime(2*d+m);case 27:if(!e){i.next=36;break}_.off("click"),_.getComponent(cc.Button).interactable=!0,f=n,g=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("button"),_.getComponent(cc.Button).interactable=!1,cc.tween(u).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(l).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(p).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(_).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(r).delay(d).to(m,{scale:0},{easing:"backIn"}).start(),e.next=9,cc.vv.gameData.awaitTime(d+m);case 9:f._node_popup.active=!1,f._node_tri_free.active=!1,o();case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(_,g),_.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_.stopAllActions(),g();case 2:case"end":return e.stop()}},e)}))),i.next=47;break;case 36:return i.next=38,cc.vv.gameData.awaitTime(2);case 38:return cc.tween(u).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(l).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(p).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(r).delay(d).to(m,{scale:0},{easing:"backIn"}).start(),i.next=44,cc.vv.gameData.awaitTime(d+m);case 44:n._node_popup.active=!1,n._node_tri_free.active=!1,o();case 47:case"end":return i.stop()}},i)}));return function(e,t){return i.apply(this,arguments)}}())},endFreeGame:function(e,t){var n=this;return new Promise(function(){var i=a(regeneratorRuntime.mark(function i(o,s){var c,r,u,l,p,_,m,d,f,g;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Global.SlotsSoundMgr.playEffect("fgend"),n._node_popup.active=!0,n._node_end_free.active=!0,c=cc.find("bg",n._node_end_free),r=cc.find("title",n._node_end_free),u=cc.find("kuang",n._node_end_free),l=cc.find("spr1",n._node_end_free),p=cc.find("spr2",n._node_end_free),(_=cc.find("btn",n._node_end_free)).getComponent(cc.Button).interactable=!1,l.active=!t,p.active=t,cc.find("kuang/lbl_win",n._node_end_free).getComponent(cc.Label).string=Global.FormatNumToComma(e),cc.find("spr1/lbl_cnt",n._node_end_free).getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),cc.find("spr2/lbl_cnt",n._node_end_free).getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),c.setScale(0),r.setScale(0),u.setScale(0),l.setScale(0),p.setScale(0),_.setScale(0),m=.5,d=.2,cc.tween(c).to(m,{scale:1},{easing:"backOut"}).start(),cc.tween(r).delay(d).to(m,{scale:1},{easing:"backOut"}).start(),cc.tween(u).delay(d).to(m,{scale:1},{easing:"backOut"}).start(),cc.tween(l).delay(d).to(m,{scale:1},{easing:"backOut"}).start(),cc.tween(p).delay(d).to(m,{scale:1},{easing:"backOut"}).start(),cc.tween(_).delay(2*d).to(m,{scale:1},{easing:"backOut"}).start(),i.next=31,cc.vv.gameData.awaitTime(2*d+m);case 31:_.off("click"),_.getComponent(cc.Button).interactable=!0,f=n,g=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("button"),_.getComponent(cc.Button).interactable=!1,cc.tween(r).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(u).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(l).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(p).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(_).to(m,{scale:0},{easing:"backIn"}).start(),cc.tween(c).delay(d).to(m,{scale:0},{easing:"backIn"}).start(),e.next=10,cc.vv.gameData.awaitTime(d+m);case 10:f._node_popup.active=!1,f._node_end_free.active=!1,o();case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(_,g),_.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_.stopAllActions(),g();case 2:case"end":return e.stop()}},e)})));case 37:case"end":return i.stop()}},i)}));return function(e,t){return i.apply(this,arguments)}}())},triBonusGame:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,i){var o,s,c,r,u,l,p,_,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._node_popup.active=!0,e._node_tri_bonus.active=!0,o=cc.find("bg",e._node_tri_bonus),s=cc.find("title",e._node_tri_bonus),c=cc.find("spr1",e._node_tri_bonus),r=cc.find("spr2",e._node_tri_bonus),(u=cc.find("btn",e._node_tri_bonus)).getComponent(cc.Button).interactable=!1,o.setScale(0),s.setScale(0),c.setScale(0),r.setScale(0),u.setScale(0),l=.5,p=.2,cc.tween(o).to(l,{scale:1},{easing:"backOut"}).start(),cc.tween(s).delay(p).to(l,{scale:1},{easing:"backOut"}).start(),cc.tween(c).delay(p).to(l,{scale:1},{easing:"backOut"}).start(),cc.tween(r).delay(p).to(l,{scale:1},{easing:"backOut"}).start(),cc.tween(u).delay(2*p).to(l,{scale:1},{easing:"backOut"}).start(),t.next=22,cc.vv.gameData.awaitTime(2*p+l);case 22:u.off("click"),u.getComponent(cc.Button).interactable=!0,_=e,m=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("button"),u.getComponent(cc.Button).interactable=!1,cc.tween(s).to(l,{scale:0},{easing:"backIn"}).start(),cc.tween(c).to(l,{scale:0},{easing:"backIn"}).start(),cc.tween(r).to(l,{scale:0},{easing:"backIn"}).start(),cc.tween(u).to(l,{scale:0},{easing:"backIn"}).start(),cc.tween(o).delay(p).to(l,{scale:0},{easing:"backIn"}).start(),e.next=9,cc.vv.gameData.awaitTime(p+l);case 9:_._node_popup.active=!1,_._node_tri_bonus.active=!1,n();case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(u,m),u.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u.stopAllActions(),m();case 2:case"end":return e.stop()}},e)})));case 28:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},endBonusGame:function(e){var t=this;return new Promise(function(){var n=a(regeneratorRuntime.mark(function n(i,o){var s,c,r,u,l,p,_,m;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect("bgtotalwinbgm"),t._node_popup.active=!0,t._node_end_bonus.active=!0,s=cc.find("bg",t._node_end_bonus),c=cc.find("title",t._node_end_bonus),r=cc.find("kuang",t._node_end_bonus),(u=cc.find("btn",t._node_end_bonus)).getComponent(cc.Button).interactable=!1,cc.find("kuang/lbl_win",t._node_end_bonus).getComponent(cc.Label).string=Global.FormatNumToComma(e),s.setScale(0),c.setScale(0),r.setScale(0),u.setScale(0),l=.5,p=.2,cc.tween(s).to(l,{scale:1},{easing:"backOut"}).start(),cc.tween(c).delay(p).to(l,{scale:1},{easing:"backOut"}).start(),cc.tween(r).delay(p).to(l,{scale:1},{easing:"backOut"}).start(),cc.tween(u).delay(2*p).to(l,{scale:1},{easing:"backOut"}).start(),n.next=21,cc.vv.gameData.awaitTime(2*p+l);case 21:u.off("click"),u.getComponent(cc.Button).interactable=!0,_=t,m=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("button"),u.getComponent(cc.Button).interactable=!1,cc.tween(c).to(l,{scale:0},{easing:"backIn"}).start(),cc.tween(r).to(l,{scale:0},{easing:"backIn"}).start(),cc.tween(u).to(l,{scale:0},{easing:"backIn"}).start(),cc.tween(s).delay(p).to(l,{scale:0},{easing:"backIn"}).start(),e.next=8,cc.vv.gameData.awaitTime(p+l);case 8:_._node_popup.active=!1,_._node_end_bonus.active=!1,i();case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(u,m),u.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u.stopAllActions(),m();case 2:case"end":return e.stop()}},e)})));case 27:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},winJpAnim:function(e,t){var n=this;return new Promise(function(){var i=a(regeneratorRuntime.mark(function i(o,s){var c,r,u,l,p,_,m,d,f;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Global.SlotsSoundMgr.playEffect("jpbgm"),n._node_popup.active=!0,n._node_win_jp.active=!0,c=cc.find("bg",n._node_win_jp),r=cc.find("title",n._node_win_jp),u=cc.find("kuang",n._node_win_jp),(l=cc.find("btn",n._node_win_jp)).getComponent(cc.Button).interactable=!1,cc.find("kuang/lbl_win",n._node_win_jp).getComponent(cc.Label).string=Global.FormatNumToComma(e),c.getComponent(sp.Skeleton).setAnimation(0,"intro",!1),c.getComponent(sp.Skeleton).addAnimation(0,"idle",!0),p=["Mini_EN","Minor_EN","Major_EN","Maxi_EN","Grand_EN"],r.getComponent(sp.Skeleton).setAnimation(0,p[t-1],!0),r.opacity=0,u.opacity=0,l.opacity=0,r.position=cc.v2(r.x,r.y-40),u.position=cc.v2(u.x,u.y-40),l.position=cc.v2(l.x,l.y-40),i.next=21,cc.vv.gameData.awaitTime(.5);case 21:return _=.4,m=.2,cc.tween(r).to(_,{position:cc.v2(r.x,r.y+40),opacity:255}).start(),cc.tween(u).delay(2*m).to(_,{position:cc.v2(u.x,u.y+40),opacity:255}).start(),cc.tween(l).delay(3*m).to(_,{position:cc.v2(l.x,l.y+40),opacity:255}).start(),i.next=28,cc.vv.gameData.awaitTime(3*m+_);case 28:l.off("click"),l.getComponent(cc.Button).interactable=!0,d=n,f=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("button"),l.getComponent(cc.Button).interactable=!1,c.getComponent(sp.Skeleton).addAnimation(0,"end",!1),cc.tween(r).to(_,{opacity:0},{easing:"backIn"}).start(),cc.tween(u).delay(2*m).to(_,{opacity:0},{easing:"backIn"}).start(),cc.tween(l).delay(3*m).to(_,{opacity:0},{easing:"backIn"}).start(),e.next=8,cc.vv.gameData.awaitTime(3*m+_);case 8:d._node_popup.active=!1,d._node_win_jp.active=!1,o();case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(l,f),l.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.stopAllActions(),f();case 2:case"end":return e.stop()}},e)})));case 34:case"end":return i.stop()}},i)}));return function(e,t){return i.apply(this,arguments)}}())},playTaijiQpAnim:function(){var e=this;Global.SlotsSoundMgr.playEffect("fgtransition"),this._qp_taiji.active=!0,this._qp_taiji.getComponent(sp.Skeleton).setAnimation(0,"guochang",!1),this._qp_taiji.getComponent(sp.Skeleton).setCompleteListener(function(){e._qp_taiji.getComponent(sp.Skeleton).setCompleteListener(null),e._qp_taiji.active=!1})},playXiongmaoQpAnim:function(){var e=this;Global.SlotsSoundMgr.playEffect("bgtransition"),this._qp_xiongmao.active=!0,this._qp_xiongmao.getComponent(sp.Skeleton).setAnimation(0,"idle2",!1),this._qp_xiongmao.getComponent(sp.Skeleton).setCompleteListener(function(){e._qp_xiongmao.getComponent(sp.Skeleton).setCompleteListener(null),e._qp_xiongmao.active=!1})}}),cc._RF.pop()},{}],Shakyamuni_Reels:[function(e,t,n){"use strict";cc._RF.push(t,"94e4cjPi3VPt4eHHCyUggTL","Shakyamuni_Reels"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Shakyamuni_Slots:[function(e,t,n){"use strict";function i(e,t,n,i,a,o,s){try{var c=e[o](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(i,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var s=e.apply(t,n);function c(e){i(s,a,o,c,r,"next",e)}function r(e){i(s,a,o,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"2b389Hq/UtPG46OLiSVMXeC","Shakyamuni_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{},Init:function(){this._super(),this._top_men=cc.find("top_men",this.node),this._top_men.children.forEach(function(e){e.active=!1})},ReconnectShow:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._topScript.SetBackLobby(!1),e._bottomScript.ShowBtnsByState("moveing_1"),!cc.vv.gameData.getEpicInfo()){t.next=6;break}return t.next=6,cc.vv.gameData.getBonusSlotsScript().enterBonusGame();case 6:if(cc.vv.gameData.GetTotalFree()>0?(e.ShowGameview(!0),cc.vv.gameData.getBonusTrail().count==cc.vv.gameData.getBonusTrail().totalCount&&(e._spWildCard=cc.vv.gameData.getSpWildCard())):e.ShowGameview(!1),!(cc.vv.gameData.GetTotalFree()>0&&0==cc.vv.gameData.GetFreeTime())){t.next=10;break}return t.next=10,e.CheckExitFreeGame();case 10:e._topScript.StopMove(),e._bottomScript.CanDoNextRound();case 12:case"end":return t.stop()}},t)}))()},SetSlotsResult:function(e){var t=[];if(this._gameInfo.bonusInfo&&this._gameInfo.bonusInfo.items&&this._gameInfo.bonusInfo.items.length>0)for(var n=this._gameInfo.bonusInfo.items,i=0;i<n.length;i++)t[n[i].idx-1]=n[i];for(var a=e.length/this._col,o=[],s=0;s<e.length;s++){Math.floor(s/a);var c=s%this._col;if(this._cfg.symbol[e[s]]){var r={};cc.vv.gameData.isSuperFreeGame()&&101==e[s]&&(e[s]=102),r.sid=e[s],r.data=t[s],o[c]||(o[c]=[]),o[c].unshift(r)}}for(var u=0;u<this._reels.length;u++){var l=this._reels[u],p=o[u];l.SetResult(p)}},StartMove:function(){if(cc.vv.gameData.isBonusGame())cc.vv.gameData.getBonusSlotsScript().StartMove();else{this._bStopRightnow=null,this._gameInfo=null,this._topScript.StartMove(),cc.vv.gameData.ClearOneRoundData();var e=0;cc.vv.gameData.isSuperFreeGame()&&this._spWildCard&&this._spWildCard.idxs&&this._spWildCard.idxs.length>0&&(this.closeTheDoor(),e=1),this.MoveReels(this._reels),this._stopTime=this.GetStopTime()+e,Global.SlotsSoundMgr.playNormalBgm()}},StopMove:function(){cc.vv.gameData.isBonusGame()?cc.vv.gameData.getBonusSlotsScript().StopMove():this._super()},OnSpinEnd:function(){this.onSpinEndAction()},onSpinEndAction:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,i,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!cc.vv.gameData.isFreeGame()){t.next=5;break}if(e._spWildCard=e._gameInfo.spWildCard,!(e._spWildCard&&e._spWildCard.idxs&&e._spWildCard.idxs.length>0)){t.next=5;break}return t.next=5,e.openTheDoor();case 5:return e.ShowWinTrace(),n=cc.vv.gameData.GetGameWin(),i=n,a=!0,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(i=cc.vv.gameData.getFreeWinCoin(),a=!1),t.next=12,new Promise(function(t,o){e.ShowBottomWin(n,i,a,t)});case 12:if(!((o=e._gameInfo.freeResult.freeInfo)&&o.freeCnt>0)){t.next=16;break}return t.next=16,e.triFreeGame();case 16:if(!e._gameInfo.bonusInfo||!e._gameInfo.bonusInfo.isTrigger){t.next=19;break}return t.next=19,e.triBonusGame();case 19:if(!(e._gameInfo.allFreeCnt>0&&0==e._gameInfo.freeCnt)){t.next=22;break}return t.next=22,e.endFreeGame();case 22:e.CanDoNextRound();case 23:case"end":return t.stop()}},t)}))()},triFreeGame:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,i){var a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cc.vv.gameData.awaitTime(1);case 2:if(a=e._gameInfo.freeCnt===e._gameInfo.allFreeCnt,o=e._gameInfo.bonusTrail.count==e._gameInfo.bonusTrail.totalCount,!a){t.next=22;break}return e._spWildCard=null,t.next=8,cc.vv.gameData.getCollectScript().addItem();case 8:return Global.SlotsSoundMgr.playEffect("triggering"),t.next=11,cc.vv.gameData.awaitTime(1);case 11:return t.next=13,cc.vv.gameData.getPopupScript().triFreeGame(a,o);case 13:return cc.vv.gameData.getPopupScript().playTaijiQpAnim(),t.next=16,cc.vv.gameData.awaitTime(1.8);case 16:return e.Backup(),e.ShowGameview(!0),t.next=20,cc.vv.gameData.awaitTime(1);case 20:t.next=24;break;case 22:return t.next=24,cc.vv.gameData.getPopupScript().triFreeGame(a,o);case 24:n();case 25:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},endFreeGame:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,i){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=cc.vv.gameData.getFreeWinCoin(),t.next=3,cc.vv.gameData.getPopupScript().endFreeGame(a,cc.vv.gameData.isSuperFreeGame());case 3:return cc.vv.gameData.getPopupScript().playTaijiQpAnim(),t.next=6,cc.vv.gameData.awaitTime(1.8);case 6:return e.Resume(),e.ShowGameview(!1),e._spWildCard=null,e._top_men.children.forEach(function(e){e.active=!1}),cc.vv.gameData.getCollectScript().initItems(),Global.SlotsSoundMgr.stopBgm(),t.next=14,cc.vv.gameData.awaitTime(1);case 14:return t.next=16,new Promise(function(t,n){e.ShowBottomWin(a,a,!0,t)});case 16:n();case 17:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},triBonusGame:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,i){var a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a=e._gameInfo.bonusInfo.items,o=0;o<a.length;o++)a[o].spCard&&e.GetSymbolByIdx(a[o].idx).playTriggerAnimation();return t.next=4,cc.vv.gameData.awaitTime(1);case 4:return t.next=6,cc.vv.gameData.getPopupScript().triBonusGame();case 6:return cc.vv.gameData.getPopupScript().playXiongmaoQpAnim(),t.next=9,cc.vv.gameData.awaitTime(3.2);case 9:return t.next=11,cc.vv.gameData.getBonusSlotsScript().enterBonusGame(!0);case 11:n();case 12:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},ShowWinTrace:function(){for(var e=[],t=[],n=0;n<this._gameInfo.zjLuXian.length;n++)for(var i=this._gameInfo.zjLuXian[n],a=0;a<i.indexs.length;a++)e[i.indexs[a]]=1;if(this._gameInfo.scatterZJLuXian&&this._gameInfo.scatterZJLuXian.indexs)for(var o=0;o<this._gameInfo.scatterZJLuXian.indexs.length;o++){t[this._gameInfo.scatterZJLuXian.indexs[o]]=1}for(var s in e){var c=this.GetSymbolByIdx(Number(s));c&&(c.playWinAnimation(),c.ShowKuang())}for(var r in t){var u=this.GetSymbolByIdx(Number(r));u&&u.playWinAnimation()}},openTheDoor:function(){var e=this;return new Promise(function(){var t=a(regeneratorRuntime.mark(function t(n,i){var a,o,s,c,r,u,l,p,_,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e._spWildCard.idxs,o=e._spWildCard.card,(s=cc.find("FG_damen",e._top_men)).active)Global.SlotsSoundMgr.playEffect("biglockdoorOpen"),s.getComponent(sp.Skeleton).setAnimation(0,"damen_kai",!1);else for(Global.SlotsSoundMgr.playEffect("doorOpen"),c=cc.vv.gameData.isSuperFreeGame()?"xiaomen_kai":"xiaomen_kai2",r=0;r<a.length;r++)(u=e.getDoorNode(a[r])).active=!0,u.getComponent(sp.Skeleton).setAnimation(0,c,!1);return t.next=6,cc.vv.gameData.awaitTime(.5);case 6:for(l=0;l<a.length;l++)e.GetSymbolByIdx(a[l]).ShowById(o);if(a.length!=e._col*e._row){t.next=15;break}p=cc.find("FG_quanpai",e._top_men),s.active||(p.active=!0,Global.SlotsSoundMgr.playEffect("alldoor")),_=cc.vv.gameData.getGameCfg().symbol[o],o>=9?((m=cc.find("B_Lsymbol",e._top_men)).active=!0,_.big_skin&&m.getComponent(sp.Skeleton).setSkin(_.big_skin),m.getComponent(sp.Skeleton).setAnimation(0,_.big_ani,!1)):((m=cc.find("big_symbol",e._top_men)).active=!0,m.getComponent(sp.Skeleton).setAnimation(0,_.big_ani,!1)),m.getComponent(sp.Skeleton).setCompleteListener(function(){m.getComponent(sp.Skeleton).setCompleteListener(null),p.active=!1,m.active=!1,n()}),t.next=18;break;case 15:return t.next=17,cc.vv.gameData.awaitTime(1);case 17:n();case 18:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},closeTheDoor:function(){var e=this._spWildCard.idxs;if(e.length==this._col*this._row){Global.SlotsSoundMgr.playEffect("biglockdoorClose");var t=cc.find("FG_damen",this._top_men);t.active=!0,t.getComponent(sp.Skeleton).setAnimation(0,"damen_guan",!1),t.getComponent(sp.Skeleton).addAnimation(0,"damen_idle",!0)}else{Global.SlotsSoundMgr.playEffect("doorClose");for(var n=cc.vv.gameData.isSuperFreeGame()?"xiaomen_guan":"xiaomen_guan2",i=0;i<e.length;i++){var a=this.getDoorNode(e[i]);a.active=!0,a.getComponent(sp.Skeleton).setAnimation(0,n,!1)}}},getDoorNode:function(e){var t=cc.find("xiaomen_"+e,this._top_men);return t||((t=cc.instantiate(cc.vv.gameData.GetAssetScript().GetPrefabByName("xiaomen"))).parent=this._top_men,t.name="xiaomen_"+e,t.position=this._top_men.convertToNodeSpaceAR(this.GetSymbolByIdx(e).node.convertToWorldSpaceAR(cc.v2(0,0))),t.zIndex=this._col*this._row-e+100),t},ShowGameview:function(e){if(this._super(e),cc.vv.gameData.setIsFreeGame(e),e){Global.SlotsSoundMgr.playBgm("fgbgm");var t=cc.vv.gameData.getFreeWinCoin();this._bottomScript.SetWin(t)}e&&cc.vv.gameData.getBonusTrail().count==cc.vv.gameData.getBonusTrail().totalCount?cc.vv.gameData.setIsSuperFreeGame(!0):cc.vv.gameData.setIsSuperFreeGame(!1),cc.vv.gameData.getCollectScript().setCollectState(!e)}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Shakyamuni_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"bf1d3dRHU5D2YYUKfQHTmJ/","Shakyamuni_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{_type:1},setType:function(e){this._type=e},ShowById:function(e,t){this._super(e,t),this.setNum(),this._type&&2==this._type&&this.setMaskVisible(!0)},setMaskVisible:function(e){var t=cc.vv.gameData.getGameCfg();if(t.symbol[this._id]&&t.symbol[this._id].node){var n=cc.find(t.symbol[this._id].node,this.node);e&&t.symbol[this._id].isMask?n.color=new cc.Color(100,100,100):n.color=cc.Color.WHITE}},setNum:function(e){var t=cc.find("lbl",this.node);return e?(t.active=!0,t.getComponent(cc.Label).string=Global.formatNumShort(e,1)):(t.active=!1,t.getComponent(cc.Label).string="",t.stopAllActions(),t.setScale(1)),t},playTriggerAnimation:function(){var e=!1,t=this._id,n=cc.vv.gameData.getGameCfg();if(n.symbol[t]&&n.symbol[t].win_node&&n.symbol[t].trigger_ani){this._state="trigger",this._showNode&&(this._showNode.active=!1);var i=this.setAnimationToTop(!0);i.active=!0;var a=cc.find(n.symbol[t].win_node,i);if(a.active=!0,""!=n.symbol[t].trigger_ani.name){i.zIndex=n.symbol[t].trigger_ani.zIndex-this._symbolIdx+10*this._reelIdx,e=!0;var o=a.getComponent(sp.Skeleton);o&&o.setAnimation(0,n.symbol[t].trigger_ani.name,!0)}}return e},StopMoveDeep:function(){3==this._id&&this._data&&this.playBonusStopAnim()},playBonusStopAnim:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node)if(this._state="bonusStop",this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0,this._data.spCard){if(""!=t.symbol[e].stop_logoAni.name){this.node.zIndex=t.symbol[e].stop_logoAni.zIndex-this._symbolIdx+10*this._reelIdx;var n=this._showNode.getComponent(sp.Skeleton);n&&n.setAnimation(0,t.symbol[e].stop_logoAni.name,!1)}}else{if(""!=t.symbol[e].stop_numAni.name){this.node.zIndex=t.symbol[e].stop_numAni.zIndex-this._symbolIdx+10*this._reelIdx;var i=this._showNode.getComponent(sp.Skeleton);i&&i.setAnimation(0,t.symbol[e].stop_numAni.name,!1)}if(this._data.coin>0){var a=this.setNum(this._data.coin);a.scaleX=0,cc.tween(a).delay(.4).to(.3,{scaleX:1}).to(.2,{scale:1.3}).to(.2,{scale:1}).start()}}}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["Shakyamuni_BonusReels","Shakyamuni_BonusSlots","Shakyamuni_Cfg","Shakyamuni_Collect","Shakyamuni_GameData","Shakyamuni_Logic","Shakyamuni_Popup","Shakyamuni_Reels","Shakyamuni_Slots","Shakyamuni_Symbol"]);