window.__require=function e(t,n,o){function a(c,i){if(!n[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!i&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=n[c]={exports:{}};t[c][0].call(u.exports,function(e){return a(t[c][1][e]||e)},u,u.exports,e,t,n,o)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<o.length;c++)a(o[c]);return a}({PoliticalStrategist_BonusReel:[function(e,t,n){"use strict";cc._RF.push(t,"5d520B0aO5LmqLs5qk+WXUN","PoliticalStrategist_BonusReel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},OnReelSpinEnd:function(){this._reelState=[];var e=cc.find("bonus_slots",this.node.parent.parent.parent).getComponent("PoliticalStrategist_BonusSlots");e.OnReelSpinEnd(this._reelIdx);var t=e.GetLastStopReelIdx();this._reelIdx==t&&e.OnSpinEnd()},playReelStop:function(){if(this._super(),this._originResult)for(var e=0;e<this._originResult.length;e++){var t=this._symbols[e];t.GetShowId()===this._cfg.bonusId&&(Global.SlotsSoundMgr.playEffect("reelFW"),t.playStopAnimation())}}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],PoliticalStrategist_BonusSlots:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,c=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){i=!0,r=e},f:function(){try{c||null==o.return||o.return()}finally{if(i)throw r}}}}function a(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(e,t,n,o,a,r,c){try{var i=e[r](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(o,a)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var r=e.apply(t,n);function i(e){c(r,o,a,i,s,"next",e)}function s(e){c(r,o,a,i,s,"throw",e)}i(void 0)})}}cc._RF.push(t,"89450Gc1C1Lxaot29mWQSTI","PoliticalStrategist_BonusSlots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_endCallback:null,_wheels:[],_remainTimes:0,_bonusGame:null,_winCoin:0,_curWheel:null},Init:function(){this._super()},createReels:function(e,t){for(var n=0;n<e;n++){var o=cc.find("reels/reel"+(n+1),this.node).addComponent("PoliticalStrategist_BonusReel");o.Init(n,t,this._topAniNode),this._reels.push(o)}},startBonusGame:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=i(regeneratorRuntime.mark(function n(o){var a,r,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("bgbgm"),t._bonusGame=e,t._endCallback=o,t.node.active=!0,a=cc.find("firewheel_node",t.node),t.initAllSymbols(),r=regeneratorRuntime.mark(function n(o){var r,c,i,s,l,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.items[o],c=t.GetSymbolByIdx(r.idx),(i=cc.instantiate(cc.find("ChengBeiTiShi",t.node))).parent=c.node,i.active=!0,Global.SlotsSoundMgr.playEffect("bgFWcollect"),i.getComponent(sp.Skeleton).setAnimation(0,"HuoLun_FGDA_TiShi",!1),i.getComponent(sp.Skeleton).setCompleteListener(function(){i.getComponent(sp.Skeleton).setCompleteListener(null),i.removeFromParent(),c.showNormalBonus()}),(s=cc.instantiate(cc.vv.gameData.GetPrefabByName("symbol"))).addComponent("PoliticalStrategist_Symbol"),s.parent=cc.find("firewheel_layout",a),l=c.node.convertToWorldSpaceAR(cc.v2(0,0)),l=s.parent.convertToNodeSpaceAR(l),s.position=l,s.getComponent("PoliticalStrategist_Symbol").ShowById(t._cfg.bonusId,r),s.getComponent("PoliticalStrategist_Symbol").playidleAnimation(),u=cc.v2(60*(.5+o),0),t._wheels.push(s),cc.tween(s).to(.5,{position:u,scale:.5}).call(function(){var e=cc.instantiate(cc.find("ChengBeiTiShi",t.node));e.parent=s,e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,"HuoLun_FGDA_TiShi",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){e.getComponent(sp.Skeleton).setCompleteListener(null),e.removeFromParent()});var n=cc.find("times/ChengBeiTiShi",a);n.active=!0,n.getComponent(sp.Skeleton).setAnimation(0,"HuoLun_FGNG _TiShi",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){n.getComponent(sp.Skeleton).setCompleteListener(null),n.active=!1}),t._remainTimes++,cc.find("times",a).getComponent(cc.Label).string=t._remainTimes}).start(),n.next=21,cc.vv.gameData.awaitTime(.5);case 21:case"end":return n.stop()}},n)}),c=0;case 9:if(!(c<e.items.length)){n.next=14;break}return n.delegateYield(r(c),"t0",11);case 11:c++,n.next=9;break;case 14:return n.next=16,cc.vv.gameData.awaitTime(1);case 16:t.reqSpin();case 17:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},initAllSymbols:function(){var e=cc.vv.gameData.getGameInfo();if(e){for(var t=0;t<e.resultCards.length;t++){var n=e.resultCards[t];this.GetSymbolByIdx(t+1).ShowById(n)}var a,r=o(this._bonusGame.items);try{for(r.s();!(a=r.n()).done;){var c=a.value,i=this.GetSymbolByIdx(c.idx);i.ShowById(this._cfg.bonusId,c),i.playidleAnimation()}}catch(e){r.e(e)}finally{r.f()}}else for(var s=0;s<15;s++){this.GetSymbolByIdx(s+1).ShowRandomSymbol()}},StartMove:function(){this._super(),this._remainTimes--,cc.find("firewheel_node/times",this.node).getComponent(cc.Label).string=this._remainTimes},ReconnectShow:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,a,r,c,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=cc.vv.gameData.getDeskInfo()).bonusGame){t.next=14;break}for(e.node.active=!0,cc.vv.gameData.setInBonusGame(!0),o=cc.find("firewheel_node",e.node),a=0;a<n.bonusGame.items.length;a++)r=n.bonusGame.items[a],(c=cc.instantiate(cc.vv.gameData.GetPrefabByName("symbol"))).parent=cc.find("firewheel_layout",o),c.addComponent("PoliticalStrategist_Symbol"),c.getComponent("PoliticalStrategist_Symbol").ShowById(e._cfg.bonusId,r),c.getComponent("PoliticalStrategist_Symbol").playidleAnimation(),c.scale=.5,i=cc.v2(60*(.5+a),0),c.position=i,e._wheels.push(c);return e._remainTimes=n.bonusGame.items.length,cc.find("times",o).getComponent(cc.Label).string=e._remainTimes,t.next=10,cc.vv.gameData.awaitTime(.5);case 10:cc.find("slots",e.node.parent).active=!1,e.reqSpin(),t.next=15;break;case 14:e.node.active=!1;case 15:case"end":return t.stop()}},t)}))()},reqSpin:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,a,r,c,i,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e.StartMove(),n=e._wheels[0],(o=cc.instantiate(cc.vv.gameData.GetPrefabByName("symbol"))).parent=e.node,o.addComponent("PoliticalStrategist_Symbol"),o.getComponent("PoliticalStrategist_Symbol").ShowById(e._cfg.bonusId,n.getComponent("PoliticalStrategist_Symbol").GetData()),o.getComponent("PoliticalStrategist_Symbol").playidleAnimation(),a=n.convertToWorldSpaceAR(cc.v2(0,0)),a=e.node.convertToNodeSpaceAR(a),o.position=a,e._curWheel=o,n.active=!1,r=cc.find("firewheel_node/middle_node",e.node).convertToWorldSpaceAR(cc.v2(0,0)),r=e.node.convertToNodeSpaceAR(r),cc.log(r),Global.SlotsSoundMgr.playEffect("bgFWfly"),cc.tween(o).to(.5,{position:r,scale:2}).start(),c=1;c<e._wheels.length;c++)i=e._wheels[c],cc.tween(i).by(.5,{x:-60}).start();return t.next=20,cc.vv.gameData.awaitTime(1);case 20:return s={rtype:1},t.next=23,cc.vv.gameData.reqSubGame(s);case 23:200!==(l=t.sent).code||l.spcode||e.onMsgSpine(l.data);case 25:case"end":return t.stop()}},t)}))()},onMsgSpine:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t._gameInfo=e.result,t._bonusGame=e.bonusGame,o=e.result.resultCards,t.SetSlotsResult(o);case 4:case"end":return n.stop()}},n)}))()},SetSlotsResult:function(e){for(var t=e.length/this._col,n=[],a=0;a<e.length;a++){Math.floor(a/t);var r=a%this._col;if(this._cfg.symbol[e[a]]){var c={};if(c.sid=e[a],e[a]===this._cfg.bonusId){var i,s=o(this._gameInfo.newItems);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(l.idx===a+1){c.data=l;break}}}catch(e){s.e(e)}finally{s.f()}}n[r]||(n[r]=[]),n[r].unshift(c)}}for(var u=0;u<this._reels.length;u++){var m=this._reels[u],p=n[u];m.SetResult(p)}},ShowWinTrace:function(){this._super()},OnSpinEnd:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e._gameInfo.winCoin>0&&e._gameInfo.item.mult>1)){t.next=3;break}return t.next=3,new Promise(function(t){Global.SlotsSoundMgr.playEffect("bgFWmult");var n=e._wheels[0];cc.tween(n).to(.2,{scale:2.1}).to(.2,{scale:2}).delay(.5).call(function(){t()}).start();var o=cc.instantiate(cc.find("ChengBeiTiShi",e.node));o.parent=n,o.active=!0,o.getComponent(sp.Skeleton).setAnimation(0,"HuoLun_FGDA_TiShi",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(){o.removeFromParent()})});case 3:e.ShowWinTrace(),n=e._gameInfo.lineWinCoin*e._gameInfo.item.mult,o=e._bonusGame.winCoin-e._gameInfo.winCoin+n,e.ShowBottomWin(n,o,!0,i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.triggerFireWheel();case 2:if(!e._bonusGame.isEnd){t.next=18;break}return t.next=5,e.popBonusResultDialog();case 5:if(!e._endCallback){t.next=10;break}e._endCallback(),e._endCallback=null,t.next=18;break;case 10:return(n=cc.vv.gameData.GetSlotsScript()).cutSceneFire(),t.next=14,cc.vv.gameData.awaitTime(1);case 14:cc.vv.gameData.setInBonusGame(!1),n.node.active=!0,e.node.active=!1,n.ShowBottomWin(e._bonusGame.winCoin,e._bonusGame.winCoin,!0,function(){n.CanDoNextRound()});case 18:case"end":return t.stop()}},t)})));case 7:case"end":return t.stop()}},t)}))()},triggerFireWheel:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,a,r,c,i,s,l,u,m,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e._gameInfo.newItems.length>0)){t.next=19;break}n=o(e._gameInfo.newItems),t.prev=2,r=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.value,t.next=3,new Promise(function(t){var o=e.GetSymbolByIdx(n.idx);Global.SlotsSoundMgr.playEffect("bgFWcollect"),cc.tween(o.node).to(.2,{scale:1.1}).to(.2,{scale:1}).call(function(){o.showNormalBonus();var a=cc.instantiate(cc.vv.gameData.GetPrefabByName("symbol"));a.addComponent("PoliticalStrategist_Symbol"),a.parent=cc.find("firewheel_node/firewheel_layout",e.node),a.position=cc.v2(60*(.5+e._wheels.length-1),0),a.scale=0,a.getComponent("PoliticalStrategist_Symbol").ShowById(e._cfg.bonusId,n),a.getComponent("PoliticalStrategist_Symbol").playidleAnimation(),cc.tween(a).to(.2,{scale:.5}).start(),e._wheels.push(a);var r=cc.find("firewheel_node/times/ChengBeiTiShi",e.node);r.active=!0,r.getComponent(sp.Skeleton).setAnimation(0,"HuoLun_FGNG_TiShi",!1),r.getComponent(sp.Skeleton).setCompleteListener(function(){r.getComponent(sp.Skeleton).setCompleteListener(null),r.active=!1}),e._remainTimes++,cc.find("firewheel_node/times",e.node).getComponent(cc.Label).string=e._remainTimes;var c=cc.instantiate(cc.find("ChengBeiTiShi",e.node));c.parent=a,c.active=!0,c.getComponent(sp.Skeleton).setAnimation(0,"HuoLun_FGDA_TiShi",!1),c.getComponent(sp.Skeleton).setCompleteListener(function(){c.removeFromParent(),t()})}).start();var a=cc.instantiate(cc.find("ChengBeiTiShi",e.node));a.parent=o.node,a.active=!0,a.getComponent(sp.Skeleton).setAnimation(0,"HuoLun_FGDA_TiShi",!1),a.getComponent(sp.Skeleton).setCompleteListener(function(){a.removeFromParent()})});case 3:case"end":return t.stop()}},t)}),n.s();case 5:if((a=n.n()).done){t.next=9;break}return t.delegateYield(r(),"t0",7);case 7:t.next=5;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),n.e(t.t1);case 14:return t.prev=14,n.f(),t.finish(14);case 17:return t.next=19,cc.vv.gameData.awaitTime(.5);case 19:if(!e._gameInfo.item.isJackpot){t.next=81;break}return cc.find("black_bg",e.node).active=!0,e._wheels[0],Global.SlotsSoundMgr.playEffect("bgJPdown"),c=cc.find("black_bg",e.node).convertToWorldSpaceAR(cc.v2(0,0)),c=e.node.convertToNodeSpaceAR(c),cc.tween(e._curWheel).to(.5,{scale:2,position:c}).start(),t.next=28,cc.vv.gameData.awaitTime(1);case 28:if(i=e._curWheel.getComponent("PoliticalStrategist_Symbol").getBonusSpine(),s=["Mini","Minor","Major","Grand"],!e._gameInfo.item.jackpot){t.next=69;break}if(l=cc.find("LMSlots_PrizePool_1/prizePool_"+s[e._gameInfo.item.jackpot.id-1],e.node.parent),!e._gameInfo.item.jackpot.value){t.next=53;break}return Global.SlotsSoundMgr.playEffect("JPchangeFast"),i.setAnimation(0,"HuoLun_"+s[e._gameInfo.item.jackpot.id-1]+"_Intro2",!1),i.addAnimation(0,"HuoLun_"+s[e._gameInfo.item.jackpot.id-1]+"_Loop1",!0),t.next=38,cc.vv.gameData.awaitTime(3);case 38:return i.setAnimation(0,"HuoLun_"+s[e._gameInfo.item.jackpot.id-1]+"_Loop2",!0),u=null,u=e._gameInfo.item.jackpot.id>2?cc.find("reward_3",l).convertToWorldSpaceAR(cc.v2(0,0)):cc.find("reward_1",l).convertToWorldSpaceAR(cc.v2(0,0)),cc.find("black_bg",e.node).active=!1,u=e.node.convertToNodeSpaceAR(u),Global.SlotsSoundMgr.playEffect("JPcollect"),cc.tween(e._curWheel).to(.5,{position:u,scale:.5}).call(function(){e._wheels.shift()}).removeSelf().start(),cc.find("reward_1/HuoLun",l).active=!0,cc.find("jp_kuang",l).active=!0,t.next=49,cc.vv.gameData.awaitTime(1.5);case 49:return t.next=51,e.popJackpotDialog();case 51:t.next=67;break;case 53:return Global.SlotsSoundMgr.playEffect("JPchange"),i.setAnimation(0,"HuoLun_"+s[e._gameInfo.item.jackpot.id-1]+"_Intro1",!1),i.addAnimation(0,"HuoLun_"+s[e._gameInfo.item.jackpot.id-1]+"_Loop1",!0),t.next=58,cc.vv.gameData.awaitTime(3);case 58:return cc.find("black_bg",e.node).active=!1,i.setAnimation(0,"HuoLun_"+s[e._gameInfo.item.jackpot.id-1]+"_Loop2",!0),m=3===e._gameInfo.item.jackpot.id?e._bonusGame.majorCnt:e._bonusGame.grandCnt,p=cc.find("reward_"+m,l).convertToWorldSpaceAR(cc.v2(0,0)),p=e.node.convertToNodeSpaceAR(p),Global.SlotsSoundMgr.playEffect("JPcollect"),cc.tween(e._curWheel).to(.5,{position:p,scale:.5}).call(function(){cc.find("reward_"+m+"/HuoLun",l).active=!0,e._wheels.shift()}).removeSelf().start(),t.next=67,cc.vv.gameData.awaitTime(1.5);case 67:t.next=79;break;case 69:return e._curWheel.getComponent("PoliticalStrategist_Symbol").showWheelCoin(e._gameInfo.item.coin),t.next=72,cc.vv.gameData.awaitTime(3);case 72:return cc.find("black_bg",e.node).active=!1,e._wheels.shift(),cc.tween(e._curWheel).to(.3,{opacity:0}).removeSelf().start(),t.next=77,cc.vv.gameData.awaitTime(.5);case 77:return t.next=79,new Promise(function(t){e.ShowBottomWin(e._gameInfo.winCoin-e._gameInfo.lineWinCoin,e._bonusGame.winCoin,!1,function(){t()})});case 79:t.next=85;break;case 81:return e._wheels.shift(),cc.tween(e._curWheel).to(.3,{opacity:0}).removeSelf().start(),t.next=85,cc.vv.gameData.awaitTime(.5);case 85:return t.next=87,cc.vv.gameData.awaitTime(.5);case 87:e._bonusGame.isEnd||e.reqSpin();case 88:case"end":return t.stop()}},t,null,[[2,11,14,17]])}))()},popJackpotDialog:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n){var o,a,r,c,s,l,u,m,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("JPwin"),(o=cc.find("free_dialog",e.node.parent)).active=!0,(a=cc.find("jackpot_node",o)).active=!0,a.scale=1,r=["Mini","Minor","Major","Grand"],(c=cc.find(r[e._gameInfo.item.jackpot.id-1],a)).active=!0,c.scale=0,cc.tween(c).to(.5,{scale:1},{easing:"backOut"}).start(),s=["mini","minor","major","grand"],Global.SlotsSoundMgr.playEffect("VO_"+s[e._gameInfo.item.jackpot.id-1]+"_jackpot_EN"),(l=cc.find("yifenkuang",a)).scale=0,cc.tween(l).delay(.1).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("coin",l).getComponent(cc.Label).string=Global.FormatNumToComma(e._gameInfo.jackpotValues[e._gameInfo.item.jackpot.id-1]),(u=cc.find("btn_collect",a)).scale=0,cc.tween(u).delay(.2).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=22,cc.vv.gameData.awaitTime(1);case 22:m=cc.find("LMSlots_PrizePool_1/prizePool_"+r[e._gameInfo.item.jackpot.id-1],e.node.parent),u.off("click"),p=function(){var t=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u.off("click"),Global.SlotsSoundMgr.playEffect("button"),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){for(var t=1;t<4;t++){var r=cc.find("reward_"+t,m);r&&(cc.find("HuoLun",r).active=!1)}cc.find("jp_kuang",m).active=!1,o.active=!1,a.active=!1,c.active=!1;var i=e._gameInfo.jackpotValues[e._gameInfo.item.jackpot.id-1],s=e._bonusGame.winCoin;e.ShowBottomWin(i,s,!1,function(){n()})}).start();case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(u,p),u.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.stopAllActions(),e.next=3,p();case 3:case"end":return e.stop()}},e)})));case 27:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},popBonusResultDialog:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n){var o,a,r,c,s,l,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("bgend"),(o=cc.find("free_dialog",e.node.parent)).active=!0,(a=cc.find("bonus_result_node",o)).active=!0,a.scale=1,(r=cc.find("freetanchuang",a)).scale=0,cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),(c=cc.find("total_won_EN",a)).scale=0,cc.tween(c).delay(.1).to(.5,{scale:1},{easing:"backOut"}).start(),(s=cc.find("yifenkuang",a)).scale=0,cc.tween(s).delay(.2).to(.5,{scale:1},{easing:"backOut"}).start(),e._winCoin=e._bonusGame.winCoin,cc.find("coin",s).getComponent(cc.Label).string=Global.FormatNumToComma(e._bonusGame.winCoin),(l=cc.find("btn_collect",a)).scale=0,cc.tween(l).delay(.3).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=22,cc.vv.gameData.awaitTime(1);case 22:l.off("click"),u=function(){var t=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:l.off("click"),Global.SlotsSoundMgr.playEffect("button"),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){for(var t=["Mini","Minor","Major","Grand"],r=0;r<t.length;r++)for(var c=cc.find("LMSlots_PrizePool_1/prizePool_"+t[r],e.node.parent),i=1;i<4;i++){var s=cc.find("reward_"+i,c);s&&(cc.find("HuoLun",s).active=!1)}o.active=!1,a.active=!1,n()}).start();case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(l,u),l.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.stopAllActions(),e.next=3,u();case 3:case"end":return e.stop()}},e)})));case 26:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},getWinCoin:function(){return this._winCoin}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],PoliticalStrategist_Cfg:[function(e,t,n){"use strict";var o;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"36c503KP+lPHp8sScsW7wh8","PoliticalStrategist_Cfg");var r={symbol:(o={},a(o,1,{node:"symbol_1",win_node:"animation_1",win_ani:{name:"wild",zIndex:300}}),a(o,2,{node:"symbol_2",win_node:"animation_2",stop_ani:{name:"Fall",zIndex:100},win_ani:{name:"zhongjiang",zIndex:300}}),a(o,3,{node:"symbol_3",win_node:"animation_3"}),a(o,4,{node:"symbol_4",win_node:"animation_4",win_ani:{name:"H1",zIndex:300},trigger_ani:{name:"H1_liang",zIndex:400}}),a(o,5,{node:"symbol_5",win_node:"animation_5",win_ani:{name:"H2",zIndex:300}}),a(o,6,{node:"symbol_6",win_node:"animation_6",win_ani:{name:"animation",zIndex:300}}),a(o,7,{node:"symbol_7",win_node:"animation_7",win_ani:{name:"H4",zIndex:300}}),a(o,8,{node:"symbol_8",win_node:"animation_8",win_ani:{name:"L1",zIndex:300}}),a(o,9,{node:"symbol_9",win_node:"animation_9",win_ani:{name:"L2",zIndex:300}}),a(o,10,{node:"symbol_10",win_node:"animation_10",win_ani:{name:"L3",zIndex:300}}),a(o,11,{node:"symbol_11",win_node:"animation_11",win_ani:{name:"L4",zIndex:300}}),a(o,12,{node:"symbol_12",win_node:"animation_12",win_ani:{name:"L5",zIndex:300}}),o),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"PoliticalStrategist_Slots",Reels:"PoliticalStrategist_Reel",Symbols:"PoliticalStrategist_Symbol"},col:5,row:3,symbolPrefab:"symbol",symbolSize:{width:120,height:110},randomSymbols:[1,3,4,5,6,7,8,9,10],wildId:1,scatterId:2,bonusId:3,collectSymbolId:4,kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,bounceInfo:{distance:30,time:.1},autoModelDelay:1,AddAntiTime:1.5,reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/PoliticalStrategist/",reelStopSound:"reelstop",symbolStopSound:"reelsctr",antSound:"reelfast",antSpeed:2e3}],helpItems:["games/PoliticalStrategist/prefab/help_item_1","games/PoliticalStrategist/prefab/help_item_2","games/PoliticalStrategist/prefab/help_item_3","games/PoliticalStrategist/prefab/help_item_4"],commEffect:{path:"games/PoliticalStrategist/",win1:["win_a","win_end"],win2:["win_b","win_end"],win3:["win_c","win_end"],win4:["win_d","win_end"]},normalBgm:"ngbgm"};t.exports=r,cc._RF.pop()},{}],PoliticalStrategist_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"ba484LMx/BL3qoQijfFgJyx","PoliticalStrategist_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{_inBonusGame:!1},RegisterMsg:function(){this._super(),cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,this)},setInBonusGame:function(e){this._inBonusGame=e},getInBonusGame:function(){return this._inBonusGame},UnregisterMsg:function(){this._super(),cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onRcvSubGameAction,!1,this)},isNormalFreeOver:function(){return this._gameInfo.allFreeCnt>0&&0===this._gameInfo.freeCnt},isInFreeGame:function(){return this._gameInfo.freeCnt>0&&this._gameInfo.allFreeCnt!==this._gameInfo.freeCnt},reqSubGame:function(e){var t=this;return new Promise(function(n){var o={c:MsgId.SLOT_SUBGAME_DATA,gameid:t._gameId,data:e};cc.vv.NetManager.send(o,!0),t._subCallBack=n})},onRcvSubGameAction:function(e){this._subCallBack&&(this._subCallBack(e),this._subCallBack=null)}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],PoliticalStrategist_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"872fbvcamJEPZ/QRIvoy1y2","PoliticalStrategist_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{_lockBonus:!1},onLoad:function(){this._super();var e=cc.vv.gameData.getDeskInfo();this._lockBonus=e.needBet>e.currmult,Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onUpdateBet,this),Global.SlotsSoundMgr.playEffect("VO_lets_start_the_quest_of_nezha_EN")},InitCommComponent:function(){this._super();var e=cc.find("safe_node/bonus_slots",this.node);e.active=!0,e.addComponent("PoliticalStrategist_BonusSlots").Init()},onUpdateBet:function(){var e=cc.vv.gameData.getDeskInfo(),t=cc.find("safe_node/slots/collect_node/bonus_node/lock",this.node).getComponent(sp.Skeleton);e.needBet<=cc.vv.gameData.GetBetIdx()&&this._lockBonus?(Global.SlotsSoundMgr.playEffect("unlock"),t.setAnimation(0,"jiesuo",!1),this._lockBonus=!1):e.needBet>cc.vv.gameData.GetBetIdx()&&!this._lockBonus&&(Global.SlotsSoundMgr.playEffect("lock"),this._lockBonus=!0,t.setAnimation(0,"shangsuo",!1),t.addAnimation(0,"idle",!0))}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],PoliticalStrategist_Map:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,c=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){i=!0,r=e},f:function(){try{c||null==o.return||o.return()}finally{if(i)throw r}}}}function a(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(e,t,n,o,a,r,c){try{var i=e[r](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(o,a)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var r=e.apply(t,n);function i(e){c(r,o,a,i,s,"next",e)}function s(e){c(r,o,a,i,s,"throw",e)}i(void 0)})}}cc._RF.push(t,"2adecvLoMpC8JT2z0iXwoLN","PoliticalStrategist_Map");var s=0,l=1,u=2,m=3,p=4,f=5;cc.Class({extends:cc.Component,properties:{mapLevel:cc.Sprite,levelPrize:cc.Label,mapStar:cc.Node,starPercent:cc.Label,btnClose:cc.Node,basePrize:cc.Label,totalWin:cc.Label,boxMulti:cc.Label,pearlMulti:cc.Label,fishMulti:cc.Label,sanchajiMulti:cc.Label,prizeBoosterMulti:cc.Label,jianglibian:sp.Skeleton,detail:cc.Node,points:[cc.Node],role:cc.Node,role_spine:sp.Skeleton,arrow_up:cc.Node,touch_up:cc.Node,arrow_down:cc.Node,touch_down:cc.Node,arrow_left:cc.Node,touch_left:cc.Node,arrow_right:cc.Node,touch_right:cc.Node,role_prizeBooster:sp.Skeleton,role_pearl:sp.Skeleton,role_pearlMulti:cc.Node,role_box:sp.Skeleton,role_sanchaji:sp.Skeleton,role_fish:sp.Skeleton,role_coin:cc.Label,wheel:cc.Node,pickGame:cc.Node,boxSelect:cc.Node,boxSelectBlackBg:cc.Node,boxLevelPrize:cc.Node,boxLevelPrizeCoin:cc.Label,boxMysteryPrize:cc.Node,boxMysteryPrizeMinCoin:cc.Label,boxMysteryPrizeMaxCoin:cc.Label,boxMysteryPrizeCoin:cc.Label,boxSelectChooseBoard:cc.Node,resultNode:cc.Node,resultBoxEnd:cc.Node,resultPearlEnd:cc.Node,resultSanchajiEnd:cc.Node,resultWinCoin:cc.Label,btnCollect:cc.Node,dialogNode:cc.Node,_endCallback:null,_curIndex:0,_collectGame:null,_finalWinCoin:0,_canGo:!0},openMap:function(e){var t=this;this.node.active=!0,this._collectGame=e,this.mapLevel.node.getComponent("ImgSwitchCmp").setIndex(e.level-1),this.levelPrize.string=Global.FormatNumToComma(e.levelPrizeMult*(1+e.boosterPercent/100)*e.startPrize),this.boxMulti.string="X"+e.itemCnt[0],this.pearlMulti.string="X"+e.itemCnt[1],this.fishMulti.string="X"+e.itemCnt[2],this.sanchajiMulti.string="X"+e.itemCnt[3],this.prizeBoosterMulti.string="X"+e.itemCnt[4],this.basePrize.string=Global.FormatNumToComma(e.startPrize),this.totalWin.string=Global.FormatNumToComma(0),this._curIndex=e.currIdx;var n=cc.find("point_"+e.currIdx,this.detail).convertToWorldSpaceAR(cc.v2(0,0));n=this.detail.parent.convertToNodeSpaceAR(n),this.role.position=n,this.resetRole(),this.hideArrow();for(var o=0;o<e.boardInfo.length;o++){var a=e.boardInfo[o];this.showInfo(o+1,a)}this.btnClose.active=!0,this.btnClose.off("click"),this.btnClose.on("click",function(){t.btnClose.off("click"),Global.SlotsSoundMgr.playEffect("mapInOut"),t.node.active=!1})},startMapGame:function(e){var t=this;return new Promise(function(){var n=i(regeneratorRuntime.mark(function n(o){var a,r,c,i,s,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(t.btnClose.active=!1,Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("mapbgm"),t.node.active=!0,t._endCallback=o,t._collectGame=e,t.mapLevel.node.getComponent("ImgSwitchCmp").setIndex(e.level-1),t.levelPrize.string=Global.FormatNumToComma(e.levelPrizeMult*(1+e.boosterPercent/100)*e.startPrize),t.boxMulti.string="X"+e.itemCnt[0],t.pearlMulti.string="X"+e.itemCnt[1],t.fishMulti.string="X"+e.itemCnt[2],t.sanchajiMulti.string="X"+e.itemCnt[3],t.prizeBoosterMulti.string="X"+e.itemCnt[4],t.basePrize.string=Global.FormatNumToComma(e.startPrize),t.totalWin.string=Global.FormatNumToComma(e.roundInfo.winCoin),t._curIndex=e.currIdx,a=cc.find("point_"+e.currIdx,t.detail).convertToWorldSpaceAR(cc.v2(0,0)),a=t.detail.parent.convertToNodeSpaceAR(a),t.role.position=a,t.resetRole(),1===e.state?t.showArrow(e.currIdx):t.hideArrow(),r=0;r<e.boardInfo.length;r++)c=e.boardInfo[r],t.showInfo(r+1,c);if(t.touch_up.off(cc.Node.EventType.TOUCH_END),t.touch_up.on(cc.Node.EventType.TOUCH_END,function(){t._canGo&&t.arrow_up.active&&t.go(1)}),t.touch_down.off(cc.Node.EventType.TOUCH_END),t.touch_down.on(cc.Node.EventType.TOUCH_END,function(){t._canGo&&t.arrow_down.active&&t.go(2)}),t.touch_left.off(cc.Node.EventType.TOUCH_END),t.touch_left.on(cc.Node.EventType.TOUCH_END,function(){t._canGo&&t.arrow_left.active&&t.go(3)}),t.touch_right.off(cc.Node.EventType.TOUCH_END),t.touch_right.on(cc.Node.EventType.TOUCH_END,function(){t._canGo&&t.arrow_right.active&&t.go(4)}),2!==e.state){n.next=66;break}if((i=e.boardInfo[e.currIdx-1]).type!==m){n.next=49;break}return s=t.pickGame.getComponent("PoliticalStrategist_PickGame"),t.pickGame.active=!0,n.next=37,s.startPick(t._collectGame);case 37:return t._collectGame=s.getCollectGame(),n.next=40,cc.vv.gameData.awaitTime(.5);case 40:return t.cutSceneFish(!1),n.next=43,cc.vv.gameData.awaitTime(1.5);case 43:return t.pickGame.active=!1,n.next=46,cc.vv.gameData.awaitTime(1);case 46:t.popResult(3),n.next=64;break;case 49:if(i.type!==p){n.next=64;break}return l=t.wheel.getComponent("PoliticalStrategist_Wheel"),t.wheel.active=!0,n.next=54,l.startWheel(t._collectGame);case 54:return t._collectGame=l.getCollectGame(),n.next=57,cc.vv.gameData.awaitTime(.5);case 57:return t.cutSceneSanchaji(!1),n.next=60,cc.vv.gameData.awaitTime(1.5);case 60:return t.wheel.active=!1,n.next=63,cc.vv.gameData.awaitTime(1);case 63:t.popResult(3);case 64:n.next=67;break;case 66:3===e.state&&t.chooseBox();case 67:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())},go:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,a,r,c,d,g,v,_,h,b,S,w,y;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Global.SlotsSoundMgr.playEffect("mapPointer"),t.hideArrow(),o=t._curIndex,n.t0=e,n.next=1===n.t0?6:2===n.t0?9:3===n.t0?12:4===n.t0?15:18;break;case 6:return o=t._curIndex-6,t.role_spine.node.scaleX=1,n.abrupt("break",18);case 9:return o=t._curIndex+6,t.role_spine.node.scaleX=1,n.abrupt("break",18);case 12:return o=t._curIndex-1,t.role_spine.node.scaleX=1,n.abrupt("break",18);case 15:return o=t._curIndex+1,t.role_spine.node.scaleX=-1,n.abrupt("break",18);case 18:if(!t._collectGame.boardInfo[o-1].isOpen){n.next=32;break}return t.showInfo(t._curIndex,t._collectGame.boardInfo[t._curIndex-1]),t.resetRole(),t._curIndex=o,a=cc.find("point_"+t._curIndex,t.detail),r=a.convertToWorldSpaceAR(cc.v2(0,0)),r=t.detail.parent.convertToNodeSpaceAR(r),Global.SlotsSoundMgr.playEffect("NezhaMove"),cc.tween(t.role).to(.5,{position:r}).start(),n.next=30,cc.vv.gameData.awaitTime(1);case 30:return t.showArrow(t._curIndex),n.abrupt("return");case 32:return c={rtype:2,choiceId:o},n.next=35,cc.vv.gameData.reqSubGame(c);case 35:if(200!==(d=n.sent).code){n.next=162;break}return t.showInfo(t._curIndex,t._collectGame.boardInfo[t._curIndex-1]),g=d.data.collectGame,cc.vv.gameData.getDeskInfo().collectGame=d.data.collectGame,t._collectGame=g,t._curIndex=g.currIdx,v=cc.find("point_"+t._curIndex,t.detail),cc.find("bg",v).active=!1,Global.SlotsSoundMgr.playEffect("mapCrack"),(_=cc.find("map_shuikuai",v).getComponent(sp.Skeleton)).node.active=!0,_.setAnimation(0,"shui4",!1),_.setCompleteListener(function(){_.setCompleteListener(null),_.node.active=!1}),t.resetRole(),h=v.convertToWorldSpaceAR(cc.v2(0,0)),h=t.detail.parent.convertToNodeSpaceAR(h),Global.SlotsSoundMgr.playEffect("NezhaMove"),cc.tween(t.role).to(.5,{position:h}).start(),n.next=56,cc.vv.gameData.awaitTime(1);case 56:if((b=g.boardInfo[t._curIndex-1]).type!==s){n.next=68;break}return Global.SlotsSoundMgr.playEffect("mapCredit"),t.role_coin.node.active=!0,t.role_coin.string=Global.formatNumShort(b.coin,0),t.role_coin.node.scale=0,cc.tween(t.role_coin.node).to(.5,{scale:1},{easing:"backOut"}).call(function(){Global.doRoallNumEff(t.totalWin.node,g.roundInfo.baseCoin-b.coin,g.roundInfo.baseCoin,1.5,null,null,0,!0)}).start(),n.next=65,cc.vv.gameData.awaitTime(2);case 65:t.showArrow(t._curIndex),n.next=162;break;case 68:if(b.type!==l){n.next=75;break}Global.SlotsSoundMgr.playEffect("mapCredit"),t.role_box.node.active=!0,t.role_box.setAnimation(0,"box_intro",!1),t.role_box.setCompleteListener(function(){t.role_box.setCompleteListener(null),Global.SlotsSoundMgr.playEffect("mapChestShake"),t.role_box.setAnimation(0,"box_open",!1);var e=t.node.convertToWorldSpaceAR(cc.v2(0,0));e=t.role.convertToNodeSpaceAR(e),cc.tween(t.role_box.node).to(.5,{position:e}).start(),t.role_box.setCompleteListener(function(){t.role_box.setCompleteListener(null),t.role_box.node.position=cc.v2(0,0),t.role_box.node.active=!1,t.chooseBox()})}),n.next=162;break;case 75:if(b.type!==f){n.next=82;break}Global.SlotsSoundMgr.playEffect("mapCredit"),t.role_prizeBooster.node.active=!0,t.role_prizeBooster.setAnimation(0,"Prizebooster",!1),t.role_prizeBooster.setCompleteListener(i(regeneratorRuntime.mark(function e(){var n,o,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.role_prizeBooster.setCompleteListener(null),t.jianglibian.node.active=!0,n=t.prizeBoosterMulti.node.parent.convertToWorldSpaceAR(cc.v2(0,0)),n=t.node.convertToNodeSpaceAR(n),t.jianglibian.node.position=n,t.jianglibian.setAnimation(0,"Map_jiangliban",!1),t.jianglibian.setCompleteListener(function(){t.jianglibian.setCompleteListener(null),t.jianglibian.node.active=!1,t.prizeBoosterMulti.string="X"+t._collectGame.itemCnt[4]}),Global.SlotsSoundMgr.playEffect("mapAdded"),(o=cc.instantiate(cc.find("particle_fly",t.node.parent))).active=!0,a=t.role_prizeBooster.node.convertToWorldSpaceAR(cc.v2(0,0)),a=t.node.parent.convertToNodeSpaceAR(a),r=t.mapStar.convertToWorldSpaceAR(cc.v2(0,0)),r=t.node.parent.convertToNodeSpaceAR(r),o.parent=t.node.parent,o.position=a,cc.tween(o).to(.5,{position:r}).call(function(){t.starPercent.string=t._collectGame.boosterPercent+"%"}).removeSelf().start(),e.next=19,cc.vv.gameData.awaitTime(1);case 19:t.showArrow(t._curIndex);case 20:case"end":return e.stop()}},e)}))),n.next=162;break;case 82:if(b.type!==u){n.next=108;break}return Global.SlotsSoundMgr.playEffect("mapCredit"),t.role_pearl.node.active=!0,t.role_pearlMulti.active=!1,t.role_pearl.setAnimation(0,"map_beike_inro",!1),n.next=89,cc.vv.gameData.awaitTime(1);case 89:t.role_pearl.setAnimation(0,"map_beike_open",!1),S=0,n.t1=t._collectGame.roundInfo.mult,n.next=2===n.t1?94:3===n.t1?96:5===n.t1?98:10===n.t1?100:25===n.t1?102:104;break;case 94:return S=0,n.abrupt("break",104);case 96:return S=1,n.abrupt("break",104);case 98:return S=2,n.abrupt("break",104);case 100:return S=3,n.abrupt("break",104);case 102:return S=4,n.abrupt("break",104);case 104:t.role_pearlMulti.getComponent("ImgSwitchCmp").setIndex(S),t.role_pearl.setCompleteListener(i(regeneratorRuntime.mark(function e(){var n,o,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.role_pearl.setCompleteListener(null),t.jianglibian.node.active=!0,n=t.pearlMulti.node.parent.convertToWorldSpaceAR(cc.v2(0,0)),n=t.node.convertToNodeSpaceAR(n),t.jianglibian.node.position=n,t.jianglibian.setAnimation(0,"Map_jiangliban",!1),t.jianglibian.setCompleteListener(function(){t.jianglibian.setCompleteListener(null),t.jianglibian.node.active=!1,t.pearlMulti.string="X"+t._collectGame.itemCnt[1]}),Global.SlotsSoundMgr.playEffect("mapAdded"),(o=cc.instantiate(cc.find("particle_fly",t.node.parent))).active=!0,a=t.role_pearl.node.convertToWorldSpaceAR(cc.v2(0,0)),a=t.node.parent.convertToNodeSpaceAR(a),r=t.totalWin.node.convertToWorldSpaceAR(cc.v2(0,0)),r=t.node.parent.convertToNodeSpaceAR(r),o.parent=t.node.parent,o.position=a,cc.tween(o).to(.5,{position:r}).call(function(){t.totalWin.string=Global.FormatNumToComma(t._collectGame.roundInfo.winCoin)}).removeSelf().start(),e.next=19,cc.vv.gameData.awaitTime(1);case 19:t.popResult(2);case 20:case"end":return e.stop()}},e)}))),n.next=162;break;case 108:if(b.type!==p){n.next=136;break}return Global.SlotsSoundMgr.playEffect("mapCredit"),t.role_sanchaji.node.active=!0,t.role_sanchaji.setAnimation(0,"sanchaji_intro",!1),t.role_sanchaji.setCompleteListener(i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.role_sanchaji.setCompleteListener(null),t.jianglibian.node.active=!0,n=t.sanchajiMulti.node.parent.convertToWorldSpaceAR(cc.v2(0,0)),n=t.node.convertToNodeSpaceAR(n),t.jianglibian.node.position=n,t.jianglibian.setAnimation(0,"Map_jiangliban",!1),t.jianglibian.setCompleteListener(function(){t.jianglibian.setCompleteListener(null),t.jianglibian.node.active=!1,t.sanchajiMulti.string="X"+t._collectGame.itemCnt[3]});case 7:case"end":return e.stop()}},e)}))),n.next=115,cc.vv.gameData.awaitTime(2);case 115:return n.next=117,t.popDialog(1);case 117:return t.cutSceneSanchaji(!0),n.next=120,cc.vv.gameData.awaitTime(1.5);case 120:return w=t.wheel.getComponent("PoliticalStrategist_Wheel"),t.wheel.active=!0,n.next=124,w.startWheel(t._collectGame);case 124:return t._collectGame=w.getCollectGame(),n.next=127,cc.vv.gameData.awaitTime(.5);case 127:return t.cutSceneSanchaji(!1),n.next=130,cc.vv.gameData.awaitTime(1.5);case 130:return t.wheel.active=!1,n.next=133,cc.vv.gameData.awaitTime(1);case 133:t.popResult(3),n.next=162;break;case 136:if(b.type!==m){n.next=162;break}return Global.SlotsSoundMgr.playEffect("mapCredit"),t.role_fish.node.active=!0,t.role_fish.setAnimation(0,"liyu_intro",!1),t.role_fish.setCompleteListener(i(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.role_fish.setCompleteListener(null),t.jianglibian.node.active=!0,n=t.fishMulti.node.parent.convertToWorldSpaceAR(cc.v2(0,0)),n=t.node.convertToNodeSpaceAR(n),t.jianglibian.node.position=n,t.jianglibian.setAnimation(0,"Map_jiangliban",!1),t.jianglibian.setCompleteListener(function(){t.jianglibian.setCompleteListener(null),t.jianglibian.node.active=!1,t.fishMulti.string="X"+t._collectGame.itemCnt[2]});case 7:case"end":return e.stop()}},e)}))),n.next=143,cc.vv.gameData.awaitTime(2);case 143:return n.next=145,t.popDialog(2);case 145:return t.cutSceneFish(!0),n.next=148,cc.vv.gameData.awaitTime(1.5);case 148:return y=t.pickGame.getComponent("PoliticalStrategist_PickGame"),t.pickGame.active=!0,n.next=152,y.startPick(t._collectGame);case 152:return t._collectGame=y.getCollectGame(),n.next=155,cc.vv.gameData.awaitTime(.5);case 155:return t.cutSceneFish(!1),n.next=158,cc.vv.gameData.awaitTime(1.5);case 158:return t.pickGame.active=!1,n.next=161,cc.vv.gameData.awaitTime(1);case 161:t.popResult(3);case 162:case"end":return n.stop()}},n)}))()},getWinCoin:function(){return this._finalWinCoin},cutSceneSanchaji:function(e){Global.SlotsSoundMgr.playEffect("wheelTransition");var t=cc.find("sanchaji",this.node.parent);if(t.active=!0,e){var n=this.role.convertToWorldSpaceAR(cc.v2(0,0));n=this.node.parent.convertToNodeSpaceAR(n),t.position=n,cc.tween(t).to(.3,{position:cc.v2(0,0)}).start()}t.getComponent(sp.Skeleton).setAnimation(0,"sanchaji_guochang",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){t.getComponent(sp.Skeleton).setCompleteListener(null),t.active=!1})},cutSceneFish:function(e){Global.SlotsSoundMgr.playEffect("koiTransition");var t=cc.find("fish",this.node.parent);if(t.active=!0,e){var n=this.role.convertToWorldSpaceAR(cc.v2(0,0));n=this.node.parent.convertToNodeSpaceAR(n),t.position=n,cc.tween(t).to(.3,{position:cc.v2(0,0)}).start()}t.getComponent(sp.Skeleton).setAnimation(0,"liyu_guochang",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){t.getComponent(sp.Skeleton).setCompleteListener(null),t.active=!1})},chooseBox:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,a,r,c,i,s,l,u,m,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Global.SlotsSoundMgr.playEffect("VO_choose_your_final_prize_EN"),e.boxSelect.active=!0,e.boxSelectBlackBg.opacity=0,cc.tween(e.boxSelectBlackBg).to(.5,{opacity:200}).start(),e.boxSelectChooseBoard.opacity=0,cc.tween(e.boxSelectChooseBoard).to(.5,{opacity:255}).start(),e.boxLevelPrize.y=0,n=o(e.boxLevelPrize.children);try{for(n.s();!(a=n.n()).done;){(r=a.value).color=cc.Color.WHITE,c=o(r.children);try{for(c.s();!(i=c.n()).done;)i.value.color=cc.Color.WHITE}catch(e){c.e(e)}finally{c.f()}}}catch(e){n.e(e)}finally{n.f()}cc.find("parent",e.boxLevelPrize).opacity=0,e.boxLevelPrizeCoin.string=Global.FormatNumToComma(e._collectGame.roundInfo.options.levelPrize),cc.tween(e.boxLevelPrize).by(.5,{y:250}).start(),cc.tween(cc.find("parent",e.boxLevelPrize)).to(.5,{opacity:255}).start(),e.boxMysteryPrize.y=0,s=o(e.boxMysteryPrize.children);try{for(s.s();!(l=s.n()).done;){(u=l.value).color=cc.Color.WHITE,m=o(u.children);try{for(m.s();!(p=m.n()).done;)p.value.color=cc.Color.WHITE}catch(e){m.e(e)}finally{m.f()}}}catch(e){s.e(e)}finally{s.f()}return cc.find("parent",e.boxMysteryPrize).opacity=0,cc.find("parent/between_node",e.boxMysteryPrize).active=!0,cc.find("parent/finish_node",e.boxMysteryPrize).active=!1,e.boxMysteryPrizeMinCoin.string=Global.FormatNumToComma(e._collectGame.roundInfo.options.min),e.boxMysteryPrizeCoin.string=Global.FormatNumToComma(e._collectGame.roundInfo.options.min),e.boxMysteryPrizeMaxCoin.string=Global.FormatNumToComma(e._collectGame.roundInfo.options.max),cc.tween(e.boxMysteryPrize).by(.5,{y:-250}).start(),cc.tween(cc.find("parent",e.boxMysteryPrize)).to(.5,{opacity:255}).start(),t.next=26,cc.vv.gameData.awaitTime(.5);case 26:e.boxLevelPrize.on(cc.Node.EventType.TOUCH_END,function(){e.boxLevelPrize.off(cc.Node.EventType.TOUCH_END),e.boxMysteryPrize.off(cc.Node.EventType.TOUCH_END),e.reqChooseBox(1)}),e.boxMysteryPrize.on(cc.Node.EventType.TOUCH_END,function(){e.boxLevelPrize.off(cc.Node.EventType.TOUCH_END),e.boxMysteryPrize.off(cc.Node.EventType.TOUCH_END),e.reqChooseBox(2)});case 28:case"end":return t.stop()}},t)}))()},reqChooseBox:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var a,r,c,i,s,l,u,m,p,f,d,g,v,_;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect("chestClick"),a={rtype:5,choiceId:e},n.next=4,cc.vv.gameData.reqSubGame(a);case 4:if(200!==(r=n.sent).code){n.next=40;break}if(t._collectGame=r.data.collectGame,cc.vv.gameData.getDeskInfo().collectGame=r.data.newCollectGame,1!==r.data.choiceId){n.next=19;break}(c=cc.find("spine",t.boxLevelPrize).getComponent(sp.Skeleton)).node.active=!0,c.setAnimation(0,"bx_click",!1),c.setCompleteListener(function(){c.setCompleteListener(null),c.node.active=!1}),i=o(t.boxMysteryPrize.children);try{for(i.s();!(s=i.n()).done;){(l=s.value).color=cc.Color.GRAY,u=o(l.children);try{for(u.s();!(m=u.n()).done;)m.value.color=cc.Color.GRAY}catch(e){u.e(e)}finally{u.f()}}}catch(e){i.e(e)}finally{i.f()}return n.next=17,cc.vv.gameData.awaitTime(1);case 17:n.next=38;break;case 19:p=o(t.boxLevelPrize.children);try{for(p.s();!(f=p.n()).done;){(d=f.value).color=cc.Color.GRAY,g=o(d.children);try{for(g.s();!(v=g.n()).done;)v.value.color=cc.Color.GRAY}catch(e){g.e(e)}finally{g.f()}}}catch(e){p.e(e)}finally{p.f()}return(_=cc.find("spine",t.boxMysteryPrize).getComponent(sp.Skeleton)).node.active=!0,_.setAnimation(0,"bx_click",!1),_.setCompleteListener(function(){_.setCompleteListener(null),_.node.active=!1}),cc.find("parent/between_node",t.boxMysteryPrize).active=!1,cc.find("parent/finish_node",t.boxMysteryPrize).active=!0,n.next=29,cc.vv.gameData.awaitTime(.5);case 29:return Global.SlotsSoundMgr.playEffect("chestNumbr"),Global.doRoallNumEff(t.boxMysteryPrizeCoin.node,t._collectGame.roundInfo.options.min,t._collectGame.roundInfo.options.final,3,function(){Global.SlotsSoundMgr.playEffect("chestPrz")},null,0,!0),n.next=33,cc.vv.gameData.awaitTime(3);case 33:return _.node.active=!0,_.setAnimation(0,"Num_end",!1),_.setCompleteListener(function(){_.setCompleteListener(null),_.node.active=!1}),n.next=38,cc.vv.gameData.awaitTime(1);case 38:t.boxSelect.active=!1,t.popResult(1);case 40:case"end":return n.stop()}},n)}))()},popDialog:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=i(regeneratorRuntime.mark(function n(o){var a,r,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect("mapbegain"),t.dialogNode.active=!0,a=cc.find("enter_sanchaji",t.dialogNode),1===e?a=cc.find("enter_sanchaji",t.dialogNode):2===e&&(a=cc.find("enter_fish",t.dialogNode)),a.active=!0,a.scale=0,cc.tween(a).to(.5,{scale:1},{easing:"backOut"}).start(),n.next=9,cc.vv.gameData.awaitTime(.5);case 9:(r=cc.find("btn_start",a)).off("click"),c=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.off("click"),Global.SlotsSoundMgr.playEffect("button"),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.dialogNode.active=!1,a.active=!1,o()}).start();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(r,c),r.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopAllActions(),e.next=3,c();case 3:case"end":return e.stop()}},e)})));case 14:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}},n)}))()},popResult:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.resultNode.active=!0,t.resultBoxEnd.active=!1,t.resultPearlEnd.active=!1,t.resultSanchajiEnd.active=!1,Global.SlotsSoundMgr.playEffect("mapend"),(o=cc.find("parent",t.resultNode)).scale=0,cc.tween(o).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("yifenkuang/coin",o).getComponent(cc.Label).string=Global.FormatNumToComma(t._collectGame.roundInfo.winCoin),1===e?(t.resultBoxEnd.active=!0,cc.find("level",t.resultBoxEnd).getComponent(cc.Label).string=t._collectGame.level,cc.find("base_award",t.resultBoxEnd).getComponent(cc.Label).string=Global.formatNumShort(t._collectGame.roundInfo.baseCoin),cc.find("level_prize",t.resultBoxEnd).getComponent(cc.Label).string=Global.formatNumShort(t._collectGame.roundInfo.winCoin-t._collectGame.roundInfo.baseCoin)):2===e?(t.resultPearlEnd.active=!0,cc.find("base_award",t.resultPearlEnd).getComponent(cc.Label).string=Global.formatNumShort(t._collectGame.roundInfo.baseCoin),cc.find("multiplier",t.resultPearlEnd).getComponent(cc.Label).string=t._collectGame.roundInfo.mult):3===e&&(t.resultSanchajiEnd.active=!0,cc.find("base_award",t.resultSanchajiEnd).getComponent(cc.Label).string=Global.formatNumShort(t._collectGame.roundInfo.baseCoin),cc.find("mini_game_bonus",t.resultSanchajiEnd).getComponent(cc.Label).string=t._collectGame.roundInfo.miniGame.winCoin),t._finalWinCoin=t._collectGame.roundInfo.winCoin,n.next=13,cc.vv.gameData.awaitTime(.5);case 13:t.btnCollect.off("click"),a=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.btnCollect.off("click"),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.resultNode.active=!1,t._endCallback(),t._endCallback=null}).start();case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(t.btnCollect,a),t.btnCollect.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.btnCollect.stopAllActions(),e.next=3,a();case 3:case"end":return e.stop()}},e)})));case 17:case"end":return n.stop()}},n)}))()},resetRole:function(){this.role_prizeBooster.node.active=!1,this.role_pearl.node.active=!1,this.role_box.node.active=!1,this.role_sanchaji.node.active=!1,this.role_fish.node.active=!1,this.role_coin.node.active=!1},showArrow:function(e){this._canGo=!0,this.arrow_up.active=e>6,this.arrow_down.active=e<55,this.arrow_left.active=e%6!=1,this.arrow_right.active=e%6!=0},hideArrow:function(){this._canGo=!1,this.arrow_up.active=!1,this.arrow_down.active=!1,this.arrow_left.active=!1,this.arrow_right.active=!1},showInfo:function(e,t){var n=cc.find("point_"+e,this.detail);cc.find("bg",n).active=!t.isOpen,cc.find("pearl",n).active=t.type===u,cc.find("box",n).active=t.type===l,cc.find("trident",n).active=t.type===p,cc.find("prize_booster",n).active=t.type===f,cc.find("coin",n).active=t.type===s,t.type===s&&(cc.find("coin",n).getComponent(cc.Label).string=Global.formatNumShort(t.coin,0)),cc.find("fish",n).active=t.type===m}}),cc._RF.pop()},{}],PoliticalStrategist_PickGame:[function(e,t,n){"use strict";function o(e,t,n,o,a,r,c){try{var i=e[r](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var c=e.apply(t,n);function i(e){o(c,a,r,i,s,"next",e)}function s(e){o(c,a,r,i,s,"throw",e)}i(void 0)})}}cc._RF.push(t,"2ff73NZUcRJj4Ya77eEdgw/","PoliticalStrategist_PickGame");var r=["Mini","Minor","Major","Grand"];cc.Class({extends:cc.Component,properties:{rubyCoin:cc.Label,amethystCoin:cc.Label,sapphireCoin:cc.Label,emeraldCoin:cc.Label,layout:cc.Node,result_node:cc.Node,_successCallback:null,_canSelect:!1,_haveOpenReward:null,_winCoin:0,_collectGame:null},onLoad:function(){var e=this;this._haveOpenReward=[];for(var t=function(t){cc.find("item_"+t,e.layout).on(cc.Node.EventType.TOUCH_END,a(regeneratorRuntime.mark(function n(){var o,a,c,i,s,l,u,m;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e._canSelect){n.next=2;break}return n.abrupt("return");case 2:if(-1===e._haveOpenReward.indexOf(t)){n.next=4;break}return n.abrupt("return");case 4:return Global.SlotsSoundMgr.playEffect("koiPick"),o={rtype:3,choiceId:t},n.next=8,cc.vv.gameData.reqSubGame(o);case 8:if(200!==(a=n.sent).code){n.next=29;break}if(e._canSelect=!1,c=a.data.collectGame,i=c.roundInfo.miniGame,s=a.data.choiceId,e._haveOpenReward.push(s),e._collectGame=c,l=cc.find("item_"+s,e.layout),u=cc.find("spine",l).getComponent(sp.Skeleton),m=r[i.items[s-1].jackpotId-1],u.setAnimation(0,"Coin_Intro_"+m+"1_EN",!1),u.addAnimation(0,m+"_Loop_EN",!0),!i.isEnd){n.next=26;break}Global.SlotsSoundMgr.playEffect("koiSure"),e.endGame(i,s),n.next=29;break;case 26:return n.next=28,cc.vv.gameData.awaitTime(1);case 28:e._canSelect=!0;case 29:case"end":return n.stop()}},n)})))},n=1;n<13;n++)t(n)},endGame:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a,c,i,s,l;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(a=1;a<13;a++)c=e.items[a-1],i=cc.find("item_"+a,n.layout),s=cc.find("spine",i).getComponent(sp.Skeleton),l=r[c.jackpotId-1],c.jackpotId===e.items[t-1].jackpotId?s.setAnimation(0,l+"_End_EN",!0):c.isOpen||s.setAnimation(0,"Coin_Intro_"+l+"2_EN",!1);return o.next=3,cc.vv.gameData.awaitTime(1);case 3:n.popResult(e,t);case 4:case"end":return o.stop()}},o)}))()},popResult:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var r,c,i,s,l,u,m;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(Global.SlotsSoundMgr.playEffect("fgend"),r=["lv","honglan","zi","hong"],n.result_node.active=!0,c=cc.find("parent",n.result_node),i=cc.find("DT_diban2",c).getComponent(sp.Skeleton),s=e.items[t-1].jackpotId,l=1;l<5;l++)cc.find("jackpot_title_"+l,c).active=l===s;return i.setAnimation(0,"liyu_"+r[s-1],!0),c.scale=0,cc.tween(c).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("yifenkuang/coin",c).getComponent(cc.Label).string=Global.FormatNumToComma(e.winCoin),o.next=13,cc.vv.gameData.awaitTime(.5);case 13:(u=cc.find("btn_collect",c)).off("click"),m=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u.off("click"),Global.SlotsSoundMgr.playEffect("button"),cc.tween(c).to(.5,{scale:0},{easing:"backIn"}).call(function(){n.result_node.active=!1,c.active=!1,n._successCallback(),n._successCallback=null}).start();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(u,m),u.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.stopAllActions(),e.next=3,m();case 3:case"end":return e.stop()}},e)})));case 18:case"end":return o.stop()}},o)}))()},startPick:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("fgbgm"),t.node.active=!0,t.reset(),t._successCallback=n;var o=e.roundInfo.miniGame;t.rubyCoin.string=Global.FormatNumToComma(o.jackpotValues[3]),t.amethystCoin.string=Global.FormatNumToComma(o.jackpotValues[2]),t.sapphireCoin.string=Global.FormatNumToComma(o.jackpotValues[1]),t.emeraldCoin.string=Global.FormatNumToComma(o.jackpotValues[0]),t._canSelect=!0;for(var a=1;a<13;a++){var c=cc.find("item_"+a,t.layout),i=o.items[a-1],s=cc.find("spine",c).getComponent(sp.Skeleton);if(i.isOpen){t._haveOpenReward.push(a);var l=r[i.jackpotId-1];s.setAnimation(0,l+"_Loop_EN",!0)}else s.setAnimation(0,"Coin_Loop",!0)}}));case 1:case"end":return n.stop()}},n)}))()},getCollectGame:function(){return this._collectGame},reset:function(){for(var e=1;e<13;e++){var t=cc.find("item_"+e,this.layout);cc.find("spine",t).getComponent(sp.Skeleton).setAnimation(0,"Coin_Loop",!0)}this.result_node.active=!1,this._successCallback=null,this._canSelect=!1,this._haveOpenReward=[],this._winCoin=0}}),cc._RF.pop()},{}],PoliticalStrategist_Reel:[function(e,t,n){"use strict";cc._RF.push(t,"18df2ajP+5PlpR8O9aCGGKh","PoliticalStrategist_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},StartMove:function(){this._super()},OnReelSpinEnd:function(){this._super()},playReelStop:function(){if(this._super(),this._originResult)for(var e=0;e<this._originResult.length;e++){var t=this._symbols[e];t.GetShowId()===this._cfg.bonusId&&(Global.SlotsSoundMgr.playEffect("reelFW"),t.playStopAnimation())}}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],PoliticalStrategist_Slots:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r,c=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){i=!0,r=e},f:function(){try{c||null==o.return||o.return()}finally{if(i)throw r}}}}function a(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(e,t,n,o,a,r,c){try{var i=e[r](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(o,a)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var r=e.apply(t,n);function i(e){c(r,o,a,i,s,"next",e)}function s(e){c(r,o,a,i,s,"throw",e)}i(void 0)})}}cc._RF.push(t,"1c0bd+An+9CcaYAuLPI63Vd","PoliticalStrategist_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{},Init:function(){var e=this;this._super();var t=cc.find("collect_node/bonus_node",this.node),n=cc.vv.gameData.getDeskInfo();t.on(cc.Node.EventType.TOUCH_END,function(){n.needBet>n.currmult&&"idle"===cc.vv.gameData.GetSlotState()&&e._bottomScript.SetBetIdx(n.needBet)});var o=cc.find("lock",t).getComponent(sp.Skeleton);o.setCompleteListener(function(e){"shangsuo"===(e.animation?e.animation.name:"")&&o.setAnimation(0,"idle",!0)}),n.needBet<=n.currmult?(Global.SlotsSoundMgr.playEffect("unlock"),o.setAnimation(0,"jiesuo",!1)):(Global.SlotsSoundMgr.playEffect("lock"),o.setAnimation(0,"shangsuo",!1)),this.updateCollectProgress(n.collectGame,!1);var a=cc.find("collect_node/palace",this.node);a.off(cc.Node.EventType.TOUCH_END),a.on(cc.Node.EventType.TOUCH_END,function(){"idle"===cc.vv.gameData.GetSlotState()&&(Global.SlotsSoundMgr.playEffect("mapInOut"),cc.find("map_game",e.node.parent).getComponent("PoliticalStrategist_Map").openMap(n.collectGame))})},StartMove:function(){this._super();var e=cc.vv.gameData.GetTotalFree(),t=cc.vv.gameData.GetFreeTime();cc.find("select_fenghuolun/fg_count_board/times",this.node).getComponent(cc.Label).string=e-t+"/"+e,Global.SlotsSoundMgr.playNormalBgm()},ReconnectShow:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,a,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=cc.vv.gameData.getDeskInfo()).bonusGame){t.next=3;break}return t.abrupt("return");case 3:if(!(o=cc.vv.gameData.GetFreeTime())){t.next=13;break}return t.next=7,cc.vv.gameData.awaitTime(.2);case 7:e.ShowGameview(!0),cc.find("select_fenghuolun/bg",e.node).active=!1,cc.find("select_fenghuolun/fg_count_board/times",e.node).getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree()-o+"/"+cc.vv.gameData.GetTotalFree(),e.CanDoNextRound(),t.next=25;break;case 13:if(e.ShowGameview(!1),0===n.collectGame.state){t.next=25;break}return a=cc.find("map_game",e.node.parent).getComponent("PoliticalStrategist_Map"),t.next=18,a.startMapGame(n.collectGame);case 18:return e.clearCollectProgress(),e.cutSceneWave(),t.next=22,cc.vv.gameData.awaitTime(1);case 22:a.node.active=!1,r=a.getWinCoin(),e.ShowBottomWin(r,r,!0,function(){e.CanDoNextRound()});case 25:case"end":return t.stop()}},t)}))()},onMsgSpine:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t._gameInfo=e,o=e.resultCards,t.SetSlotsResult(o),t.SetReelStateInfo(o),cc.vv.gameData.getDeskInfo().collectGame=e.collectGame,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()-cc.vv.gameData.GetFreeTime()==1&&(t.SetStopTime(5),Global.SlotsSoundMgr.playEffect("FWdropDown2"),(a=cc.find("FG_XiaLuo",t.node)).active=!0,a.getComponent(sp.Skeleton).setAnimation(0,"FG_XiaLuo",!1),a.getComponent(sp.Skeleton).setCompleteListener(function(){Global.SlotsSoundMgr.playEffect("extraAdd"),a.getComponent(sp.Skeleton).setCompleteListener(null),a.active=!1}));case 6:case"end":return n.stop()}},n)}))()},SetSlotsResult:function(e){for(var t=e.length/this._col,n=[],a=0;a<e.length;a++){Math.floor(a/t);var r=a%this._col;if(this._cfg.symbol[e[a]]){var c={};if(c.sid=e[a],e[a]===this._cfg.bonusId){var i,s=o(this._gameInfo.bonusInfo.items);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(l.idx===a+1){c.data=l;break}}}catch(e){s.e(e)}finally{s.f()}}n[r]||(n[r]=[]),n[r].unshift(c)}}for(var u=0;u<this._reels.length;u++){var m=this._reels[u],p=n[u];m.SetResult(p)}},CheckEnterFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetFreeTime()===cc.vv.gameData.GetTotalFree()},CheckExitFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&0===cc.vv.gameData.GetFreeTime()},ShowWinTrace:function(){this._super()},OnSpinEnd:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collectSymbol();case 2:e.ShowWinTrace(),n=cc.vv.gameData.GetGameWin(),o=cc.vv.gameData.GetGameWin(),cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()&&(o=cc.vv.gameData.GetGameTotalFreeWin()),e.ShowBottomWin(n,o,!0,i(regeneratorRuntime.mark(function t(){var n,o,a,r,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.checkBonusSuper();case 2:if(!e._gameInfo.bonusInfo.triggerGame){t.next=30;break}return Global.SlotsSoundMgr.playEffect("triggering"),(n=cc.find("fengchenxiuji",e.node.parent)).getComponent(sp.Skeleton).setAnimation(0,"skill",!1),n.getComponent(sp.Skeleton).addAnimation(0,"idle",!0),t.next=9,cc.vv.gameData.awaitTime(2);case 9:return t.next=11,e.popBonusDialog();case 11:return e.cutSceneFire(),t.next=14,cc.vv.gameData.awaitTime(1);case 14:return n.active=!1,o=cc.find("bonus_slots",e.node.parent).getComponent("PoliticalStrategist_BonusSlots"),cc.vv.gameData.setInBonusGame(!0),t.next=19,o.startBonusGame(e._gameInfo.bonusGame);case 19:return cc.vv.gameData.setInBonusGame(!1),e.cutSceneFire(),t.next=23,cc.vv.gameData.awaitTime(1);case 23:return e.node.active=!0,n.active=!0,cc.find("bonus_slots",e.node.parent).active=!1,Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),t.next=30,e.ShowBottomWin(o.getWinCoin(),o.getWinCoin(),!0,null);case 30:if(!(0!==e._gameInfo.collectGame.state&&e._gameInfo.collectGame.progressData.currCnt>0)){t.next=60;break}return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=34,cc.vv.gameData.awaitTime(.5);case 34:return Global.SlotsSoundMgr.playEffect("nezhaCollectDone"),(a=cc.find("collect_node/mask/node/jindutiao/full",e.node).getComponent(sp.Skeleton)).node.active=!0,a.setToSetupPose(),a.setAnimation(0,"shouji_man",!1),a.setCompleteListener(function(){a.setCompleteListener(null),a.node.active=!1}),t.next=42,cc.vv.gameData.awaitTime(1);case 42:return e.cutSceneWave(),t.next=45,cc.vv.gameData.awaitTime(1);case 45:return e.clearCollectProgress(),r=cc.find("map_game",e.node.parent).getComponent("PoliticalStrategist_Map"),Global.SlotsSoundMgr.playEffect("VO_prince_quest_bonus_EN"),t.next=50,r.startMapGame(e._gameInfo.collectGame);case 50:return e.cutSceneWave(),t.next=53,cc.vv.gameData.awaitTime(1);case 53:r.node.active=!1,Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),c=r.getWinCoin(),e.ShowBottomWin(c,c,!0,function(){e.CanDoNextRound()}),t.next=61;break;case 60:e.CheckEnterFreeGame()?e.triggerFreeGame():e.CheckExitFreeGame()?e.triggerExitFreeGame():e.CanDoNextRound();case 61:case"end":return t.stop()}},t)})));case 7:case"end":return t.stop()}},t)}))()},checkBonusSuper:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n){var a,r,c,i,s,l,u,m,p,f,d,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=!1,r=o(e._gameInfo.bonusInfo.items),t.prev=2,r.s();case 4:if((c=r.n()).done){t.next=18;break}if(!(i=c.value).isSuper){t.next=16;break}a=!0,Global.SlotsSoundMgr.playEffect("FWspecial"),s=o(i.subItems);try{for(s.s();!(l=s.n()).done;)u=l.value,(m=e.GetSymbolByIdx(u.idx))&&function(){var t=m.node.convertToWorldSpaceAR(cc.v2(0,0));t=e.node.parent.convertToNodeSpaceAR(t);var n=cc.instantiate(cc.find("BiankuangRaoGuantg",e.node.parent));n.active=!0,n.position=t,n.parent=e.node.parent,n.getComponent(sp.Skeleton).setAnimation(0,"BiankuangRaoGuantg",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){n.getComponent(sp.Skeleton).setCompleteListener(null),n.removeFromParent()})}()}catch(e){s.e(e)}finally{s.f()}return t.next=13,cc.vv.gameData.awaitTime(1);case 13:p=o(i.subItems);try{for(p.s();!(f=p.n()).done;)d=f.value,(g=e.GetSymbolByIdx(d.idx))&&(g.ShowById(e._cfg.bonusId,d),g.playStopAnimation())}catch(e){p.e(e)}finally{p.f()}return t.abrupt("break",18);case 16:t.next=4;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),r.e(t.t0);case 23:return t.prev=23,r.f(),t.finish(23);case 26:if(!a){t.next=32;break}return t.next=29,cc.vv.gameData.awaitTime(2);case 29:n(),t.next=33;break;case 32:n();case 33:case"end":return t.stop()}},t,null,[[2,20,23,26]])}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},cutSceneWave:function(){Global.SlotsSoundMgr.playEffect("mapTransition");var e=cc.find("wave",this.node.parent);e.active=!0;var t=e.getComponent(sp.Skeleton);t.setToSetupPose(),t.setAnimation(0,"map_guochang",!1),t.setCompleteListener(function(){t.setCompleteListener(null),e.active=!1})},ShowGameview:function(e){this._super(e),cc.find("collect_node",this.node).active=!e,cc.find("select_fenghuolun",this.node).active=e},collectSymbol:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,a,r,c,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime())){t.next=2;break}return t.abrupt("return");case 2:if(0!==e._gameInfo.collectGame.progressData.currCnt){t.next=4;break}return t.abrupt("return");case 4:for(n=cc.find("collect_node/nezha",e.node),o=!1,a=0;a<e._gameInfo.resultCards.length;a++)e._gameInfo.resultCards[a]===e._cfg.collectSymbolId&&(r=e.GetSymbolByIdx(a+1))&&(o=!0,(c=cc.instantiate(cc.find("img_nezha",e.node.parent))).active=!0,c.parent=e.node.parent,i=r.node.convertToWorldSpaceAR(cc.v2(0,0)),i=e.node.parent.convertToNodeSpaceAR(i),c.position=i,s=n.convertToWorldSpaceAR(cc.v2(0,0)),s=e.node.parent.convertToNodeSpaceAR(s),cc.tween(c).parallel(cc.tween().to(.5,{position:s}),cc.tween().to(.2,{scale:1.2}).to(.3,{scale:.6})).removeSelf().start());if(!o){t.next=13;break}return cc.tween(n).delay(.5).call(function(){Global.SlotsSoundMgr.playEffect("nezhaCollect");var e=n.getComponent(sp.Skeleton);e.setAnimation(0,"nezha_zhongjiang",!1),e.addAnimation(0,"nezha_idle",!0)}).start(),t.next=11,cc.vv.gameData.awaitTime(.5);case 11:return t.next=13,e.updateCollectProgress(e._gameInfo.collectGame,!0);case 13:case"end":return t.stop()}},t)}))()},cutSceneLotus:function(){Global.SlotsSoundMgr.playEffect("fgTransition");var e=cc.find("lotus",this.node.parent);e.active=!0;var t=e.getComponent(sp.Skeleton);t.setToSetupPose(),t.setAnimation(0,"skill",!1),t.setCompleteListener(function(){t.setCompleteListener(null),e.active=!1})},cutSceneFire:function(){Global.SlotsSoundMgr.playEffect("bgTransition");var e=cc.find("fire",this.node.parent);e.active=!0;var t=e.getComponent(sp.Skeleton);t.setToSetupPose(),t.setAnimation(0,"HuoYanGuoChang",!1),t.setCompleteListener(function(){t.setCompleteListener(null),e.active=!1})},triggerFreeGame:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e._bottomScript.ShowBtnsByState("moveing_1"),Global.SlotsSoundMgr.playEffect("triggering"),n=0;n<e._gameInfo.resultCards.length;n++)e._gameInfo.resultCards[n]===e._cfg.scatterId&&e.GetSymbolByIdx(n+1).playWinAnimation();return t.next=5,cc.vv.gameData.awaitTime(2);case 5:return t.next=7,e.popFreeDialog();case 7:return e.cutSceneLotus(),t.next=10,cc.vv.gameData.awaitTime(2);case 10:return e.Backup(),e.ShowGameview(!0),t.next=14,e.selectFireWheel();case 14:Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("fgbgm"),e.CanDoNextRound();case 17:case"end":return t.stop()}},t)}))()},StopMove:function(){cc.vv.gameData.getInBonusGame()?cc.find("bonus_slots",this.node.parent).getComponent("PoliticalStrategist_BonusSlots").StopMove():this._super()},selectFireWheel:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n){var o,a,r,c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for((o=cc.find("select_fenghuolun",e.node)).active=!0,(a=cc.find("bg",o)).active=!0,cc.find("black_bg",a).active=!1,(r=[20,30,40,50,60]).sort(function(){return Math.random()-.5}),c=function(e){var t=cc.find("firewheel_"+e,a);t.active=!0,cc.find("gray",t).active=!1;var o=cc.find("spine",t);o.scale=.5,o.active=!0,cc.find("tips",o).active=!1,cc.find("num",o).active=!1,o.getComponent(sp.Skeleton).setAnimation(0,"HuoLun_Loop1",!0),t.off(cc.Node.EventType.TOUCH_END),t.on(cc.Node.EventType.TOUCH_END,i(regeneratorRuntime.mark(function t(){var o,c,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(Global.SlotsSoundMgr.playEffect("FWpick"),o=1;o<6;o++)cc.find("firewheel_"+o,a).off(cc.Node.EventType.TOUCH_END);for(c=function(t){var n=cc.find("firewheel_"+t,a);if(t!==e)cc.find("gray",n).active=!0,cc.find("spine",n).active=!1,cc.find("gray/num",n).getComponent(cc.Label).string=r[t-1];else{cc.find("gray",n).active=!1,cc.find("spine",n).active=!0,cc.find("spine/num",n).getComponent(cc.Label).string=r[t-1];var o=cc.find("ChengBeiTiShi",a);o.active=!0,o.position=n.position,o.getComponent(sp.Skeleton).setAnimation(0,"HuoLun_FGNG_TiShi",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(){o.getComponent(sp.Skeleton).setCompleteListener(null),o.active=!1;var e=cc.instantiate(cc.vv.gameData.GetPrefabByName("firewheel"));e.parent=n.parent,e.position=n.position,n.active=!1;var c=cc.find("black_bg",a);c.active=!0,c.opacity=0,cc.tween(c).to(.5,{opacity:200}).start(),cc.find("spine",e).getComponent(sp.Skeleton).setAnimation(0,"HuoLun_Loop2",!0),cc.find("gray",e).active=!1,cc.find("spine",e).active=!0,cc.find("spine/num",e).getComponent(cc.Label).string=r[t-1],cc.tween(e).to(.5,{position:cc.v2(0,0),scale:1.5}).call(function(){Global.SlotsSoundMgr.playEffect("FWzoomin");var t=cc.find("ChengBeiTiShi",a);t.active=!0,t.position=e.position,t.getComponent(sp.Skeleton).setAnimation(0,"HuoLun_FGDA_TiShi",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){t.getComponent(sp.Skeleton).setCompleteListener(null),t.active=!1})}).delay(2.9).removeSelf().start()})}},i=1;i<6;i++)c(i);return t.next=6,cc.vv.gameData.awaitTime(3);case 6:a.active=!1,n();case 8:case"end":return t.stop()}},t)})))},s=1;s<6;s++)c(s);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t)}))()},triggerExtraFreeGame:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e._bottomScript.ShowBtnsByState("moveing_1"),n=0;n<e._gameInfo.resultCards.length;n++)e._gameInfo.resultCards[n]===e._cfg.extraSpinId&&e.GetSymbolByIdx(n+1).playTriggerAnimation();return cc.vv.AudioManager.playEff("games/SpookyHalloween/","bell",!0),t.next=5,cc.vv.gameData.awaitTime(2);case 5:return t.next=7,e.popFreeDialog(!0);case 7:e.CanDoNextRound();case 8:case"end":return t.stop()}},t)}))()},triggerExitFreeGame:function(){var e=this;return i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=3,cc.vv.gameData.awaitTime(1);case 3:return t.next=5,e.popFreeResultDialog();case 5:return e.cutSceneLotus(),t.next=8,cc.vv.gameData.awaitTime(2);case 8:return e.Resume(),e.ShowGameview(!1),t.next=12,cc.vv.gameData.awaitTime(1);case 12:e.ShowBottomWin(cc.vv.gameData.GetGameTotalFreeWin(),cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e.CanDoNextRound()});case 13:case"end":return t.stop()}},t)}))()},popBonusDialog:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n){var o,a,r,c,s,l,u,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("bgbegain"),Global.SlotsSoundMgr.playEffect("VO_fire_wheel_bonus_EN"),(o=cc.find("free_dialog",e.node.parent)).active=!0,(a=cc.find("bonus_enter_node",o)).active=!0,a.scale=1,(r=cc.find("freetanchuang",a)).scale=0,cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),(c=cc.find("congratulations",a)).scale=0,cc.tween(c).delay(.1).to(.5,{scale:1},{easing:"backOut"}).start(),(s=cc.find("fireWheelsBonus_EN",a)).scale=0,cc.tween(s).delay(.2).to(.5,{scale:1},{easing:"backOut"}).start(),(l=cc.find("each_EN",a)).scale=0,cc.tween(l).delay(.3).to(.5,{scale:1},{easing:"backOut"}).start(),(u=cc.find("btn_start",a)).scale=0,cc.tween(u).delay(.4).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=24,cc.vv.gameData.awaitTime(1);case 24:u.off("click"),m=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u.off("click"),Global.SlotsSoundMgr.playEffect("button"),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){o.active=!1,a.active=!1,n()}).start();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(u,m),u.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.stopAllActions(),e.next=3,m();case 3:case"end":return e.stop()}},e)})));case 28:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},popFreeDialog:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n){var o,a,r,c,s,l,u,m,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("fgbegain"),Global.SlotsSoundMgr.playEffect("VO_free_games_EN"),(o=cc.find("free_dialog",e.node.parent)).active=!0,(a=cc.find("common_enter_node",o)).active=!0,a.scale=1,(r=cc.find("freetanchuang",a)).scale=0,cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),(c=cc.find("congratulations",a)).scale=0,cc.tween(c).delay(.1).to(.5,{scale:1},{easing:"backOut"}).start(),(s=cc.find("you_won_EN",a)).scale=0,cc.tween(s).delay(.2).to(.5,{scale:1},{easing:"backOut"}).start(),(l=cc.find("times",a)).scale=0,l.getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),cc.tween(l).delay(.3).to(.5,{scale:1},{easing:"backOut"}).start(),(u=cc.find("free_games_EN",a)).scale=0,cc.tween(u).delay(.4).to(.5,{scale:1},{easing:"backOut"}).start(),(m=cc.find("btn_start",a)).scale=0,cc.tween(m).delay(.5).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=28,cc.vv.gameData.awaitTime(1);case 28:m.off("click"),p=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Global.SlotsSoundMgr.playEffect("button"),m.off("click"),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){o.active=!1,a.active=!1,n()}).start();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(m,p),m.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.stopAllActions(),e.next=3,p();case 3:case"end":return e.stop()}},e)})));case 32:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},popFreeResultDialog:function(){var e=this;return new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n){var o,a,r,c,s,l,u,m,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("fgend"),(o=cc.find("free_dialog",e.node.parent)).active=!0,(a=cc.find("result_node",o)).active=!0,a.scale=1,(r=cc.find("freetanchuang",a)).scale=0,cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),(c=cc.find("congratulations",a)).scale=0,cc.tween(c).delay(.1).to(.5,{scale:1},{easing:"backOut"}).start(),(s=cc.find("total_won_EN",a)).scale=0,cc.tween(s).delay(.2).to(.5,{scale:1},{easing:"backOut"}).start(),(l=cc.find("yifenkuang",a)).scale=0,cc.tween(l).delay(.3).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("coin",l).getComponent(cc.Label).string=Global.FormatNumToComma(cc.vv.gameData.GetGameTotalFreeWin()),(u=cc.find("in_free_games_EN",a)).scale=0,cc.tween(u).delay(.4).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("times",u).getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),(m=cc.find("btn_collect",a)).scale=0,cc.tween(m).delay(.5).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=29,cc.vv.gameData.awaitTime(1);case 29:m.off("click"),p=function(){var e=i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m.off("click"),Global.SlotsSoundMgr.playEffect("button"),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){o.active=!1,a.active=!1,n()}).start();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(m,p),m.on("click",i(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m.stopAllActions(),e.next=3,p();case 3:case"end":return e.stop()}},e)})));case 33:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},updateCollectProgress:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){var a,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:a=cc.find("collect_node/mask/node",n.node),t?((r=cc.find("jindutiao/lizi",a)).active=!0,cc.tween(r).delay(.3).call(function(){r.active=!1}).start(),cc.tween(a).to(.3,{x:537*(e.progressData.totalCnt/e.progressData.needCnt>1?1:e.progressData.totalCnt/e.progressData.needCnt)}).start()):a.x=537*(e.progressData.totalCnt/e.progressData.needCnt>1?1:e.progressData.totalCnt/e.progressData.needCnt);case 2:case"end":return o.stop()}},o)}))()},clearCollectProgress:function(){cc.find("collect_node/mask/node",this.node).x=0}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],PoliticalStrategist_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"e67b7hVlNhJg6Dar4aRIks+","PoliticalStrategist_Symbol");cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},StartMove:function(){this._super()},ShowById:function(e,t){this._super(e,t),this.showBonus()},playStopAnimation:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(e!==t.bonusId)this._super();else{this._state="stop",this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0,this.node.zIndex=200-this._symbolIdx+10*this._reelIdx;var n=this._showNode.getComponent(sp.Skeleton);n&&(n.clearTracks(),n.setToSetupPose(),this._data.isJackpot?(n.setAnimation(0,"HuoLun_Jackpot_Intro",!1),n.addAnimation(0,"HuoLun_Jackpot_Loop",!0)):this._data.isSuper?(n.setAnimation(0,"HuoLun_Super_Intro",!1),n.addAnimation(0,"HuoLun_Super_Loop",!0)):(n.setAnimation(0,"HuoLun_X"+this._data.mult+"_Intro",!1),n.addAnimation(0,"HuoLun_X"+this._data.mult+"_Loop",!0)))}},showWheelCoin:function(e){var t=this,n=this._showNode.getComponent(sp.Skeleton);n&&(n.setAnimation(0,"HuoLun_yingfen_Intro2",!1),n.setCompleteListener(function(){n.setCompleteListener(null),cc.find("coin",t._showNode).active=!0,cc.find("coin",t._showNode).getComponent(cc.Label).string=Global.formatNumShort(e,0),n.setAnimation(0,"HuoLun_Loop1",!0)}))},playidleAnimation:function(){var e=!1,t=this._id,n=cc.vv.gameData.getGameCfg();if(t!==n.bonusId)this._super();else{this._state="idle",this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(n.symbol[t].win_node,this.node),this._showNode.active=!0,this.node.zIndex=200-this._symbolIdx+10*this._reelIdx,e=!0;var o=this._showNode.getComponent(sp.Skeleton);o&&(this._data.isJackpot?o.setAnimation(0,"HuoLun_Jackpot_Loop",!0):this._data.isSuper?o.setAnimation(0,"HuoLun_Super_Loop",!0):o.setAnimation(0,"HuoLun_X"+this._data.mult+"_Loop",!0))}return e},showBonus:function(){if(this._id===cc.vv.gameData.getGameCfg().bonusId){var e=cc.find("icon",this._showNode);this._data&&e?this._data.isJackpot?e.getComponent("ImgSwitchCmp").setIndex(8):this._data.isSuper?e.getComponent("ImgSwitchCmp").setIndex(7):e.getComponent("ImgSwitchCmp").setIndex([2,3,5,8,10,15,30].indexOf(this._data.mult)):e&&e.getComponent("ImgSwitchCmp").setIndex(Math.floor(9*Math.random()))}},getBonusSpine:function(){return this._showNode.getComponent(sp.Skeleton)},showNormalBonus:function(){this._state="normal",this._showNode&&(this._showNode.active=!1);var e=cc.vv.gameData.getGameCfg();e.symbol[this._id]&&e.symbol[this._id].node?(this._showNode=cc.find(e.symbol[this._id].node,this.node),this._showNode.active=!0,cc.find("icon",this._showNode).active=!1):console.log("\u672a\u627e\u5230\u914d\u7f6eid:"+id)}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}],PoliticalStrategist_Wheel:[function(e,t,n){"use strict";function o(e,t,n,o,a,r,c){try{var i=e[r](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var c=e.apply(t,n);function i(e){o(c,a,r,i,s,"next",e)}function s(e){o(c,a,r,i,s,"throw",e)}i(void 0)})}}cc._RF.push(t,"75eadl23hdAMZf3A0B/bL1m","PoliticalStrategist_Wheel"),cc.Class({extends:cc.Component,properties:{black_bg:cc.Node,wheel_node:cc.Node,wheel:cc.Node,spine_win:sp.Skeleton,btn_spin:cc.Node,result_node:cc.Node,_successCallback:null,_collectGame:null},startWheel:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("fgbgm"),t._successCallback=n,t.node.active=!0;for(var o=e.roundInfo.miniGame.items,r=1;r<o.length;r++){var c=o[r],i=cc.find("index_"+(r+1),t.wheel);i&&(i.getComponent(cc.Label).string=Global.formatNumShort(c.coin,0))}t.wheel_node.active=!0,t.wheel.rotation=0,t.spine_win.node.active=!1,t.btn_spin.off("click");var s=function(){var e=a(regeneratorRuntime.mark(function e(){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Global.SlotsSoundMgr.playEffect("WheelClick"),t.btn_spin.off("click"),n={rtype:4},e.next=5,cc.vv.gameData.reqSubGame(n);case 5:if(200!==(o=e.sent).code){e.next=16;break}return t._collectGame=o.data.collectGame,Global.SlotsSoundMgr.playEffect("WheelSpin"),e.next=11,t._rotateWheel(o.data.collectGame.roundInfo.miniGame.resultId-1);case 11:return Global.SlotsSoundMgr.playEffect("WheelStop"),t.spine_win.node.active=!0,e.next=15,cc.vv.gameData.awaitTime(2);case 15:t.popResult(o.data.collectGame);case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();cc.vv.gameData.checkAutoPlay(t.btn_spin,s),t.btn_spin.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.btn_spin.stopAllActions(),e.next=3,s();case 3:case"end":return e.stop()}},e)})))}));case 1:case"end":return n.stop()}},n)}))()},getCollectGame:function(){return this._collectGame},popResult:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,r,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.playEffect("fgend"),t.result_node.active=!0,(o=cc.find("parent",t.result_node)).active=!0,o.scale=0,cc.tween(o).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("yifenkuang/coin",o).getComponent(cc.Label).string=Global.FormatNumToComma(e.roundInfo.miniGame.winCoin),n.next=9,cc.vv.gameData.awaitTime(.5);case 9:(r=cc.find("btn_collect",o)).off("click"),c=function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.off("click"),Global.SlotsSoundMgr.playEffect("button"),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.result_node.active=!1,o.active=!1,t._successCallback(),t._successCallback=null}).start();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(r,c),r.on("click",a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopAllActions(),e.next=3,c();case 3:case"end":return e.stop()}},e)})));case 14:case"end":return n.stop()}},n)}))()},_rotateWheel:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(n){var o=45*e-2160;cc.log(o);var a=cc.rotateBy(6,o).easing(cc.easeSineInOut());t.wheel.runAction(cc.sequence(a,cc.callFunc(function(){n()})))}));case 1:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{}]},{},["PoliticalStrategist_BonusReel","PoliticalStrategist_BonusSlots","PoliticalStrategist_Cfg","PoliticalStrategist_GameData","PoliticalStrategist_Logic","PoliticalStrategist_Map","PoliticalStrategist_PickGame","PoliticalStrategist_Reel","PoliticalStrategist_Slots","PoliticalStrategist_Symbol","PoliticalStrategist_Wheel"]);