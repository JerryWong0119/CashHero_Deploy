window.__require=function e(t,n,a){function o(r,c){if(!n[r]){if(!t[r]){var s=r.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return o(t[r][1][e]||e)},u,u.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<a.length;r++)o(a[r]);return o}({Hera_Cfg:[function(e,t,n){"use strict";var a;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"9880enHkVREKJeNPiv0kaMq","Hera_Cfg");var i={symbol:(a={},o(a,1,{node:"symbol_1",zIndex:100,win_node:"animation_1",win_ani:{name:"Wild",zIndex:300}}),o(a,2,{node:"symbol_2",zIndex:300,win_node:"animation_2",stop_ani:{name:"Scatter_01",zIndex:200},win_ani:{name:"Scatter_02",zIndex:300}}),o(a,4,{node:"symbol_4",zIndex:100,win_node:"animation_4",win_ani:{name:"H1",zIndex:300},trigger_ani:{name:"H1_liang",zIndex:400}}),o(a,5,{node:"symbol_5",zIndex:100,win_node:"animation_5",win_ani:{name:"H2",zIndex:300}}),o(a,6,{node:"symbol_6",zIndex:100,win_node:"animation_6",win_ani:{name:"H3",zIndex:300}}),o(a,7,{node:"symbol_7",zIndex:100,win_node:"animation_7",win_ani:{name:"H4",zIndex:300}}),o(a,8,{node:"symbol_8",zIndex:100,win_node:"animation_8",win_ani:{name:"H5",zIndex:300}}),o(a,9,{node:"symbol_9",zIndex:100,win_node:"animation_9",win_ani:{name:"Lsymbol",zIndex:300}}),o(a,10,{node:"symbol_10",zIndex:100,win_node:"animation_10",win_ani:{name:"Lsymbol",zIndex:300}}),o(a,11,{node:"symbol_11",zIndex:100,win_node:"animation_11",win_ani:{name:"Lsymbol",zIndex:300}}),o(a,12,{node:"symbol_12",zIndex:100,win_node:"animation_12",win_ani:{name:"Lsymbol",zIndex:300}}),o(a,13,{node:"symbol_13",zIndex:100,win_node:"animation_13",win_ani:{name:"Lsymbol",zIndex:300}}),o(a,201,{node:"symbol_201",zIndex:300,win_node:"animation_3",win_ani:{name:"JP_Qiu_D_Bai",zIndex:300},ball_ani:{name:"JP_Qiu_D_Mini",zIndex:300},effect_ani:{name:"Qiu_D_Mini"}}),o(a,202,{node:"symbol_202",zIndex:300,win_node:"animation_3",win_ani:{name:"JP_Qiu_D_Bai",zIndex:300},ball_ani:{name:"JP_Qiu_D_Minor",zIndex:300},effect_ani:{name:"Qiu_D_Minor"}}),o(a,203,{node:"symbol_203",zIndex:300,win_node:"animation_3",win_ani:{name:"JP_Qiu_D_Bai",zIndex:300},ball_ani:{name:"JP_Qiu_D_Major",zIndex:300},effect_ani:{name:"Qiu_D_Major"}}),o(a,204,{node:"symbol_204",zIndex:300,win_node:"animation_3",win_ani:{name:"JP_Qiu_D_Bai",zIndex:300},ball_ani:{name:"JP_Qiu_D_Grand",zIndex:300},effect_ani:{name:"Qiu_D_Grand"}}),a),scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"Hera_Slots",Reels:"Hera_Reel",Symbols:"Hera_Symbol"},col:5,row:5,symbolPrefab:"symbol",symbolSize:{width:122,height:92},randomSymbols:[1,2,4,5,6,7,8,9,10,11,12,13],wildId:1,scatterId:2,bonusIds:[201,202,203,204],kuang:"kuang",speed:2500,reelStopInter:.2,auto_stop_time:1,bounceInfo:{distance:30,time:.1},autoModelDelay:1,AddAntiTime:1.5,reelStateInfo:[{id:[2],mini:5,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/Hera/",reelStopSound:"reelstop",symbolStopSound:"reelsctr",antSound:"reelfast",antSpeed:2400}],helpItems:["games/Hera/prefab/help_item_1","games/Hera/prefab/help_item_2","games/Hera/prefab/help_item_3","games/Hera/prefab/help_item_4"],commEffect:{path:"games/Hera/",win1:["win_a","win_end"],win2:["win_b","win_end"]},normalBgm:"ngbgm",sysFloatOffsetPos:cc.v2(0,40)};t.exports=i,cc._RF.pop()},{}],Hera_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"c36e6S5yZ9I/rK4y8EdYD/v","Hera_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{_lockBonus:!1},onLoad:function(){this._super();var e=cc.vv.gameData.getDeskInfo();this._lockBonus=e.needBet>e.currmult,Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,this.onUpdateBet,this)},onUpdateBet:function(){var e=cc.vv.gameData.getDeskInfo(),t=cc.find("safe_node/slots/collect_node/bonus_node/lock",this.node).getComponent(sp.Skeleton);e.needBet<=cc.vv.gameData.GetBetIdx()&&this._lockBonus?(Global.SlotsSoundMgr.playEffect("unlock"),t.setAnimation(0,"BetUp_Intro",!1),this._lockBonus=!1):e.needBet>cc.vv.gameData.GetBetIdx()&&!this._lockBonus&&(Global.SlotsSoundMgr.playEffect("lock"),this._lockBonus=!0,t.setAnimation(0,"BetUp_End",!1),t.addAnimation(0,"BetUp_Loop",!0))}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],Hera_Reel:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}cc._RF.push(t,"239f74CwgBBCZtnAEOsLPQG","Hera_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},StartMove:function(){this._super()},OnReelSpinEnd:function(){this._super()},playReelStop:function(){this._super()},AppendSymbol:function(e,t){for(var n=0;n<e.length;n++){var a=cc.instantiate(this._symbolTemplete);a.parent=this._holderNode;var o=a.addComponent(this._cfg.scripts.Symbols);if(o.SetSymbolReelIdx(this._reelIdx),1===t){var i=-1-n;a.position=this.GetSymbolPosByRow(i),o.Init(i,this._topAniNode),this._symbols.unshift(o)}else if(2===t){var r=this._symbols.length-1;o.Init(r,this._topAniNode),this._symbols.splice(r,0,o)}o.ShowById(e[n].id,e[n].data)}2===t&&this.ReLayOut()},deleteSymbol:function(e){var t=this._symbols[e];this._symbols.splice(e,1),t.setAnimationToTop(!1),t.ShowKuang(!1),t.node.destroy()},clearLastSymbol:function(){var e=this._symbols[this._symbols.length-1];e&&(e.setAnimationToTop(!1),e.ShowKuang(!1))},ShowAntiEffect:function(e,t){if(0==e){if(this._cfg.reelStateInfo){var n,o=a(this._cfg.reelStateInfo);try{for(o.s();!(n=o.n()).done;){var i=n.value,r=cc.find(i.antiNode+"_"+(this._reelIdx+1),this.node.parent);r&&r.active&&(r.active=!1,this._stopRightNow&&cc.vv.AudioManager.stopEffectByName(i.antSound))}}catch(e){o.e(e)}finally{o.f()}}}else{var c=cc.find(t+"_"+(this._reelIdx+1),this.node.parent);c?c.active=e:cc.log("\u672a\u627e\u5230\u52a0\u901f\u8282\u70b9\uff1amask/node_anti")}}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],Hera_Slots:[function(e,t,n){"use strict";function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=o(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){c=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(c)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t,n,a,o,i,r){try{var c=e[i](r),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function c(e){r(i,a,o,c,s,"next",e)}function s(e){r(i,a,o,c,s,"throw",e)}c(void 0)})}}cc._RF.push(t,"df7fcj2iQVFU5fH8MlHxhc+","Hera_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_jackpotNums:[]},Init:function(){var e=this;this._jackpotNums=[0,0,0,0],this._super();var t=cc.find("collect_node/bonus_node",this.node),n=cc.vv.gameData.getDeskInfo();t.on(cc.Node.EventType.TOUCH_END,function(){n.needBet>n.currmult&&"idle"===cc.vv.gameData.GetSlotState()&&e._bottomScript.SetBetIdx(n.needBet)});var a=cc.find("lock",t).getComponent(sp.Skeleton);n.needBet<=n.currmult?(Global.SlotsSoundMgr.playEffect("unlock"),a.setAnimation(0,"BetUp_Intro",!1)):(Global.SlotsSoundMgr.playEffect("lock"),a.setAnimation(0,"BetUp_End",!1),a.addAnimation(0,"BetUp_Loop",!0)),this.updateCollectProgress(n.bonusTrail)},StartMove:function(){this._super(),Global.SlotsSoundMgr.playNormalBgm()},ReconnectShow:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o,i,r,c,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=cc.vv.gameData.getDeskInfo(),cc.vv.gameData.GetFreeTime()){for(e.ShowGameview(!0),e._jackpotNums=n.freeGameInfo.bonusCnt,a=cc.find("spr_bg_free/prize_pool",e.node.parent),o=0;o<4;o++)for(i=cc.find("prizePool_"+(o+1),a),r=0;r<6;r++)(c=cc.find("collect/node_"+(r+1),i))&&(cc.find("ball",c).active=r<e._jackpotNums[o],cc.find("light",c).active=!0);if(a.getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:0,pauseNum:n.freeGameInfo.jackpotValues[0]},{prizeType:1,pauseNum:n.freeGameInfo.jackpotValues[1]},{prizeType:2,pauseNum:n.freeGameInfo.jackpotValues[2]},{prizeType:3,pauseNum:n.freeGameInfo.jackpotValues[3]}]),2===n.bonusTrail.state){for(cc.find("super_node",e.node).active=!0,s=0;s<6;s++)l=cc.find("super_node/item_"+(s+1),e.node),cc.find("blue",l).active=!1,cc.find("spine",l).active=!1,cc.find("light",l).active=!1;e.clearCollectProgress()}Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("fgbgm"),e.CanDoNextRound()}else e.ShowGameview(!1),e.CanDoNextRound();case 3:case"end":return t.stop()}},t)}))()},onMsgSpine:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t._super(e);case 1:case"end":return n.stop()}},n)}))()},SetSlotsResult:function(e){this._super(e)},OnReelSpinEnd:function(e){for(var t=this._reels[e],n=0;n<this._cfg.row;n++){var a=t.GetSymbolByRow(n);a&&this._cfg.bonusIds.includes(a.GetShowId())&&a.playWinAnimation()}},CheckEnterFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetFreeTime()===cc.vv.gameData.GetTotalFree()},CheckExtraFreeGame:function(){return!!(this._gameInfo.freeResult&&this._gameInfo.freeResult.freeInfo&&this._gameInfo.freeResult.freeInfo.freeCnt>0)},CheckExitFreeGame:function(){return cc.vv.gameData.GetTotalFree()>0&&0===cc.vv.gameData.GetFreeTime()},ShowWinTrace:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,o,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()&&(n=cc.vv.gameData.GetGameTotalFreeWin()-cc.vv.gameData.GetGameWin()),o=0,i=regeneratorRuntime.mark(function t(i){var r,s,l,u,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e._gameInfo.winResults[i],s=[0,0,0,0,0],n+=r.winCoin,t.next=5,new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=regeneratorRuntime.mark(function t(n){var a,o,i,c,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.cards[n],o=e.GetSymbolByIdx(n+1),!e._cfg.bonusIds.includes(a)||o.getHasChangeBall()){t.next=22;break}return o.playBallAnimation(),e._jackpotNums[a-201]++,t.next=7,cc.vv.gameData.awaitTime(.5);case 7:return(i=cc.instantiate(cc.find("particle_"+a,e.node.parent))).active=!0,i.parent=e.node.parent,c=o.node.convertToWorldSpaceAR(cc.v2(0,0)),c=e.node.parent.convertToNodeSpaceAR(c),i.position=c,s=cc.find("spr_bg_free/prize_pool/prizePool_"+(a-200)+"/collect/node_"+e._jackpotNums[a-201],e.node.parent),l=s.convertToWorldSpaceAR(cc.v2(0,0)),l=e.node.parent.convertToNodeSpaceAR(l),cc.tween(i).to(.5,{position:l}).call(function(){cc.find("ball",s).active=!0;cc.find("light",s).getComponent(sp.Skeleton).setAnimation(0,"Qiu_X_"+["Mini","Minor","Major","Grand"][a-201],!1),o.playBallClearAnimation()}).removeSelf().start(),t.next=19,cc.vv.gameData.awaitTime(.7);case 19:if(!e._gameInfo.jackpot||!e.collectFullJackpot()){t.next=22;break}return t.next=22,e.popJackpotDialog();case 22:case"end":return t.stop()}},t)}),o=0;case 2:if(!(o<r.cards.length)){t.next=7;break}return t.delegateYield(a(o),"t0",4);case 4:o++,t.next=2;break;case 7:n();case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 5:l=a(r.idxs);try{for(l.s();!(u=l.n()).done;)f=u.value,(m=e.GetSymbolByIdx(f))&&(s[(f-1)%5]++,m.playWinAnimation(),m.ShowKuang())}catch(e){l.e(e)}finally{l.f()}return t.next=9,new Promise(function(t){e.ShowBottomWin(r.winCoin,n,i===e._gameInfo.winResults.length-2,c(regeneratorRuntime.mark(function n(){var c,l,u,f,m,d,p,_,g,v;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o++,2===e._gameInfo.bonusTrail.state&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()){for(c=0;c<o-1;c++)l=cc.find("super_node/item_"+(c+1),e.node),cc.find("blue",l).active=!0,cc.find("spine",l).active=!1,cc.find("light",l).active=!1;Global.SlotsSoundMgr.playEffect("multiplier"),u=cc.find("super_node/item_"+o,e.node),cc.find("spine",u).active=!0,(f=cc.find("light",u)).active=!0,f.getComponent(sp.Skeleton).setAnimation(0,"FG_ChengBei_Intro",!1)}Global.SlotsSoundMgr.playEffect("magicbreak"),m=a(r.idxs);try{for(m.s();!(d=m.n()).done;)p=d.value,(_=e.GetSymbolByIdx(p))&&function(){_.playClearAnimation(),_.ShowKuang(!1);var t=cc.instantiate(cc.find("symbol_clean",e.node.parent));t.active=!0,t.parent=e.node.parent;var n=_.node.convertToWorldSpaceAR(cc.v2(0,0));n=e.node.parent.convertToNodeSpaceAR(n),t.position=n,t.getComponent(sp.Skeleton).setAnimation(0,"symbol_clean",!1),t.getComponent(sp.Skeleton).setCompleteListener(function(){t.removeFromParent()})}()}catch(e){m.e(e)}finally{m.f()}return n.next=7,cc.vv.gameData.awaitTime(.8);case 7:for(Global.SlotsSoundMgr.playEffect("symboldown"),g=function(t){var n=s[t],o=[],c=e._reels[t],l=e._gameInfo.winResults[i+1].cards;if(n>0){for(var u=0;u<n;u++){var f=l[e._cfg.col*u+t];o.push({id:f,data:null})}r.idxs.sort(function(e,t){return e-t}),o.reverse(),c.AppendSymbol(o,2);var m,d=a(r.idxs);try{for(d.s();!(m=d.n()).done;){var p=m.value;if((p-1)%5===t)if(e.GetSymbolByIdx(p)){var _=Math.floor(r.cards.length/e._cfg.col)-(Math.floor((p-1)/5)+1);c.deleteSymbol(_)}}}catch(e){d.e(e)}finally{d.f()}for(var g=0;g<l.length/e._cfg.col;g++){var v=c.GetSymbolByRow(g);cc.tween(v.node).to(.3,{y:(g+.5)*e._cfg.symbolSize.height}).start()}cc.tween(c.node).delay(.3).call(function(){c.ReLayOut();for(var t=0;t<e._cfg.row;t++){var n=c.GetSymbolByRow(t);n&&e._cfg.bonusIds.includes(n.GetShowId())&&!n.getHasChangeBall()&&n.playWinAnimation()}}).start()}},v=0;v<s.length;v++)g(v);return n.next=12,cc.vv.gameData.awaitTime(.8);case 12:t();case 13:case"end":return n.stop()}},n)})))});case 9:case"end":return t.stop()}},t)}),r=0;case 5:if(!(r<e._gameInfo.winResults.length-1)){t.next=10;break}return t.delegateYield(i(r),"t0",7);case 7:r++,t.next=5;break;case 10:case"end":return t.stop()}},t)}))()},collectFullJackpot:function(){for(var e=0;e<this._jackpotNums.length;e++)if(this._jackpotNums[e]>=3+e)return!0;return!1},OnSpinEnd:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ShowWinTrace();case 2:return t.next=4,new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var a,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e._gameInfo.winResults.length>0?e._gameInfo.winResults[e._gameInfo.winResults.length-1].cards:e._gameInfo.resultCards,o=regeneratorRuntime.mark(function t(n){var o,i,r,c,s,l,u,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a[n],i=e.GetSymbolByIdx(n+1),!e._cfg.bonusIds.includes(o)||i.getHasChangeBall()){t.next=31;break}return i.playBallAnimation(),e._jackpotNums[o-201]++,t.next=7,cc.vv.gameData.awaitTime(.5);case 7:return(r=cc.instantiate(cc.find("particle_"+o,e.node.parent))).active=!0,r.parent=e.node.parent,c=i.node.convertToWorldSpaceAR(cc.v2(0,0)),c=e.node.parent.convertToNodeSpaceAR(c),r.position=c,s=cc.find("spr_bg_free/prize_pool/prizePool_"+(o-200)+"/collect/node_"+e._jackpotNums[o-201],e.node.parent),l=s.convertToWorldSpaceAR(cc.v2(0,0)),l=e.node.parent.convertToNodeSpaceAR(l),Global.SlotsSoundMgr.playEffect("JPfly"),cc.tween(r).to(.5,{position:l}).call(function(){cc.find("ball",s).active=!0;cc.find("light",s).getComponent(sp.Skeleton).setAnimation(0,"Qiu_X_"+["Mini","Minor","Major","Grand"][o-201],!1),i.playBallClearAnimation()}).removeSelf().start(),t.next=20,cc.vv.gameData.awaitTime(.5);case 20:if(!e._gameInfo.jackpot||!e.collectFullJackpot()){t.next=31;break}return(u=cc.find("spr_bg_free/prize_pool/prizePool_"+e._gameInfo.jackpot.id+"/reward",e.node.parent)).active=!0,f=["JPTiShi_V","JPTiShi_L","JPTiShi_Z","JPTiShi_H"],u.getComponent(sp.Skeleton).setAnimation(0,f[e._gameInfo.jackpot.id-1],!1),u.getComponent(sp.Skeleton).setCompleteListener(function(){u.getComponent(sp.Skeleton).setCompleteListener(null),u.active=!1}),Global.SlotsSoundMgr.playEffect("JPcollect"),t.next=29,cc.vv.gameData.awaitTime(.5);case 29:return t.next=31,e.popJackpotDialog();case 31:case"end":return t.stop()}},t)}),i=0;case 3:if(!(i<a.length)){t.next=8;break}return t.delegateYield(o(i),"t0",5);case 5:i++,t.next=3;break;case 8:n();case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 4:for(n=0;n<6;n++)a=cc.find("super_node/item_"+(n+1),e.node),cc.find("blue",a).active=!1,cc.find("spine",a).active=!1,cc.find("light",a).active=!1;e.CheckEnterFreeGame()?e.triggerFreeGame():e.CheckExtraFreeGame()?e.triggerExtraFreeGame():e.CheckExitFreeGame()?e.triggerExitFreeGame():e.CanDoNextRound();case 6:case"end":return t.stop()}},t)}))()},ShowGameview:function(e){this._super(e),cc.find("LMSlots_PrizePool_1",this.node.parent).active=!e,cc.find("collect_node",this.node).active=!e,cc.find("hela",this.node.parent).active=!e,cc.find("super_node",this.node).active=this._gameInfo&&2===this._gameInfo.bonusTrail.state&&e},triggerFreeGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a,o,i,r,c,s,l,u,f,m,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e._bottomScript.ShowBtnsByState("moveing_1"),Global.SlotsSoundMgr.playEffect("triggering"),n=e._gameInfo.winResults[e._gameInfo.winResults.length-1],a=0;a<n.length;a++)n[a]===e._cfg.scatterId&&e.GetSymbolByIdx(a+1).playWinAnimation();return cc.vv.gameData.getDeskInfo().currmult>=cc.vv.gameData.getDeskInfo().needBet&&(o=cc.find("collect_node/item_"+e._gameInfo.bonusTrail.count,e.node),i=cc.find("finish",o),r=cc.find("spine",o),Global.SlotsSoundMgr.playEffect("collect"),i.active=!0,r.active=!0,2===e._gameInfo.bonusTrail.state?(r.getComponent(sp.Skeleton).setAnimation(0,"JinDuTiao_ChengBao_Intro",!1),r.getComponent(sp.Skeleton).addAnimation(0,"JinDuTiao_ChengBao_End",!0)):r.getComponent(sp.Skeleton).setAnimation(0,"JinDuTiao_Hua",!1)),t.next=7,cc.vv.gameData.awaitTime(2);case 7:if(2!==e._gameInfo.bonusTrail.state){t.next=12;break}return t.next=10,e.popFreeDialog(!0);case 10:t.next=14;break;case 12:return t.next=14,e.popFreeDialog(!1);case 14:return e.cutScene(),t.next=17,cc.vv.gameData.awaitTime(1.5);case 17:for(e._jackpotNums=[0,0,0,0],e.ShowGameview(!0),c=cc.find("spr_bg_free/prize_pool",e.node.parent),s=0;s<4;s++)for(l=cc.find("prizePool_"+(s+1),c),u=0;u<6;u++)(f=cc.find("collect/node_"+(u+1),l))&&(cc.find("ball",f).active=!1,cc.find("light",f).active=!1);if(c.getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:0,pauseNum:e._gameInfo.freeGameInfo.jackpotValues[0]},{prizeType:1,pauseNum:e._gameInfo.freeGameInfo.jackpotValues[1]},{prizeType:2,pauseNum:e._gameInfo.freeGameInfo.jackpotValues[2]},{prizeType:3,pauseNum:e._gameInfo.freeGameInfo.jackpotValues[3]}]),2===e._gameInfo.bonusTrail.state){for(m=0;m<6;m++)d=cc.find("super_node/item_"+(m+1),e.node),cc.find("blue",d).active=!1,cc.find("spine",d).active=!1,cc.find("light",d).active=!1;e.clearCollectProgress()}return Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm("fgbgm"),t.next=27,cc.vv.gameData.awaitTime(1.5);case 27:e.CanDoNextRound();case 28:case"end":return t.stop()}},t)}))()},cutScene:function(){Global.SlotsSoundMgr.playEffect("fgtransition");var e=cc.find("transition",this.node.parent);e.active=!0;var t=e.getChildByName("transition").getComponent(sp.Skeleton);t.setAnimation(0,"FG_GuoChang",!1),t.setCompleteListener(function(){t.setCompleteListener(null),e.active=!1})},triggerExtraFreeGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e._bottomScript.ShowBtnsByState("moveing_1"),n=e._gameInfo.winResults[e._gameInfo.winResults.length-1],a=0;a<n.length;a++)n[a]===e._cfg.scatterId&&e.GetSymbolByIdx(a+1).playWinAnimation();return Global.SlotsSoundMgr.playEffect("bell"),t.next=6,cc.vv.gameData.awaitTime(2);case 6:return t.next=8,e.popExtraFreeDialog();case 8:e.CanDoNextRound();case 9:case"end":return t.stop()}},t)}))()},triggerExitFreeGame:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),t.next=3,cc.vv.gameData.awaitTime(1);case 3:return t.next=5,e.popFreeResultDialog();case 5:return e.cutScene(),t.next=8,cc.vv.gameData.awaitTime(1.5);case 8:return e.ShowGameview(!1),t.next=11,cc.vv.gameData.awaitTime(.5);case 11:e.ShowBottomWin(cc.vv.gameData.GetGameTotalFreeWin(),cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm(),e.CanDoNextRound()});case 12:case"end":return t.stop()}},t)}))()},popFreeDialog:function(e){var t=this;return new Promise(function(){var n=c(regeneratorRuntime.mark(function n(a){var o,i,r,s,l,u,f,m,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playEffect("fgbegin"),(o=cc.find("dialog_node",t.node.parent)).active=!0,i=cc.find("common_enter_node",o),e&&(i=cc.find("super_enter_node",o)),i.active=!0,i.scale=1,(r=cc.find("freetanchuang",i)).scale=0,cc.tween(r).to(.5,{scale:1},{easing:"backOut"}).start(),(s=cc.find("congratulations",i)).scale=0,cc.tween(s).delay(.1).to(.5,{scale:1},{easing:"backOut"}).start(),(l=cc.find("you_won_EN",i)).scale=0,cc.tween(l).delay(.2).to(.5,{scale:1},{easing:"backOut"}).start(),(u=cc.find("times",i)).scale=0,u.getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),cc.tween(u).delay(.3).to(.5,{scale:1},{easing:"backOut"}).start(),(f=cc.find("free_games_EN",i)).scale=0,cc.tween(f).delay(.4).to(.5,{scale:1},{easing:"backOut"}).start(),(m=cc.find("btn_start",i)).scale=0,cc.tween(m).delay(.5).to(.5,{scale:1},{easing:"backOut"}).start(),n.next=29,cc.vv.gameData.awaitTime(1);case 29:d=function(){var e=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Global.SlotsSoundMgr.playEffect("button"),m.off("click"),cc.tween(i).to(.5,{scale:0},{easing:"backIn"}).call(function(){o.active=!1,i.active=!1,a()}).start();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(m,d),m.off("click"),m.on("click",function(){m.stopAllActions(),d()});case 33:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())},popExtraFreeDialog:function(){var e=this;return new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var a,o,i,r,c,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("fgretrigger"),(a=cc.find("dialog_node",e.node.parent)).active=!0,(o=cc.find("extra_node",a)).active=!0,o.scale=1,(i=cc.find("freetanchuang",o)).scale=0,cc.tween(i).to(.5,{scale:1},{easing:"backOut"}).start(),(r=cc.find("congratulations",o)).scale=0,cc.tween(r).delay(.1).to(.5,{scale:1},{easing:"backOut"}).start(),(c=cc.find("you_won_EN",o)).scale=0,cc.tween(c).delay(.2).to(.5,{scale:1},{easing:"backOut"}).start(),(s=cc.find("times",o)).scale=0,s.getComponent(cc.Label).string=e._gameInfo.freeResult.freeInfo.freeCnt,cc.tween(s).delay(.3).to(.5,{scale:1},{easing:"backOut"}).start(),(l=cc.find("free_games_EN",o)).scale=0,cc.tween(l).delay(.4).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=24,cc.vv.gameData.awaitTime(2);case 24:cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){a.active=!1,o.active=!1,n()}).start();case 25:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},popFreeResultDialog:function(){var e=this;return new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var a,o,i,r,s,l,u,f,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playEffect("fgend"),(a=cc.find("dialog_node",e.node.parent)).active=!0,(o=cc.find("result_node",a)).active=!0,o.scale=1,(i=cc.find("freetanchuang",o)).scale=0,cc.tween(i).to(.5,{scale:1},{easing:"backOut"}).start(),(r=cc.find("congratulations",o)).scale=0,cc.tween(r).delay(.1).to(.5,{scale:1},{easing:"backOut"}).start(),(s=cc.find("you_won_EN",o)).scale=0,cc.tween(s).delay(.2).to(.5,{scale:1},{easing:"backOut"}).start(),(l=cc.find("yifenkuang",o)).scale=0,cc.tween(l).delay(.3).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("coin",l).getComponent(cc.Label).string=Global.FormatNumToComma(cc.vv.gameData.GetGameTotalFreeWin()),(u=cc.find("free_games_EN",o)).scale=0,cc.tween(u).delay(.4).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("times",u).getComponent(cc.Label).string=cc.vv.gameData.GetTotalFree(),(f=cc.find("btn_collect",o)).scale=0,cc.tween(f).delay(.5).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=30,cc.vv.gameData.awaitTime(1);case 30:m=function(){var e=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.off("click"),Global.SlotsSoundMgr.playEffect("button"),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){a.active=!1,o.active=!1,n()}).start();case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(f,m),f.off("click"),f.on("click",function(){f.stopAllActions(),m()});case 34:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},popJackpotDialog:function(){var e=this;return new Promise(function(){var t=c(regeneratorRuntime.mark(function t(n){var a,o,i,r,s,l,u,f,m,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Global.SlotsSoundMgr.playEffect("jpPop"),a=["Mini","Minor","Major","Grand"],(o=cc.find("dialog_node",e.node.parent)).active=!0,(i=cc.find("jackpot_node",o)).active=!0,i.scale=1,(r=cc.find("fireworks",i)).active=!1,(s=cc.find("freetanchuang",i)).scale=0,s.getComponent("ImgSwitchCmp").setIndex(e._gameInfo.jackpot.id-1),cc.tween(s).to(.5,{scale:1},{easing:"backOut"}).call(function(){r.active=!0}).start(),(l=cc.find("title",i)).scale=0,l.getComponent(sp.Skeleton).setAnimation(0,"JPTC_"+a[e._gameInfo.jackpot.id-1],!0),cc.tween(l).delay(.1).to(.5,{scale:1},{easing:"backOut"}).start(),(u=cc.find("jackpot",i)).scale=0,cc.tween(u).delay(.2).to(.5,{scale:1},{easing:"backOut"}).start(),(f=cc.find("yifenkuang",i)).scale=0,cc.tween(f).delay(.3).to(.5,{scale:1},{easing:"backOut"}).start(),cc.find("coin",f).getComponent(cc.Label).string=Global.FormatNumToComma(e._gameInfo.jackpot.value),(m=cc.find("btn_collect",i)).scale=0,cc.tween(m).delay(.4).to(.5,{scale:1},{easing:"backOut"}).start(),t.next=29,cc.vv.gameData.awaitTime(1);case 29:d=function(){var t=c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:m.off("click"),Global.SlotsSoundMgr.playEffect("button"),cc.tween(i).to(.5,{scale:0},{easing:"backIn"}).call(function(){e._jackpotNums[e._gameInfo.jackpot.id-1]=0;for(var t=cc.find("spr_bg_free/prize_pool/prizePool_"+e._gameInfo.jackpot.id,e.node.parent),a=0;a<6;a++){var r=cc.find("collect/node_"+(a+1),t);r&&(cc.find("ball",r).active=!1)}o.active=!1,i.active=!1,n()}).start();case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),cc.vv.gameData.checkAutoPlay(m,d),m.off("click"),m.on("click",function(){m.stopAllActions(),d()});case 33:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},updateCollectProgress:function(e){var t=this;return c(regeneratorRuntime.mark(function n(){var a,o,i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(a=0;a<10;a++)o=cc.find("collect_node/item_"+(a+1),t.node),i=cc.find("finish",o),r=cc.find("spine",o),i.active=a<e.count,9!==a?r.active=!1:(r.active=!0,r.getComponent(sp.Skeleton).setAnimation(0,"JinDuTiao_ChengBao_Loop",!0));case 1:case"end":return n.stop()}},n)}))()},clearCollectProgress:function(){for(var e=0;e<10;e++){var t=cc.find("collect_node/item_"+(e+1),this.node),n=cc.find("finish",t),a=cc.find("spine",t);n.active=!1,9!==e?a.active=!1:(a.active=!0,a.getComponent(sp.Skeleton).setAnimation(0,"JinDuTiao_ChengBao_Loop",!0))}}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],Hera_Symbol:[function(e,t,n){"use strict";cc._RF.push(t,"18d0fzUv0NEQbQl4wggrRGF","Hera_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{_hasChange:!1},StartMove:function(){this._hasChange=!1,this._super()},ShowById:function(e,t){this._super(e,t);var n=cc.find("icon",this._showNode);n&&(n.active=!1)},SetSymbolIdx:function(e){this._super(e)},GetSymbolIdx:function(){return this._symbolIdx},playBallAnimation:function(){this._hasChange=!0,this._showNode&&(this._showNode.active=!1);var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node){this._state="win",this._showNode&&(this._showNode.active=!1);var n=this.setAnimationToTop(!0);n.active=!0;var a=cc.find(t.symbol[e].win_node,n);if(a.active=!0,t.symbol[e].ball_ani&&""!==t.symbol[e].ball_ani.name){n.zIndex=t.symbol[e].win_ani.zIndex-this._symbolIdx+10*this._reelIdx;var o=a.getComponent(sp.Skeleton);if(o)Global.SlotsSoundMgr.playEffect("JPtrans"),cc.tween(a).to(.1,{scale:1.1}).to(.1,{scale:1}).start(),o.setAnimation(0,t.symbol[e].ball_ani.name,!0),cc.find("effect",a).getComponent(sp.Skeleton).setAnimation(0,t.symbol[e].effect_ani.name,!1)}}},playBallClearAnimation:function(){this.ShowNormal();var e=cc.find("icon",this._showNode);e&&(e.active=!0)},getHasChangeBall:function(){return this._hasChange},playClearAnimation:function(){this._showNode&&(this._showNode.active=!1);var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node){this._showNode&&(this._showNode.active=!1);var n=this.setAnimationToTop(!0);n.active=!0;var a=cc.find(t.symbol[e].win_node,n);a.active=!0,n.zIndex=t.symbol[e].win_ani.zIndex-this._symbolIdx+10*this._reelIdx;var o=a.getComponent(sp.Skeleton);o&&o.setAnimation(0,"clean",!1)}}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["Hera_Cfg","Hera_Logic","Hera_Reel","Hera_Slots","Hera_Symbol"]);