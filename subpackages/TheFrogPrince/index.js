window.__require=function e(n,t,o){function i(r,c){if(!t[r]){if(!n[r]){var s=r.split("/");if(s=s[s.length-1],!n[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var m=t[r]={exports:{}};n[r][0].call(m.exports,function(e){return i(n[r][1][e]||e)},m,m.exports,e,n,t,o)}return t[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({TheFrogPrince_Cfg:[function(e,n,t){"use strict";var o;function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}cc._RF.push(n,"57210/ogNxCIa7BlekcVi4C","TheFrogPrince_Cfg");var a={symbol:(o={},i(o,1,{node:"symbol_1",win_node:"animation_1",win_ani:{name:"animation",zIndex:300}}),i(o,2,{node:"symbol_2",win_node:"animation_2",win_ani:{name:"animation",zIndex:300},stop_ani:{name:"animation1",zIndex:100}}),i(o,3,{node:"symbol_3",win_node:"animation_3",trigger_ani:{name:"animation",zIndex:300},win_ani:{name:"animation2",zIndex:200},stop_ani:{name:"animation1",zIndex:400}}),i(o,4,{node:"symbol_4",win_node:"animation_4",win_ani:{name:"animation",zIndex:300}}),i(o,5,{node:"symbol_5",win_node:"animation_5",win_ani:{name:"animation",zIndex:300}}),i(o,6,{node:"symbol_6",win_node:"animation_6",win_ani:{name:"animation",zIndex:300}}),i(o,7,{node:"symbol_7",win_node:"animation_7",win_ani:{name:"animation",zIndex:300}}),i(o,8,{node:"symbol_8",win_node:"animation_8",win_ani:{name:"animation2",zIndex:300}}),i(o,9,{node:"symbol_9",win_node:"animation_9",win_ani:{name:"animation4",zIndex:300}}),i(o,10,{node:"symbol_10",win_node:"animation_10",win_ani:{name:"animation1",zIndex:300}}),i(o,11,{node:"symbol_11",win_node:"animation_11",win_ani:{name:"animation3",zIndex:300}}),i(o,12,{node:"symbol_12",win_node:"animation_12",win_ani:{name:"animation2",zIndex:300},idle_ani:{name:"animation4",zIndex:200},stop_ani:{name:"animation5",zIndex:100}}),i(o,13,{node:"symbol_13",win_node:"animation_13",win_ani:{name:"animation2",zIndex:300},idle_ani:{name:"animation4",zIndex:200},stop_ani:{name:"animation5",zIndex:100}}),i(o,14,{node:"symbol_14",win_node:"animation_14",win_ani:{name:"animation2",zIndex:300},idle_ani:{name:"animation4",zIndex:200},stop_ani:{name:"animation5",zIndex:100}}),i(o,15,{node:"symbol_15",win_node:"animation_15",win_ani:{name:"animation2",zIndex:300},idle_ani:{name:"animation4",zIndex:200},stop_ani:{name:"animation5",zIndex:100}}),i(o,16,{node:"symbol_empty"}),o),puzzleCfg:{atlas:"puzzle_6",bg:"theme_store_puzzle6_bg",full:"theme_store_puzzle6_full",pieces:["theme_store_puzzle_6_1","theme_store_puzzle_6_2","theme_store_puzzle_6_3","theme_store_puzzle_6_4","theme_store_puzzle_6_5","theme_store_puzzle_6_6","theme_store_puzzle_6_7","theme_store_puzzle_6_8","theme_store_puzzle_6_9","theme_store_puzzle_6_10","theme_store_puzzle_6_11","theme_store_puzzle_6_12"]},scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"TheFrogPrince_Slots",Reels:"TheFrogPrince_Reel",Symbols:"TheFrogPrince_Symbol"},col:5,row:4,symbolPrefab:"symbol",symbolSize:{width:100,height:101},randomSymbols:[1,4,5,6,7,8,9,10,11],normalBgm:"base_bgm",wildId:1,scatterId:2,bonusId:3,frogIds:[14,15,13,12],emptyId:16,kuang:"kuang",autoModelDelay:.5,speed:3e3,reelStopInter:.2,auto_stop_time:1,AddAntiTime:1.5,bounce:!0,helpItems:["games/TheFrogPrince/prefab/help_item_1","games/TheFrogPrince/prefab/help_item_2","games/TheFrogPrince/prefab/help_item_3","games/TheFrogPrince/prefab/help_item_4","games/TheFrogPrince/prefab/help_item_5"],commEffect:{path:"games/TheFrogPrince/",win1:["win1","win1end"],win2:["win2","win2end"],win3:["win3","win3end"],win4:["win4","win4end"]},bounceInfo:{distance:20,time:.1},reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,1],antiNode:"node_anti",path:"games/TheFrogPrince/",reelStopSound:"reel_stop",symbolStopSound:"scatter_notify",antSound:"reel_notify",antSpeed:2e3}]};n.exports=a,cc._RF.pop()},{}],TheFrogPrince_FrogReel:[function(e,n,t){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,r=!0,c=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){c=!0,a=e},f:function(){try{r||null==o.return||o.return()}finally{if(c)throw a}}}}function i(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}cc._RF.push(n,"4c524oWQDxD8oiasaZksCSJ","TheFrogPrince_FrogReel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{_frogSymbols:[]},createFrogSymbol:function(e,n,t){var o=cc.vv.gameData.getGameCfg(),i=cc.instantiate(this._symbolTemplete);i.parent=cc.find("frog_parent",this.node);var a=i.addComponent(o.scripts.Symbols);return i.zIndex=1e3,cc.log("create frog id "+e),a.ShowById(e,n),i.y=t,this._frogSymbols.push(a),i},getFrogSymbols:function(){return this._frogSymbols},StartMove:function(){this._result=null;var e=cc.vv.gameData.getGameCfg();this._curY=0,this._bMoving=!0,this._bStoping=!1,this._offsetY=0;for(var n=0;n<this._symbols.length;n++){this._symbols[n].StartMove()}this._speed=e.speed,this._offset=e.symbolSize.height},OnReelSpinEnd:function(){},removeFrogSymbols:function(){var e,n=o(this._frogSymbols);try{for(n.s();!(e=n.n()).done;){e.value.setAnimationToTop(!1)}}catch(e){n.e(e)}finally{n.f()}cc.find("frog_parent",this.node).removeAllChildren(),cc.find("mask/holder",this.node).removeAllChildren(),this._symbols=[],this._frogSymbols=[]}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],TheFrogPrince_Logic:[function(e,n,t){"use strict";cc._RF.push(n,"82443gKTCZLyIfwr4fI9hyX","TheFrogPrince_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},onLoad:function(){this._super()}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],TheFrogPrince_Reel:[function(e,n,t){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,r=!0,c=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){c=!0,a=e},f:function(){try{r||null==o.return||o.return()}finally{if(c)throw a}}}}function i(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}cc._RF.push(n,"0d171jwy8VK7bYs+K2K88tl","TheFrogPrince_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{},OnReelSpinEnd:function(){this._super();for(var e=!0,n=0;n<4;n++)if(-1===cc.vv.gameData.getGameCfg().frogIds.indexOf(this._symbols[n].GetShowId())){e=!1;break}if(e){var t,i=o(this._symbols);try{for(i.s();!(t=i.n()).done;){t.value.playStopAnimation()}}catch(e){i.e(e)}finally{i.f()}cc.vv.AudioManager.playEff("games/TheFrogPrince/","bonus_notify",!0)}if(4===this._reelIdx&&!cc.vv.gameData.GetSlotsScript().isFullFrogOneColumn()){var a,r=o(this._symbols);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(c.GetShowId()===cc.vv.gameData.getGameCfg().bonusId){c.playWinAnimation();break}}}catch(e){r.e(e)}finally{r.f()}}},OnReelBounsActionBefore:function(){if(this._super(),4===this._reelIdx){var e,n=o(this._symbols);try{for(n.s();!(e=n.n()).done;){var t=e.value;if(t.GetShowId()===cc.vv.gameData.getGameCfg().bonusId){t.playStopAnimation();break}}}catch(e){n.e(e)}finally{n.f()}}},AddCount:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this._bResizing){this._bResizing=!0,this._nCount+=e,this._offsetY=t;var o=this._offsetY;e<0&&(o=-1*this._offsetY);var i=cc.vv.gameData.getGameCfg();this.totalAddHeight=(e-o)*i.symbolSize.height,this.deltaHeight=this.totalAddHeight/n,this.curAddHeight=0}},GetResizeHeightObjs:function(){var e=[],n=cc.find("reels_bg/reel_bg"+(this._reelIdx+1),this.node.parent.parent);return n&&e.push(n),e.push(cc.find("reels_frame_bottom/line_"+this._reelIdx,this.node.parent.parent)),e.push(cc.find("reels_frame_bottom/line_"+(this._reelIdx+1),this.node.parent.parent)),e},GetResizeMoveingObjs:function(){var e=[],n=cc.find(cc.js.formatStr("reels_frame/top_%s",this._reelIdx+1),this.node.parent.parent);return n&&e.push(n),e},ShowAntiEffect:function(e,n){this._super(e,n),!1===e&&this._stopRightNow&&cc.vv.AudioManager.stopEffectByName("reel_notify");var t=cc.find("mask/"+n,this.node);t?t.active=e:cc.log("\u672a\u627e\u5230\u52a0\u901f\u8282\u70b9\uff1amask/node_anti")},getSymbols:function(){return this._symbols}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],TheFrogPrince_Slots:[function(e,n,t){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,r=!0,c=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){c=!0,a=e},f:function(){try{r||null==o.return||o.return()}finally{if(c)throw a}}}}function i(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function r(e,n,t,o,i,a,r){try{var c=e[a](r),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(o,i)}function c(e){return function(){var n=this,t=arguments;return new Promise(function(o,i){var a=e.apply(n,t);function c(e){r(a,o,i,c,s,"next",e)}function s(e){r(a,o,i,c,s,"throw",e)}c(void 0)})}}cc._RF.push(n,"046fdsOcXNK9ZFJVjYOSjdf","TheFrogPrince_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_frogReels:[],_inEpicLink:!1,_playCommonAnimation:!0,_animationTimer:10},Init:function(){this._super();var e=this;this.node.parent.parent.getComponent("LMSlots_Puzzle").setCallback(function(){var n=c(regeneratorRuntime.mark(function n(t){var o,i,a,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e._bottomScript.ShowBtnsByState("moveing_1"),(o=cc.find("free_dialog",e.node.parent)).active=!0,cc.vv.AudioManager.playEff("games/TheFrogPrince/","free_popup_in",!0),(i=o.getChildByName("enter_node")).scale=.1,i.active=!0,i.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.1,1))),n.next=10,cc.vv.gameData.awaitTime(.5);case 10:a=i.getChildByName("btn_start"),r=function(){i.getChildByName("btn_start").off("click"),cc.vv.gameData.SetTotalFree(t.freeCnt),cc.vv.gameData.SetFreeTime(t.freeCnt),cc.vv.AudioManager.playEff("games/TheFrogPrince/","fgcollect",!0),cc.vv.AudioManager.playEff("games/TheFrogPrince/","transition",!0);var n=cc.find("qieping",e.node.parent);n.active=!0,n.getComponent(sp.Skeleton).clearTracks(),n.getComponent(sp.Skeleton).setToSetupPose(),n.getComponent(sp.Skeleton).setAnimation(0,"skill03",!1),n.getComponent(sp.Skeleton).setCompleteListener(function(){Global.SlotsSoundMgr.playBgm("free_bgm"),e.ShowGameview(!0),e.scheduleOnce(function(){e.CanDoNextRound()},1)}),i.active=!1,o.active=!1},cc.vv.gameData.checkAutoPlay(a,r),i.getChildByName("btn_start").off("click"),i.getChildByName("btn_start").on("click",function(){a.stopAllActions(),r()});case 15:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}())},createReels:function(e,n){this._super(e,n);for(var t=2;t<5;t++){var o=cc.find("reels/frog_reel"+t,this.node).addComponent("TheFrogPrince_FrogReel");this._frogReels.push(o)}},StartMove:function(){this._super(),Global.SlotsSoundMgr.playNormalBgm()},ReconnectShow:function(){cc.vv.gameData.GetFreeTime()?(this.ShowGameview(!0),this.CanDoNextRound()):this.ShowGameview(!1)},CheckEnterFreeGame:function(){var e=this,n=cc.find("free_dialog",this.node.parent);if(this._gameInfo.allFreeCnt>0&&this._gameInfo.freeCnt===this._gameInfo.allFreeCnt){cc.vv.AudioManager.playEff("games/TheFrogPrince/","fg_bell",!0);for(var t=0;t<this._reels.length;t++)for(var o=this._reels[t],i=0;i<this._cfg.row;i++){var a=o.GetSymbolByRow(i);a&&a.GetShowId()===this._cfg.scatterId&&a.playWinAnimation()}this.Backup();var r=this;return this.scheduleOnce(c(regeneratorRuntime.mark(function e(){var t,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.active=!0,cc.vv.AudioManager.playEff("games/TheFrogPrince/","free_popup_in",!0),(t=n.getChildByName("enter_node")).scale=.1,t.active=!0,t.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.1,1))),e.next=8,cc.vv.gameData.awaitTime(.5);case 8:o=t.getChildByName("btn_start"),i=function(){t.getChildByName("btn_start").off("click"),cc.vv.AudioManager.playEff("games/TheFrogPrince/","fgcollect",!0),cc.vv.AudioManager.playEff("games/TheFrogPrince/","transition",!0);var e=cc.find("qieping",r.node.parent);e.active=!0,e.getComponent(sp.Skeleton).clearTracks(),e.getComponent(sp.Skeleton).setToSetupPose(),e.getComponent(sp.Skeleton).setAnimation(0,"skill03",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){Global.SlotsSoundMgr.playBgm("free_bgm"),r.ShowGameview(!0),r.scheduleOnce(function(){r.CanDoNextRound()},1)}),t.active=!1,n.active=!1},cc.vv.gameData.checkAutoPlay(o,i),t.getChildByName("btn_start").off("click"),t.getChildByName("btn_start").on("click",function(){o.stopAllActions(),i()});case 13:case"end":return e.stop()}},e)})),2),!0}if(this._gameInfo.freeResult&&this._gameInfo.freeResult.freeInfo&&this._gameInfo.freeResult.freeInfo.freeCnt>0){cc.vv.AudioManager.playEff("games/TheFrogPrince/","fg_bell",!0);for(var s=0;s<this._reels.length;s++)for(var l=this._reels[s],m=0;m<this._cfg.row;m++){var u=l.GetSymbolByRow(m);u&&u.GetShowId()===this._cfg.scatterId&&u.playWinAnimation()}return this.scheduleOnce(function(){n.active=!0;var t=n.getChildByName("extra_node");cc.vv.AudioManager.playEff("games/TheFrogPrince/","free_popup_in",!0),t.scale=.1,t.active=!0,t.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.1,1),cc.delayTime(2),cc.callFunc(c(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n.active=!1,t.active=!1,o.next=4,e.awaitTime(.2);case 4:e.CanDoNextRound();case 5:case"end":return o.stop()}},o)})))))},2),!0}return!1},CheckExitFreeGame:function(){var e=cc.vv.gameData.GetTotalFree(),n=cc.vv.gameData.GetFreeTime(),t=cc.find("free_dialog",this.node.parent);if(e>0&&0===n){t.active=!0,cc.vv.AudioManager.playEff("games/TheFrogPrince/","free_collect_popup_in",!0);var o=t.getChildByName("result_node");o.scale=.1,o.active=!0,o.runAction(cc.sequence(cc.scaleTo(.3,1.2),cc.scaleTo(.1,1)));var i=o.getChildByName("coin");i.active=!0,Global.doRoallNumEff(i,0,cc.vv.gameData.GetGameTotalFreeWin(),1.5,null,null,0,!0);var a=this,r=o.getChildByName("btn_collect"),s=function(){o.getChildByName("btn_collect").off("click"),cc.vv.AudioManager.playEff("games/TheFrogPrince/","fgcollect",!0),a.scheduleOnce(function(){a.Resume(),a.ShowGameview(!1)},.5),cc.vv.AudioManager.playEff("games/TheFrogPrince/","transition",!0);var e=cc.find("qieping",a.node.parent);e.active=!0,e.getComponent(sp.Skeleton).clearTracks(),e.getComponent(sp.Skeleton).setToSetupPose(),e.getComponent(sp.Skeleton).setAnimation(0,"skill03",!1),e.getComponent(sp.Skeleton).setCompleteListener(function(){a.ShowBottomWin(cc.vv.gameData.GetGameTotalFreeWin(),cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){a.CanDoNextRound(),Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playNormalBgm()})}),o.active=!1,t.active=!1};return cc.vv.gameData.checkAutoPlay(r,c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc.vv.gameData.awaitTime(.5);case 2:s();case 3:case"end":return e.stop()}},e)}))),o.getChildByName("btn_collect").off("click"),o.getChildByName("btn_collect").on("click",function(){r.stopAllActions(),s()}),!0}return!1},CheckTriggerSubGame:function(){return!!this._gameInfo.epicInfo},triggerEpicLink:function(){var e=this;return c(regeneratorRuntime.mark(function n(){var t,i,a,r,c,s,l,m,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.awaitTime(.5);case 2:cc.vv.AudioManager.playEff("games/TheFrogPrince/","fg_bell",!0),t=e._findFullColumnFrogIndex(),i=0;case 5:if(!(i<4)){n.next=14;break}if(e._gameInfo.resultCards[4+5*i]!==e._cfg.bonusId){n.next=11;break}return e.GetSymbolByIdx(5+5*i).playTriggerAnimation(),n.abrupt("break",14);case 11:i++,n.next=5;break;case 14:a=o(t);try{for(a.s();!(r=a.n()).done;)c=r.value,(s=e.GetSymbolByIdx(c+1))&&s.playWinAnimation()}catch(e){a.e(e)}finally{a.f()}return n.next=18,e.awaitTime(1);case 18:(l=cc.find("epiclink_dialog",e.node.parent)).active=!0,(m=l.getChildByName("enter_node")).active=!0,m.scale=0,cc.vv.AudioManager.playEff("games/TheFrogPrince/","respins_popup_in",!0),u=cc.find("wangzi",e.node.parent),m.runAction(cc.sequence(cc.scaleTo(.5,1),cc.delayTime(1),cc.callFunc(function(){e._playCommonAnimation=!1,u.getComponent(sp.Skeleton).setAnimation(0,"skill01",!1)}),cc.scaleTo(.5,0),cc.callFunc(function(){l.active=!1,cc.find("LMSlots_PrizePool_1",e.node.parent).getComponent("LMSlots_PrizePool_Base").PausePool([{prizeType:0,pauseNum:e._gameInfo.epicInfo.jackpotValues[0]},{prizeType:1,pauseNum:e._gameInfo.epicInfo.jackpotValues[1]},{prizeType:2,pauseNum:e._gameInfo.epicInfo.jackpotValues[2]},{prizeType:3,pauseNum:e._gameInfo.epicInfo.jackpotValues[3]}]),Global.SlotsSoundMgr.playNormalBgm(),e.startEpicLink()}))),e._inEpicLink=!0;case 27:case"end":return n.stop()}},n)}))()},startEpicLink:function(){var e=this;return c(regeneratorRuntime.mark(function n(){var t,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(-1===(t=e._getFrogColumnIndex())){n.next=5;break}if(-1===(i=e._gameInfo.resultCards.indexOf(e._cfg.bonusId))){n.next=5;break}return n.delegateYield(regeneratorRuntime.mark(function n(){var a,r,c,s,l,m,u,f,g,_,d,p,h,v,y,S,b,T,C,w,I,k,x,F,A,z,R,P,B;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e._changeRemainTimes(3),a=Math.floor(i/5),r=cc.find("reels_frame/feilizi_"+(a+1),e.node),c=e._getFrogColor(),r&&(r.getComponent(sp.Skeleton).clearTracks(),r.getComponent(sp.Skeleton).setAnimation(0,"animation"+c,!1)),n.next=7,e.awaitTime(.5);case 7:s=e._findFullColumnFrogIndex(),cc.log(s),l=o(s);try{for(l.s();!(m=l.n()).done;)u=m.value,(f=e.GetSymbolByIdx(u+1))&&f.playidleAnimation()}catch(e){l.e(e)}finally{l.f()}return(g=e.GetSymbolByIdx(i+1))&&g.playWinAnimation(),(_=cc.find("reels_frame/boneslunzhou_"+c,e.node)).active=!0,_.getComponent(sp.Skeleton).clearTracks(),_.getComponent(sp.Skeleton).setToSetupPose(),_.getComponent(sp.Skeleton).setAnimation(0,"animation"+c+"_1",!1),_.getComponent(sp.Skeleton).setCompleteListener(function(e){(e.animation?e.animation.name:"")==="animation"+c+"_1"&&(_.getComponent(sp.Skeleton).clearTracks(),_.getComponent(sp.Skeleton).setAnimation(0,"animation"+c+"_2",!0))}),n.next=21,e.awaitTime(.5);case 21:return cc.vv.AudioManager.playEff("games/TheFrogPrince/","reel_raise",!0),2===t?e._reels[t].AddCount(5,1):e._reels[t].AddCount(4,1),n.next=25,e.awaitTime(1);case 25:return(d=e._frogReels[t-1])&&(d.active=!0,2===t?d.Init(t,9):d.Init(t,8)),p=3,(h=cc.find("epiclink_times",e.node.parent))&&(h.active=!0,h.scale=0,h.position=cc.find("epiclink_pos_"+c,e.node.parent).position,h.runAction(cc.sequence(cc.scaleTo(.5,1),cc.delayTime(1),cc.callFunc(function(){e._changeRemainTimes(p)}),cc.delayTime(.5),cc.callFunc(function(){p--,e._changeRemainTimes(p)})))),n.next=32,e.awaitTime(2);case 32:e._topScript.StartMove(),v=4,y=0;case 35:if(!(y<e._gameInfo.epicInfo.steps.length)){n.next=72;break}for(S=e._gameInfo.epicInfo.steps[y],b=[],T=2===t?9:8,C=0;C<T;C++)b.push({sid:e._cfg.emptyId});return d.StartMove(),n.next=43,e.awaitTime(2);case 43:return w=parseInt(Math.random()*(T-v))+v,0!==S&&(b[w]={sid:e._gameInfo.resultCards[s[0]],data:S},v++),d.SetResult(b),d.StopMove(1),n.next=49,e.awaitTime(1);case 49:return 0!==S?cc.vv.AudioManager.playEff("games/TheFrogPrince/","sbonus_notify",!0):cc.vv.AudioManager.playEff("games/TheFrogPrince/","reel_stop",!0),n.next=52,e.awaitTime(1);case 52:if(0!==S?p=3:p--,e._changeRemainTimes(p),0===S){n.next=67;break}return I=d.GetSymbolByRow(w),k=d.createFrogSymbol(e._gameInfo.resultCards[s[0]],S,I.node.y),d.GetSymbolByRow(w).ShowById(e._cfg.emptyId),k.getComponent("TheFrogPrince_Symbol").SetSymbolIdx(v),k.getComponent("TheFrogPrince_Symbol").setTopAniNode(cc.find("top_ani",e.node)),cc.vv.AudioManager.playEff("games/TheFrogPrince/","respins_act",!0),k.runAction(cc.sequence(cc.moveTo(1,0,(v-.5)*e._cfg.symbolSize.height),cc.callFunc(function(){var n,i=o(d.getFrogSymbols());try{for(i.s();!(n=i.n()).done;){n.value.playidleAnimation()}}catch(e){i.e(e)}finally{i.f()}var a,r=o(e._reels[t].getSymbols());try{for(r.s();!(a=r.n()).done;){a.value.playidleAnimation()}}catch(e){r.e(e)}finally{r.f()}}))),n.next=64,e.awaitTime(3);case 64:3===p&&(p--,e._changeRemainTimes(p)),n.next=69;break;case 67:return n.next=69,e.awaitTime(2);case 69:y++,n.next=35;break;case 72:return cc.vv.AudioManager.playEff("games/TheFrogPrince/","bonusreel",!0),h.runAction(cc.sequence(cc.scaleTo(.5,0),cc.callFunc(function(){h.active=!1}))),n.next=76,e.awaitTime(.5);case 76:if(!e._gameInfo.epicInfo.jackpotId){n.next=103;break}return cc.vv.AudioManager.playEff("games/TheFrogPrince/","jackpot_win",!0),x=cc.find("LMSlots_PrizePool_1/jpzhongjiang",e.node.parent),F="animation"+e._gameInfo.epicInfo.jackpotId,1===e._gameInfo.epicInfo.jackpotId?F="animation2":2===e._gameInfo.epicInfo.jackpotId&&(F="animation1"),x.getComponent(sp.Skeleton).clearTracks(),x.getComponent(sp.Skeleton).setAnimation(0,F,!1),n.next=85,e.awaitTime(1);case 85:for(A=cc.find("epiclink_dialog",e.node.parent),z=A.getChildByName("result_node"),A.active=!0,z.active=!0,z.scale=0,cc.vv.AudioManager.playEff("games/TheFrogPrince/","jp_collect_popup_in",!0),R=0;R<4;R++)z.getChildByName("jackpot_"+R).active=!1;return z.getChildByName("jackpot_"+e._gameInfo.epicInfo.jackpotId).active=!0,z.runAction(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.1,1),cc.callFunc(function(){Global.doRoallNumEff(z.getChildByName("coin"),0,e._gameInfo.epicInfo.jackpotValue,3,null,null,0,!0)}))),n.next=96,cc.vv.gameData.awaitTime(.6);case 96:P=z.getChildByName("btn_collect"),B=function(){var e=this;z.runAction(cc.sequence(cc.scaleTo(.5,0),cc.callFunc(function(){z.active=!1,A.active=!1,e.getFrogReward(d.getFrogSymbols(),e._reels[t].getSymbols(),t,_,c,e._gameInfo.epicInfo.jackpotValue,d)})))},cc.vv.gameData.checkAutoPlay(P,B),P.off(cc.Node.EventType.TOUCH_END),P.on(cc.Node.EventType.TOUCH_END,function(){P.stopAllActions(),B()}),n.next=104;break;case 103:e.getFrogReward(d.getFrogSymbols(),e._reels[t].getSymbols(),t,_,c,0,d);case 104:case"end":return n.stop()}},n)})(),"t0",5);case 5:case"end":return n.stop()}},n)}))()},getFrogReward:function(e,n,t,o,i,a,r){var s=this;return c(regeneratorRuntime.mark(function c(){var l,m,u,f,g,_,d,p;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:l=a,m=cc.find("LMSlots_Bottom/winBg/lbl_winNum_nor",s.node.parent).convertToWorldSpaceAR(cc.v2(0,0)),m=s.node.parent.convertToNodeSpaceAR(m),u=regeneratorRuntime.mark(function n(t){var o,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(o=e[t]).ShowById(o.GetShowId(),o.GetData()),o.setAnimationToTop(!1),i=o.node.convertToWorldSpaceAR(cc.v2(0,0)),i=s.node.parent.convertToNodeSpaceAR(i),cc.vv.AudioManager.playEff("games/TheFrogPrince/","bonus_counter",!0),s._generateParticle(i,m,function(){l+=o.GetData(),s._bottomScript.SetWin(l)}),n.next=9,s.awaitTime(1.5);case 9:case"end":return n.stop()}},n)}),f=e.length-1;case 5:if(!(f>=0)){c.next=10;break}return c.delegateYield(u(f),"t0",7);case 7:f--,c.next=5;break;case 10:g=regeneratorRuntime.mark(function e(t){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=n[t]).ShowById(o.GetShowId(),o.GetData()),o.setAnimationToTop(!1),i=o.node.convertToWorldSpaceAR(cc.v2(0,0)),i=s.node.parent.convertToNodeSpaceAR(i),cc.vv.AudioManager.playEff("games/TheFrogPrince/","bonus_counter",!0),s._generateParticle(i,m,function(){l+=o.GetData(),s._bottomScript.SetWin(l)}),e.next=9,s.awaitTime(1.5);case 9:case"end":return e.stop()}},e)}),_=n.length-2;case 12:if(!(_>=0)){c.next=17;break}return c.delegateYield(g(_),"t1",14);case 14:_--,c.next=12;break;case 17:return r.removeFrogSymbols(),cc.vv.AudioManager.playEff("games/TheFrogPrince/","reel_fall",!0),2===t?s._reels[t].AddCount(-5,1):s._reels[t].AddCount(-4,1),o.getComponent(sp.Skeleton).clearTracks(),o.getComponent(sp.Skeleton).setAnimation(0,"animation"+i+"_3",!1),o.getComponent(sp.Skeleton).setCompleteListener(function(e){(e.animation?e.animation.name:"")==="animation"+i+"_3"&&(o.active=!1)}),c.next=25,s.awaitTime(.5);case 25:return(d=cc.find("wangzi",s.node.parent).getComponent(sp.Skeleton)).setAnimation(0,"skill02",!1),d.addAnimation(0,"dile01",!0),d.setCompleteListener(function(e){d.getComponent(sp.Skeleton).setCompleteListener(null),"skill02"===(e.animation?e.animation.name:"")&&(s._playCommonAnimation=!0)}),c.next=31,s.awaitTime(1.5);case 31:for(p=n.length-2;p>=0;p--)n[p].playWinAnimation();s.ShowBottomWin(s._gameInfo.epicInfo.winCoin,s._gameInfo.epicInfo.winCoin,!0,function(){cc.find("LMSlots_PrizePool_1",s.node.parent).getComponent("LMSlots_PrizePool_Base").ResumePausePool(),s._inEpicLink=!1,s.CanDoNextRound(),Global.SlotsSoundMgr.playNormalBgm()});case 33:case"end":return c.stop()}},c)}))()},_generateParticle:function(e,n,t){var o=cc.instantiate(cc.find("shouji_1",this.node.parent));o.active=!0,o.parent=this.node.parent,o.position=e,o.runAction(cc.sequence(cc.moveTo(1,n),cc.callFunc(function(){t&&t()}),cc.removeSelf()))},ShowWinTrace:function(){this._super()},OnSpinEnd:function(){var e=this;return c(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e._bottomScript.ShowBtnsByState("moveing_1"),e.ShowWinTrace(),(t=cc.vv.gameData.GetGameWin())>0?cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!==cc.vv.gameData.GetFreeTime()?e.ShowBottomWin(t,cc.vv.gameData.GetGameTotalFreeWin(),!0,function(){e.CheckTriggerSubGame()?e.triggerEpicLink():e.CheckEnterFreeGame()||e.CheckExitFreeGame()||e.node.parent.parent.getComponent("LMSlots_Puzzle").puzzleFinish()||e.CanDoNextRound()}):e.ShowBottomWin(t,t,!0,function(){e.CheckTriggerSubGame()?e.triggerEpicLink():e.CheckEnterFreeGame()||e.CheckExitFreeGame()||e.node.parent.parent.getComponent("LMSlots_Puzzle").puzzleFinish()||e.CanDoNextRound()}):e.CheckTriggerSubGame()?e.triggerEpicLink():e.CheckEnterFreeGame()||e.CheckExitFreeGame()||e.node.parent.parent.getComponent("LMSlots_Puzzle").puzzleFinish()||e.CanDoNextRound();case 4:case"end":return n.stop()}},n)}))()},OnReelSpinEnd:function(e){this._super(e),3===e&&this.isFullFrogOneColumn()&&(cc.vv.AudioManager.playEff("games/TheFrogPrince/","reel_notify",!0),this._reels[4].ShowAntiEffect(!0,"node_anti"),this._reels[4].AddDelayTime(this._cfg.AddAntiTime?this._cfg.AddAntiTime:1),this._reels[4].SetSpeed(2e3)),4===e&&this._reels[4].ShowAntiEffect(!1,"node_anti")},SetSlotsResult:function(e){for(var n=e.length/this._col,t=[],o=0;o<e.length;o++){Math.floor(o/n);var i=o%this._col;if(this._cfg.symbol[e[o]]){var a={};a.sid=e[o],-1!==this._cfg.frogIds.indexOf(e[o])&&(a.data=this.getBonusCoinNum(o+1)),t[i]||(t[i]=[]),t[i].unshift(a)}}for(var r=0;r<this._reels.length;r++){var c=this._reels[r],s=t[r];c.SetResult(s)}},getBonusCoinNum:function(e){var n=this._gameInfo.frogIdxs.indexOf(e);if(-1!==n&&n<this._gameInfo.frogCoins.length)return this._gameInfo.frogCoins[n]},ShowGameview:function(e){this._super(e)},isInEpicLink:function(){return this._inEpicLink},update:function(e){var n=this;if(this._super(e),this._playCommonAnimation&&(this._animationTimer-=e,this._animationTimer<=0)){this._playCommonAnimation=!1,this._animationTimer=10;var t=cc.find("wangzi",this.node.parent).getComponent(sp.Skeleton);t.setTrackCompleteListener(t.getCurrent(0),function(e){t.setTrackCompleteListener(e,null),"dile01"===(e.animation?e.animation.name:"")&&(n._playCommonAnimation=!0,t.setAnimation(0,"dile02",!1),t.addAnimation(0,"dile01",!0))})}},isFullFrogOneColumn:function(){for(var e=!1,n=1;n<4;n++){for(var t=!0,o=0;o<4;o++){var i=this._gameInfo.resultCards[n+5*o];if(-1===this._cfg.frogIds.indexOf(i)){t=!1;break}}if(t){e=!0;break}}return e},_findFullColumnFrogIndex:function(){for(var e=[],n=1;n<4;n++){for(var t=[],o=0;o<4;o++){var i=this._gameInfo.resultCards[n+5*o];-1!==this._cfg.frogIds.indexOf(i)&&t.push(n+5*o)}if(4===t.length){e=t;break}}return e},_getFrogColumnIndex:function(){for(var e=-1,n=1;n<4;n++){for(var t=n,o=0;o<4;o++){var i=this._gameInfo.resultCards[n+5*o];if(-1===this._cfg.frogIds.indexOf(i)){t=-1;break}}if(-1!==t){e=t;break}}return e},_getFrogColor:function(){var e=this._findFullColumnFrogIndex();return this._cfg.frogIds.indexOf(this._gameInfo.resultCards[e[0]])+1},_changeRemainTimes:function(e){if(!(e<0||e>3)){var n=cc.find("epiclink_times",this.node.parent);if(n){var t=n.getChildByName("shuziqiehuan");t.getComponent(sp.Skeleton).setToSetupPose(),t.getComponent(sp.Skeleton).setAnimation(0,"animation",!1);for(var o=0;o<4;o++){n.getChildByName("times_"+o).active=!1}n.getChildByName("times_"+e).active=!0}}},awaitTime:function(e){var n=this;return new Promise(function(t,o){n.scheduleOnce(function(){t()},e)})}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],TheFrogPrince_Symbol:[function(e,n,t){"use strict";cc._RF.push(n,"355c85Fys9B+LsT7FUaQ9qk","TheFrogPrince_Symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{},start:function(){},StartMove:function(){this._super(),this.setCoinText(0)},setCoinText:function(e){var n=cc.find("coin",this.node);0!==e?(n.getComponent(cc.Label).string=Global.formatNumShort(e,0),n.active=!0):n.active=!1},ShowById:function(e,n){var t=cc.vv.gameData.getGameCfg();cc.vv.gameData.GetSlotsScript().isInEpicLink()&&-1===t.frogIds.indexOf(e)&&(e=t.emptyId),this._super(e,n),n&&this.setCoinText(n),this._id===t.emptyId&&this.setCoinText(0)},playTriggerAnimation:function(){var e=!1,n=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[n]&&t.symbol[n].win_node&&t.symbol[n].trigger_ani){this._state="trigger",this._showNode&&(this._showNode.active=!1);var o=this.setAnimationToTop(!0);o.active=!0;var i=cc.find(t.symbol[n].win_node,o);if(i.active=!0,""!==t.symbol[n].trigger_ani.name){o.zIndex=t.symbol[n].trigger_ani.zIndex-this._symbolIdx+10*this._reelIdx,e=!0;var a=i.getComponent(sp.Skeleton);a&&a.setAnimation(0,t.symbol[n].trigger_ani.name,!0)}}return e},playidleAnimation:function(){var e=!1,n=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[n]&&t.symbol[n].win_node&&t.symbol[n].idle_ani){this._state="idle",this._showNode&&(this._showNode.active=!1);var o=this.setAnimationToTop(!0);o.active=!0;var i=cc.find(t.symbol[n].win_node,o);if(i.active=!0,""!==t.symbol[n].idle_ani.name){o.zIndex=t.symbol[n].idle_ani.zIndex-this._symbolIdx+10*this._reelIdx,e=!0;var a=i.getComponent(sp.Skeleton);a&&a.setAnimation(0,t.symbol[n].idle_ani.name,!0)}}return e},setTopAniNode:function(e){this._topAniNode=e}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["TheFrogPrince_Cfg","TheFrogPrince_FrogReel","TheFrogPrince_Logic","TheFrogPrince_Reel","TheFrogPrince_Slots","TheFrogPrince_Symbol"]);