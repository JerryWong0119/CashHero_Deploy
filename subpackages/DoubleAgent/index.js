window.__require=function e(t,n,o){function a(s,c){if(!n[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+s+"'")}s=r}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){return a(t[s][1][e]||e)},d,d.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<o.length;s++)a(o[s]);return a}({DoubleAgent_ButtonSafe:[function(e,t,n){"use strict";cc._RF.push(t,"676fbOVwNdLjYPxiNFGH1YC","DoubleAgent_ButtonSafe"),cc.Class({extends:cc.Component,properties:{safeTime:{default:.5,tooltip:"\u6309\u94ae\u4fdd\u62a4\u65f6\u95f4\uff0c\u6307\u5b9a\u95f4\u9694\u5185\u53ea\u80fd\u70b9\u51fb\u4e00\u6b21."}},onLoad:function(){var e=this.getComponent(cc.Button);e&&(this.clickEvents=e.clickEvents,Global.btnClickEvent(this.node,function(e){e.interactable=!1;var t=cc.vv.gameData.GetSlotsScript();t&&t.scheduleOnce(function(){e.interactable=!0},this.safeTime)},this))}}),cc._RF.pop()},{}],DoubleAgent_Cfg:[function(e,t,n){"use strict";var o;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"83606qLAPtL3Z9RT/vQyhBd","DoubleAgent_Cfg");var i={symbol:(o={},a(o,1,{node:"s1",win_node:"w1",win_ani:{name:"animation",zIndex:300}}),a(o,2,{node:"s2",win_node:"w2",win_ani:{name:"animation",zIndex:300},stop_ani:{name:"animation1",zIndex:300},trigger_ani:{name:"animation",zIndex:300}}),a(o,3,{node:"s3",win_node:"w3",win_ani:{name:"animation",zIndex:300}}),a(o,4,{node:"s4",win_node:"w4",win_ani:{name:"animation",zIndex:300}}),a(o,5,{node:"s5",win_node:"w5",win_ani:{name:"animation",zIndex:300}}),a(o,6,{node:"s6",win_node:"w6",win_ani:{name:"animation",zIndex:300}}),a(o,7,{node:"s7",win_node:""}),a(o,8,{node:"s8",win_node:""}),a(o,9,{node:"s9",win_node:""}),a(o,10,{node:"s10",win_node:""}),a(o,11,{node:"s11",win_node:"w11",win_ani:{name:"animation2",zIndex:300},stop_ani:{name:"animation1",zIndex:500}}),a(o,12,{node:"s12",win_node:""}),a(o,13,{node:"s13",win_node:""}),a(o,14,{node:"s14",win_node:""}),a(o,15,{node:"s15",win_node:""}),o),wildId:1,scatterId:2,scripts:{Top:"LMSlots_Top_Base",Bottom:"LMSlots_Bottom_Base",Slots:"DoubleAgent_Slots",Reels:"DoubleAgent_Reel",Symbols:"DoubleAgent_symbol"},col:5,row:4,symbolPrefab:"LMSlots_Symbol",symbolSize:{height:85},helpItems:["games/DoubleAgent/prefab/LMSlots_Help_item1","games/DoubleAgent/prefab/LMSlots_Help_item2","games/DoubleAgent/prefab/LMSlots_Help_item3","games/DoubleAgent/prefab/LMSlots_Help_item4","games/DoubleAgent/prefab/LMSlots_Help_item5"],randomSymbols:[1,3,4,5,6,7,8,9,10],kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,autoModelDelay:1,AddAntiTime:2,bounceInfo:{distance:20,time:.1},reelStateInfo:[{id:[2],mini:3,counts:[1,1,1,1,0],antiNode:"node_anti",path:"games/DoubleAgent/",reelStopSound:"reel_stop",symbolStopSound:"symbol_scatter",antSound:"reel_notify",antSpeed:2400},{id:[11],mini:1,counts:[0,0,0,0,0],antiNode:"node_antiXXX",path:"games/DoubleAgent/",reelStopSound:"reel_stop",symbolStopSound:"symbol_bonus",antSound:"reel_notify",antSpeed:2400}],normalBgm:"base_bgm",sysFloatOffsetPos:cc.v2(0,80)};t.exports=i,cc._RF.pop()},{}],DoubleAgent_CollectGame:[function(e,t,n){"use strict";var o;function a(e,t,n,o,a,i,s){try{var c=e[i](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(o,a)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var s=e.apply(t,n);function c(e){a(s,o,i,c,r,"next",e)}function r(e){a(s,o,i,c,r,"throw",e)}c(void 0)})}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"e0b64be6IdERItZ1a+Oq/Lq","DoubleAgent_CollectGame");var c=(s(o={},1,{multiple:3}),s(o,2,{multiple:5}),s(o,3,{multiple:7}),s(o,4,{multiple:9}),s(o,5,{multiple:12}),s(o,6,{multiple:20}),s(o,7,{multiple:2}),s(o,8,{multiple:4}),s(o,9,{multiple:6}),s(o,10,{multiple:8}),s(o,11,{multiple:10}),s(o,12,{multiple:15}),s(o,13,{multiple:30}),s(o,14,{multiple:50}),s(o,15,{multiple:60}),s(o,16,{multiple:70}),s(o,17,{multiple:80}),s(o,18,{multiple:90}),s(o,19,{multiple:100}),s(o,20,{multiple:150}),s(o,21,{multiple:200}),s(o,22,{multiple:300}),s(o,23,{multiple:500}),s(o,24,{multiple:750}),s(o,25,{multiple:1e3}),s(o,26,{multiple:1500}),o);cc.Class({extends:cc.Component,properties:{panel:cc.Node,bagListNode:cc.Node,multipleListNode:cc.Node,btnOk:cc.Button,title:cc.Node,guide:cc.Node,pre_offers_node:cc.Node,dialog_result:cc.Node,dialog_result2:cc.Node,dialog_round_tips:cc.Node,tips_have_select:cc.Node,money_bag_selected:cc.Node,money_bag:cc.Node,particle_feixing:cc.ParticleSystem,_bagList:null,_multipleList:null,_callBack:null,_data:null,_multipleChoiceBagCnt:7},onLoad:function(){var e=this;this._bagList=[],this._multipleList=[],this._reset();for(var t=1;t<=this._data.bagCnt;t++){var n=this.bagListNode.getChildByName("take_bag_"+t);n.data={},n.data.id=t,n.active=!1,n.getChildByName("label").getComponent(cc.Label).string=t.toString(),n.on(cc.Node.EventType.TOUCH_END,this._onClickBag.bind(this),this),this._bagList.push(n);var o=this.multipleListNode.getChildByName("take_multiple_"+t);t>13&&o.getChildByName("bg").getComponent("ImgSwitchCmp").setIndex(1),o.getChildByName("label").getComponent(cc.Label).string=c[t].multiple+"X",this._multipleList.push(o)}this.btnOk.node.on("click",function(){e.close()}),this.dialog_result.getChildByName("content").getChildByName("btn_ok").on("click",this._onTakeHandler.bind(this),this),this.dialog_result.getChildByName("content").getChildByName("btn_no").on("click",this._onLeaveItHandler.bind(this),this),this.dialog_result2.getChildByName("content").getChildByName("btn_ok").on("click",this._onKeepHandler.bind(this),this),this.dialog_result2.getChildByName("content").getChildByName("btn_no").on("click",this._onTradeHander.bind(this),this),this.money_bag_selected.data={x:this.money_bag_selected.x,y:this.money_bag_selected.y,scaleX:this.money_bag_selected.scaleX,scaleY:this.money_bag_selected.scaleY}},_reset:function(){this._data={bagCnt:26,bagState:0,firstBagId:0,selectedIds:[],curSelectedIds:[],currRoundSelectedCnt:0},this._setTitleState(0),this.pre_offers_node.active=!1,this.dialog_result.active=!1,this.dialog_round_tips.active=!1,this.tips_have_select.active=!1,this.money_bag_selected.active=!1,this.money_bag.active=!1,this.particle_feixing.node.active=!1;for(var e=1;e<=this._data.bagCnt;e++){this.bagListNode.getChildByName("take_bag_"+e).active=!1}},close:function(){var e=this;SlotsFacade.soundMgr.playEffect("bonus_close"),SlotsFacade.dm.hasFree()?SlotsFacade.soundMgr.playBgm("free_bgm"):SlotsFacade.soundMgr.playBgm(),this.panel.stopAllActions(),this.panel.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.panel.active=!1}))),this._callBack&&this._callBack()},reConnectCollect:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,a,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(t.btnOk.node.active=!1,o=e.currState.state,SlotsFacade.soundMgr.playBgm("bonus_bgm"),t.guide.active=!1,t.pre_offers_node.active=!0,t.panel.active=!0,t.title.active=!1,e.currState.nextCount?(t.tips_have_select.active=!0,t.tips_have_select.getChildByName("label").getComponent(cc.Label).string="0/"+e.currState.nextCount):t._setTitleState(1),a=0;a<t._data.bagCnt;a++)e.choices.includes(a+1)||(t._bagList[a].active=!0);for(t.reConnectChoiceGray(e.unpickedMult),i=0;i<e.historyMult.length;i++)t._showMultToOffers(e.historyMult[i],i+1);e.lastChoice.length>0&&(t.money_bag_selected.active=!0,cc.find("bag1/label",t.money_bag_selected).getComponent(cc.Label).string=e.lastChoice[0]),t._multipleChoiceBagCnt=e.currState.nextCount,t._data.selectedIds=e.choices,1==o?t._data.bagState=1:(t._data.bagState=2,3==o?t._showBagResult(e):4==o&&(t._lastchoices=e.lastChoice,t.showLastChoiceUI(t._lastchoices)));case 15:case"end":return n.stop()}},n)}))()},reConnectChoiceGray:function(e){var t=this;this.initShowMultipleIcon(!0),e.forEach(function(e){var n=t.getTakemultipleItem(e),o=cc.find(cc.js.formatStr("take_multiple_%s/bg",n),t.multipleListNode),a=cc.find(cc.js.formatStr("take_multiple_%s/label",n),t.multipleListNode);o.color=cc.color(255,255,255),a.color=cc.color(255,255,255)})},open:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n._callBack=t,n.btnOk.node.active=e,n.panel.active=!0,n.panel.opacity=0,n.panel.runAction(cc.fadeIn(.3)),n._showBagList(),n.initShowMultipleIcon(!0),n.guide.active=!0,e){o.next=12;break}return o.next=11,n._cmpleteBag();case 11:SlotsFacade.dm.getFreeBagInfo().currCnt==n._data.bagCnt?(n.initShowMultipleIcon(!1),n._startTakeBonus()):n.close();case 12:case"end":return o.stop()}},o)}))()},initShowMultipleIcon:function(e){for(var t=1;t<=this._data.bagCnt;t++){var n=cc.find(cc.js.formatStr("take_multiple_%s/bg",t),this.multipleListNode),o=cc.find(cc.js.formatStr("take_multiple_%s/label",t),this.multipleListNode);e?(n.color=cc.color(90,90,90),o.color=cc.color(90,90,90)):(n.color=cc.color(255,255,255),o.color=cc.color(255,255,255))}},_showBagList:function(){for(var e=SlotsFacade.dm.getFreeBagInfo().currCnt,t=0;t<e;t++)this._bagList[t].active=!0},_cmpleteBag:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=SlotsFacade.dm.getFreeBagInfo()).currCnt+=1,n.currCnt>e._data.bagCnt&&(n.currCnt=e._data.bagCnt),o=n.currCnt-1,a=e._bagList[o],t.next=7,new Promise(function(t){cc.tween(e.node).delay(.5).call(function(){a.active=!0;var t=e.bagListNode.getChildByName("qiandaichuxian").getComponent(sp.Skeleton);t.node.x=a.x,t.node.y=a.y,t.node.active=!0,t.setAnimation(0,"animation",!1),t.setCompleteListener(function(){t.setCompleteListener(null),t.node.active=!1})}).delay(1.5).call(function(){t()}).start()});case 7:case"end":return t.stop()}},t)}))()},_setTitleState:function(e){this.title.active=!0,1==e?(this.title.getComponent("ImgSwitchCmp").setIndex(1),cc.tween(this.title).repeatForever(cc.tween().to(.8,{scale:.8}).to(.8,{scale:1})).start()):(this.title.getComponent("ImgSwitchCmp").setIndex(0),this.title.stopAllActions(),this.title.scale=1)},_startTakeBonus:function(){SlotsFacade.soundMgr.playBgm("bonus_bgm"),this.guide.active=!1,this.pre_offers_node.active=!0,this._setTitleState(1),this._data.bagState=1},_onClickBag:function(e){SlotsFacade.soundMgr.playEffect("bag_click"),0!=this._data.bagState&&(1==this._data.bagState?(this._data.bagState=0,this._selectBag(e.target),this._setTitleState(0)):2==this._data.bagState&&this._selectMultipleBag(e.target))},_selectBag:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,a,i,s,c,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("bag_fly"),t._data.firstBagId=e.data.id,t._data.selectedIds.push(t._data.firstBagId),(o=e.getChildByName("xuanzeqiandai").getComponent(sp.Skeleton)).node.active=!0,n.next=7,new Promise(function(t){o.setAnimation(0,"animation",!1),o.setCompleteListener(function(){o.setCompleteListener(null),o.node.active=!1,e.active=!1,t()})});case 7:return a=t.panel.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0))),t.particle_feixing.node.active=!0,t.particle_feixing.node.x=a.x,t.particle_feixing.node.y=a.y,i={x:t.money_bag_selected.data.x,y:t.money_bag_selected.data.y},s={x:a.x+(i.x-a.x)/2,y:a.y+(i.y-a.y)/2},n.next=15,new Promise(function(e){cc.tween(t.particle_feixing.node).to(.8,{x:s.x,y:s.y}).call(function(){t.particle_feixing.node.active=!1,e()}).start()});case 15:return t.money_bag_selected.active=!0,t.money_bag_selected.scale=1,t.money_bag_selected.x=s.x,t.money_bag_selected.y=s.y,cc.find("bag1/label",t.money_bag_selected).getComponent(cc.Label).string=t._data.firstBagId.toString(),(c=t.money_bag_selected.getChildByName("qiandaishouji").getComponent(sp.Skeleton)).node.active=!0,c.setAnimation(0,"animation",!1),c.setCompleteListener(function(){c.setCompleteListener(null),c.node.active=!1}),n.next=26,new Promise(function(e){cc.tween(t.money_bag_selected).to(1,{x:i.x,y:i.y,scaleX:t.money_bag_selected.data.scaleX,scaleY:t.money_bag_selected.data.scaleY}).call(function(){e()}).start()});case 26:return n.next=28,SlotsFacade.dm.reqSubGame({rtype:3,act:1,choices:[e.data.id]});case 28:r=n.sent,t._startSelectMultipleBag(r.data);case 30:case"end":return n.stop()}},n)}))()},_startSelectMultipleBag:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t._data.curSelectedIds=[],t._multipleChoiceBagCnt=e.nextCount,t.dialog_round_tips.active=!0,t.dialog_round_tips.scale=0,t.dialog_round_tips.getChildByName("label_1").getComponent(cc.Label).string=e.nextRound,t.dialog_round_tips.getChildByName("label_2").getComponent(cc.Label).string=e.nextCount,n.next=8,new Promise(function(e){cc.tween(t.dialog_round_tips).to(1,{scale:1},{easing:"backOut"}).delay(1.5).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.dialog_round_tips.active=!1,e()}).start()});case 8:t.title.active=!1,t.tips_have_select.active=!0,t.tips_have_select.getChildByName("label").getComponent(cc.Label).string="0/"+t._multipleChoiceBagCnt,t._data.bagState=2;case 12:case"end":return n.stop()}},n)}))()},_selectMultipleBag:function(e){var t=this,n=e.data.id;if(!this._data.selectedIds.includes(n)){this._data.selectedIds.push(n),this._data.curSelectedIds.push(n),this._data.currRoundSelectedCnt++,this.tips_have_select.getChildByName("label").getComponent(cc.Label).string=this._data.currRoundSelectedCnt+"/"+this._multipleChoiceBagCnt;var o=e.getChildByName("xuanzeqiandai").getComponent(sp.Skeleton);o.node.active=!0,o.setAnimation(0,"animation",!1),this._data.currRoundSelectedCnt==this._multipleChoiceBagCnt&&(this._data.bagState=0,this.scheduleOnce(function(){t._processResult()},.5))}},_processResult:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.tips_have_select.active=!1,e._setTitleState(0),t.next=4,SlotsFacade.dm.reqSubGame({rtype:3,act:2,choices:e._data.curSelectedIds});case 4:n=t.sent,e.playChoiceResult(n.data);case 6:case"end":return t.stop()}},t)}))()},playChoiceResult:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,a,i,s,c,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.money_bag.active=!0,o=cc.find("shownode",t.money_bag),a=cc.find("shownode/bag1",t.money_bag),i=cc.find("shownode/bag2",t.money_bag),s=0,c=t,r=e.items,function t(){if(s>=c._multipleChoiceBagCnt)c.money_bag.active=!1,c._showBagResult(e.freeBags);else{var n=c._data.curSelectedIds[s];c.hideChoiceMoneyBag(n),o.opacity=0,o.runAction(cc.fadeIn(.2)),a.active=!0,a.scale=0,cc.find("label",a).getComponent(cc.Label).string=n,cc.tween(a).to(.5,{scale:1},{easing:"backOut"}).delay(1).call(function(){i.active=!0,a.active=!1;var e=cc.find("qiandaifanbei",i);SlotsFacade.dm.playSpine(e,"animation",!1,function(){e.active=!1});var n=r[s],l=n.length>1?n[1]:n[0],d=cc.find("label",i);d.scale=0,d.getComponent(cc.Label).string=l+"X",cc.tween(d).to(.5,{scale:1},{easing:"backOut"}).call(function(){1==n.length&&c.hideOutMult(l)}).delay(2).call(function(){if(l=n[0],n.length>1){c.hideOutMult(l),d.getComponent(cc.Label).string=l+"X";var e=cc.find("shuzhiqiehuan",i);SlotsFacade.dm.playSpine(e,"animation",!1,function(){o.runAction(cc.sequence(cc.delayTime(2),cc.fadeOut(.5),cc.callFunc(function(){s++,i.active=!1,t()})))})}else o.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){s++,i.active=!1,t()})))}).start()}).start()}}();case 9:case"end":return n.stop()}},n)}))()},getTakemultipleItem:function(e){for(var t=1;t<=this._data.bagCnt;t++)if(c[t].multiple==e)return t},hideOutMult:function(e){var t=this.getTakemultipleItem(e);if(t){var n=cc.find(cc.js.formatStr("take_multiple_%s/bg",t),this.multipleListNode),o=cc.find(cc.js.formatStr("take_multiple_%s/label",t),this.multipleListNode),a=cc.find(cc.js.formatStr("take_multiple_%s/beishuqubianhui",t),this.multipleListNode);n.color=cc.color(90,90,90),o.color=cc.color(90,90,90),SlotsFacade.dm.playSpine(a,"animation",!1)}else cc.error("###\u500d\u7387\u6ca1\u627e\u5230:"+e)},hideChoiceMoneyBag:function(e){var t=this.bagListNode.getChildByName("take_bag_"+e);t.getChildByName("xuanzeqiandai").active=!1,t.active=!1},_showBagResult:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,a,i,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:SlotsFacade.soundMgr.playEffect("board_show"),t.dialog_result.active=!0,(o=t.dialog_result.getChildByName("content")).active=!1,o.getChildByName("label_1").getComponent(cc.Label).string=e.mult+"X",a=Global.convertNumToShort(e.prize,1e3,0),i=Global.convertNumToShort(e.prize*e.mult,1e3,0),o.getChildByName("label_2").getComponent(cc.Label).string=cc.js.formatStr("%s X %s = %s",e.mult,a,i),(s=t.dialog_result.getChildByName("tips_node")).active=!0,s.scale=0,cc.tween(s.getChildByName("tips")).repeatForever(cc.tween().to(.8,{scale:.8}).to(.8,{scale:1})).start(),cc.tween(s).to(.5,{scale:1.26},{easing:"backOut"}).call(function(){o.active=!0}).delay(2).to(.5,{scale:0},{easing:"backIn"}).call(function(){s.active=!1}).start();case 13:case"end":return n.stop()}},n)}))()},_showMultToOffers:function(e,t){var n=cc.find(cc.js.formatStr("getmult/multshow_%s",t),this.pre_offers_node);n.getComponent(cc.Label).string=e+"X",n.scale=0,cc.tween(n).to(.3,{scale:1},{easing:"backOut"}).start()},_onTakeHandler:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return SlotsFacade.soundMgr.playEffect("bonus_end_show"),t.next=3,SlotsFacade.dm.reqSubGame({rtype:3,act:3,takeIt:!0});case 3:return n=t.sent,t.next=6,SlotsFacade.popup.showCollectWinGold(n.data);case 6:SlotsFacade.dm.getFreeBagInfo().currCnt=0,e._reset(),e.close();case 9:case"end":return t.stop()}},t)}))()},_onLeaveItHandler:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,SlotsFacade.dm.reqSubGame({rtype:3,act:3,takeIt:!1});case 2:n=t.sent,4==(o=n.data.freeBags).currState.state?(e._lastchoices=o.lastChoice,e.showLastChoiceUI(e._lastchoices)):e._startSelectMultipleBag(n.data),e._showMultToOffers(o.mult,o.historyMult.length),e._data.currRoundSelectedCnt=0,e.dialog_result.active=!1;case 8:case"end":return t.stop()}},t)}))()},_onKeepHandler:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,SlotsFacade.dm.reqSubGame({rtype:3,act:4,keep:!0});case 2:return n=t.sent,t.next=5,e._showSingleMoneybag(n.data,e._lastchoices[0]);case 5:return t.next=7,SlotsFacade.popup.showCollectWinGold(n.data);case 7:SlotsFacade.dm.getFreeBagInfo().currCnt=0,e._reset(),e.close();case 10:case"end":return t.stop()}},t)}))()},_onTradeHander:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,SlotsFacade.dm.reqSubGame({rtype:3,act:4,keep:!1});case 2:return n=t.sent,t.next=5,e._showSingleMoneybag(n.data,e._lastchoices[1]);case 5:return t.next=7,SlotsFacade.popup.showCollectWinGold(n.data);case 7:SlotsFacade.dm.getFreeBagInfo().currCnt=0,e._reset(),e.close();case 10:case"end":return t.stop()}},t)}))()},_showSingleMoneybag:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new Promise(function(o){var a=cc.find("panel/money_bag2",n.node);a.active=!0;var i=cc.find("shownode",a),s=cc.find("shownode/bag1",a),c=cc.find("shownode/bag2",a);s.active=!0,i.scale=0,cc.find("label",s).getComponent(cc.Label).string=t,cc.tween(i).to(.5,{scale:1},{easing:"backOut"}).delay(1).call(function(){c.active=!0,s.active=!1;var t=cc.find("qiandaifanbei",c);SlotsFacade.dm.playSpine(t,"animation",!1,function(){t.active=!1});var i=cc.find("label",c);i.scale=0,i.getComponent(cc.Label).string=e.mult+"X",cc.tween(i).to(.5,{scale:1},{easing:"backOut"}).delay(2).call(function(){n.dialog_result2.active=!1,a.active=!1,o()}).start()}).start()}));case 1:case"end":return o.stop()}},o)}))()},showLastChoiceUI:function(e){cc.find("content/theme159_take_dialog5/label",this.dialog_result2).getComponent(cc.Label).string=e[0],cc.find("content/theme159_take_dialog4/label",this.dialog_result2).getComponent(cc.Label).string=e[1],this.dialog_result2.active=!0}}),cc._RF.pop()},{}],DoubleAgent_CollectProgress:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var c=e[i](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function c(e){o(s,a,i,c,r,"next",e)}function r(e){o(s,a,i,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"9e3b3nGNW9N3p1ii8X/yith","DoubleAgent_CollectProgress"),cc.Class({extends:cc.Component,properties:{icon_energy:cc.Node,btn_enter:cc.Node,progressBar:cc.Node,spine_switch_tips:sp.Skeleton,spine_full:sp.Skeleton,collect_track_particle:cc.Node,unlock_tips:cc.Node,_isOpen:!1},onLoad:function(){this._initListener(),this._init()},_initListener:function(){var e=this;Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,function(){e.showCollect(!1)},this),this.btn_enter.on(cc.Node.EventType.TOUCH_END,this._onEnterHandler.bind(this),this),this.progressBar.on(cc.Node.EventType.TOUCH_END,function(){e._isOpen||e._showTips(!0)},this)},_init:function(){this.setProgress(SlotsFacade.dm.getCollectPercent()),this.showCollect(!0)},_onEnterHandler:function(){SlotsFacade.dm.hasFree()||SlotsFacade.bottomCmp.GetSpinBtnState()&&(SlotsFacade.soundMgr.playEffect("btn_click"),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),SlotsFacade.collectGame.open(!0,function(){SlotsFacade.bottomCmp.ShowBtnsByState("idle")}))},_showTips:function(e){var t=this;SlotsFacade.soundMgr.playEffect("tips"),this.unlock_tips.active&&this.unlock_tips.stopAllActions(),e?(this.unlock_tips.active=!0,this.unlock_tips.opacity=0,cc.tween(this.unlock_tips).to(1,{opacity:255}).delay(3).to(1,{opacity:0}).call(function(){t.unlock_tips.active=!1}).start()):this.unlock_tips.active&&cc.tween(this.unlock_tips).to(1,{opacity:0}).call(function(){t.unlock_tips.active=!1}).start()},collectEnergy:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=n.icon_energy.getPosition(),i=[],e.forEach(function(e){var t=n.node.convertToNodeSpaceAR(e),o=cc.instantiate(n.collect_track_particle);o.parent=n.node,o.x=t.x,o.y=t.y,o.active=!0,o.getComponent(cc.ParticleSystem).resetSystem(),i.push(new Promise(function(e){cc.tween(o).to(.5,{x:a.x,y:a.y}).call(function(){o.removeFromParent(),e()}).start()}))}),SlotsFacade.soundMgr.playEffect("collect"),o.next=6,Promise.all(i);case 6:n.playCollectSpine(),n.setProgress(t,!0);case 8:case"end":return o.stop()}},o)}))()},playCollectSpine:function(){var e=cc.find("collectsp",this.icon_energy);SlotsFacade.dm.playSpine(e,"animation",!1,null)},showCollect:function(e){var t=SlotsFacade.dm.canCollect();t?this._isOpen||(e?this.spine_switch_tips.node.active=!1:(SlotsFacade.soundMgr.playEffect("unlock"),this.spine_switch_tips.setAnimation(0,"animation1",!1))):(this.spine_switch_tips.node.active=!0,e?this.spine_switch_tips.setAnimation(0,"animation3",!0):this._isOpen&&(SlotsFacade.soundMgr.playEffect("lock"),this.spine_switch_tips.setAnimation(0,"animation2",!1))),this._isOpen=t},playCollectEnd:function(){var e=this;return new Promise(function(t){SlotsFacade.soundMgr.playEffect("free_dialog_collect_show"),e.spine_collect_end.node.active=!0,e.spine_collect_end.setAnimation(0,"animation1",!1),e.spine_collect_end.setCompleteListener(function(){e.spine_collect_end.setCompleteListener(null),e.spine_collect_end.node.active=!1,t()})})},setProgress:function(e,t){e=Math.min(1,e);var n=this.progressBar.width,o=this.progressBar.getChildByName("spine_progress"),a=-n/2+e*n;t?cc.tween(o).to(.5,{x:a}).start():o.x=-n/2+e*n},showEnterCollectGameAni:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.spine_full.node.active=!0,t.next=3,new Promise(function(t){e.spine_full.setAnimation(0,"animation",!1),e.spine_full.setCompleteListener(function(){e.spine_full.setCompleteListener(null),e.spine_full.node.active=!1,t()})});case 3:return t.next=5,new Promise(function(t){var n=e.btn_enter.getComponent(sp.Skeleton);n.setAnimation(0,"animation2",!1),n.setCompleteListener(function(){n.setCompleteListener(null),n.setAnimation(0,"animation1",!1),t()})});case 5:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{}],DoubleAgent_ExtraWildGame:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var c=e[i](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function c(e){o(s,a,i,c,r,"next",e)}function r(e){o(s,a,i,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"ffa26iyG9NKjo2GyHv4Kiss","DoubleAgent_ExtraWildGame"),cc.Class({extends:cc.Component,properties:{colWildItems:[cc.Node],jinbizhongjiang1:sp.Skeleton,jinbizhongjiang2:sp.Skeleton,xialuo:sp.Skeleton},onLoad:function(){this.colWildItems.forEach(function(e,t){for(var n=0;n<=4;n++){var o=e.getChildByName("xialuo_zengjia_0"+n);o.data={originX:o.x,originY:o.y}}})},startFallWild:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&!(e.length<1)){n.next=2;break}return n.abrupt("return");case 2:o=0,e.forEach(function(e){o=Math.max(o,e.length)}),a=0;case 5:if(!(a<o)){n.next=12;break}if(t._stopFall){n.next=9;break}return n.next=9,t._fallARound(a+1,e);case 9:a++,n.next=5;break;case 12:t._stopFall=!1;case 13:case"end":return n.stop()}},n)}))()},showZengjiaWild:function(e){var t=this;if(e&&!(e.length<1)){var n=0;this._stopFall=!0,e.forEach(function(e){var o=e.length;if(o>0){var a=t.colWildItems[n];a.getChildByName("xialuo_01").active=!1,a.getChildByName("xialuo_xunhuan_01").active=!1;var i=a.getChildByName("particle_feixing");i.stopAllActions(),i.getComponent(cc.ParticleSystem).resetSystem(),i.active=!1;for(var s=0;s<o;s++){var c=a.getChildByName("xialuo_zengjia_0"+s);c.cleanup(),c.stopAllActions(),c.active=!0,c.scale=1;var r=c.getComponent(sp.Skeleton),l=r.node.data;r.node.setPosition(l.originX,l.originY)}}n++})}},hideWilds:function(){this.jinbizhongjiang2.node.active=!1;for(var e=0,t=0;t<5;t++){var n=this.colWildItems[t];n.getChildByName("xialuo_01").active=!1,n.getChildByName("particle_feixing").active=!1,n.getChildByName("xialuo_xunhuan_01").active=!1,n.getChildByName("xialuo_zongjiang_01").active=!1;for(var o=0,a=function(e){var t=n.getChildByName("xialuo_zengjia_0"+e);t.active&&(cc.tween(t).delay(o).to(.2,{scale:0}).call(function(){t.active=!1}).start(),o+=.2)},i=4;i>=0;i--)a(i);o>e&&(e=o)}return e},_fallARound:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(SlotsFacade.soundMgr.playEffect("coin_drop"),a=[],i=0;i<t.length;i++)t[i].length>=e&&a.push(n._playATrace(e,i));if(!a.length){o.next=6;break}return o.next=6,Promise.all(a);case 6:case"end":return o.stop()}},o)}))()},_playATrace:function(e,t,n){var o=this;return a(regeneratorRuntime.mark(function a(){var i,s,c,r,l,d;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=o.colWildItems[t],n||(n=i.getChildByName("pos_start").getPosition()),(s=i.getChildByName("xialuo_zengjia_0"+(e-1)).getComponent(sp.Skeleton)).node.setPosition(n.x,n.y),s.node.scale=1,s.node.active=!0,r=(c="animation"+(t+1))+"_"+(t+1),e>1&&(c="animation1_2",r="animation1_1"),s.setAnimation(0,c,!1),s.setCompleteListener(function(){s.setCompleteListener(null),s.setAnimation(0,r,!1)}),l=s.node.data,cc.tween(s.node).to(.8,{x:l.originX,y:l.originY},{easing:"cubicIn"}).call(function(){var e=i.getChildByName("xialuo_01").getComponent(sp.Skeleton);e.node.setPosition(l.originX,l.originY),e.node.active=!0,e.setAnimation(0,"animation",!1),e.setCompleteListener(function(){e.setCompleteListener(null);var t=i.getChildByName("xialuo_xunhuan_01").getComponent(sp.Skeleton);t.node.active=!0,t.setAnimation(0,"animation",!0)})}).start(),(d=i.getChildByName("particle_feixing")).setPosition(n.x,n.y),d.active=!0,d.stopAllActions(),d.getComponent(cc.ParticleSystem).resetSystem(),cc.tween(d).to(.8,{x:0,y:0},{easing:"cubicIn"}).call(function(){d.active=!1}).start(),a.next=21,SlotsFacade.delayTime(.81);case 21:case"end":return a.stop()}},a)}))()},fillWilds:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=SlotsFacade.dm.getBoxIndex(),o=null,!(n>0)){t.next=7;break}return a=SlotsFacade.slots.GetSymbolByIdx(n),o=a.node.getChildByName("w11").getComponent(sp.Skeleton),t.next=7,e._fillWildsPuzzle(o);case 7:if(!SlotsFacade.dm.isCompletePuzzelWild()){t.next=15;break}return t.next=10,e._showPrePuzzelGame();case 10:return t.next=12,e._releasePuzzleWilds();case 12:return e.colWildItems.forEach(function(e){e.getChildByName("xialuo_zongjiang_01").active=!1}),t.next=15,e._releaseBoxWilds(o);case 15:case"end":return t.stop()}},t)}))()},_showPrePuzzelGame:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.jinbizhongjiang1.node.active=!0,e.jinbizhongjiang1.setAnimation(0,"animation",!1),e.jinbizhongjiang1.setCompleteListener(function(){e.jinbizhongjiang1.setCompleteListener(null),e.jinbizhongjiang2.node.active=!0,e.jinbizhongjiang2.setAnimation(0,"animation",!0),e.colWildItems.forEach(function(e){var t=e.getChildByName("xialuo_zongjiang_01").getComponent(sp.Skeleton);t.node.active=!0,t.setAnimation(0,"animation",!0)})}),t.next=5,SlotsFacade.delayTime(1.5);case 5:case"end":return t.stop()}},t)}))()},_fillWildsPuzzle:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,a,i,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!((o=SlotsFacade.dm.getLackPuzzleWildCols()).length<1)){n.next=3;break}return n.abrupt("return");case 3:for(SlotsFacade.soundMgr.playEffect("vault_coin"),a=e.node.convertToWorldSpaceAR(cc.v2(0,0)),e.node.active=!0,e.setAnimation(0,"animation",!1),SlotsFacade.delayTime(.5),i=0;i<o.length;i++)s=t.colWildItems[o[i]],c=s.convertToNodeSpaceAR(a),e.setAnimation(0,"animation3",!1),t._playATrace(1,o[i],c);return n.next=11,SlotsFacade.delayTime(1);case 11:case"end":return n.stop()}},n)}))()},_releasePuzzleWilds:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=0,(o=SlotsFacade.dm.getSpinData().randomData.fallWilds).forEach(function(e){n=Math.max(n,e.length)}),!(n>0)){t.next=6;break}return t.next=6,SlotsFacade.delayTime(.5);case 6:a=n;case 7:if(!(a>0)){t.next=13;break}return t.next=10,e._releaseARound(a,o);case 10:a--,t.next=7;break;case 13:case"end":return t.stop()}},t)}))()},_releaseARound:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:for(SlotsFacade.soundMgr.playEffect("coin_fly"),a=[],i=0;i<t.length;i++)t[i].length>=e&&a.push(n._releaseATrace(e,i,t[i][e-1]));if(!a.length){o.next=6;break}return o.next=6,Promise.all(a);case 6:case"end":return o.stop()}},o)}))()},_releaseATrace:function(e,t,n){var o=this;return a(regeneratorRuntime.mark(function a(){var i,s,c,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=o.colWildItems[t],(s=i.getChildByName("xialuo_zengjia_0"+e).getComponent(sp.Skeleton)).setAnimation(0,"animation1",!1),c=SlotsFacade.slots.GetSymbolByIdx(n),r=i.convertToNodeSpaceAR(c.node.convertToWorldSpaceAR(cc.v2(0,0))),cc.tween(s.node).to(1,{x:r.x,y:r.y}).call(function(){s.node.active=!1,c.addWild()}).start(),a.next=8,SlotsFacade.delayTime(1.01);case 8:case"end":return a.stop()}},a)}))()},_releaseBoxWilds:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t._stopFall=!1,o=SlotsFacade.dm.getSpinData().randomData.bankWilds,SlotsFacade.delayTime(.5),a=0;case 4:if(!(a<o.length)){n.next=10;break}return n.next=7,t._releaseABoxTrace([o[a]],e);case 7:a++,n.next=4;break;case 10:case"end":return n.stop()}},n)}))()},_releaseABoxTrace:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a,i,s,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return SlotsFacade.soundMgr.playEffect("coin_fly"),t.setAnimation(0,"animation3",!1),a=SlotsFacade.slots.GetSymbolByIdx(e),i=n.node.convertToNodeSpaceAR(a.node.convertToWorldSpaceAR(cc.v2(0,0))),s=n.xialuo.node.parent.convertToNodeSpaceAR(t.node.convertToWorldSpaceAR(cc.v2(0,0))),(c=n.xialuo).node.active=!0,c.node.x=s.x,c.node.y=s.y,cc.tween(c.node).to(.9,{x:i.x,y:i.y}).start(),o.next=12,new Promise(function(e){c.setAnimation(0,"animation1",!1),c.setCompleteListener(function(){c.setCompleteListener(null),c.node.active=!1,a.addWild(),e()})});case 12:case"end":return o.stop()}},o)}))()}}),cc._RF.pop()},{}],DoubleAgent_FlowCtrl:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var c=e[i](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function c(e){o(s,a,i,c,r,"next",e)}function r(e){o(s,a,i,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"967f8IqTHhKu6DBAZbW6Xoj","DoubleAgent_FlowCtrl"),cc.Class({extends:cc.Component,enterRoom:function(){var e=SlotsFacade.dm.getFreeBagInfo();if(e&&e.currState.state>0)return SlotsFacade.topCmp.SetBackLobby(!1),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),void SlotsFacade.collectGame.reConnectCollect(e);var t=cc.vv.gameData.GetTotalFree(),n=cc.vv.gameData.GetFreeTime();if(n>0){SlotsFacade.bottomCmp.ShowFreeModel(!0,t-n,t);var o=cc.vv.gameData.GetTotalFreeWin();SlotsFacade.bottomCmp.SetWin(o),this.enterFreeGame()}SlotsFacade.slots.CanDoNextRound()},onMsgSpine:function(e){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},spinEnd:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collectEnergy();case 2:return t.next=4,SlotsFacade.extraWildCmp.fillWilds();case 4:return SlotsFacade.slots.ShowWinTrace(),n=cc.vv.gameData.GetGameWin(),o=n,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(o=cc.vv.gameData.GetGameTotalFreeWin()),t.next=10,new Promise(function(e){SlotsFacade.slots.ShowBottomWin(n,o,!0,e)});case 10:return t.next=12,e.enterCollectGame();case 12:return t.next=14,SlotsFacade.delayTime(.3);case 14:if(!SlotsFacade.dm.isTriggerFree()){t.next=31;break}return t.next=17,SlotsFacade.slots.playScatter(SlotsFacade.dm.getScatterIndexs());case 17:return t.next=19,SlotsFacade.popup.showWinFreeCnt(SlotsFacade.dm.triggerFreeCnt(),SlotsFacade.dm.isFistTriggerFree());case 19:if(!SlotsFacade.dm.isFistTriggerFree()){t.next=27;break}return SlotsFacade.slots.Backup(),SlotsFacade.mainPanel.showSceneTransition(),t.next=24,SlotsFacade.delayTime(2.5);case 24:return t.next=26,SlotsFacade.slots.playBaoxiangJinChang();case 26:e.enterFreeGame();case 27:return t.next=29,SlotsFacade.delayTime(1);case 29:t.next=45;break;case 31:if(!cc.vv.gameData.hasFree()){t.next=34;break}t.next=45;break;case 34:if(!cc.vv.gameData.isLastEndFree()){t.next=45;break}return t.next=37,SlotsFacade.popup.showWinGold(SlotsFacade.dm.getFreeWinCoin());case 37:return SlotsFacade.mainPanel.showSceneTransition(),t.next=40,SlotsFacade.delayTime(1.5);case 40:return e.enterNormalGame(),t.next=43,SlotsFacade.delayTime(1);case 43:return t.next=45,new Promise(function(e){var t=cc.vv.gameData.GetGameTotalFreeWin();SlotsFacade.slots.ShowBottomWin(t,t,!0,function(){e()})});case 45:SlotsFacade.slots.CanDoNextRound();case 46:case"end":return t.stop()}},t)}))()},enterFreeGame:function(){SlotsFacade.topCmp.SetBackLobby(!1),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),SlotsFacade.mainPanel.showBg(!0),SlotsFacade.soundMgr.playBgm("free_bgm")},enterNormalGame:function(){SlotsFacade.slots.Resume(),SlotsFacade.bottomCmp.ShowFreeModel(!1),SlotsFacade.mainPanel.showBg(!1),SlotsFacade.soundMgr.playBgm()},enterCollectGame:function(){return a(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=SlotsFacade.dm.energyData)&&t.cmpInfo&&t.cmpInfo.next_game)){e.next=8;break}return SlotsFacade.topCmp.SetBackLobby(!1),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),e.next=6,SlotsFacade.collectProgress.showEnterCollectGameAni();case 6:return e.next=8,new Promise(function(e){SlotsFacade.collectGame.open(!1,e),SlotsFacade.collectProgress.setProgress(0)});case 8:case"end":return e.stop()}},e)}))()},collectEnergy:function(){return a(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=SlotsFacade.dm.energyData)||!t.currRoundValue){e.next=7;break}return n=SlotsFacade.slots.getSymbolsByServerIds(SlotsFacade.dm.getCollectSymbolIndexs()),o=[],n.forEach(function(e){o.push(e.node.convertToWorldSpaceAR(cc.v2(0,0)))}),e.next=7,SlotsFacade.collectProgress.collectEnergy(o,SlotsFacade.dm.getCollectPercent());case 7:case"end":return e.stop()}},e)}))()}}),cc._RF.pop()},{}],DoubleAgent_GameData:[function(e,t,n){"use strict";cc._RF.push(t,"b805a2anrdKSYALilxT/8+w","DoubleAgent_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{spinData:null,extraWildIndexs:[],energyData:null},init:function(e,t){this._super(e,t),this.energyData=this._deskInfo.energyData},OnRcvNetSpine:function(e){200==e.code&&(this.energyData=e.energyData,e.randomData&&e.randomData.wild_idxs?this.extraWildIndexs=e.randomData.wild_idxs:this.extraWildIndexs=null),this._super(e)},getSpinData:function(){return this._gameInfo},canCollect:function(){return this.GetBetIdx()>=this.energyData.needBetIdx},getCollectSymbolIndexs:function(){var e=this.getSpinData().resultCards;if(!e||e.length<1)return[];var t=[];return e.forEach(function(e,n){3==e&&t.push(n+1)}),t},hasFree:function(){return this.GetFreeTime()>0},isTriggerFree:function(){return this.triggerFreeCnt()>0},triggerFreeCnt:function(){var e=this.getSpinData().freeResult;return e&&e.triFreeCnt&&e.freeInfo&&e.freeInfo.freeCnt?e.freeInfo.freeCnt:0},isFistTriggerFree:function(){return this.hasFree()&&this.GetFreeTime()==this.GetTotalFree()},isLastEndFree:function(){return 0==this.GetFreeTime()&&this.GetTotalFree()>0},getScatterIndexs:function(){return this.triggerFreeCnt()>0?this.getSpinData().freeResult.freeInfo.scatterIdx.concat():[]},getFreeWinCoin:function(){return this._gameInfo.freeWinCoin},getBoxIndex:function(){var e=this.getSpinData().resultCards;return 11==e[2]?3:11==e[7]?8:11==e[12]?13:11==e[17]?18:0},getLackPuzzleWildCols:function(){for(var e=this.getSpinData().fallList,t=[],n=0;n<e.length;n++)e[n].length<1&&t.push(n);return t},isCompletePuzzelWild:function(){if(this.getBoxIndex())return!0;var e=this.getSpinData().fallList;if(5!=e.length)return!1;for(var t=0;t<e.length;t++)if(!e[t].length)return!1;return!0},getMinCollectBet:function(){if(this.energyData.needBetIdx>this.canBetList.length)return null;var e={singleBet:0,mult:0,line:this.currLine,isMax:!1},t=this.colection.needBet-1;return e.singleBet=this.canBetList[t],e.mult=t,e},getCollectPercent:function(){return this.energyData?this.energyData.totalCoin/this.energyData.needCoins:0},getFreeBagInfo:function(){return this._deskInfo.freeBags},reqSubGame:function(e){var t=this;return new Promise(function(n){var o={c:MsgId.SLOT_SUBGAME_DATA,gameid:t._gameId,data:e};cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,function e(o){cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,e,!1,t),console.log("reqSubGame-resp:",o),n(o)},t),cc.vv.NetManager.send(o,!0)})},getBigWinType:function(e){var t=e/this.singleBet,n=-1;return t>=100?n=5:t>=80?n=4:t>=60?n=3:t>=40?n=2:t>=20?n=1:t>=10&&(n=0),n},playSpine:function(e,t,n,o){if(e){e.active=!0;var a=e.getComponent(sp.Skeleton);a&&(a.setAnimation(0,t,n),a.setCompleteListener(function(){o&&o()}))}}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],DoubleAgent_ItemsNode:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var c=e[i](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function c(e){o(s,a,i,c,r,"next",e)}function r(e){o(s,a,i,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"91d2eD96G5I+ZiisHFEmaDy","DoubleAgent_ItemsNode");var i=0,s=2,c=4;cc.Class({extends:cc.Component,properties:{id:0,callBack:null,gameCfg:null,items:[],itemClass:"",itemsContainer:null,itemsContainerRect:null,itemWidth:0,itemHeight:0,activeItemsContainer:null,col:5,row:4,spaceWidth:0,speed:30,moveBackSpace:40,firstColMinRoundCount:2,spaceRoundCount:2,colStateInfo:null,canStartStop:!1,lineActionNode:null,resultIds:null,spine_add_speed:sp.Skeleton,_isManualStop:!1},onLoad:function(){this.lineActionNode=new cc.Node,this.lineActionNode.parent=this.node},initColStateInfo:function(){this.colStateInfo={};for(var e=0;e<this.col;e++){var t={moveState:c,spinedRound:0,needSpinRound:1e9,speed:this.speed,needAddSpeed:!1,hasScatter:!1};this.colStateInfo[e+""]=t}},resetColStateInfo:function(e){for(var t in this.colStateInfo)this.colStateInfo[t].moveState=e,this.colStateInfo[t].spinedRound=0,this.colStateInfo[t].needSpinRound=1e9,this.colStateInfo[t].speed=this.speed,this.colStateInfo[t].needAddSpeed=!1,this.colStateInfo[t].hasScatter=!1},init:function(e,t,n){this.itemClass=n,this.itemsContainer=this.node.getChildByName("items_container"),this.gameCfg=t,this.col=this.gameCfg.col,this.row=this.gameCfg.row,this.callBack=e,this.itemsContainerRect=this.itemsContainer.getBoundingBox(),this.itemWidth=(this.itemsContainerRect.width-this.spaceWidth*(this.col-1))/this.col,this.itemHeight=this.itemsContainerRect.height/this.row,this.activeItemsContainer=this.node.getChildByName("active_items_container"),this.initColStateInfo(),this._initItems(),this._initSpine()},_initSpine:function(){var e=this.activeItemsContainer.getChildByName("spine_add_speed");e&&(this.spine_add_speed=e.getComponent(sp.Skeleton))},_showAddSpeedAni:function(e,t){if(this.spine_add_speed&&(this.spine_add_speed.node.active=e,e)){this.spine_add_speed.setAnimation(0,"animation",!0);var n=this.activeItemsContainer.getChildByName("active_item_"+(5+t));this.spine_add_speed.node.x=n.x,this._isManualStop||SlotsFacade.soundMgr.playEffect("reel_notify")}},_initItems:function(){for(var e=this.activeItemsContainer,t=this.col*this.row+this.col,n=e.getChildByName("active_item"),o=0;o<t;o++){var a=new cc.Node;a.addComponent(cc.Sprite),a.parent=this.itemsContainer;var i=a.addComponent(this.itemClass);if(i.gameCfg=this.gameCfg,i.itemId=-1,i.rowIndex=parseInt(o/this.col),i.colIndex=parseInt(o%this.col),i.logicIndex=o,o<t-this.col){var s=cc.instantiate(n);s.active=!0,s.parent=e,s.name="active_item_"+o,i.initActiveNode(s)}this.updateItem(i,-1),this.items.push(i)}for(var c=0;c<t;c++){var r=this.items[c],l=r.rowIndex+1;l>this.row&&(l=0);var d=l*this.col+r.colIndex,u=this.items[d].node;r.node.nextRowNode=u;var m=r.rowIndex-1;m<0&&(m=this.row);var h=m*this.col+r.colIndex,p=this.items[h].node;r.node.preRowNode=p}this.initItemsPos()},updateItem:function(e,t){if(t<=0){var n=[1,3,4,5,6,7,8,9,10];t=n[parseInt(Math.random()*n.length)]}e.bind(t)},fillAllItemsSpr:function(e){this.resultIds=e;for(var t=0,n=0;n<this.col;n++){var o=n+"",a=this._hasScatterInCol(n);this.colStateInfo[o].needAddSpeed=t>=2,this.colStateInfo[o].hasScatter=a,a&&t++}for(var i=0;i<e.length;i++)this.updateItem(this.items[i],e[i])},initItemsPos:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];t.node.x=this.itemWidth*t.colIndex+this.spaceWidth*t.colIndex+this.itemWidth/2,t.node.y=-this.itemHeight/2-this.itemHeight*t.rowIndex+this.itemsContainerRect.height,t.activeNode&&(t.activeNode.x=t.node.x,t.activeNode.y=t.node.y)}},_hasScatterInCol:function(e){for(var t=0;t<this.row;t++){if(this.resultIds[t*this.col+e]==this.gameCfg.scatterId)return!0}return!1},setColStop:function(e){SlotsFacade.soundMgr.stopEffectByName("reel_notify"),SlotsFacade.soundMgr.playEffect("reel_stop");for(var t=0;t<this.items.length;t++)if(this.items[t].colIndex==e){var n=this.items[t];n.node.x=this.itemWidth*n.colIndex+this.spaceWidth*n.colIndex+this.itemWidth/2,n.node.y=-this.itemHeight/2-this.itemHeight*n.rowIndex+this.itemsContainerRect.height}if(this.colStateInfo[e.toString()].hasScatter)for(var o=0;o<this.gameCfg.row;o++){var a=e+o*this.gameCfg.col,i=this.items[a];i.itemId==this.gameCfg.scatterId&&(SlotsFacade.soundMgr.playEffect("symbol_scatter"),i.playScatter(!0))}if(this._showAddSpeedAni(!1),e+1<this.col){var s=this.colStateInfo[e+1];s.needAddSpeed&&(s.speed*=2.5,this._showAddSpeedAni(!0,e+1))}this.isAllColSameMoveState(c)&&this.callBack&&(SlotsFacade.soundMgr.stopEffectByName("reel_notify"),SlotsFacade.soundMgr.playEffect("reel_stop"),this.callBack({evt:"complete",target:this}))},isAllColSameMoveState:function(e){for(var t in this.colStateInfo)if(this.colStateInfo[t].moveState!=e)return!1;return!0},update:function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t],o=this.colStateInfo[n.colIndex];o.moveState==i?n.node.y-=o.speed:o.moveState==s&&(n.node.y+=o.speed/6)}for(var a=0;a<this.items.length;a++){var r=this.items[a],l=this.colStateInfo[r.colIndex];l.moveState==i?(this.canStartStop&&0==r.rowIndex&&l.spinedRound>=l.needSpinRound&&r.node.y<this.itemsContainerRect.height-this.itemHeight/2-this.moveBackSpace&&r.node.y>this.itemHeight+this.itemHeight/2&&(l.moveState=s,this.colChangeToMoveBack(r.colIndex)),r.node.y<-this.itemHeight/2&&(0==r.rowIndex&&l.spinedRound++,r.node.y=r.node.nextRowNode.y+this.itemHeight)):l.moveState==s&&(0==r.rowIndex&&r.node.y>this.itemsContainerRect.height-this.itemHeight/2?(l.moveState=c,this.setColStop(r.colIndex)):r.node.y>this.itemsContainerRect.height+this.itemHeight/2&&(r.node.y=r.node.preRowNode.y-this.itemHeight))}},startMove:function(){var e=this;this.clearActiveItems(),this.canStartStop=!1,this._isManualStop=!1,this.resultIds=[],this.resetColStateInfo(i),this.scheduleOnce(function(){e.playAni_xztw()},.9)},toStartStop:function(e){this.canStartStop=!0,this.fillAllItemsSpr(e);var t=this.colStateInfo[0],n=Math.max(this.firstColMinRoundCount,t.spinedRound);t.needSpinRound=n;for(var o=1;o<this.col;o++)this.colStateInfo[o].needSpinRound=this.colStateInfo[o-1].needSpinRound+this.spaceRoundCount,this.colStateInfo[o].needAddSpeed&&(this.colStateInfo[o].needSpinRound+=15)},manualStop:function(e){this.canStartStop=!0,this._isManualStop=!0,this.fillAllItemsSpr(e),this.initItemsPos();for(var t=0;t<this.col;t++){this.colStateInfo[t].moveState!=c&&(this.colStateInfo[t].spinedRound=this.colStateInfo[t].needSpinRound)}},playLine:function(e,t){var n=this;this.lineActionNode.stopAllActions();for(var o=[],a=0;a<e.length;a++)o=o.concat(e[a].indexs);var i=cc.callFunc(function(){n.showBorder(o),n.showActiveItemsAni(o)});if(t){for(var s,c=cc.delayTime(1.5),r=[i],l=function(t){r.push(c),r.push(cc.callFunc(function(){n.playALine(e[t].indexs)}))},d=0;d<e.length;d++)l(d);r.push(c),this.lineActionNode.runAction(cc.repeatForever((s=cc).sequence.apply(s,r)))}else this.lineActionNode.runAction(i)},playALine:function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];n.showActiveAni(!1),n.showBorder(!1)}this.showBorder(e),this.showActiveItemsAni(e)},showBorder:function(e){for(var t=0;t<e.length;t++)this.items[e[t]-1].showBorder(!0)},showActiveItemsAni:function(e){for(var t=0;t<e.length;t++)this.items[e[t]-1].showActiveAni(!0)},clearActiveItems:function(){this.lineActionNode.stopAllActions();for(var e=0;e<this.items.length;e++){var t=this.items[e];t.showActiveAni(!1),t.showBorder(!1),t.showStaticIcon(-1)}},clearBorder:function(){for(var e=0;e<this.items.length;e++)this.items[e].showBorder(!1)},getItemsByIndex:function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.items[e-1])}),n},playAni_xztw:function(){var e=this.node.getChildByName("spine_xiangzituowei").getComponent(sp.Skeleton);e.node.active=!0,e.setAnimation(0,"animation",!1),e.setCompleteListener(function(){e.setCompleteListener(null),e.node.active=!1})},playAni_bxjc:function(){},colChangeToMoveBack:function(e){if(2==e){var t=SlotsFacade.dm.getBoxIndex();if(t){var n=this.items[t-1].activeNode.convertToWorldSpaceAR(cc.v2(0,0));SlotsFacade.extraWildCmp.showBox(n)}}},playScatter:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("bell"),e.forEach(function(e){t.items[e-1].playScatter()}),n.next=4,SlotsFacade.delayTime(1.5);case 4:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{}],DoubleAgent_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"d64deWjmSBKIq8s1phMlG3V","DoubleAgent_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},onLoad:function(){this.InitCommComponent(),window.SlotsFacade=this,this.dm=cc.vv.gameData,this.mainPanel=cc.find("safe_node",this.node).addComponent("DoubleAgent_MainPanel"),this.flowCtrl=this.addComponent("DoubleAgent_FlowCtrl"),this.soundMgr=this.addComponent("DoubleAgent_Sound"),this.extraWildCmp=this.mainPanel.extra_wild_game_node.getComponent("DoubleAgent_ExtraWildGame"),this.collectProgress=this.mainPanel.collect_progress.getComponent("DoubleAgent_CollectProgress"),this.collectGame=this.mainPanel.collect_game_node.getComponent("DoubleAgent_CollectGame"),this.popup=this.mainPanel.popup.getComponent("DoubleAgent_Popup"),this.topCmp=cc.vv.gameData.GetTopScript(),this.bottomCmp=cc.vv.gameData.GetBottomScript(),this.slots=cc.vv.gameData.GetSlotsScript()},onDestroy:function(){window.SlotsFacade=null,this.dm=null},delayTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],DoubleAgent_MainPanel:[function(e,t,n){"use strict";cc._RF.push(t,"690b7dpwytNRrwEiYOUZUDF","DoubleAgent_MainPanel"),cc.Class({extends:cc.Component,properties:{bg:cc.Node,character_node:cc.Node,slots:cc.Node,collect_progress:cc.Node,collect_game_node:cc.Node,extra_wild_game_node:cc.Node,popup:cc.Node,transition_node:cc.Node,spine_free_bg:sp.Skeleton},onLoad:function(){this.bg=this.node.getChildByName("bg"),this.spine_free_bg=this.node.getChildByName("spine_free_bg").getComponent(sp.Skeleton),this.character_node=this.node.getChildByName("character_node"),this.slots=this.node.getChildByName("slots"),this.collect_progress=this.slots.getChildByName("collect_progress"),this.collect_game_node=this.node.getChildByName("collect_game_node"),this.extra_wild_game_node=this.slots.getChildByName("extra_wild_game_node"),this.popup=this.node.getChildByName("popup"),this.transition_node=this.node.getChildByName("transition_node"),this.spineSceneTransition=this.transition_node.getChildByName("daqiangqieping").getComponent(sp.Skeleton)},showBg:function(e){this.spine_free_bg.node.active=e;var t=0;e&&(t=1),this.bg.getComponent("ImgSwitchCmp").setIndex(t)},showSceneTransition:function(e){var t=this;SlotsFacade.soundMgr.playEffect("transition_free"),this.spineSceneTransition.node.active=!0,this.spineSceneTransition.setAnimation(0,"skill",!1),this.spineSceneTransition.setCompleteListener(function(){t.spineSceneTransition.setCompleteListener(null),t.spineSceneTransition.node.active=!1,e&&e()})}}),cc._RF.pop()},{}],DoubleAgent_Popup:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var c=e[i](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function c(e){o(s,a,i,c,r,"next",e)}function r(e){o(s,a,i,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"5638cE3kcJK85byfX3Nf5zM","DoubleAgent_Popup"),cc.Class({extends:cc.Component,properties:{bg:cc.Node},onLoad:function(){},showBg:function(e){this.bg.active=e},showWinGold:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("free_dialog_collect_show"),t.showBg(!0),(o=t.node.getChildByName("dialog_free_win_coin")).active=!0,o.scale=0,o.getChildByName("label_coin").getComponent("LabelRollCmp").startRoll(0,e),a=o.getChildByName("ok_btn"),n.next=9,new Promise(function(e){cc.tween(o).to(.5,{scale:1},{easing:"backOut"}).start();var n=function n(){SlotsFacade.soundMgr.playEffect("common_click"),a.off(cc.Node.EventType.TOUCH_END,n),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.showBg(!1),Global.SlotsSoundMgr.stopBgm(),SlotsFacade.topCmp.SetBackLobby(!0),e()}).start()};cc.vv.gameData.checkAutoPlay(a,n),a.on(cc.Node.EventType.TOUCH_END,function(){a.stopAllActions(),n()})});case 9:case"end":return n.stop()}},n)}))()},showWinFreeCnt:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return SlotsFacade.soundMgr.playEffect("free_dialog_start_show"),n.showBg(!0),(a=n.node.getChildByName("dialog_free_cnt")).active=!0,a.scale=0,a.getChildByName("label_free_cnt").getComponent(cc.Label).string=e.toString(),(i=a.getChildByName("ok_btn")).active=t,o.next=10,new Promise(function(e){var o=cc.tween(a);if(o=o.to(.5,{scale:1},{easing:"backOut"}),t){var s=function t(){SlotsFacade.soundMgr.playEffect("common_click"),i.off(cc.Node.EventType.TOUCH_END,t),cc.tween(a).to(.5,{scale:0},{easing:"backIn"}).call(function(){n.showBg(!1),e()}).start()};cc.vv.gameData.checkAutoPlay(i,s),i.on(cc.Node.EventType.TOUCH_END,function(){i.stopAllActions(),s()})}else o=o.delay(1).to(.5,{scale:0},{easing:"backIn"}).call(function(){n.showBg(!1),e()});o.start()});case 10:case"end":return o.stop()}},o)}))()},showCollectWinGold:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,a,i,s,c,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("free_dialog_collect_show"),t.showBg(!0),(o=t.node.getChildByName("dialog_collect_win")).active=!0,o.scale=0,a=o.getChildByName("lbl_coin"),i=o.getChildByName("lbl_getdesc"),Global.doRoallNumEff(a,0,e.winCoin,1,null,null,0,!0),s=Global.convertNumToShort(e.prize,1e3,0),c=Global.convertNumToShort(e.prize*e.mult,1e3,0),i.getComponent(cc.Label).string=cc.js.formatStr("%s X %s = %s",e.mult,s,c),r=o.getChildByName("btn_collect"),n.next=14,new Promise(function(e){cc.tween(o).to(.5,{scale:1},{easing:"backOut"}).start();var n=function n(){SlotsFacade.soundMgr.playEffect("common_click"),r.off(cc.Node.EventType.TOUCH_END,n),cc.tween(o).to(.5,{scale:0},{easing:"backIn"}).call(function(){t.showBg(!1),Global.SlotsSoundMgr.stopBgm(),SlotsFacade.topCmp.SetBackLobby(!0),SlotsFacade.bottomCmp.CanDoNextRound(),e()}).start()};cc.vv.gameData.checkAutoPlay(r,n),r.on(cc.Node.EventType.TOUCH_END,function(){r.stopAllActions(),n()})});case 14:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{}],DoubleAgent_Reel:[function(e,t,n){"use strict";cc._RF.push(t,"1445a9GYQRN7KWqqjGvZXXQ","DoubleAgent_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{bg:cc.Node}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],DoubleAgent_Slots:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,s){try{var c=e[i](s),r=c.value}catch(e){return void n(e)}c.done?t(r):Promise.resolve(r).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var s=e.apply(t,n);function c(e){o(s,a,i,c,r,"next",e)}function r(e){o(s,a,i,c,r,"throw",e)}c(void 0)})}}cc._RF.push(t,"a1d44ZEBNhEKJR2xSQi/DmK","DoubleAgent_Slots"),cc.Class({extends:e("LMSlots_Slots_Base"),properties:{_delaytimes:0},StartMove:function(){var e=this;this._super(),SlotsFacade.dm.getSpinData()&&(this._delaytimes=SlotsFacade.extraWildCmp.hideWilds()),0==SlotsFacade.dm.GetTotalFree()&&SlotsFacade.soundMgr.playBgm(),this.scheduleOnce(function(){e.playAni_xztw()},.9)},StopMove:function(){this._super(),SlotsFacade.extraWildCmp.showZengjiaWild(SlotsFacade.dm.getSpinData().fallList)},playAni_xztw:function(){var e=this.node.getChildByName("spine_xiangzituowei").getComponent(sp.Skeleton);e.node.active=!0,e.setAnimation(0,"animation",!1),e.setCompleteListener(function(){e.setCompleteListener(null),e.node.active=!1})},onMsgSpine:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,SlotsFacade.delayTime(t._delaytimes);case 2:SlotsFacade.extraWildCmp.startFallWild(SlotsFacade.dm.getSpinData().fallList),t._gameInfo=e,t.SetSlotsResult(e.resultCards),t.SetReelStateInfo(e.resultCards);case 6:case"end":return n.stop()}},n)}))()},OnSpinEnd:function(){SlotsFacade.flowCtrl.spinEnd()},ReconnectShow:function(){this.scheduleOnce(function(){SlotsFacade.flowCtrl.enterRoom()})},playScatter:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("bell"),e.forEach(function(e){t.GetSymbolByIdx(e).playTriggerAnimation()}),n.next=4,SlotsFacade.delayTime(1.5);case 4:case"end":return n.stop()}},n)}))()},getSymbolsByServerIds:function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.GetSymbolByIdx(e))}),n},clearAllSymbolAniState:function(){for(var e=0;e<this._reels.length;e++)for(var t=this._reels[e]._symbols,n=0;n<t.length;n++)t[n].StartMove()},playBaoxiangJinChang:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.clearAllSymbolAniState(),t.abrupt("return",new Promise(function(t){var n=5,o=e._reels[2];o._bMoving=!0,o._stopTime=.8*n;(function o(){var a=cc.find("spine_baoxianxiangjinchang",e.node);n<=0?(a.active=!1,t()):(a.scale=n%2==1?1:-1,SlotsFacade.dm.playSpine(a,"animation",!1,function(){e.changeSymobl()}),e.scheduleOnce(function(){n-=1,o()},.8))})()}));case 2:case"end":return t.stop()}},t)}))()},changeSymobl:function(){this._reels[2]._symbols[2].changeSymboltoBaoxiang()}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],DoubleAgent_Sound:[function(e,t,n){"use strict";cc._RF.push(t,"fed14ByeL9I3pQoevGy02Br","DoubleAgent_Sound"),cc.Class({extends:cc.Component,properties:{_soundPath:"games/DoubleAgent/",_isPlayBgm:!1},playEffect:function(e,t){return cc.vv.AudioManager.playEff(this._soundPath,e,!0,t)},stopEffectByName:function(e){cc.vv.AudioManager.stopEffectByName(e)},stopEffect:function(){cc.vv.AudioManager.stopAudio()},playBgm:function(e){e?(Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm(e)):Global.SlotsSoundMgr.playNormalBgm()}}),cc._RF.pop()},{}],DoubleAgent_symbol:[function(e,t,n){"use strict";cc._RF.push(t,"19e35Z09+5CUrj1pbsCznzA","DoubleAgent_symbol"),cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{wildCount:0},StartMove:function(){this._super(),this.wildCount=0,this.node.getChildByName("wild").active=!1},addWild:function(){1!=this.GetShowId()&&this.ShowById(1,null),this.wildCount+=1;var e=this.node.getChildByName("wild");e.active=!0;var t=e.getChildByName("spine").getComponent(sp.Skeleton);t.node.active=!0,t.setAnimation(0,"animation1",!1);var n=null;1==this.wildCount?(n=e.getChildByName("wild_1").getComponent(sp.Skeleton),e.getChildByName("wild_multi").active=!1):(n=e.getChildByName("wild_multi").getComponent(sp.Skeleton),e.getChildByName("wild_1").active=!1),n.node.active=!0,n.setAnimation(0,"animation"+this.wildCount,!1);var o=e.getChildByName("wildlizibao");SlotsFacade.dm.playSpine(o,"animation",!1,function(){o.active=!1})},playWild:function(){this._showNode&&(this._showNode.active=!1);var e=this.setAnimationToTop(!0);e.active=!0;var t=e.getChildByName("wild"),n=t.getChildByName("spine").getComponent(sp.Skeleton);n.node.active=!0,n.setAnimation(0,"animation1",!1);var o=null;1==this.wildCount?(o=t.getChildByName("wild_1").getComponent(sp.Skeleton),t.getChildByName("wild_multi").active=!1):(o=t.getChildByName("wild_multi").getComponent(sp.Skeleton),t.getChildByName("wild_1").active=!1),o.node.active=!0,o.setAnimation(0,"animation"+this.wildCount+"_1",!0)},playWinAnimation:function(){1==this.GetShowId()?this.playWild():this._super()},changeSymboltoBaoxiang:function(){this._showNode&&(this._showNode.active=!1),this._id=11;var e=cc.vv.gameData.getGameCfg();this._showNode=cc.find(e.symbol[11].node,this.node),this._showNode.active=!0}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["DoubleAgent_ButtonSafe","DoubleAgent_Cfg","DoubleAgent_CollectGame","DoubleAgent_CollectProgress","DoubleAgent_ExtraWildGame","DoubleAgent_FlowCtrl","DoubleAgent_GameData","DoubleAgent_ItemsNode","DoubleAgent_Logic","DoubleAgent_MainPanel","DoubleAgent_Popup","DoubleAgent_Reel","DoubleAgent_Slots","DoubleAgent_Sound","DoubleAgent_symbol"]);