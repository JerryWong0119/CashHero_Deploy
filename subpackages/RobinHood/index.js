window.__require=function e(t,n,o){function a(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){return a(t[r][1][e]||e)},d,d.exports,e,t,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)a(o[r]);return a}({RobinHood_BagBonus:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"59728DkFrpBianyUeueAYVV","RobinHood_BagBonus");var i={1:{idleAni:"animation1",staticAni:"animation1",dynamicAni:"animation6"},2:{idleAni:"animation2",staticAni:"animation2",dynamicAni:"animation4"},3:{idleAni:"animation3",staticAni:"animation3",dynamicAni:"animation5"}};cc.Class({extends:cc.Component,properties:{bg:cc.Node,spine_coin:sp.Skeleton,spine_idle:sp.Skeleton,spine_win:sp.Skeleton,spine_collect_end:sp.Skeleton,collect_item_template:cc.Node,win_dialog:cc.Node,spineBottom:sp.Skeleton},onLoad:function(){},start:function(){this._bottomLabel=cc.find("winBg/lbl_winNum_nor",SlotsFacade.bottomCmp.node);var e=this._bottomLabel.convertToWorldSpaceAR(cc.v2(0,0));e=SlotsFacade.mainPanel.top_node.convertToNodeSpaceAR(e),this.spineBottom.node.position=e,this._setStep(this._getBelleBagLevel(),!1)},_setStep:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(a=i[(e=e||1).toString()],n.spine_idle.setAnimation(0,a.idleAni,!0),n.spine_coin.node.active=!0,!t){o.next=13;break}if(n.spine_coin.animation==a.staticAni){o.next=11;break}return SlotsFacade.soundMgr.playEffect("bag_up"),n.spine_coin.setAnimation(0,a.dynamicAni,!1),n.spine_coin.addAnimation(0,a.staticAni,!1),o.next=11,new Promise(function(e){n.spine_coin.setCompleteListener(function(){n.spine_coin.setCompleteListener(null),e()})});case 11:o.next=14;break;case 13:n.spine_coin.setAnimation(0,a.staticAni,!1);case 14:case"end":return o.stop()}},o)}))()},collectEnergy:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=SlotsFacade.dm.belleBag).wildCols&&!(n.wildCols.length<1)){t.next=3;break}return t.abrupt("return");case 3:for(SlotsFacade.slots.resetAllSymbol(),SlotsFacade.soundMgr.playEffect("bag_collect"),o=SlotsFacade.mainPanel.top_node,a=e.node.convertToWorldSpaceAR(cc.v2(0,0)),a=o.convertToNodeSpaceAR(a),i=function(t){var i=n.wildCols[t],r=SlotsFacade.slots.getIdxGlobalPos(i+5);r=o.convertToNodeSpaceAR(r);var s=cc.instantiate(e.collect_item_template).getComponent(sp.Skeleton);s.node.parent=o,s.node.position=r,s.node.active=!0,s.setAnimation(0,"animation",!1),s.setCompleteListener(function(){s.setCompleteListener(null),s.node.removeFromParent(!0)}),cc.tween(s.node).delay(.6).to(.6,{x:a.x,y:a.y}).call(function(){e.spine_collect_end.node.active=!0,e.spine_collect_end.setAnimation(0,"animation",!1)}).start()},r=0;r<n.wildCols.length;r++)i(r);return t.next=12,SlotsFacade.delayTime(1.6);case 12:return e.spine_collect_end.node.active=!1,t.next=15,e._setStep(e._getBelleBagLevel(),!0);case 15:return t.next=17,e._collectCoin();case 17:case"end":return t.stop()}},t)}))()},_getBelleBagLevel:function(){var e=SlotsFacade.dm.belleBag,t=e.totalCnt/e.maxCnt;return t<.1?1:t<.5?2:3},_collectCoin:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a,i,r,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=SlotsFacade.dm.belleBag).totalCnt<n.maxCnt)){t.next=3;break}return t.abrupt("return");case 3:return SlotsFacade.soundMgr.playEffect("bag_roll"),e.spine_win.node.active=!0,e.win_dialog.active=!0,e.win_dialog.getChildByName("bg").active=!0,(o=e.win_dialog.getChildByName("label").getComponent("LabelRollCmp")).node.active=!0,o.node.scale=.3,o.node.opacity=150,o.startRoll(0,n.totalCoin,3),cc.tween(o.node).to(3,{scale:1.2,opacity:255}).to(.3,{scale:1},{easing:"backIn"}).start(),t.next=16,SlotsFacade.delayTime(3);case 16:return e.spine_win.node.active=!1,(a=e.win_dialog.getChildByName("spine").getComponent(sp.Skeleton)).node.active=!0,a.setAnimation(0,"animation1",!1),a.addAnimation(0,"animation2",!0),t.next=23,SlotsFacade.delayTime(2);case 23:return a.setAnimation(0,"animation3",!1),a.setCompleteListener(function(){a.setCompleteListener(null),a.node.active=!1,e.win_dialog.active=!1}),o.node.active=!1,SlotsFacade.soundMgr.playEffect("bag_footer"),(i=cc.instantiate(o.node)).active=!0,i.parent=SlotsFacade.mainPanel.top_node,r=o.node.convertToWorldSpaceAR(cc.v2(0,0)),r=SlotsFacade.mainPanel.top_node.convertToNodeSpaceAR(r),i.position=r,s=e.spineBottom.node.position,cc.tween(i).to(1,{scale:.3,x:s.x,y:s.y},{easing:"backIn"}).call(function(){e.spineBottom.node.active=!0,e.spineBottom.setAnimation(0,"animation",!1),i.removeFromParent(!0)}).start(),c=SlotsFacade.dm.GetGameWin()-n.totalCoin,t.next=38,new Promise(function(t){Global.doRoallNumEff(e._bottomLabel,c,c+n.totalCoin,.3,t,null,0,!0)});case 38:e._setStep(1,!0);case 39:case"end":return t.stop()}},t)}))()},show:function(){this.bg.active=!0,this.node.active=!0},hide:function(){this.bg.active=!1,this.node.active=!1}}),cc._RF.pop()},{}],RobinHood_Bonus:[function(e,t,n){"use strict";var o;function a(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,r=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw a}}}}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function s(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function r(e){s(i,o,a,r,c,"next",e)}function c(e){s(i,o,a,r,c,"throw",e)}r(void 0)})}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"12b83Acwq1DXYNIEe8u3jGn","RobinHood_Bonus"),cc.Class({extends:cc.Component,properties:(o={panel:cc.Node,reel1_mask:cc.Node,border_top:cc.Node,border_bottom:cc.Node},l(o,"border_top",cc.Node),l(o,"spine_bonus",sp.Skeleton),l(o,"spine_kuang",sp.Skeleton),l(o,"spine_reel1_kuang",sp.Skeleton),l(o,"spine_fire",sp.Skeleton),l(o,"spine_collect_coin",sp.Skeleton),l(o,"spine_top",sp.Skeleton),l(o,"spine_border",sp.Skeleton),l(o,"spineBottom",sp.Skeleton),l(o,"spine_bonus_pre",sp.Skeleton),l(o,"_bottomLabel",cc.Node),l(o,"_isEnter",!1),l(o,"_isNormal",!1),o),onLoad:function(){},start:function(){this._bottomLabel=cc.find("winBg/lbl_winNum_nor",SlotsFacade.bottomCmp.node);var e=this._bottomLabel.convertToWorldSpaceAR(cc.v2(0,0));e=SlotsFacade.mainPanel.top_node.convertToNodeSpaceAR(e),this.spineBottom.node.position=e,this.spine_collect_coin.node.parent=SlotsFacade.mainPanel.top_node},enter:function(e){e=e||!1,this._isNormal=e,this._isEnter=!0,e||(this.showBorder(),this.to3RowState(!1))},exit:function(){this._isEnter=!1,this._isNormal||(SlotsFacade.dm.triggerBelleBonusCoin=0,this.hideBorder())},toWheelFreeState:function(){this.panel.height=620,this.reel1_mask.height=600},toNormalState:function(){this.panel.height=382,this.reel1_mask.height=362},to3RowState:function(e,t){var n=this;return c(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t=t||430,!e){o.next=9;break}return n._hideSpineBonus(),SlotsFacade.soundMgr.playEffect("bonus_end"),cc.tween(n.panel).to(.9,{height:t}).call(function(){SlotsFacade.character.actionSeat()}).start(),o.next=7,SlotsFacade.delayTime(.9);case 7:o.next=10;break;case 9:n.panel.height=t;case 10:case"end":return o.stop()}},o)}))()},to6RowState:function(e,t){var n=this;t=t||740,e?cc.tween(this.panel).call(function(){SlotsFacade.character.actionDisappear(),n._showSpineBonus()}).delay(2).call(function(){n.spine_top.node.active=!0,n.spine_top.setAnimation(0,"animation",!1)}).delay(.6).call(function(){SlotsFacade.soundMgr.playEffect("reel_up"),n.spine_fire.node.active=!0,n.spine_fire.setAnimation(0,"animation",!0),n.spine_border.node.active=!0,n.spine_border.setAnimation(0,"animation",!0)}).to(1.5,{height:t}).call(function(){n.spine_fire.node.active=!1,n.spine_top.node.active=!1,n.spine_border.node.active=!1,n.showReelBorder(10)}).start():this.panel.height=t},showBorder:function(){this.border_bottom.active=!0,this.border_top.active=!0,this.spine_reel1_kuang.node.active=!0},hideBorder:function(){this.border_bottom.active=!1,this.border_top.active=!1,this.spine_reel1_kuang.node.active=!1,this.spine_bonus.node.active=!1},showReelBorder:function(e){var t=6;if(this._isNormal&&(t=3),e>=10&&e<=13){var n="animation".concat(t,"_").concat(14-e);this.spine_kuang.node.active=!0,this.spine_kuang.setAnimation(0,n,!0)}else this.spine_kuang.node.active=!1;if(e>=10&&e<14&&SlotsFacade.soundMgr.playEffect("bonus_active".concat(e%10+1)),e>10&&e<=14&&SlotsFacade.soundMgr.playEffect("coin_land".concat(e%10)),10==e){var o,i=a(SlotsFacade.slots._reels);try{for(i.s();!(o=i.n()).done;){var r,s=a(o.value._symbols);try{for(s.s();!(r=s.n()).done;){r.value.setBonusState(!0)}}catch(e){s.e(e)}finally{s.f()}}}catch(e){i.e(e)}finally{i.f()}}},reelSpinEnd:function(e){var t=this;this._isEnter&&(10==e?this._isNormal?cc.tween(this.panel).call(function(){t.spine_border.node.active=!0,t.spine_border.setAnimation(0,"animation",!0),t._showSpineBonus(),SlotsFacade.character.actionDisappear()}).delay(2).call(function(){t.spine_border.node.active=!1,t.showReelBorder(10)}).start():SlotsFacade.dm.getBonusInfo()&&this.to6RowState(!0):(this._isNormal||SlotsFacade.dm.getBonusInfo())&&this.showReelBorder(e))},_showSpineBonus:function(){SlotsFacade.soundMgr.playEffect("bonus_land"),this.spine_bonus.node.active=!0,this.spine_bonus.node.opacity=255,this.spine_bonus.setAnimation(0,"animation1",!1),this.spine_bonus.addAnimation(0,"animation2",!0)},_hideSpineBonus:function(){var e=this;this.spine_bonus.node.active&&(this.spine_bonus.setAnimation(0,"animation5",!1),cc.tween(this.spine_bonus.node).delay(.7).to(.2,{opacity:0}).call(function(){e.spine_bonus.node.active=!1}).start())},startMove:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._isEnter){t.next=5;break}return t.next=3,e.to3RowState(!0);case 3:t.next=6;break;case 5:e.spine_bonus.node.active&&(e._hideSpineBonus(),SlotsFacade.character.actionSeat());case 6:case"end":return t.stop()}},t)}))()},onSpinMsg:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._isEnter){t.next=2;break}return t.abrupt("return");case 2:if(!e._isNormal){t.next=13;break}return SlotsFacade.soundMgr.playEffect("active_woman"),SlotsFacade.character.actionShine(),e.spine_bonus_pre.node.active=!0,e.spine_bonus_pre.setAnimation(0,"animation2",!1),t.next=9,new Promise(function(t){e.spine_bonus_pre.setCompleteListener(function(){e.spine_bonus_pre.setCompleteListener(null),e.spine_bonus_pre.node.active=!1,t()})});case 9:return t.next=11,SlotsFacade.delayTime(.5);case 11:t.next=15;break;case 13:return t.next=15,SlotsFacade.delayTime(1);case 15:case"end":return t.stop()}},t)}))()},spinEnd:function(){var e=this;return c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._isEnter){t.next=2;break}return t.abrupt("return");case 2:if(!e._isNormal){t.next=10;break}return t.next=5,e.extendBonus();case 5:return t.next=7,e.settlement();case 7:e.exit(),t.next=15;break;case 10:if(!SlotsFacade.dm.getBonusInfo()){t.next=15;break}return t.next=13,e.extendBonus();case 13:return t.next=15,e.settlement();case 15:case"end":return t.stop()}},t)}))()},extendBonus:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,o,i,r,s,c,l,d,u,m,p,h,f,g,_,S,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=SlotsFacade.dm.getBonusInfo(),o="",o=e._isNormal?"animation3":"animation4",e.spine_bonus.setAnimation(0,o,!1),e.spine_bonus.addAnimation(0,"animation2",!0),i=n.extraItems,r=[[],[],[],[],[]],s=a(i);try{for(s.s();!(c=s.n()).done;)l=c.value,d=(l.idx-1)%5,r[d].push(l)}catch(e){s.e(e)}finally{s.f()}u=0;case 10:if(!(u<r.length)){t.next=20;break}m=r[u],p=a(m);try{for(p.s();!(h=p.n()).done;)f=h.value,SlotsFacade.slots.GetSymbolByIdx(f.idx).changeToBonusSymbol(f.coin)}catch(e){p.e(e)}finally{p.f()}return m.length>0&&SlotsFacade.soundMgr.playEffect("bonus_fire"),t.next=17,SlotsFacade.delayTime(.2);case 17:u++,t.next=10;break;case 20:return t.next=22,SlotsFacade.delayTime(.5);case 22:g=n.items.concat(n.extraItems),_=a(g);try{for(_.s();!(S=_.n()).done;)v=S.value,SlotsFacade.slots.GetSymbolByIdx(v.idx).playTriggerAnimation()}catch(e){_.e(e)}finally{_.f()}return t.next=27,SlotsFacade.delayTime(.6);case 27:case"end":return t.stop()}},t)}))()},settlement:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var n,o,i,r,s,c,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=SlotsFacade.dm.getBonusInfo(),(o=n.items.concat(n.extraItems)).sort(function(e,t){var n=(e.idx-1)%5,o=(t.idx-1)%5;return n-o==0?e.idx-t.idx:n-o}),e.spine_collect_coin.node.active=!0,e._bottomLabel.active=!0,i=0,r=0,e._isNormal||(i=cc.vv.gameData.GetGameTotalFreeWin(),r=i-n.winCoin),e.spineBottom.node.position=e.spineBottom.node.parent.convertToNodeSpaceAR(cc.vv.gameData.GetBottomScript().getWinLabelNor().convertToWorldSpaceAR(cc.v2(0,0))),s=a(o),t.prev=10,l=regeneratorRuntime.mark(function t(){var n,o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.value,SlotsFacade.soundMgr.playEffect("coin_collect"),SlotsFacade.slots.GetSymbolByIdx(n.idx).playBonusLight(),o=n.coin,a=SlotsFacade.slots.getIdxGlobalPos(n.idx),a=SlotsFacade.mainPanel.top_node.convertToNodeSpaceAR(a),i="animation".concat((n.idx-1)%5,"_").concat(Math.ceil((n.idx+(e._isNormal?15:0))/5)),e.spine_collect_coin.node.position=a,e.spine_collect_coin.setAnimation(0,i,!1),t.next=12,SlotsFacade.delayTime(.5);case 12:return e.spineBottom.node.active=!0,e.spineBottom.setAnimation(0,"animation",!1),t.next=16,new Promise(function(t){Global.doRoallNumEff(e._bottomLabel,r,r+o,.3,t,null,0,!0)});case 16:r+=o;case 17:case"end":return t.stop()}},t)}),s.s();case 13:if((c=s.n()).done){t.next=17;break}return t.delegateYield(l(),"t0",15);case 15:t.next=13;break;case 17:t.next=22;break;case 19:t.prev=19,t.t1=t.catch(10),s.e(t.t1);case 22:return t.prev=22,s.f(),t.finish(22);case 25:e.spine_collect_coin.node.active=!1;case 26:case"end":return t.stop()}},t,null,[[10,19,22,25]])}))()}}),cc._RF.pop()},{}],RobinHood_Bottom:[function(e,t,n){"use strict";cc._RF.push(t,"7bde3cCyaJLPKsc0tRWq3MM","RobinHood_Bottom"),cc.Class({extends:e("LMSlots_Bottom_Base"),properties:{},SendSpinReq:function(){if(this.ShowBtnsByState("moveing_1"),SlotsFacade.dm.belleBonus&&SlotsFacade.dm.belleBonus.restCnt>0)SlotsFacade.dm.reqSubGame({rtype:3});else{var e=cc.vv.gameData.GetBetIdx();cc.vv.gameData.ReqSpin(e)}if(this._needRefushFreeTime){this._needRefushFreeTime=null;var t=cc.vv.gameData.GetFreeTime();cc.vv.gameData.SetFreeTime(t-1);var n=cc.vv.gameData.GetTotalFree(),o=cc.vv.gameData.GetFreeTime();this.ShowFreeModel(!0,n-o,n)}cc.vv.gameData.GetSlotsScript().StartMove(),this._ShowBetProTip(!1),this.ShowAutoSelect(!1)}}),cc._RF.pop()},{LMSlots_Bottom_Base:void 0}],RobinHood_Cfg:[function(e,t,n){"use strict";var o;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"37310SLIGlBypoU8Qw7sr5p","RobinHood_Cfg");var i={symbol:(o={},a(o,1,{node:"s1",win_node:"w1",win_ani:{name:"animation2",zIndex:300}}),a(o,2,{node:"s2",win_node:"w2",trigger_ani:{name:"animation2",zIndex:300,loop:!0},stop_ani:{name:"animation4",zIndex:400},idle_ani:{name:"animation3",zIndex:400}}),a(o,3,{node:"s3",win_node:"w3",stop_ani:{name:"animation1",zIndex:300},trigger_ani:{name:"animation6",zIndex:300,loop:!1},idle_ani:{name:"animation4"}}),a(o,4,{node:"s4",win_node:"w4",win_ani:{name:"animation",zIndex:300}}),a(o,5,{node:"s5",win_node:"w5",win_ani:{name:"animation",zIndex:300}}),a(o,6,{node:"s6",win_node:"w6",win_ani:{name:"animation",zIndex:300}}),a(o,7,{node:"s7",win_node:"w7",win_ani:{name:"animation",zIndex:300}}),a(o,8,{node:"s8",win_node:"w8",win_ani:{name:"animation",zIndex:300}}),a(o,9,{node:"s9",win_node:"w9",win_ani:{name:"animation",zIndex:300}}),a(o,10,{node:"s10",win_node:"w10",win_ani:{name:"animation",zIndex:300}}),a(o,11,{node:"s11",win_node:"w11",win_ani:{name:"animation",zIndex:300}}),a(o,12,{node:"s12",win_node:"w12",win_ani:{name:"animation",zIndex:300}}),a(o,301,{node:"s301",win_node:"w301",win_ani:{name:"animation2",zIndex:300}}),o),wildId:1,scatterId:2,bonusId:3,blankId:20,scripts:{Top:"LMSlots_Top_Base",Bottom:"RobinHood_Bottom",Slots:"RobinHood_Slots",Reels:"RobinHood_Reel",Symbols:"RobinHood_symbol"},col:15,row:3,symbolPrefab:"LMSlots_Symbol",symbolSize:{height:120},helpItems:["games/RobinHood/prefab/LMSlots_Help_item1","games/RobinHood/prefab/LMSlots_Help_item2","games/RobinHood/prefab/LMSlots_Help_item3","games/RobinHood/prefab/LMSlots_Help_item4","games/RobinHood/prefab/LMSlots_Help_item5","games/RobinHood/prefab/LMSlots_Help_item6"],randomSymbols:[1,3,5,7,9,11,4,6,8,10,12,1,4,7,10,5,8,11,3,6,9,12,1,5,9,6,10,3,7,11],randomSkipWildSymbols:[3,5,7,9,11,4,6,8,10,12,4,7,10,5,8,11,3,6,9,12,5,9,6,10,3,7,11],randomSkipBonusSymbols:[1,5,7,9,11,4,6,8,10,12,1,4,7,10,5,8,11,6,9,12,1,5,9,6,10,7,11],kuang:"kuang",speed:3e3,reelStopInter:.2,auto_stop_time:1,autoModelDelay:1,AddAntiTime:2,bounceInfo:{distance:20,time:.1},reelStateInfo:[{id:[2],mini:3,counts:[1,0,1,0,1],antiNode:"node_anti",path:"games/RobinHood/",reelStopSound:"reel_stop",symbolStopSound:"scatter_land1",antSound:"reel_active",antSpeed:2400}],normalBgm:"base_bgm",isWild:function(e){return 1==e},isEnergyId:function(e){return 4==e},MapType:{SevenSlot:1,RandomWild:2,MultSlot:3,MovingWild:4,StickyWild:5},TheFinalHurdleID:33};i.mapCfg={1:{id:1,type:i.MapType.SevenSlot,iconIndex:1,iconAni:"animation1"},2:{id:2,type:i.MapType.SevenSlot,iconIndex:1,iconAni:"animation1"},3:{id:3,type:i.MapType.RandomWild,iconAni:"animation1"},4:{id:4,type:i.MapType.SevenSlot,iconIndex:2,iconAni:"animation2"},5:{id:5,type:i.MapType.SevenSlot,iconIndex:2,iconAni:"animation2"},6:{id:6,type:i.MapType.SevenSlot,iconIndex:2,iconAni:"animation2"},7:{id:7,type:i.MapType.MultSlot,min:2,max:10,level:1,iconAni:"animation2"},8:{id:8,type:i.MapType.SevenSlot,iconIndex:3,iconAni:"animation3"},9:{id:9,type:i.MapType.SevenSlot,iconIndex:3,iconAni:"animation3"},10:{id:10,type:i.MapType.SevenSlot,iconIndex:3,iconAni:"animation3"},11:{id:11,type:i.MapType.SevenSlot,iconIndex:3,iconAni:"animation3"},12:{id:12,type:i.MapType.MovingWild,iconAni:"animation3"},13:{id:13,type:i.MapType.SevenSlot,iconIndex:4,iconAni:"animation4"},14:{id:14,type:i.MapType.SevenSlot,iconIndex:4,iconAni:"animation4"},15:{id:15,type:i.MapType.SevenSlot,iconIndex:4,iconAni:"animation4"},16:{id:16,type:i.MapType.SevenSlot,iconIndex:4,iconAni:"animation4"},17:{id:17,type:i.MapType.SevenSlot,iconIndex:4,iconAni:"animation4"},18:{id:18,type:i.MapType.MultSlot,min:5,max:50,level:2,iconAni:"animation4"},19:{id:19,type:i.MapType.SevenSlot,iconIndex:5,iconAni:"animation5"},20:{id:20,type:i.MapType.SevenSlot,iconIndex:5,iconAni:"animation5"},21:{id:21,type:i.MapType.SevenSlot,iconIndex:5,iconAni:"animation5"},22:{id:22,type:i.MapType.SevenSlot,iconIndex:5,iconAni:"animation5"},23:{id:23,type:i.MapType.SevenSlot,iconIndex:5,iconAni:"animation5"},24:{id:24,type:i.MapType.SevenSlot,iconIndex:5,iconAni:"animation5"},25:{id:25,type:i.MapType.StickyWild,iconAni:"animation5"},26:{id:26,type:i.MapType.SevenSlot,iconIndex:6,iconAni:"animation6"},27:{id:27,type:i.MapType.SevenSlot,iconIndex:6,iconAni:"animation6"},28:{id:28,type:i.MapType.SevenSlot,iconIndex:6,iconAni:"animation6"},29:{id:29,type:i.MapType.SevenSlot,iconIndex:6,iconAni:"animation6"},30:{id:30,type:i.MapType.SevenSlot,iconIndex:6,iconAni:"animation6"},31:{id:31,type:i.MapType.SevenSlot,iconIndex:6,iconAni:"animation6"},32:{id:32,type:i.MapType.SevenSlot,iconIndex:6,iconAni:"animation6"},33:{id:33,type:i.MapType.MultSlot,min:10,max:100,level:3,iconAni:"animation6"}},i.JackPot={Mini:0,Minor:1,Major:2,Grand:3},t.exports=i,cc._RF.pop()},{}],RobinHood_Character:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"578cfZ4io9MQZ2NXlWVG4PY","RobinHood_Character"),cc.Class({extends:cc.Component,properties:{character:sp.Skeleton},onLoad:function(){this.character.setAnimation(0,"idle",!0)},start:function(){},toNormalState:function(){this.node.x=-209,this.character.setAnimation(0,"idle",!0)},toWheelFreeState:function(){this.node.x=-70},actionSeat:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:((e=e||!1)||"animation1"!=t.character.animation)&&t.character.setAnimation(0,"idle",!0);case 2:case"end":return n.stop()}},n)}))()},actionDisappear:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.character.setAnimation(0,"skill",!1);case 1:case"end":return t.stop()}},t)}))()},actionExtraWilds:function(e,t){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return SlotsFacade.soundMgr.playEffect("wild_trigger"),t=t||4,e.next=4,SlotsFacade.delayTime(t);case 4:case"end":return e.stop()}},e)}))()},actionShine:function(){},hide:function(){this.node.active=!1},show:function(){this.node.active=!0}}),cc._RF.pop()},{}],RobinHood_CollectProgress:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"029bfG8dU5DqIxWML1/bWs1","RobinHood_CollectProgress"),cc.Class({extends:cc.Component,properties:{head:cc.Node,tail:cc.Node,progressBar:cc.Node,spine_collect_lock:sp.Skeleton,spine_full:sp.Skeleton,tips:cc.Node,item_template:cc.Node,_isOpen:!1},onLoad:function(){this._initListener()},start:function(){var e=this;this.scheduleOnce(function(){e._init()})},_initListener:function(){var e=this;Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,function(){e.showCollect(!1)},this),this.tail.on(cc.Node.EventType.TOUCH_END,this._onEnterHandler.bind(this),this),this.progressBar.on(cc.Node.EventType.TOUCH_END,function(){e._showTips(),e._isOpen||e._openCollect()},this)},_showTips:function(){var e=this;this.tips.active||(this.tips.active=!0,this.tips.opacity=0,cc.tween(this.tips).to(.5,{opacity:255}).delay(2).to(.5,{opacity:0}).call(function(){e.tips.active=!1}).start())},_init:function(){this.setProgress(SlotsFacade.dm.getCollectPercent()),this.showCollect(!0),this._updateEnterBtnIcon()},_onEnterHandler:function(){SlotsFacade.dm.hasFree()||SlotsFacade.bottomCmp.GetSpinBtnState()&&(SlotsFacade.dm.GetAutoModelTime()>0||(SlotsFacade.soundMgr.playEffect("click"),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),SlotsFacade.map.enterMap(!0,function(){SlotsFacade.bottomCmp.ShowBtnsByState("idle")})))},_openCollect:function(){if(!this._isOpen&&!SlotsFacade.dm.hasFree()&&SlotsFacade.bottomCmp.GetSpinBtnState()){var e=SlotsFacade.dm.GetBetMults(),t=SlotsFacade.dm.getDeskInfo().needBet;if(!(t>e.length)){SlotsFacade.dm.SetBetIdx(t),SlotsFacade.bottomCmp.ShowBetCoin();var n=cc.vv.gameData.GetTotalBet();Global.dispatchEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,n)}}},collectEnergy:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return SlotsFacade.soundMgr.playEffect("collect_fly"),a=n.head.getPosition(),i=[],e.forEach(function(e){var t=n.node.convertToNodeSpaceAR(e),o=cc.instantiate(n.item_template);o.parent=n.node,o.position=t,o.active=!0,i.push(new Promise(function(e){cc.tween(o).to(.2,{scale:1.3}).to(.4,{x:a.x,y:a.y,scale:.6}).call(function(){o.removeFromParent(),e()}).start()}))}),o.next=6,Promise.all(i);case 6:n._playHeadSpine(),n.setProgress(t,!0);case 8:case"end":return o.stop()}},o)}))()},_playHeadSpine:function(){var e=this.head.getChildByName("spine_effect").getComponent(sp.Skeleton);e.node.active=!0,e.setAnimation(0,"animation",!1),e.setCompleteListener(function(){e.setCompleteListener(null),e.node.active=!1})},showCollect:function(e){var t=SlotsFacade.dm.canCollect();t?e?this.spine_collect_lock.node.active=!1:this._isOpen||(this.spine_collect_lock.node.active=!0,SlotsFacade.soundMgr.playEffect("collect_unlock"),this.spine_collect_lock.setAnimation(0,"animation2",!1),this._showTips()):e?(this.spine_collect_lock.node.active=!0,this.spine_collect_lock.setAnimation(0,"animation3",!1)):this._isOpen&&(this.spine_collect_lock.node.active=!0,SlotsFacade.soundMgr.playEffect("collect_lock"),this.spine_collect_lock.setAnimation(0,"animation1",!1)),this._isOpen=t},playCollectComplete:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return SlotsFacade.soundMgr.playEffect("collect_full"),e.spine_full.node.active=!0,e.spine_full.setAnimation(0,"animation",!1),t.next=5,new Promise(function(t){e.spine_full.setCompleteListener(function(){e.spine_full.setCompleteListener(null),e.spine_full.node.active=!1,t()})});case 5:case"end":return t.stop()}},t)}))()},setProgress:function(e,t){var n=this.progressBar.width,o=e*n-n,a=this.progressBar.getChildByName("bar");if(t){var i=a.getChildByName("effect").getComponent(sp.Skeleton);i.node.active=!0,i.setAnimation(0,"animation",!1),i.getComponent(sp.Skeleton).setCompleteListener(function(){i.active=!1,i.getComponent(sp.Skeleton).setCompleteListener(null)}),cc.tween(a).to(.5,{x:o}).start()}else a.x=o,0==e&&this._updateEnterBtnIcon()},setEnterEnable:function(e){},_updateEnterBtnIcon:function(){var e=SlotsFacade.dm.energyData;if(e){var t=e.currId;t<1&&(t=1);var n=SlotsFacade.dm.getGameCfg().mapCfg[t.toString()];this.tail.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,n.iconAni,!0)}},hide:function(){this.node.active=!1},show:function(){this.node.active=!0}}),cc._RF.pop()},{}],RobinHood_FlowCtrl:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"9a4f2WVdUdKpK8GLBgAeKxL","RobinHood_FlowCtrl"),cc.Class({extends:cc.Component,enterRoom:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),e.enterNormalGame(!0),t.next=4,SlotsFacade.popup.showEnterTheme();case 4:return t.next=6,SlotsFacade.character.actionSeat(!0);case 6:if(!(SlotsFacade.dm.energyData.state>0)){t.next=9;break}return t.next=9,e.enterCollectGame(!0);case 9:if(!SlotsFacade.dm.wheelGame){t.next=12;break}return t.next=12,e.enterWheelGame(!0);case 12:if(n=cc.vv.gameData.GetTotalFree(),!((o=cc.vv.gameData.GetFreeTime())>0)){t.next=20;break}return SlotsFacade.bottomCmp.ShowFreeModel(!0,n-o,n),a=cc.vv.gameData.GetTotalFreeWin(),SlotsFacade.bottomCmp.SetWin(a),t.next=20,e.enterFreeGame(!0);case 20:1!=SlotsFacade.dm.energyData.state&&SlotsFacade.slots.CanDoNextRound();case 21:case"end":return t.stop()}},t)}))()},startMove:function(){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:SlotsFacade.wildGame.startMove(),SlotsFacade.bonusGame.startMove();case 2:case"end":return e.stop()}},e)}))()},onSpinMsg:function(e){return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,SlotsFacade.wildGame.onSpinMsg();case 2:return SlotsFacade.dm.isTriggerNormalBonus()&&SlotsFacade.bonusGame.enter(!0),t.next=5,SlotsFacade.bonusGame.onSpinMsg();case 5:return t.next=7,SlotsFacade.freeGame.onSpinMsg();case 7:SlotsFacade.slots._gameInfo=e,n=e.resultCards,SlotsFacade.dm.mapFreeInfo&&(n=SlotsFacade.dm.mapFreeInfo.cards),SlotsFacade.slots.SetSlotsResult(n),SlotsFacade.slots.SetReelStateInfo(n);case 12:case"end":return t.stop()}},t)}))()},spinEnd:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collectEnergy();case 2:return t.next=4,SlotsFacade.wildGame.spinEnd();case 4:return t.next=6,SlotsFacade.bonusGame.spinEnd();case 6:return t.next=8,SlotsFacade.freeGame.spinEnd();case 8:return SlotsFacade.slots.ShowWinTrace(),n=cc.vv.gameData.GetGameWin(),o=n,cc.vv.gameData.GetTotalFree()>0&&cc.vv.gameData.GetTotalFree()!=cc.vv.gameData.GetFreeTime()&&(o=cc.vv.gameData.GetGameTotalFreeWin()),t.next=14,new Promise(function(e){SlotsFacade.slots.ShowBottomWin(n,o,!0,e)});case 14:return t.next=16,e.collectBag();case 16:return t.next=18,e.enterCollectGame();case 18:return t.next=20,e.enterWheelGame();case 20:if(!SlotsFacade.dm.isFistTriggerFree()){t.next=25;break}return t.next=23,e.enterFreeGame();case 23:t.next=43;break;case 25:if(!SlotsFacade.dm.isLastEndFree()){t.next=43;break}if(SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),Global.SlotsSoundMgr.stopBgm(),2!=SlotsFacade.dm.energyData.state){t.next=35;break}return t.next=31,SlotsFacade.popup.showWinMapFreeGold(SlotsFacade.dm.getFreeWinCoin());case 31:return t.next=33,SlotsFacade.mainPanel.showSceneTransition(3);case 33:t.next=39;break;case 35:return t.next=37,SlotsFacade.popup.showWinWheelFreeGold(SlotsFacade.dm.getFreeWinCoin(),!!SlotsFacade.dm.belleBonus);case 37:return t.next=39,SlotsFacade.mainPanel.showSceneTransition(1);case 39:return SlotsFacade.slots.resetAllSymbol(),SlotsFacade.slots.Resume(),t.next=43,e.enterNormalGame();case 43:1!=SlotsFacade.dm.energyData.state&&SlotsFacade.slots.CanDoNextRound();case 44:case"end":return t.stop()}},t)}))()},enterFreeGame:function(e){return a(regeneratorRuntime.mark(function t(){var n,o,a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(SlotsFacade.topCmp.SetBackLobby(!1),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),n=1,o=SlotsFacade.dm.energyData,a=SlotsFacade.dm.getGameCfg().mapCfg[o.currId+""],2==o.state&&(n=a.type),e||1==n&&SlotsFacade.slots.Backup(),SlotsFacade.mainPanel.showBg(2),SlotsFacade.bottomCmp.node.getChildByName("totalBetBg").active=1==n,i=cc.vv.gameData.GetTotalFree(),r=cc.vv.gameData.GetFreeTime(),SlotsFacade.bottomCmp.ShowFreeModel(!0,i-r,i),2!=o.state){t.next=19;break}return SlotsFacade.slots.toMapFreeState(),t.next=16,SlotsFacade.wildGame.enterWildGame();case 16:SlotsFacade.soundMgr.playBgm("map_bgm"),t.next=20;break;case 19:SlotsFacade.dm.belleBonus?(SlotsFacade.slots.toWheelBonusState(),SlotsFacade.bonusGame.enter()):(SlotsFacade.slots.toWheelFreeState(),SlotsFacade.freeGame.enter(),SlotsFacade.soundMgr.playBgm("free_bgm"));case 20:return t.next=22,SlotsFacade.delayTime(.5);case 22:case"end":return t.stop()}},t)}))()},enterNormalGame:function(e){return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=e||!1,SlotsFacade.collectProgress.setEnterEnable(!0),SlotsFacade.bottomCmp.ShowFreeModel(!1),SlotsFacade.mainPanel.showBg(0),SlotsFacade.slots.toNormalState(),e||SlotsFacade.soundMgr.playBgm(null,!0),SlotsFacade.bottomCmp.node.getChildByName("totalBetBg").active=!0,SlotsFacade.wildGame.exitWildGame(),SlotsFacade.bonusGame.exit(),SlotsFacade.freeGame.exit(),!SlotsFacade.dm.isLastEndFree()){t.next=14;break}return n=cc.vv.gameData.GetGameTotalFreeWin(),t.next=14,new Promise(function(e){SlotsFacade.slots.ShowBottomWin(n,n,!0,e)});case 14:case"end":return t.stop()}},t)}))()},collectEnergy:function(){return a(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=SlotsFacade.dm.energyData.progressData)||!t.currCnt){e.next=11;break}if(n=SlotsFacade.slots.getSymbolsByServerIds(SlotsFacade.dm.getCollectSymbolIndexs()),o=[],n.forEach(function(e){o.push(e.node.convertToWorldSpaceAR(cc.v2(0,0)))}),!(SlotsFacade.dm.getCollectPercent()>=1)){e.next=10;break}return e.next=8,SlotsFacade.collectProgress.collectEnergy(o,SlotsFacade.dm.getCollectPercent());case 8:e.next=11;break;case 10:SlotsFacade.collectProgress.collectEnergy(o,SlotsFacade.dm.getCollectPercent());case 11:case"end":return e.stop()}},e)}))()},collectBag:function(){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,SlotsFacade.bagGame.collectEnergy();case 2:case"end":return e.stop()}},e)}))()},enterCollectGame:function(e){return a(regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=SlotsFacade.dm.energyData).state>0)){t.next=13;break}if(o=!1,e?1==n.state&&(o=!0):(2==n.state&&SlotsFacade.dm.isFistTriggerFree()&&(o=!0),1==n.state&&(o=!0)),!o){t.next=13;break}if(Global.SlotsSoundMgr.stopBgm(),SlotsFacade.topCmp.SetBackLobby(!1),SlotsFacade.bottomCmp.ShowBtnsByState("moveing_1"),e){t.next=11;break}return t.next=11,SlotsFacade.collectProgress.playCollectComplete();case 11:return t.next=13,new Promise(function(e){SlotsFacade.map.enterMap(!1,e)});case 13:case"end":return t.stop()}},t)}))()},enterWheelGame:function(e){return a(regeneratorRuntime.mark(function t(){var n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!SlotsFacade.dm.wheelGame){t.next=14;break}return t.next=3,new Promise(function(t){SlotsFacade.wheelGame.open(t,e)});case 3:if(3!=(n=t.sent).type){t.next=7;break}return t.next=7,SlotsFacade.popup.showWinWheelBag(n.coin);case 7:if(!((o=n.coin)>0)){t.next=14;break}return a=o,SlotsFacade.dm.getSpinData()&&(a+=SlotsFacade.dm.GetGameWin()),SlotsFacade.dm.AddCoin(o),t.next=14,new Promise(function(e){SlotsFacade.slots.ShowBottomWin(o,a,!0,e)});case 14:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{}],RobinHood_Free:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"eee33OwUutLJLRfYZS1mW8K","RobinHood_Free"),cc.Class({extends:cc.Component,properties:{panel:cc.Node,mask:cc.Node,frame_border:cc.Node,spine_border:sp.Skeleton,wild_node:cc.Node,_isEnter:!1},onLoad:function(){this._symbolTemplate=SlotsFacade.dm.GetPrefabByName(SlotsFacade.dm.getGameCfg().symbolPrefab),this._symbolTemplate.optimizationPolicy=cc.Prefab.OptimizationPolicy.MULTI_INSTANCE},start:function(){},enter:function(){this._isEnter=!0,this.panel.active=!0},exit:function(){this._isEnter=!1,this.panel.active=!1},onSpinMsg:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a,i,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._isEnter){t.next=2;break}return t.abrupt("return");case 2:for(n=[],o=SlotsFacade.dm.getSpinData().resultCards,a=SlotsFacade.dm.getGameCfg(),i=0;i<o.length;i++)o[i]==a.wildId&&n.push(i+1);return r=n.length>3,t.next=9,SlotsFacade.character.actionExtraWilds(r);case 9:if(r){t.next=11;break}return t.abrupt("return");case 11:return e.mask.active=!0,e.spine_border.node.active=!0,Global.shakeNode(e.mask,5,.4,e.mask.position),Global.shakeNode(e.spine_border.node,5,.4,e.spine_border.node.position),t.next=17,SlotsFacade.delayTime(.4);case 17:for(SlotsFacade.soundMgr.playEffect("wild_appear"),e.wild_node.active=!0,s=0;s<n.length;s++)e.genAWildSymbol(n[s]).playWildAppear();return t.next=22,SlotsFacade.delayTime(.4);case 22:e.mask.active=!1,e.spine_border.node.active=!1;case 24:case"end":return t.stop()}},t)}))()},genAWildSymbol:function(e){var t=SlotsFacade.dm.getGameCfg(),n=cc.instantiate(this._symbolTemplate);n.parent=this.wild_node;var o=n.addComponent(t.scripts.Symbols);o.SetSymbolReelIdx(0),o.Init(0,this.node),o.ShowById(t.wildId);var a=SlotsFacade.slots.getIdxGlobalPos(e);return a=this.wild_node.convertToNodeSpaceAR(a),n.setPosition(a),o},spinEnd:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._isEnter){t.next=2;break}return t.abrupt("return");case 2:e._hideWild();case 3:case"end":return t.stop()}},t)}))()},_hideWild:function(){this.wild_node.active=!1,this.wild_node.removeAllChildren(!0)}}),cc._RF.pop()},{}],RobinHood_GameData:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,r=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"516152WkF5HubZ+PTVUAE1Z","RobinHood_GameData"),cc.Class({extends:e("LMSlots_GameData_Base"),properties:{energyData:null,mapFreeInfo:null,wheelGame:null,belleBonus:null,triggerBelleBonusCoin:0,belleBag:null},init:function(e,t,n){this._super(e,t,n),this.energyData=this._deskInfo.mapInfo,this.wheelGame=this._deskInfo.wheelGame,this.belleBonus=this._deskInfo.belleBonus,this.belleBonus&&(this.SetTotalFree(5),this.SetFreeTime(this.belleBonus.restCnt)),this.belleBag=this._deskInfo.belleBag},RegisterMsg:function(){this._super(),cc.vv.NetManager.registerMsg(MsgId.SLOT_SUBGAME_DATA,this.onResp,this)},UnregisterMsg:function(){this._super(),cc.vv.NetManager.unregisterMsg(MsgId.SLOT_SUBGAME_DATA,this.onResp,!1,this)},OnRcvNetSpine:function(e){200==e.code&&(this.energyData=e.mapInfo,this.mapFreeInfo=this._processMapFreeData(e.freeGameSlots),this.wheelGame=e.wheelGame,this.belleBonus=e.belleBonus,this.belleBonus||this._processBonusInfo(e),e.belleBag?this.belleBag=e.belleBag:this.belleBag&&(this.belleBag.wildCols=null)),this._super(e)},SetSubGameData:function(e){this._subGame=e},GetSubGameData:function(){return this._subGame},getSpinData:function(){return this._gameInfo},hasFree:function(){return this.GetFreeTime()>0},isTriggerFree:function(){return this.triggerFreeCnt()>0},triggerFreeCnt:function(){var e=this._gameInfo.freeResult;return e&&e.triFreeCnt&&e.freeInfo&&e.freeInfo.freeCnt?e.freeInfo.freeCnt:0},isFistTriggerFree:function(){return this.hasFree()&&this.GetFreeTime()==this.GetTotalFree()},isLastEndFree:function(){return 0==this.GetFreeTime()&&this.GetTotalFree()>0},getFreeWinCoin:function(){return this._gameInfo.freeWinCoin},getScatterIndexs:function(){return this.triggerFreeCnt()>0?this._gameInfo.freeResult.freeInfo.scatterIdx.concat():[]},getCollectPercent:function(){if(!this.energyData||!this.energyData.progressData)return 0;var e=this.energyData.progressData.totalCnt/this.energyData.progressData.needCnt;return e=Math.min(1,e),e=Math.max(0,e)},getCollectSymbolIndexs:function(){var e=this,t=this._gameInfo.resultCards;if(!t||t.length<1)return[];var n=[];return t.forEach(function(t,o){e.getGameCfg().isEnergyId(t)&&n.push(o+1)}),n},canCollect:function(){return this.GetBetIdx()>=this.getDeskInfo().needBet},reqSubGame:function(e){var t={c:MsgId.SLOT_SUBGAME_DATA,gameid:this._gameId,data:e};cc.vv.NetManager.send(t,!0)},onResp:function(e){console.log("reqSubGame-resp:",e),2===e.data.rtype?SlotsFacade.wheelGame.onMsg(e):3==e.data.rtype&&this._onBonusMsg(e.data)},_processMapFreeData:function(e){if(!e)return null;for(var t={cards:[],zjLuXian:[],randomWilds:[],multWilds:[],moveWilds:{currIdxs:[],randIdxs:[]},stickyWilds:[]},n=0;n<e.length;n++){var a=e[n];t.cards=t.cards.concat(a.cards);var i,r=a.zjLuXian,s=o(r);try{for(s.s();!(i=s.n()).done;){var c=i.value;this.convertIdx(n,c.indexs)}}catch(e){s.e(e)}finally{s.f()}t.zjLuXian=t.zjLuXian.concat(r),a.randomWilds&&(this.convertIdx(n,a.randomWilds.currIdxs),t.randomWilds=t.randomWilds.concat(a.randomWilds.currIdxs)),a.multWilds&&t.multWilds.push(a.multWilds.wildMult),a.moveWilds&&(this.convertIdx(n,a.moveWilds.currIdxs),this.convertIdx(n,a.moveWilds.randIdxs),t.moveWilds.currIdxs=t.moveWilds.currIdxs.concat(a.moveWilds.currIdxs),t.moveWilds.randIdxs=t.moveWilds.randIdxs.concat(a.moveWilds.randIdxs)),a.stickyWilds&&(this.convertIdx(n,a.stickyWilds.currIdxs),t.stickyWilds=t.stickyWilds.concat(a.stickyWilds.currIdxs))}return t},convertIdx:function(e,t){for(var n=0;n<t.length;n++)t[n]=15*e+t[n]},getZjLuXian:function(){return this.mapFreeInfo?this.mapFreeInfo.zjLuXian:this._gameInfo.zjLuXian},_onBonusMsg:function(e){var t={gameid:511,c:44,code:200,lastBetCoin:0,wincoin:0,freeCnt:0,mults:null,coin:0,allFreeCnt:5,betcoin:0,mapInfo:null,freeWinCoin:0,zjLuXian:null,freeResult:{triFreeCnt:1,freeInfo:[]},resultCards:[],bonusInfo:{items:[],winCoin:0,isTrigger:!1,extraItems:[]},belleBonus:null},n=[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,301,20,20,20,20,301,20,20,20,20,301,20,20,20,20],a=[],i=this.getGameCfg(),r=e.belleBonus.bonusInfo,s=e.belleBonus.slotInfo;if(r){var c,l=o(r.items);try{for(l.s();!(c=l.n()).done;){var d=c.value,u=d.idx+Math.ceil(d.idx/r.col);n[u-1]=i.bonusId,d.idx=u}}catch(e){l.e(e)}finally{l.f()}var m,p=o(r.extraItems);try{for(p.s();!(m=p.n()).done;){var h=m.value,f=h.idx+Math.ceil(h.idx/r.col);h.idx=f}}catch(e){p.e(e)}finally{p.f()}}else if(s){var g,_=o(a=s.zjLuXian);try{for(_.s();!(g=_.n()).done;)for(var S=g.value,v=0;v<S.indexs.length;v++)S.indexs[v]+=15}catch(e){_.e(e)}finally{_.f()}for(var y=0;y<s.cards.length;y++)n[15+y]=s.cards[y]}t.coin=this.GetCoin(),t.freeWinCoin=e.belleBonus.winCoin,t.freeWinCoin+=this.triggerBelleBonusCoin,e.belleBonus.bonusInfo?t.wincoin=0:e.belleBonus.slotInfo&&(t.wincoin=e.belleBonus.slotInfo.winCoin),t.allFreeCnt=5,t.freeCnt=e.belleBonus.restCnt,t.mapInfo=this.energyData,t.mults=this._deskInfo.mults,t.belleBonus=e.belleBonus,t.resultCards=n,t.zjLuXian=a,this.OnRcvNetSpine(t)},_processBonusInfo:function(e){var t=e.bonusInfo;if(t&&t.isTrigger){e.resultCards[0]=301,e.resultCards[5]=301,e.resultCards[10]=301;var n,a=this.getGameCfg(),i=o(t.items);try{for(i.s();!(n=i.n()).done;){var r=n.value;e.resultCards[r.idx-1]=a.bonusId}}catch(e){i.e(e)}finally{i.f()}var s,c=o(t.extraItems);try{for(c.s();!(s=c.n()).done;){var l=s.value;e.resultCards[l.idx-1]=a.blankId}}catch(e){c.e(e)}finally{c.f()}e.wincoin=t.winCoin}},getBonusInfo:function(){var e=null;return this.belleBonus?e=this.belleBonus.bonusInfo:this.isTriggerNormalBonus()&&(e=this.getSpinData().bonusInfo),e},isTriggerNormalBonus:function(){return this.getSpinData()&&this.getSpinData().bonusInfo&&this.getSpinData().bonusInfo.isTrigger}}),cc._RF.pop()},{LMSlots_GameData_Base:void 0}],RobinHood_Logic:[function(e,t,n){"use strict";cc._RF.push(t,"119460xYSZMca6vFr5y8ulZ","RobinHood_Logic"),cc.Class({extends:e("LMSlots_Logic_Base"),properties:{},onLoad:function(){var e=this;window.SlotsFacade=this,this.dm=cc.vv.gameData,this.mainPanel=cc.find("safe_node",this.node).addComponent("RobinHood_MainPanel"),this.soundMgr=this.addComponent("RobinHood_Sound"),this.InitCommComponent(),this.flowCtrl=this.addComponent("RobinHood_FlowCtrl"),this.popup=this.mainPanel.popup_node.addComponent("RobinHood_Popup"),this.collectProgress=this.mainPanel.collect_progress.getComponent("RobinHood_CollectProgress"),this.map=this.mainPanel.map_node.addComponent("RobinHood_Map"),this.slots777=this.mainPanel.slots777.getComponent("LMSlots_Subgame777"),this.wildGame=this.mainPanel.wild_game.getComponent("RobinHood_WildGame"),this.wheelGame=this.mainPanel.wheel_game_node.getComponent("RobinHood_WheelGame"),this.character=this.mainPanel.character_node.getComponent("RobinHood_Character"),this.bagGame=this.mainPanel.bag_bonus_node.getComponent("RobinHood_BagBonus"),this.bonusGame=this.mainPanel.bonus_game_node.getComponent("RobinHood_Bonus"),this.freeGame=this.mainPanel.free_game_node.getComponent("RobinHood_Free"),this.jackpot=this.mainPanel.jpNode.getComponent("RobinHood_PrizePool"),Global.registerEvent(cc.vv.gameData._EventId.SLOT_TOTALBET_UPDATED,function(){e.collectProgress.showCollect()},this),this.topCmp=cc.vv.gameData.GetTopScript(),this.bottomCmp=cc.vv.gameData.GetBottomScript(),this.slots=cc.vv.gameData.GetSlotsScript()},onDestroy:function(){window.SlotsFacade=null,this.dm=null},delayTime:function(e){var t=this;return new Promise(function(n,o){t.scheduleOnce(function(){n()},e)})}}),cc._RF.pop()},{LMSlots_Logic_Base:void 0}],RobinHood_MainPanel:[function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function s(e){a(r,o,i,s,c,"next",e)}function c(e){a(r,o,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"c4789Uc0QNCq4uIka1M0V2U","RobinHood_MainPanel"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.bg=this.node.getChildByName("bg"),this.logo=this.node.getChildByName("logo"),this.slots=this.node.getChildByName("slots"),this.slots777=this.node.getChildByName("LMSlots_Subgame777"),this.character_node=this.slots.getChildByName("character_node"),this.collect_progress=this.slots.getChildByName("collect_progress"),this.bag_bonus_node=this.slots.getChildByName("bag_bonus_node"),this.bonus_game_node=this.slots.getChildByName("bonus_game_node"),this.free_game_node=this.slots.getChildByName("free_game_node"),this.wild_game=this.slots.getChildByName("wild_game"),this.popup_node=this.node.getChildByName("popup_node"),this.map_node=this.node.getChildByName("map_node"),this.wheel_game_node=this.node.getChildByName("wheel_game_node"),this.transition_node=this.node.getChildByName("transition_node"),this.jpNode=this.node.getChildByName("LMSlots_PrizePool_1"),this.top_node=this.node.getChildByName("top_node"),this.showBg(0)},showBg:function(e){e||(e=0),this.bg.getComponent("ImgSwitchCmp").setIndex(e)},showSceneTransition:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var a,i,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.character.hide(),e=e||1,i=(a={},o(a,1,{time:1.8,aniName:"skill",soundName:"transition1"}),o(a,2,{time:1.8,aniName:"animation",soundName:""}),o(a,3,{time:1.8,aniName:"skill",soundName:"transition1"}),o(a,4,{time:1.8,aniName:"skill",soundName:"transition1"}),a)[e],SlotsFacade.soundMgr.playEffect(i.soundName),(r=t.transition_node.getChildByName("spine".concat(e)).getComponent(sp.Skeleton)).node.active=!0,r.setAnimation(0,i.aniName,!1),r.setCompleteListener(function(){r.setCompleteListener(null),r.node.active=!1}),n.next=10,SlotsFacade.delayTime(i.time);case 10:SlotsFacade.character.show();case 11:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{}],RobinHood_Map:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"dfe3cu74FZPRa1xdDEPhHXK","RobinHood_Map");cc.Class({extends:cc.Component,properties:{callBack:null,panel:null,bg:null,btn_close:null,scrollView:null,map_flag:null,mapItems:[]},onLoad:function(){this._initView(),this._initListener()},_initView:function(){this.panel=this.node.getChildByName("panel"),this.bg=this.node.getChildByName("bg"),this.btn_close=this.panel.getChildByName("btn_close").getComponent(cc.Button),this.scrollView=this.panel.getChildByName("scrollview").getComponent(cc.ScrollView),this.map_flag=this.scrollView.content.getChildByName("map_flag"),this.map_flag.originPos={x:this.map_flag.x,y:this.map_flag.y},this.mapItems=[];for(var e=1;e<=33;e++){var t=this.scrollView.content.getChildByName("item"+e);t.id=e,this.mapItems.push(t),this.markItemState(e,!0)}this._reset()},resetMap:function(){this.map_flag.x=this.map_flag.originPos.x,this.map_flag.y=this.map_flag.originPos.y;for(var e=0;e<this.mapItems.length;e++)this.markItemState(e+1,!0)},_initListener:function(){this.btn_close.node.on("click",this._onBtnCloseHandler.bind(this),this)},_showCloseBtn:function(){var e=this;return new Promise(function(t){e.btn_close.node.active=!0,e.btn_close.node.scale=0,e.btn_close.interactable=!0,cc.tween(e.btn_close.node).to(.3,{scale:1},{easing:"backOut"}).call(function(){t()}).start()})},_onBtnCloseHandler:function(){var e=this;return a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:SlotsFacade.soundMgr.playEffect("click"),e.btn_close.interactable=!1,cc.tween(e.btn_close.node).to(.3,{scale:0},{easing:"backIn"}).call(function(){e.exitMap(!0)}).start();case 3:case"end":return t.stop()}},t)}))()},_exitProcess:function(){this._reset(),SlotsFacade.dm.energyData.currId==SlotsFacade.dm.getGameCfg().TheFinalHurdleID&&this.resetMap(),this.panel.active=!1,this.callBack&&(this.callBack(),this.callBack=null)},exitMap:function(e){var t=this;e=e||!1,SlotsFacade.soundMgr.playEffect("map_close"),this.bg.active=!1,e?cc.tween(this.panel).to(.3,{y:this.node.height/2},{easing:"cubicOut"}).call(function(){t._exitProcess()}).start():this._exitProcess()},enterMap:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){var a,i,r,s,c,l,d,u,m,p,h;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return SlotsFacade.soundMgr.playEffect("map_open"),n.callBack=t,n.node.active=!0,n.panel.active=!0,n.panel.opacity=0,o.next=7,new Promise(function(e){n.scheduleOnce(function(){e()})});case 7:return n.panel.opacity=255,n.panel.y=n.node.height/2,a=SlotsFacade.dm.energyData,i=a.currId,!e&&a.state>0&&(i-=1),n._freshMap(i),n.bg.active=!0,n.bg.opacity=0,cc.tween(n.bg).to(.4,{opacity:200}).start(),o.next=18,SlotsFacade.delayTime(.3);case 18:return o.next=20,new Promise(function(e){cc.tween(n.panel).to(.35,{y:-n.node.height/2}).call(function(){e()}).start()});case 20:if(i>0?(r=-(n.scrollView.content.height-n.scrollView.node.height/2),s=n.scrollView.getMaxScrollOffset().y,c=SlotsFacade.map.mapItems[i-1],n.scrollView.scrollToOffset(cc.v2(0,s-(c.y-r)),1)):n.scrollView.scrollToBottom(),!e){o.next=25;break}n._showCloseBtn(),o.next=49;break;case 25:return SlotsFacade.collectProgress.setProgress(0),o.next=28,n._moveMapFlag(a.currId);case 28:return o.next=30,SlotsFacade.delayTime(1);case 30:l=SlotsFacade.dm.getGameCfg().mapCfg,d=l[a.currId],o.t0=d.type,o.next=1===o.t0?35:2===o.t0?38:3===o.t0?38:4===o.t0?38:5===o.t0?38:49;break;case 35:return SlotsFacade.slots777.showEnter(SlotsFacade.dm.energyData.startPrice),n.exitMap(),o.abrupt("break",49);case 38:return u=SlotsFacade.dm.energyData,m=SlotsFacade.dm.getGameCfg().mapCfg[u.currId+""],p=0,h=0,m.type==SlotsFacade.dm.getGameCfg().MapType.MultSlot&&(p=m.min,h=m.max),o.next=45,SlotsFacade.popup.showWinMapFreeCnt(m.type,p,h);case 45:return o.next=47,SlotsFacade.mainPanel.showSceneTransition(3);case 47:return n.exitMap(),o.abrupt("break",49);case 49:case"end":return o.stop()}},o)}))()},_moveMapFlag:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){var o,a,i,r,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=SlotsFacade.dm.getGameCfg().mapCfg[e.toString()],a=t.mapItems[e-1],n.next=4,new Promise(function(e){SlotsFacade.soundMgr.playEffect("ui_move"),cc.tween(t.map_flag).to(.4,{x:a.x,y:a.y}).call(function(){e()}).start()});case 4:i=SlotsFacade.dm.getGameCfg(),r=a.getChildByName("type".concat(o.type)),o.type==i.MapType.MultSlot&&(r=r.getChildByName("item".concat(o.level))),o.type==i.MapType.SevenSlot?(SlotsFacade.soundMgr.playEffect("small_trigger"),(s=r.getChildByName("spine").getComponent(sp.Skeleton)).node.active=!0,s.setAnimation(0,o.iconAni,!0)):(SlotsFacade.soundMgr.playEffect("big_trigger"),(c=r.getChildByName("coin")).active=!0,c.getChildByName("spine").getComponent(sp.Skeleton).setAnimation(0,"animation2",!0));case 8:case"end":return n.stop()}},n)}))()},_freshMap:function(e){for(var t=1;t<=e;t++)this.markItemState(t,!1);if(e>0){var n=this.mapItems[e-1];this.map_flag.position=n.position}},markItemState:function(e,t){t=t||!1;var n=SlotsFacade.dm.getGameCfg(),o=n.mapCfg[e.toString()],a=this.mapItems[e-1].getChildByName("type".concat(o.type));if(o.type==n.MapType.MultSlot&&(a=a.getChildByName("item".concat(o.level))),o.type==n.MapType.SevenSlot){a.getChildByName("spine").active=!1;var i=a.getChildByName("icon").getComponent("ImgSwitchCmp");t?i.setIndex(o.iconIndex):i.setIndex(0)}else{var r=a.getChildByName("coin");if(t){r.active=!0;var s=r.getChildByName("spine").getComponent(sp.Skeleton);s.node.active=!0,s.setAnimation(0,"animation1",!0)}else r.active=!1}},_reset:function(){this.panel.active=!1,this.scrollView.node.y=this.scrollView.node.height/2,this.btn_close.node.active=!1,this.node.active=!1}});cc._RF.pop()},{}],RobinHood_Popup:[function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var r=e.apply(t,n);function s(e){a(r,o,i,s,c,"next",e)}function c(e){a(r,o,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"d2f40jBhSNJ4pWPR7iyaf+3","RobinHood_Popup"),cc.Class({extends:cc.Component,properties:{bg:cc.Node,bg_dark:cc.Node},onLoad:function(){this.bg=this.node.getChildByName("bg"),this.bg_dark=this.node.getChildByName("bg_dark")},showBg:function(e){this.bg.active=e},showBgDark:function(e){this.bg_dark.active=e},showEnterTheme:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.bg_dark.active=!0,(n=e.node.getChildByName("panel_enter")).active=!0,o=n.getChildByName("spine_bg").getComponent(sp.Skeleton),(a=n.getChildByName("spine_dialog").getComponent(sp.Skeleton)).node.active=!0,o.setAnimation(0,"animation1",!1),o.addAnimation(0,"animation2",!0),a.setAnimation(0,"animation1",!1),a.addAnimation(0,"animation2",!1),t.next=12,SlotsFacade.delayTime(3);case 12:return o.addAnimation(0,"animation3",!1),i=a.setAnimation(0,"animation3",!1),a.setTrackCompleteListener(i,function(){a.setTrackCompleteListener(i,null),a.node.active=!1,o.node.active=!1,n.active=!1}),cc.tween(e.bg_dark).to(.4,{opacity:0}).call(function(){e.bg_dark.active=!1,e.bg_dark.opacity=200}).start(),t.next=18,SlotsFacade.delayTime(.6);case 18:case"end":return t.stop()}},t)}))()},showWinWheelFreeCnt:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,a,i,r,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("fg_start"),a={enter:"animation".concat(o=e?2:1,"_1"),idle:"animation".concat(o,"_2"),exit:"animation".concat(o,"_3")},t.showBg(!0),(i=t.node.getChildByName("panel_win_free_cnt")).active=!0,(r=i.getChildByName("btn_ok").getComponent(cc.Button)).interactable=!0,r.node.scale=0,r.node.active=!0,cc.tween(r.node).delay(1).to(.5,{scale:1},{easing:"backOut"}).start(),(s=i.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,a.enter,!1),s.addAnimation(0,a.idle,!0),n.next=16,SlotsFacade.delayTime(1.5);case 16:return n.next=18,new Promise(function(e){var n=function(){SlotsFacade.soundMgr.playEffect("dialog_withdraw"),r.node.stopAllActions(),r.interactable=!1,cc.tween(r.node).to(.8,{scale:0},{easing:"backIn"}).start(),r.node.off("click"),s.setAnimation(0,a.exit,!1),s.setCompleteListener(function(){s.setCompleteListener(null),t.showBg(!1),i.active=!1,e()})};cc.vv.gameData.checkAutoPlay(r.node,n),r.node.on("click",n)});case 18:case"end":return n.stop()}},n)}))()},showWinWheelFreeGold:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){var a,i,r,s,c,l;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return SlotsFacade.soundMgr.playEffect("fg_collect"),i={enter:"animation".concat(a=t?2:1,"_1"),idle:"animation".concat(a,"_2"),exit:"animation".concat(a,"_3")},n.showBg(!0),(r=n.node.getChildByName("panel_win_free_coin")).active=!0,(s=r.getChildByName("label")).getComponent("LabelRollCmp").startRoll(0,e),s.active=!0,s.scale=0,cc.tween(s).delay(.5).to(.3,{scale:1}).start(),(c=r.getChildByName("btn_ok")).getComponent(cc.Button).interactable=!0,c.scale=0,c.active=!0,cc.tween(c).delay(1).to(.5,{scale:1},{easing:"backOut"}).start(),(l=r.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,i.enter,!1),l.addAnimation(0,i.idle,!0),o.next=21,SlotsFacade.delayTime(1.5);case 21:return o.next=23,new Promise(function(e){var t=function(){SlotsFacade.soundMgr.playEffect("dialog_withdraw"),c.stopAllActions(),c.getComponent(cc.Button).interactable=!1,c.off("click"),cc.tween(s).to(.8,{scale:0}).start(),cc.tween(c).to(.8,{scale:0},{easing:"backIn"}).start(),l.setAnimation(0,i.exit,!1),l.setCompleteListener(function(){l.setCompleteListener(null),n.showBg(!1),r.active=!1,e()})};cc.vv.gameData.checkAutoPlay(c,t),c.on("click",t)});case 23:case"end":return o.stop()}},o)}))()},showWinMapFreeCnt:function(e,t,n){var a=this;return i(regeneratorRuntime.mark(function i(){var r,s,c,l,d,u;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s=(r={},o(r,2,{enter:"animation4_1",idle:"animation4_2",exit:"animation4_3"}),o(r,3,{enter:"animation1_1",idle:"animation1_2",exit:"animation1_3"}),o(r,4,{enter:"animation3_1",idle:"animation3_2",exit:"animation3_3"}),o(r,5,{enter:"animation2_1",idle:"animation2_2",exit:"animation2_3"}),r)[e],SlotsFacade.soundMgr.playEffect("map_start"),a.showBg(!0),(c=a.node.getChildByName("panel_win_map_free_cnt")).active=!0,l=c.getChildByName("mul"),t&&n?(l.active=!0,l.getChildByName("label1").getComponent(cc.Label).string=t+"X",l.getChildByName("label2").getComponent(cc.Label).string=n+"X",l.opacity=0,cc.tween(l).delay(1.5).to(.5,{opacity:255}).start()):l.active=!1,(d=c.getChildByName("btn_ok")).getComponent(cc.Button).interactable=!0,d.scale=0,d.active=!0,d.y=3==e?-373:-266,cc.tween(d).delay(1).to(.5,{scale:1},{easing:"backOut"}).start(),(u=c.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,s.enter,!1),u.addAnimation(0,s.idle,!0),i.next=18,SlotsFacade.delayTime(1.5);case 18:return i.next=20,new Promise(function(e){var t=function(){SlotsFacade.soundMgr.playEffect("dialog_withdraw"),d.stopAllActions(),d.getComponent(cc.Button).interactable=!1,cc.tween(d).to(.8,{scale:0},{easing:"backIn"}).start(),l.active&&cc.tween(l).to(.4,{opacity:0}).start(),d.off("click"),u.setAnimation(0,s.exit,!1),u.setCompleteListener(function(){u.setCompleteListener(null),a.showBg(!1),c.active=!1,e()})};cc.vv.gameData.checkAutoPlay(d,t),d.on("click",t)});case 20:case"end":return i.stop()}},i)}))()},showWinMapFreeGold:function(e){var t=this;return i(regeneratorRuntime.mark(function n(){var o,a,i,r,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("map_collect"),o={enter:"animation1",idle:"animation2",exit:"animation3"},t.showBg(!0),(a=t.node.getChildByName("panel_win_map_game_coin")).active=!0,(i=a.getChildByName("label")).getComponent("LabelRollCmp").startRoll(0,e),i.active=!0,i.scale=0,cc.tween(i).delay(.5).to(.3,{scale:1}).start(),(r=a.getChildByName("btn_ok")).getComponent(cc.Button).interactable=!0,r.scale=0,r.active=!0,cc.tween(r).delay(1).to(.5,{scale:1},{easing:"backOut"}).start(),(s=a.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,o.enter,!1),s.addAnimation(0,o.idle,!0),n.next=20,SlotsFacade.delayTime(1.5);case 20:return n.next=22,new Promise(function(e){var n=function(){SlotsFacade.soundMgr.playEffect("dialog_withdraw"),r.stopAllActions(),r.getComponent(cc.Button).interactable=!1,r.off("click"),cc.tween(i).to(.8,{scale:0}).start(),cc.tween(r).to(.8,{scale:0},{easing:"backIn"}).start(),s.setAnimation(0,o.exit,!1),s.setCompleteListener(function(){s.setCompleteListener(null),t.showBg(!1),a.active=!1,e()})};cc.vv.gameData.checkAutoPlay(r,n),r.on("click",n)});case 22:case"end":return n.stop()}},n)}))()},showWinJPGold:function(e,t){var n=this;return i(regeneratorRuntime.mark(function o(){var a,i,r,s,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a={1:{enter:"animation3_1",idle:"animation3_2",exit:"animation3_3",sound:"dialog_mini"},2:{enter:"animation3_1",idle:"animation3_2",exit:"animation3_3",sound:"dialog_minor"},3:{enter:"animation2_1",idle:"animation2_2",exit:"animation2_3",sound:"dialog_major"},4:{enter:"animation1_1",idle:"animation1_2",exit:"animation1_3",sound:"dialog_grand"}}[e.toString()],SlotsFacade.soundMgr.playEffect(a.sound),n.showBg(!0),(i=n.node.getChildByName("panel_win_jp_coin")).active=!0,(r=i.getChildByName("label")).getComponent("LabelRollCmp").startRoll(0,t),r.active=!0,r.scale=0,cc.tween(r).delay(.5).to(.3,{scale:1}).start(),(s=i.getChildByName("btn_ok")).getComponent(cc.Button).interactable=!0,s.scale=0,s.active=!0,cc.tween(s).delay(1).to(.5,{scale:1},{easing:"backOut"}).start(),(c=i.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,a.enter,!1),c.addAnimation(0,a.idle,!0),o.next=20,SlotsFacade.delayTime(1.5);case 20:return o.next=22,new Promise(function(e){var t=function(){SlotsFacade.soundMgr.playEffect("dialog_withdraw"),s.stopAllActions(),s.getComponent(cc.Button).interactable=!1,s.off("click"),cc.tween(r).to(.8,{scale:0}).start(),cc.tween(s).to(.8,{scale:0},{easing:"backIn"}).start(),c.setAnimation(0,a.exit,!1),c.setCompleteListener(function(){c.setCompleteListener(null),n.showBg(!1),i.active=!1,e()})};cc.vv.gameData.checkAutoPlay(s,t),s.on("click",t)});case 22:case"end":return o.stop()}},o)}))()},showTriggerWheelAni:function(){return i(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return SlotsFacade.soundMgr.playEffect("wheel_start"),(t=SlotsFacade.mainPanel.slots.getChildByName("wheel_start")).active=!0,(n=t.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,"animation",!1),e.next=7,new Promise(function(e){n.setCompleteListener(function(){n.setCompleteListener(null),t.active=!1,e()})});case 7:case"end":return e.stop()}},e)}))()},showWinWheelBag:function(e){return i(regeneratorRuntime.mark(function t(){var n,o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return SlotsFacade.soundMgr.playEffect("bag_popup"),n={enter:"animation1",idle:"animation2",exit:"animation3"},(o=SlotsFacade.mainPanel.popup_node.getChildByName("win_wheel_bag")).active=!0,(a=o.getChildByName("label")).getComponent("LabelRollCmp").startRoll(0,e),a.active=!0,a.scale=0,cc.tween(a).delay(.5).to(.3,{scale:1}).start(),(i=o.getChildByName("spine").getComponent(sp.Skeleton)).setAnimation(0,n.enter,!1),i.addAnimation(0,n.idle,!0),t.next=14,SlotsFacade.delayTime(3);case 14:return cc.tween(a).to(.8,{scale:0}).start(),i.setAnimation(0,n.exit,!1),t.next=18,new Promise(function(e){i.setCompleteListener(function(){i.setCompleteListener(null),o.active=!1,e()})});case 18:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{}],RobinHood_PrizePool:[function(e,t,n){"use strict";cc._RF.push(t,"9148dY2pL5Dfb+ylC3U6liV","RobinHood_PrizePool");var o={1:{nodeName:"prizePool_Minor",idleAni:"animation3",lockAni:"animation3",unlockAni:"animation3_3",winAni:"animation3",iconIndex:0,weight:0},2:{nodeName:"prizePool_Major",idleAni:"animation2",lockAni:"animation2",unlockAni:"animation2_2",winAni:"animation2",iconIndex:1,weight:1},3:{nodeName:"prizePool_Grand",idleAni:"animation1",lockAni:"animation1",unlockAni:"animation1_1",winAni:"animation1",iconIndex:2,weight:2}};cc.Class({extends:e("LMSlots_PrizePool_Base"),properties:{},start:function(){var e=this;this._super(),this.scheduleOnce(function(){e.node.y>cc.winSize.height/2&&(e.node.y=cc.winSize.height/2)},0)},ShowNodeLockByNode:function(e,t,n,a,i){if(o[a+""]){var r={poolIdx:a,val:t};this.processTips(r)}},processTips:function(e){this.showJackPotTips(e.poolIdx,e.val);var t=o[e.poolIdx+""],n=t.nodeName;if(n){var a=cc.find("Canvas/safe_node").getComponentInChildren("LMSlotMachine_PrizePool");if(a){var i=cc.find(n,a.node.parent);if(i){var r=i.getChildByName("spine_lock").getComponent(sp.Skeleton);e.val?(i.isLock=!0,SlotsFacade.soundMgr.stopEffectByName("jp_lock"),SlotsFacade.soundMgr.playEffect("jp_lock"),r.node.active=!0,r.setAnimation(0,t.lockAni,!1),r.setCompleteListener(function(){r.setCompleteListener(null),r.node.active=!1}),this.scheduleOnce(function(){Global.showSpriteGray(i.getChildByName("bg"),!0),Global.showSpriteGray(i.getChildByName("title"),!0),i.getChildByName("lbl_num").getComponent("LabelSwitchCmp").setIndex(1),i.getChildByName("spine_idle").active=!1},.4)):(i.isLock=!1,SlotsFacade.soundMgr.stopEffectByName("jp_unlock"),SlotsFacade.soundMgr.playEffect("jp_unlock"),r.node.active=!0,r.setAnimation(0,t.unlockAni,!1),r.setCompleteListener(function(){r.setCompleteListener(null),r.node.active=!1}),this.scheduleOnce(function(){Global.showSpriteGray(i.getChildByName("bg"),!1),Global.showSpriteGray(i.getChildByName("title"),!1),i.getChildByName("lbl_num").getComponent("LabelSwitchCmp").setIndex(0),i.getChildByName("spine_idle").active=!0},.4))}}}},showJackPotTips:function(e,t){var n=o[e+""].weight;if(t){if(this._nowJpLockWeight<n)return;this._nowJpLockWeight=n}else{if(this._nowJpUnlockWeight>n)return;this._nowJpUnlockWeight=n}var a=o[e+""],i=a.nodeName,r=cc.find("Canvas/safe_node").getComponentInChildren("LMSlotMachine_PrizePool"),s=cc.find(i,r.node.parent);if(s){var c=s.parent.getChildByName("tips_to_unclok");c.stopAllActions(),c.active=!1,c.getChildByName("icon").getComponent("ImgSwitchCmp").setIndex(a.iconIndex),c.x=s.x,c.y=s.y;var l=s.parent.getChildByName("tips_uncloked");l.stopAllActions(),l.active=!1,l.getChildByName("icon").getComponent("ImgSwitchCmp").setIndex(a.iconIndex),l.x=s.x,l.y=s.y,t?(this._nowJpUnlockWeight=this._nowJpLockWeight-1,c.scale=0,c.active=!0,cc.tween(c).to(.4,{scale:1},{easing:"backOut"}).delay(2).to(.2,{scale:0}).call(function(){c.active=!1}).start()):(this._nowJpLockWeight=this._nowJpUnlockWeight+1,l.scale=0,l.active=!0,cc.tween(l).to(.4,{scale:1},{easing:"backOut"}).delay(2).to(.2,{scale:0}).call(function(){l.active=!1}).start())}},hide:function(){this.node.active=!1},show:function(){this.node.active=!0}}),cc._RF.pop()},{LMSlots_PrizePool_Base:void 0}],RobinHood_Reel:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,r=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"7e6d0FFNB5Gx4irl8Tb1lLS","RobinHood_Reel"),cc.Class({extends:e("LMSlots_Reel_Base"),properties:{_reelBg:cc.Node},onLoad:function(){this._super()},GetResizeHeightObjs:function(){var e=[],t=cc.find("mask",this.node);if(t&&e.push(t),this._reelBg)e.push(this._reelBg);else{var n=cc.find("reels_bg/reel_bg"+(this._reelIdx+1),this.node.parent.parent);n&&e.push(n)}return e},bindReelBg:function(e){e&&(this._reelBg=e)},isNeedAddSpeed:function(){var e,t=o(this._reelState);try{for(t.s();!(e=t.n()).done;){if(e.value.isAnt)return!0}}catch(e){t.e(e)}finally{t.f()}return!1}}),cc._RF.pop()},{LMSlots_Reel_Base:void 0}],RobinHood_Slots:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a,i=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(s)throw a}}}}function r(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}cc._RF.push(t,"88578RzTGpGVpQ2kwAKyRtk","RobinHood_Slots");var c={maxSlotCnt:3,currSlotCnt:1,unitSlotRowCnt:3,unitSlotColCnt:5,aSlotSymbolCnt:15};cc.Class({extends:e("LMSlots_Slots_Base"),properties:{allReels:[],reels_bg:cc.Node,reels_frame:cc.Node},onLoad:function(){this._super(),this.reels_bg=this.node.getChildByName("reels_bg"),this.reels_frame=this.node.getChildByName("reels_frame")},createReels:function(e,t){for(var n=this._cfg.scripts.Reels,o=0;o<e;o++){var a=null,i=null;10==o?(a=cc.find("bonus_game_node/panel/reel1_mask/reel".concat(o+1),this.node),i=cc.find("bonus_game_node/panel/reel1_mask/reel_bg".concat(o+1),this.node)):o>10?(a=cc.find("bonus_game_node/panel/reels/reel".concat(o+1),this.node),i=cc.find("bonus_game_node/panel/reels/reel_bg".concat(o+1),this.node)):a=cc.find("reels/reel".concat(o+1),this.node);var r=a.addComponent(n);r.Init(o,t,this._topAniNode),i&&r.bindReelBg(i),this.allReels.push(r)}},StartMove:function(){this._bStopRightnow=null,this._gameInfo=null,SlotsFacade.flowCtrl.startMove(),this._topScript.StartMove(),cc.vv.gameData.ClearOneRoundData(),this.MoveReels(this.getCurReels()),this._stopTime=this.GetStopTime(),0==SlotsFacade.dm.GetTotalFree()&&Global.SlotsSoundMgr.playNormalBgm(),SlotsFacade.collectProgress.setEnterEnable(!1)},onMsgSpine:function(e){SlotsFacade.flowCtrl.onSpinMsg(e)},OnSpinEnd:function(){SlotsFacade.flowCtrl.spinEnd()},ReconnectShow:function(){this.scheduleOnce(function(){SlotsFacade.flowCtrl.enterRoom()})},SetSlotsResult:function(e){for(var t=[],n=0;n<c.currSlotCnt;n++)for(var o=n*c.unitSlotColCnt*c.unitSlotRowCnt,a=o+c.unitSlotColCnt*c.unitSlotRowCnt,r=o;r<a;r++){var s=n*c.unitSlotColCnt+r%c.unitSlotColCnt,l={};l.sid=e[r],t[s]||(t[s]=[]),t[s].unshift(l)}var d=null;if(SlotsFacade.dm.belleBonus?SlotsFacade.dm.belleBonus.bonusInfo&&(d=SlotsFacade.dm.belleBonus.bonusInfo.items):SlotsFacade.dm.getSpinData().bonusInfo&&(d=SlotsFacade.dm.isTriggerNormalBonus()?SlotsFacade.dm.getSpinData().bonusInfo.items:SlotsFacade.dm.getSpinData().bonusInfo.extraItems),d){var u,m=i(d);try{for(m.s();!(u=m.n()).done;){var p=u.value,h=this.transferIdx(p.idx);t[h.col][h.row].data={coin:p.coin}}}catch(e){m.e(e)}finally{m.f()}}for(var f=0;f<this._reels.length;f++){var g=this._reels[f],_=t[f];g.SetResult(_)}},SetReelStateInfo:function(e){var t=this;if(this._cfg.reelStateInfo){for(var n=[],o=0;o<e.length;o++){var a=e[o],r=Math.floor(o/c.aSlotSymbolCnt)*c.unitSlotColCnt+o%c.unitSlotColCnt;n[r]||(n[r]=[]),n[r].push(a)}var s,l=i(this._cfg.reelStateInfo);try{for(l.s();!(s=l.n()).done;)for(var d=s.value,u=function(e){var o=Global.copy(d);o.isStop=!1,o.isAnt=!1;for(var a=o.mini,i=Global.copy(o.counts),r=0,s=e*c.unitSlotColCnt,l=s+c.unitSlotColCnt,u=s;u<l;u++){var m=n[u];o.isStop=!1,o.isAnt=!1,r>=a-1&&o.counts[u%c.unitSlotColCnt]>0&&(o.isAnt=!0);var p=m.reduce(function(e,t){return o.id.includes(t)?e+1:e+0},0);r+=p,i.shift();var h=(i.length>0?i.reduce(function(e,t){return e+t}):0)+r;p>0&&h>=a&&(o.isStop=!0),o.symbolStopSound="scatter_land".concat(1+r%3),t._reels[u].AddReelStateInfo(Global.copy(o))}},m=0;m<c.currSlotCnt;m++)u(m)}catch(e){l.e(e)}finally{l.f()}}},transferIdx:function(e){return e-=1,{col:Math.floor(e/c.aSlotSymbolCnt)*c.unitSlotColCnt+e%c.unitSlotColCnt,row:c.unitSlotRowCnt-1-Math.floor(e%c.aSlotSymbolCnt/c.unitSlotColCnt)}},GetSymbolByIdx:function(e){var t=this.transferIdx(e);return this._reels[t.col].GetSymbolByRow(t.row)},getIdxGlobalPos:function(e){var t=this.transferIdx(e),n=this._reels[t.col],o=n.GetSymbolPosByRow(t.row);return n.node.getChildByName("mask").convertToWorldSpaceAR(o)},GetReelStopInter:function(e){var t=this._cfg.reelStopInter||.6;return e%c.unitSlotColCnt*t},update:function(e){if(this._stopTime>0&&(this._stopTime=this._stopTime-e,this._stopTime<=0))if(this.CanStopSlot()){var t=SlotsFacade.dm.belleBonus,n=0;t&&t.bonusInfo||SlotsFacade.dm.isTriggerNormalBonus()?n=5:this._bottomScript.ShowBtnsByState("moveing_2");for(var o=0;o<this._reels.length;o++){var a=this._reels[o],i=this.GetReelStopInter(o);n>0&&o>0&&(i=i+n+2*(o-1)),a.StopMove(i)}}else this._stopTime=e,this._roundSpineTime=this._roundSpineTime||0,this._roundSpineTime+=e,this._roundSpineTime>30&&this._topScript.SetBackLobby(!0)},ShowWinTrace:function(){for(var e=[],t=SlotsFacade.dm.getZjLuXian(),n=0;n<t.length;n++)for(var o=t[n],a=0;a<o.indexs.length;a++)e[o.indexs[a]]=1;var i=[];if(this._gameInfo.scatterZJLuXian&&this._gameInfo.scatterZJLuXian.indexs){for(var r=0;r<this._gameInfo.scatterZJLuXian.indexs.length;r++){e[this._gameInfo.scatterZJLuXian.indexs[r]]=1}i=this._gameInfo.scatterZJLuXian.indexs.concat()}var s=[];if(2==SlotsFacade.dm.energyData.state&&!SlotsFacade.dm.isFistTriggerFree()){var c=SlotsFacade.dm.getGameCfg(),l=c.mapCfg[SlotsFacade.dm.energyData.currId];if(l&&l.type==c.MapType.MultSlot){var d=[3,8,13,18,23,28,33,38,43];for(var u in e)d.includes(Number(u))&&s.push(Number(u))}}for(var m in e){var p=this.GetSymbolByIdx(Number(m));p&&(s.includes(Number(m))||p.playWinAnimation(),i.includes(Number(m))||p.ShowKuang())}s.length>0&&SlotsFacade.wildGame.playWinMulAni(s)},playTriggerAni:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return SlotsFacade.soundMgr.playEffect("bell"),e.forEach(function(e){t.GetSymbolByIdx(e).playTriggerAnimation()}),n.next=4,SlotsFacade.delayTime(1.5);case 4:case"end":return n.stop()}},n)}))()},getSymbolsByServerIds:function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.GetSymbolByIdx(e))}),n},cleanPlayState:function(){this._reels.forEach(function(e){e._symbols.forEach(function(e){e.cleanPlayState()})})},getCurReels:function(){var e=[];if(2==SlotsFacade.dm.energyData.state&&SlotsFacade.dm.hasFree()){var t=SlotsFacade.dm.getGameCfg(),n=t.mapCfg[SlotsFacade.dm.energyData.currId];n&&n.type==t.MapType.MultSlot&&(e=[2,7,12])}if(e.length>0){for(var o=[],a=0;a<this._reels.length;a++)e.includes(a)||o.push(this._reels[a]);return o}return this._reels},getCurrReelCnt:function(){return c.currSlotCnt*c.unitSlotColCnt},setReelStopState:function(e,t){var n,o=this.transferIdx(e),a=this._reels[o.col],r=SlotsFacade.dm.getSpinData().resultCards[e-1],s=i(a._reelState);try{for(s.s();!(n=s.n()).done;){var c=n.value;c.id.includes(r)&&(c.isStop=t)}}catch(e){s.e(e)}finally{s.f()}},toNormalState:function(){SlotsFacade.character.show(),SlotsFacade.character.toNormalState(),SlotsFacade.collectProgress.show(),SlotsFacade.bagGame.show(),SlotsFacade.jackpot.show(),this.reels_frame.active=!0,c.currSlotCnt=1,c.unitSlotRowCnt=3,c.aSlotSymbolCnt=15;for(var e=0;e<10;e++)this.allReels[e].node.active=!1,this.reels_bg.getChildByName("reel_bg".concat(e+1)).active=!1;this.reels_frame.getChildByName("frame1").active=!1,this.reels_frame.getChildByName("frame2").active=!1,this._reels=this.allReels.slice(10,15);var t,n=i(this._reels);try{for(n.s();!(t=n.n()).done;){var o=t.value;3!=o._nCount&&o.AddCount(3-o._nCount,.001)}}catch(e){n.e(e)}finally{n.f()}this.node.scale=1,SlotsFacade.bonusGame.toNormalState()},toMapFreeState:function(){SlotsFacade.character.hide(),SlotsFacade.collectProgress.hide(),SlotsFacade.bagGame.hide(),SlotsFacade.jackpot.hide(),this.reels_frame.active=!0,c.currSlotCnt=3,c.unitSlotRowCnt=3,c.aSlotSymbolCnt=15;for(var e=0;e<10;e++)this.allReels[e].node.active=!0,this.reels_bg.getChildByName("reel_bg".concat(e+1)).active=!0;this.reels_frame.getChildByName("frame1").active=!0,this.reels_frame.getChildByName("frame2").active=!0,this._reels=this.allReels.concat(),this.node.scale=.8},toWheelFreeState:function(){SlotsFacade.character.show(),SlotsFacade.character.toWheelFreeState(),SlotsFacade.collectProgress.hide(),SlotsFacade.bagGame.hide(),SlotsFacade.jackpot.hide(),this.reels_frame.active=!1,c.currSlotCnt=1,c.unitSlotRowCnt=5,c.aSlotSymbolCnt=25;for(var e=0;e<10;e++)this.allReels[e].node.active=!1,this.reels_bg.getChildByName("reel_bg".concat(e+1)).active=!1;this._reels=this.allReels.slice(10,15);var t,n=i(this._reels);try{for(n.s();!(t=n.n()).done;){var o=t.value;5!=o._nCount&&o.AddCount(5-o._nCount,.001)}}catch(e){n.e(e)}finally{n.f()}SlotsFacade.bonusGame.toWheelFreeState(),this.node.scale=1},toWheelBonusState:function(){SlotsFacade.character.show(),SlotsFacade.character.toNormalState(),SlotsFacade.collectProgress.hide(),SlotsFacade.bagGame.hide(),this.reels_frame.active=!0,c.currSlotCnt=1,c.unitSlotRowCnt=6,c.aSlotSymbolCnt=30;for(var e=0;e<10;e++)this.allReels[e].node.active=!1,this.reels_bg.getChildByName("reel_bg".concat(e+1)).active=!1;this._reels=this.allReels.slice(10,15);var t,n=i(this._reels);try{for(n.s();!(t=n.n()).done;){var o=t.value;6!=o._nCount&&o.AddCount(6-o._nCount,.001)}}catch(e){n.e(e)}finally{n.f()}this.node.scale=1},OnReelSpinEnd:function(e){SlotsFacade.bonusGame.reelSpinEnd(e)},resetAllSymbol:function(){var e,t=i(this._reels);try{for(t.s();!(e=t.n()).done;){var n,o=i(e.value._symbols);try{for(o.s();!(n=o.n()).done;){n.value.StartMove()}}catch(e){o.e(e)}finally{o.f()}}}catch(e){t.e(e)}finally{t.f()}}}),cc._RF.pop()},{LMSlots_Slots_Base:void 0}],RobinHood_Sound:[function(e,t,n){"use strict";cc._RF.push(t,"ca0bcCLq4pDrbYc7Va5ZLTW","RobinHood_Sound"),cc.Class({extends:cc.Component,properties:{_soundPath:"games/RobinHood/",_isPlayBgm:!1},playEffect:function(e,t){return cc.vv.AudioManager.playEff(this._soundPath,e,!0,t)},stopEffectByName:function(e){cc.vv.AudioManager.stopEffectByName(e)},stopEffect:function(){cc.vv.AudioManager.stopAudio()},playBgm:function(e,t){t=t||!1,e?(Global.SlotsSoundMgr.stopBgm(),Global.SlotsSoundMgr.playBgm(e)):Global.SlotsSoundMgr.playNormalBgm(t)},stopBgm:function(){Global.SlotsSoundMgr.stopBgm()},playFreeBgm:function(){this.playBgm("free_bgm")}}),cc._RF.pop()},{}],RobinHood_WheelGame:[function(e,t,n){"use strict";function o(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){o(r,a,i,s,c,"next",e)}function c(e){o(r,a,i,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"5cb79Z4iRpC5Zui/lrVJM3j","RobinHood_WheelGame");var i=1,r=2,s=3,c=4,l={Grand:{type:i,iconIndex:0},Major:{type:i,iconIndex:1},Minor:{type:i,iconIndex:2},belleBag:{type:s,iconIndex:3},freeGame:{type:r,iconIndex:4},belleBonus:{type:c,iconIndex:5}},d=["Grand","freeGame","Minor","belleBonus","Major","belleBag","Minor","freeGame","Grand","belleBonus","Minor","belleBag","Major","belleBonus","Minor","belleBag","Major","freeGame"];cc.Class({extends:cc.Component,properties:{panel:cc.Node,wheel:cc.Node,startNode:cc.Node,frame:cc.Node,items:[cc.Node],proxy:cc.Node,spine_border_idle:sp.Skeleton,spine_border_start:sp.Skeleton,spine_run:sp.Skeleton,spine_win:sp.Skeleton,_cbHandler:null,_canMove:!1,_wheelCfg:null,_respData:null},onLoad:function(){this._wheelCfg={baseRound:10,itemsLen:this.items.length,itemHeight:this.items[0].height,totalHeight:0},this._wheelCfg.totalHeight=this._wheelCfg.itemsLen*this._wheelCfg.itemHeight},_getRotation:function(e){return 360*this._wheelCfg.baseRound},_startWheel:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return SlotsFacade.soundMgr.playEffect("wheel_roll2"),n=e._getRotation(0),e.proxy.rotation=0,cc.tween(e.node).delay(1).call(function(){e.spine_run.node.active=!0,e.spine_run.setAnimation(0,"animation",!0)}).start(),cc.tween(e.node).delay(3).call(function(){var t=e.items[4].getComponent("ImgSwitchCmp"),n=l[d[e._respData.result.wheelId-1]];t.setIndex(n.iconIndex)}).start(),t.next=7,new Promise(function(t){cc.tween(e.proxy).call(function(){e._canMove=!0,SlotsFacade.soundMgr.playEffect("wheel_spin")}).to(7.5,{rotation:n},{easing:"quartInOut"}).call(function(){e.spine_run.node.active=!1}).delay(.1).call(function(){e._canMove=!1,t()}).start()});case 7:return SlotsFacade.soundMgr.playEffect("wheel_win"),e.spine_win.node.active=!0,Global.shakeNode(e.panel,3,.5,e.panel.position),t.next=12,SlotsFacade.delayTime(1.5);case 12:return t.next=14,e._processWheelResult();case 14:case"end":return t.stop()}},t)}))()},_processWheelResult:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Global.SlotsSoundMgr.stopBgm(),n=l[d[e._respData.result.wheelId-1]],t.t0=n.type,t.next=t.t0===i?5:t.t0===s?11:t.t0===c?14:t.t0===r?23:30;break;case 5:return o=e._respData.result.jackpot,t.next=8,SlotsFacade.popup.showWinJPGold(o.id,o.value);case 8:return t.next=10,SlotsFacade.mainPanel.showSceneTransition(4);case 10:return t.abrupt("break",30);case 11:return t.next=13,SlotsFacade.mainPanel.showSceneTransition(4);case 13:return t.abrupt("break",30);case 14:return SlotsFacade.dm.belleBonus=e._respData.result.belleBonus,SlotsFacade.dm.SetFreeTime(e._respData.result.belleBonus.restCnt),SlotsFacade.dm.SetTotalFree(e._respData.result.belleBonus.restCnt),SlotsFacade.dm.triggerBelleBonusCoin=SlotsFacade.dm.wheelGame?SlotsFacade.dm.wheelGame.winCoin:0,t.next=20,SlotsFacade.popup.showWinWheelFreeCnt(!0);case 20:return t.next=22,SlotsFacade.mainPanel.showSceneTransition(1);case 22:return t.abrupt("break",30);case 23:return SlotsFacade.dm.SetFreeTime(e._respData.result.freeInfo.freeCnt),SlotsFacade.dm.SetTotalFree(e._respData.result.freeInfo.freeCnt),t.next=27,SlotsFacade.popup.showWinWheelFreeCnt(!1);case 27:return t.next=29,SlotsFacade.mainPanel.showSceneTransition(1);case 29:return t.abrupt("break",30);case 30:e.close({type:n.type,coin:e._respData.result.winCoin});case 31:case"end":return t.stop()}},t)}))()},update:function(e){if(this._canMove)for(var t=this.proxy.angle%360/360*this._wheelCfg.totalHeight,n=0;n<this.items.length;n++){var o=this.items[n],a=this._wheelCfg.itemHeight/2+n*this._wheelCfg.itemHeight;(a+=t)<-this._wheelCfg.itemHeight/2&&(a+=this._wheelCfg.totalHeight),o.y=a}},_initView:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e].getComponent("ImgSwitchCmp");t.node.y=this._wheelCfg.itemHeight/2+e*this._wheelCfg.itemHeight;var n=l[d[e]];t.setIndex(n.iconIndex)}this.spine_border_idle.node.active=!1,this.spine_run.node.active=!1,this.spine_win.node.active=!1,this.spine_win.node.active=!1},_bindData:function(){this._canMove=!1},open:function(e,t){var n=this;return a(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t){o.next=8;break}return SlotsFacade.soundMgr.playEffect("bell"),o.next=4,SlotsFacade.slots.playTriggerAni(SlotsFacade.dm.getSpinData().scatterZJLuXian.indexs);case 4:return SlotsFacade.slots.cleanPlayState(),Global.SlotsSoundMgr.stopBgm(),o.next=8,SlotsFacade.popup.showTriggerWheelAni();case 8:return o.next=10,SlotsFacade.mainPanel.showSceneTransition(4);case 10:SlotsFacade.character.hide(),SlotsFacade.mainPanel.showBg(1),SlotsFacade.soundMgr.playBgm("wheel_bgm"),cc.vv.gameData.showOtherSysNode(!1),n.panel.active=!0,n._cbHandler=e,n._bindData(),n._initView(),n._showStartDialog();case 19:case"end":return o.stop()}},o)}))()},_showStartDialog:function(){var e=this;return a(regeneratorRuntime.mark(function t(){var n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.spine_border_start.node.active=!0,e.spine_border_start.setAnimation(0,"animation",!1),t.next=4,new Promise(function(t){e.spine_border_start.setCompleteListener(function(){e.spine_border_start.setCompleteListener(null),e.spine_border_start.node.active=!1,t()})});case 4:return e.spine_border_idle.node.active=!0,e.spine_border_idle.setAnimation(0,"animation",!0),e.startNode.active=!0,(n=e.startNode.getChildByName("spine_start").getComponent(sp.Skeleton)).node.active=!0,n.setAnimation(0,"animation3",!1),n.addAnimation(0,"animation1",!0),t.next=13,new Promise(function(e){n.setCompleteListener(function(){n.setCompleteListener(null),e()})});case 13:o=e,a=function(){SlotsFacade.soundMgr.playEffect("wheel_click"),o.startNode.off(cc.Node.EventType.TOUCH_END),n.setAnimation(0,"animation2",!1),n.setCompleteListener(function(){n.setCompleteListener(null),o.startNode.active=!1,SlotsFacade.dm.reqSubGame({rtype:2})})},cc.vv.gameData.checkAutoPlay(e.startNode,a),e.startNode.on(cc.Node.EventType.TOUCH_END,function(){e.startNode.stopAllActions(),a()},e);case 17:case"end":return t.stop()}},t)}))()},onMsg:function(e){this._respData=e.data,this._startWheel()},close:function(e){var t=this;return a(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.panel.active=!1,SlotsFacade.mainPanel.showBg(0),cc.vv.gameData.showOtherSysNode(!0),t._cbHandler&&t._cbHandler(e);case 4:case"end":return n.stop()}},n)}))()}}),cc._RF.pop()},{}],RobinHood_WildGame:[function(e,t,n){"use strict";function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,r=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==o.return||o.return()}finally{if(s)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t,n,o,a,i,r){try{var s=e[i](r),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,a)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,c,"next",e)}function c(e){r(i,o,a,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"c1efbzK9FlDOJoMDhiJlxd9","RobinHood_WildGame"),cc.Class({extends:cc.Component,properties:{wild_node:cc.Node,multiple_node:cc.Node,_symbols:[],_stickyIdxs:[],_isEnterWild:!1},onLoad:function(){this._symbolTemplate=SlotsFacade.dm.GetPrefabByName(SlotsFacade.dm.getGameCfg().symbolPrefab),this._symbolTemplate.optimizationPolicy=cc.Prefab.OptimizationPolicy.MULTI_INSTANCE,this.wild_node.active=!1,this.multiple_node.active=!1},showRandomWild:function(e){var t=this;return s(regeneratorRuntime.mark(function n(){var a,i,r,s,c,l,d,u,m,p;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(t.wild_node.active=!0,a=[[],[],[],[],[]],i=0;i<e.length;i++)r=e[i],a[(r-1)%5].push(r);s=0,c=a;case 4:if(!(s<c.length)){n.next=16;break}if(!((l=c[s]).length<1)){n.next=8;break}return n.abrupt("continue",13);case 8:d=o(l);try{for(d.s();!(u=d.n()).done;)m=u.value,(p=t.genAWildSymbol(m)).playWildAppear(),t._symbols.push(p)}catch(e){d.e(e)}finally{d.f()}return SlotsFacade.soundMgr.playEffect("wild_appear"),n.next=13,SlotsFacade.delayTime(.5);case 13:s++,n.next=4;break;case 16:case"end":return n.stop()}},n)}))()},_addMoveWild:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,o,a,i,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=SlotsFacade.dm.mapFreeInfo.moveWilds,o=[],a=0;case 3:if(!(a<n.currIdxs.length)){t.next=11;break}if(i=n.currIdxs[a],!n.randIdxs.includes(i)){t.next=7;break}return t.abrupt("continue",8);case 7:o.push(i);case 8:a++,t.next=3;break;case 11:for(e.wild_node.active=!0,r=0;r<o.length;r++)s=e.genAWildSymbol(o[r]),e._symbols.push(s);case 13:case"end":return t.stop()}},t)}))()},_moveWild:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,o,a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(SlotsFacade.soundMgr.playEffect("wild_move"),n=SlotsFacade.dm.mapFreeInfo.moveWilds,e.wild_node.active=!0,o=0;o<e._symbols.length;o++)a=n.randIdxs[o],i=e._symbols[o],a&&i?(r=SlotsFacade.slots.getIdxGlobalPos(a),r=e.wild_node.convertToNodeSpaceAR(r),cc.tween(i.node).to(.8,{x:r.x,y:r.y}).start()):console.log("move wild \u6570\u636e\u5f02\u5e38",n,i);return e._symbols.length>0&&SlotsFacade.soundMgr.playEffect("moving_wild"),t.next=7,SlotsFacade.delayTime(.8);case 7:case"end":return t.stop()}},t)}))()},_addStickyWild:function(){var e=SlotsFacade.dm.mapFreeInfo.stickyWilds;this.wild_node.active=!0;for(var t=0;t<e.length;t++)if(!this._stickyIdxs.includes(e[t])){var n=this.genAWildSymbol(e[t]);this._symbols.push(n),this._stickyIdxs.push(e[t])}},_initMulWild:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,o,a,i,r,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,o=[3,8,13,18,23,28,33,38,43];n<o.length;n++)a=o[n],SlotsFacade.slots.GetSymbolByIdx(a).StartMove();for(e.multiple_node.active=!0,i=0;i<3;i++)r=e.multiple_node.getChildByName("mul".concat(i+1)),(s=r.getChildByName("spine_wild").getComponent(sp.Skeleton)).node.active=!0,s.setAnimation(0,"animation5",!1),(c=r.getChildByName("spine_mask").getComponent(sp.Skeleton)).node.active=!0,c.setAnimation(0,"animation4",!1);case 4:case"end":return t.stop()}},t)}))()},_expansionMulWild:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,o,a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(SlotsFacade.soundMgr.playEffect("wild_open"),n=SlotsFacade.dm.mapFreeInfo.multWilds,o=0;o<3;o++)a=e.multiple_node.getChildByName("mul".concat(o+1)),(i=a.getChildByName("spine_mask").getComponent(sp.Skeleton)).node.active=!0,i.setAnimation(0,"animation1",!1),(r=a.getChildByName("label").getComponent(cc.Label)).string="".concat(n[o],"X"),r.node.scale=0,cc.tween(r.node).delay(.3).to(.5,{scale:1},{easing:"backOut"}).start();return t.next=5,SlotsFacade.delayTime(.8);case 5:case"end":return t.stop()}},t)}))()},_collapseMulWild:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,o,a,i,r,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<3)){t.next=12;break}if(o=e.multiple_node.getChildByName("mul".concat(n+1)),(a=o.getChildByName("spine_mask").getComponent(sp.Skeleton)).node.active=!0,"animation4"!=a.animation){t.next=7;break}return t.abrupt("continue",9);case 7:a.setAnimation(0,"animation3",!1),a.addAnimation(0,"animation4",!1);case 9:n++,t.next=1;break;case 12:for(i=0,r=[3,8,13,18,23,28,33,38,43];i<r.length;i++)s=r[i],SlotsFacade.slots.GetSymbolByIdx(s).StartMove();return t.next=16,SlotsFacade.delayTime(.8);case 16:case"end":return t.stop()}},t)}))()},playWinMulAni:function(e){var t,n=[!1,!1,!1],a=o(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n[Math.floor(i/15)]=!0}}catch(e){a.e(e)}finally{a.f()}for(var r=0;r<n.length;r++){var s=cc.find("mul".concat(r+1,"/spine_wild"),this.multiple_node).getComponent(sp.Skeleton);n[r]?s.setAnimation(0,"animation2",!0):s.setAnimation(0,"animation5",!1)}},genAWildSymbol:function(e){var t=SlotsFacade.dm.getGameCfg(),n=cc.instantiate(this._symbolTemplate);n.parent=this.wild_node;var o=n.addComponent(t.scripts.Symbols);o.SetSymbolReelIdx(0),o.Init(0,this.node),o.ShowById(t.wildId);var a=SlotsFacade.slots.getIdxGlobalPos(e);return a=this.wild_node.convertToNodeSpaceAR(a),n.setPosition(a),o},enterWildGame:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=SlotsFacade.dm.energyData,o=SlotsFacade.dm.getGameCfg().mapCfg,a=SlotsFacade.dm.getGameCfg().MapType,(i=o[n.currId]).type==a.MultSlot?e._initMulWild():i.type==a.MovingWild||i.type==a.RandomWild||(i.type,a.StickyWild),e._isEnterWild=!0;case 6:case"end":return t.stop()}},t)}))()},exitWildGame:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,o,a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=SlotsFacade.dm.energyData,o=n.currId,0==n.currId&&(o=SlotsFacade.dm.getGameCfg().TheFinalHurdleID),a=SlotsFacade.dm.getGameCfg().mapCfg,i=SlotsFacade.dm.getGameCfg().MapType,(r=a[o]).type==i.MultSlot?e.multiple_node.active=!1:r.type==i.MovingWild?e.removeWild():r.type==i.RandomWild?e.removeWild():r.type==i.StickyWild&&e.removeWild(),e._isEnterWild=!1;case 8:case"end":return t.stop()}},t)}))()},removeWild:function(){this._symbols=[],this._stickyIdxs=[],this.wild_node.active=!1,this.wild_node.removeAllChildren()},hideWild:function(){this.wild_node.active=!1},startMove:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,o,a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(2==(n=SlotsFacade.dm.energyData).state){t.next=3;break}return t.abrupt("return",!1);case 3:if(e._isEnterWild){t.next=6;break}return console.log("\u672a\u5728wild game \u4e2d\u76f4\u63a5\u8fd4\u56de"),t.abrupt("return");case 6:if(SlotsFacade.dm.mapFreeInfo){t.next=8;break}return t.abrupt("return");case 8:o=n.currId,0==n.currId&&(o=SlotsFacade.dm.getGameCfg().TheFinalHurdleID),a=SlotsFacade.dm.getGameCfg().mapCfg,i=SlotsFacade.dm.getGameCfg().MapType,(r=a[o]).type==i.RandomWild||(r.type==i.MultSlot?e._collapseMulWild():r.type==i.MovingWild?e._addMoveWild():r.type==i.StickyWild&&e._addStickyWild());case 14:case"end":return t.stop()}},t)}))()},onSpinMsg:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,o,a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(2==(n=SlotsFacade.dm.energyData).state){t.next=3;break}return t.abrupt("return");case 3:if(e._isEnterWild){t.next=6;break}return console.log("\u672a\u5728wild game \u4e2d\u76f4\u63a5\u8fd4\u56de"),t.abrupt("return");case 6:if(o=n.currId,0==n.currId&&(o=SlotsFacade.dm.getGameCfg().TheFinalHurdleID),a=SlotsFacade.dm.getGameCfg().mapCfg,i=SlotsFacade.dm.getGameCfg().MapType,(r=a[o]).type!=i.RandomWild){t.next=16;break}return t.next=14,e.showRandomWild(SlotsFacade.dm.mapFreeInfo.randomWilds);case 14:t.next=25;break;case 16:if(r.type!=i.MultSlot){t.next=19;break}t.next=25;break;case 19:if(r.type!=i.MovingWild){t.next=24;break}return t.next=22,e._moveWild();case 22:t.next=25;break;case 24:r.type,i.StickyWild;case 25:case"end":return t.stop()}},t)}))()},spinEnd:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var n,o,a,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(2==(n=SlotsFacade.dm.energyData).state){t.next=3;break}return t.abrupt("return");case 3:if(e._isEnterWild){t.next=6;break}return console.log("\u672a\u5728wild game \u4e2d\u76f4\u63a5\u8fd4\u56de"),t.abrupt("return");case 6:if(o=n.currId,0==n.currId&&(o=SlotsFacade.dm.getGameCfg().TheFinalHurdleID),a=SlotsFacade.dm.getGameCfg().mapCfg,i=SlotsFacade.dm.getGameCfg().MapType,(r=a[o]).type!=i.RandomWild){t.next=15;break}e.removeWild(),t.next=28;break;case 15:if(r.type!=i.MultSlot){t.next=20;break}return t.next=18,e._expansionMulWild();case 18:t.next=28;break;case 20:if(r.type!=i.MovingWild){t.next=25;break}return t.next=23,e.hideWild();case 23:t.next=28;break;case 25:if(r.type!=i.StickyWild){t.next=28;break}return t.next=28,e.hideWild();case 28:case"end":return t.stop()}},t)}))()}}),cc._RF.pop()},{}],RobinHood_symbol:[function(e,t,n){"use strict";cc._RF.push(t,"5c9daWjkDJGZYrXHoCTkk6x","RobinHood_symbol");var o={},a=function(e){e=e||0;var t=SlotsFacade.dm.getGameCfg().randomSymbols;0!=e&&5!=e||(t=SlotsFacade.dm.getGameCfg().randomSkipWildSymbols),o.hasOwnProperty(e.toString())||(o[e.toString()]=Math.floor(Math.random()*t.length));var n=(o[e.toString()]+1)%t.length;return o[e.toString()]=n,t[n]};cc.Class({extends:e("LMSlots_Symbol_Base"),properties:{isEpic:!1,mirror_node:null,bonusSymbolMirror:null,label:cc.Label,mask:cc.Node,isInBonusState:!1},onLoad:function(){this.label=this.node.getChildByName("label").getComponent(cc.Label),this.mask=this.node.getChildByName("mask"),this.showMask(!1)},showMask:function(e){this.mask&&(e=e||!1,this.mask.active=e)},StartMove:function(){this._super(),this._data=null,this.isInBonusState=!1,this.showMask(!1)},ShowById:function(e,t){var n=cc.vv.gameData.getGameCfg();e==n.blankId&&(e=this.getRandomIdSkipBonus()),this._super(e,t),this.showLabel(e,t),this.showColor(),this.isInBonusState&&(this.GetShowId()==n.bonusId?this.showMask(!1):this.showMask(!0))},getRandomId:function(){var e=cc.vv.gameData.getGameCfg(),t=Global.random(1,e.randomSymbols.length);return e.randomSymbols[t-1]},getRandomIdSkipBonus:function(){var e=cc.vv.gameData.getGameCfg(),t=Global.random(1,e.randomSkipBonusSymbols.length);return e.randomSkipBonusSymbols[t-1]},ShowRandomSymbol:function(){var e=cc.vv.gameData.getGameCfg(),t=a(this.GetSymbolReelIdx()),n=null;t==e.bonusId&&((n={}).coin=Global.random(1,10)*SlotsFacade.dm.GetTotalBet()),this.ShowById(t,n)},showLabel:function(e){e&&this._data&&this._data.coin?(this.label.node.active=!0,this.label.string=Global.convertNumToShort(this._data.coin)):this.label.node.active=!1},playStopAnimation:function(){var e=this._id,t=cc.vv.gameData.getGameCfg();if(t.symbol[e]&&t.symbol[e].win_node&&t.symbol[e].stop_ani&&(this._state="stop",this._showNode&&(this._showNode.active=!1),this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0,""!=t.symbol[e].stop_ani.name)){this.node.zIndex=t.symbol[e].stop_ani.zIndex-this._symbolIdx+10*this._reelIdx;var n=this._showNode.getComponent(sp.Skeleton);if(n){var o=t.symbol[e].stop_ani.name,a=t.symbol[e].idle_ani.name;n.setAnimation(0,o,!1),a&&n.addAnimation(0,a,!0)}}},playTriggerAnimation:function(){var e=!1,t=this._id,n=cc.vv.gameData.getGameCfg();if(n.symbol[t]&&n.symbol[t].win_node&&n.symbol[t].trigger_ani){this._state="trigger",this._showNode&&(this._showNode.active=!1);var o=this.setAnimationToTop(!0);o.active=!0;var a=cc.find(n.symbol[t].win_node,o);if(a.active=!0,""!=n.symbol[t].trigger_ani.name){o.zIndex=n.symbol[t].trigger_ani.zIndex-this._symbolIdx+10*this._reelIdx,e=!0;var i=a.getComponent(sp.Skeleton);if(i){var r=n.symbol[t].trigger_ani.name;i.setAnimation(0,r,n.symbol[t].trigger_ani.loop)}}var s=o.getChildByName("label");this._data&&this._data.coin&&(s.active=!0,s.getComponent(cc.Label).string=Global.convertNumToShort(this._data.coin))}return e},playWildAppear:function(){if(1==this._id){this._showNode&&(this._showNode.active=!1);var e=this._id,t=cc.vv.gameData.getGameCfg();this._showNode=cc.find(t.symbol[e].win_node,this.node),this._showNode.active=!0;var n=this._showNode.getComponent(sp.Skeleton);n&&n.setAnimation(0,"animation1",!1)}},showColor:function(){this.isEpic&&this._showNode&&this.GetShowId()!=SlotsFacade.dm.getGameCfg().bonusId&&(this._showNode.color=(new cc.Color).fromHEX("#3E3E3E"))},hide:function(){this._showNode&&(this._showNode.active=!1)},cleanPlayState:function(){this.setAnimationToTop(!1),this.ShowKuang(!1),this.stopWinTweenAction(),this.node.zIndex=50-this._symbolIdx+10*this._reelIdx},createBonusSymbolMirror:function(){if(this.mirror_node&&!this.bonusSymbolMirror){this.bonusSymbolMirror=new cc.Node,this.bonusSymbolMirror.parent=this.mirror_node;var e=cc.instantiate(this.node.getChildByName("s2")),t=cc.instantiate(this.node.getChildByName("s3"));e.parent=this.bonusSymbolMirror,t.parent=this.bonusSymbolMirror}},StopMoveDeep:function(){var e=SlotsFacade.dm.getGameCfg();this._id==e.bonusId&&this.playStopAnimation()},changeToBonusSymbol:function(e){var t=this,n=SlotsFacade.dm.getGameCfg();this.ShowById(n.bonusId,{coin:e}),this.label.node.scale=0,cc.tween(this.label.node).to(.3,{scale:1},{easing:"backOut"}).start();var o=this.node.getChildByName("w3").getComponent(sp.Skeleton);o.node.active=!0,o.setAnimation(0,"animation5",!1),o.setCompleteListener(function(){o.setCompleteListener(null),t.playStopAnimation()})},playBonusLight:function(){var e=SlotsFacade.dm.getGameCfg();if(this._id==e.bonusId){var t=cc.find(cc.js.formatStr("symbol_ani_%s_%s",this._symbolIdx,this._reelIdx),this._topAniNode);if(t){var n=t.getChildByName("w3").getComponent(sp.Skeleton);n.setAnimation(0,"animation8",!1),n.addAnimation(0,"animation7",!1)}}},setBonusState:function(e){e=e||!1,this.isInBonusState=e,e&&(3==this.GetShowId()?this.showMask(!1):this.showMask(!0))}}),cc._RF.pop()},{LMSlots_Symbol_Base:void 0}]},{},["RobinHood_BagBonus","RobinHood_Bonus","RobinHood_Bottom","RobinHood_Cfg","RobinHood_Character","RobinHood_CollectProgress","RobinHood_FlowCtrl","RobinHood_Free","RobinHood_GameData","RobinHood_Logic","RobinHood_MainPanel","RobinHood_Map","RobinHood_Popup","RobinHood_PrizePool","RobinHood_Reel","RobinHood_Slots","RobinHood_Sound","RobinHood_WheelGame","RobinHood_WildGame","RobinHood_symbol"]);